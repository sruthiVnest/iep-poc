<kendo-grid
  [data]="gridView"
  [pageSize]="pageSize"
  [skip]="skip"
  [sortable]="true"
  [pageable]="pageable"
  [sortable]="{ allowUnsort: true, mode: 'multiple' }"
  [scrollable]='enablescrolling ? "virtual" : "none"'
  (scrollBottom)="loadMore()"
  (sortChange)="sortChange($event)"
  [height]="300"
  [groupable]="false"
  [reorderable]="true"
  [resizable]="true"
  [columnMenu]="{ filter: true, stick: true, sort: false }"
  class="testgrid"
  [selectable]="selectable ? { checkboxOnly: true, mode: 'multiple' } : false"
  (selectionChange)="onSelectionChange($event)"
>
  <kendo-grid-checkbox-column *ngIf="selectable" [width]="50"></kendo-grid-checkbox-column>
  <kendo-grid-column
    *ngFor="let col of columns"
    [field]="col.field"
    [title]="col.title"
    [sortable]="true"
    [width]="150"
  >
  <ng-template kendoGridCellTemplate let-dataItem="dataItem" let-rowIndex="rowIndex">
    {{ dataItem[col.field] }}
            <ng-container *ngIf="col.field === 'PRIMARY_RESOURCE_NAME'">
              <span class="material-symbols-outlined user-group-icon" (click)="openResourceDialog(dataItem)">assignment_ind</span>
            </ng-container>
  </ng-template>

    <ng-template kendoGridFilterMenuTemplate
        let-column="column"
        let-filter="filter"
        let-filterService="filterService"
        >
      <input
        kendoTextBox
        [placeholder]="'Search ' + column.title"
        [(ngModel)]="col.filterValue"
        (ngModelChange)="onColumnFilterChange(col, $event, filterService)"
        type="text"
      />
      <div class="filter-checkbox-list">
        <ng-container *ngFor="let value of getFilteredColumnValues(col); let i = index">
          <label>
            <input type="checkbox"
                   [checked]="col.selectedValues?.includes(value)"
                   (change)="onColumnValueCheck(col, value, $event)" />
            {{ value }} 
          </label>
        </ng-container>
      </div>
    </ng-template>
  </kendo-grid-column>
</kendo-grid>

<kendo-dialog *ngIf="resourceDialogOpen" (close)="closeResourceDialog()" [width]="400" class="resource-dialog">
  <kendo-dialog-titlebar>
    <span>Resource Details</span>
     </kendo-dialog-titlebar>
  <div *ngIf="resourceDialogData">
    <pre>{{ resourceDialogData | json }}</pre>
  </div>
</kendo-dialog>
