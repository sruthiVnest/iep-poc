"use strict";(self.webpackChunkhost=self.webpackChunkhost||[]).push([[270],{8716:(Ts,xi,$)=>{$.d(xi,{G:()=>qe});var e=$(4438);var Ne=$(1626);let qe=(()=>{class Je{constructor(xe){this.http=xe,this.apiUrl="http://localhost:3000/api/",this._tree=(0,e.vPA)(""),this.selectedProjects=(0,e.vPA)([]),this.tree=this._tree,this.selectedFilters=(0,e.vPA)([]),this.getTreeData=this.tree}setSelectedProjects(xe){this.selectedProjects.set(xe)}setTreeData(xe){let Ve=[];xe.forEach(Be=>{Ve.push(Be.text)}),this.tree.set(Ve.toString())}getGridData(){return this.http.get(this.apiUrl+"getISPO")}getCurrentProjects(){return this.http.get(this.apiUrl+"getCurrentProjects")}getNCRData(){return this.http.get(this.apiUrl+"getNCRData")}getNCRDataBymonth(xe){return this.http.post(this.apiUrl+"getNCRDataBymonth",xe)}setFilterOptions(xe){this.selectedFilters.set([xe])}getFilterOptions(){return this.selectedFilters()}saveFilterOptions(xe,Ve){return this.http.post(this.apiUrl+"saveFilter",{name:Ve,option:xe})}getSearchOptions(){return this.http.get(this.apiUrl+"advancesearch")}getFilterList(){return this.http.get(this.apiUrl+"getFilterList")}getOtrDrData(){return this.http.get(this.apiUrl+"getotrdr")}getECNChartData(){return this.http.get(this.apiUrl+"getECNChart")}getECNData(){return this.http.get(this.apiUrl+"getECNData")}getECRRiskData(){return this.http.get(this.apiUrl+"getECRRiskData")}static{this.\u0275fac=function(Ve){return new(Ve||Je)(e.KVO(Ne.Qq))}}static{this.\u0275prov=e.jDH({token:Je,factory:Je.\u0275fac,providedIn:"root"})}}return Je})()},5176:(Ts,xi,$)=>{$.d(xi,{_:()=>Je});var e=$(4438),w=$(177),Ne=$(7467),qe=$(8716);let Je=(()=>{class me{constructor(){this.data=[],this.dataService=(0,e.WQX)(qe.G),this.gridView=[],this.mapView=[]}ngOnInit(){this.dataService.getGridData().subscribe(Ve=>{this.data=Ve.data?.activities||[],this.gridView=this.data.map(Be=>Object.fromEntries(Object.entries(Be).map(([It,we])=>[It.replace(/\s+/g,""),we]))),this.data&&(this.mapView=Object.keys(this.data[0]).map(Be=>({field:Be.replace(/\s+/g,""),title:Be.replace("_"," ").toUpperCase()})))})}static{this.\u0275fac=function(Be){return new(Be||me)}}static{this.\u0275cmp=e.VBU({type:me,selectors:[["iep-nx-dovsbuy"]],standalone:!0,features:[e.aNF],decls:1,vars:4,consts:[[3,"data","pageable","enablescrolling","columns"]],template:function(Be,It){1&Be&&e.nrm(0,"iep-grid",0),2&Be&&e.Y8G("data",It.gridView)("pageable",!1)("enablescrolling",!0)("columns",It.mapView)},dependencies:[w.MD,Ne.d]})}}return me})()},4165:(Ts,xi,$)=>{$.d(xi,{v:()=>Bi});var e=$(4438),w=$(7673),Ne=$(8936),qe=$(8716),Je=$(177),me=$(4341);let xe=(()=>{class pe{transform(J,ae){return J?ae?(ae=ae.toString(),J.filter(re=>re.toLowerCase().includes(ae))):J:[]}static{this.\u0275fac=function(ae){return new(ae||pe)}}static{this.\u0275pipe=e.EJ8({name:"filterByText",type:pe,pure:!0,standalone:!0})}}return pe})();var Ve=$(8406),Be=$(280),It=$(8911),we=$(982),De=$(1704),Ae=$(8834),Pe=$(2605);const Ze=pe=>({"k-selected":pe});function He(pe,Te){if(1&pe){const J=e.RV6();e.j41(0,"span",12),e.bIt("click",function(){e.eBV(J);const re=e.XpG();return e.Njj(re.toggleCollapse())}),e.EFF(1,"chevron_right"),e.k0s()}}function Ei(pe,Te){if(1&pe){const J=e.RV6();e.j41(0,"span",14),e.bIt("click",function(){const re=e.eBV(J).$implicit,W=e.XpG(3);return e.Njj(W.loadFilter(re.value))}),e.EFF(1),e.k0s()}if(2&pe){const J=Te.$implicit;e.R7$(),e.SpI(" ",J.key,"")}}function Ot(pe,Te){if(1&pe&&(e.j41(0,"li"),e.DNE(1,Ei,2,1,"span",27),e.nI1(2,"keyvalue"),e.k0s()),2&pe){const J=Te.$implicit;e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,J))}}function Wt(pe,Te){if(1&pe){const J=e.RV6();e.j41(0,"div",13),e.bIt("click",function(re){return e.eBV(J),e.Njj(re.stopPropagation())}),e.j41(1,"ul")(2,"li",14),e.bIt("click",function(){e.eBV(J);const re=e.sdS(7);return e.Njj(re.save())}),e.j41(3,"span",15),e.EFF(4,"save_as"),e.k0s(),e.EFF(5," Export Contract "),e.j41(6,"kendo-excelexport",16,0),e.nrm(8,"kendo-excelexport-column",17)(9,"kendo-excelexport-column",18),e.k0s()(),e.j41(10,"li",14),e.bIt("click",function(){e.eBV(J);const re=e.XpG();return e.Njj(re.openSaveFilter())}),e.j41(11,"span",15),e.EFF(12,"save"),e.k0s(),e.EFF(13," Save Filter "),e.k0s(),e.j41(14,"li",19)(15,"span",15),e.EFF(16,"filter_list"),e.k0s(),e.EFF(17,"Load Filter "),e.j41(18,"span",20),e.EFF(19,"chevron_right"),e.k0s(),e.j41(20,"ul",21),e.DNE(21,Ot,3,3,"li",22),e.k0s()(),e.j41(22,"li",23),e.bIt("click",function(){e.eBV(J);const re=e.XpG();return e.Njj(re.openInfoPopup())}),e.j41(23,"span",15),e.EFF(24,"help"),e.k0s(),e.EFF(25," Instruction to Use"),e.k0s(),e.nrm(26,"li",24),e.j41(27,"li",25)(28,"span",15),e.EFF(29,"info"),e.k0s(),e.EFF(30,"Last Updated Info"),e.k0s(),e.j41(31,"li",26),e.EFF(32),e.k0s()()()}if(2&pe){const J=e.XpG();e.R7$(6),e.Y8G("data",J.filteredData),e.R7$(15),e.Y8G("ngForOf",J.filterlist),e.R7$(11),e.Lme("Last uploaded: ",J.lastUploadedDate," by ",J.lastUploadedBy,"")}}function E(pe,Te){1&pe&&(e.j41(0,"span",15),e.EFF(1,"chevron_left"),e.k0s())}function Yt(pe,Te){1&pe&&(e.j41(0,"span",15),e.EFF(1,"chevron_right"),e.k0s())}function ct(pe,Te){1&pe&&(e.j41(0,"span",41),e.EFF(1,"search"),e.k0s())}function ne(pe,Te){if(1&pe){const J=e.RV6();e.j41(0,"div",51)(1,"div",52)(2,"div",53),e.EFF(3),e.k0s(),e.j41(4,"div",54)(5,"span",55),e.EFF(6),e.k0s()()()(),e.j41(7,"span",56)(8,"span",12),e.bIt("click",function(re){e.eBV(J);const W=e.XpG().$implicit,qt=e.XpG(4);return e.Njj(qt.deselect(re,W.key))}),e.EFF(9," check_indeterminate_small "),e.k0s()()}if(2&pe){const J=e.XpG().$implicit;e.R7$(3),e.JRh(J.title),e.R7$(3),e.JRh(J.selected)}}function Dt(pe,Te){if(1&pe){const J=e.RV6();e.j41(0,"li")(1,"label",58)(2,"kendo-checkbox",59),e.bIt("change",function(){const re=e.eBV(J).$implicit,W=e.XpG(2).$implicit,qt=e.XpG(4);return e.Njj(qt.toggleUserSelection(re,W.key))}),e.k0s(),e.j41(3,"span"),e.EFF(4),e.k0s()()()}if(2&pe){const J=Te.$implicit,ae=e.XpG(2).$implicit,re=e.XpG(4);e.R7$(2),e.Y8G("checkedState",re.isUserSelected(J,ae)),e.R7$(2),e.JRh(J)}}function st(pe,Te){if(1&pe&&(e.j41(0,"ul",57),e.DNE(1,Dt,5,2,"li",22),e.nI1(2,"filterByText"),e.k0s()),2&pe){const J=e.XpG().$implicit,ae=e.XpG(4);e.R7$(),e.Y8G("ngForOf",e.i5U(2,1,J.values,ae.formData[J.key]))}}function tt(pe,Te){if(1&pe){const J=e.RV6();e.j41(0,"kendo-expansionpanel",46),e.DNE(1,ne,10,2,"ng-template",47),e.j41(2,"div",48)(3,"input",49),e.mxI("ngModelChange",function(re){const W=e.eBV(J).$implicit,qt=e.XpG(4);return e.DH7(qt.formData[W.key],re)||(qt.formData[W.key]=re),e.Njj(re)}),e.k0s(),e.DNE(4,st,3,4,"ul",50),e.k0s()()}if(2&pe){const J=Te.$implicit,ae=e.XpG(4);e.R7$(3),e.FS9("placeholder",J.title),e.R50("ngModel",ae.formData[J.key]),e.Y8G("name",J.key),e.R7$(),e.Y8G("ngIf",J.values.length>0)}}function We(pe,Te){if(1&pe){const J=e.RV6();e.j41(0,"div",42)(1,"div",43)(2,"button",44),e.bIt("click",function(){e.eBV(J);const re=e.XpG(3);return e.Njj(re.clearAdvanceFilters())}),e.EFF(3,"Clear Filter"),e.k0s()(),e.j41(4,"div",43),e.DNE(5,tt,5,4,"kendo-expansionpanel",45),e.k0s()()}if(2&pe){const J=e.XpG(3);e.R7$(5),e.Y8G("ngForOf",J.searchOptions)}}function ii(pe,Te){if(1&pe){const J=e.RV6();e.j41(0,"kendo-textbox",35,2),e.bIt("valueChange",function(re){e.eBV(J);const W=e.XpG(2);return e.Njj(W.onFilterTermChange(re))}),e.DNE(2,ct,2,0,"ng-template",36),e.k0s(),e.j41(3,"div",37)(4,"div",38),e.bIt("click",function(){e.eBV(J);const re=e.XpG(2);return e.Njj(re.isAdvancedSearchExpanded=!re.isAdvancedSearchExpanded)}),e.j41(5,"span",15),e.EFF(6),e.k0s(),e.j41(7,"span",39),e.EFF(8,"Advanced search"),e.k0s()(),e.DNE(9,We,6,1,"div",40),e.k0s()}if(2&pe){const J=e.XpG(2);e.Y8G("clearButton",!0),e.R7$(6),e.SpI(" ",J.isAdvancedSearchExpanded?"keyboard_arrow_down":"chevron_right"," "),e.R7$(3),e.Y8G("ngIf",J.isAdvancedSearchExpanded)}}function zi(pe,Te){if(1&pe&&(e.j41(0,"button",60),e.EFF(1,"My Contracts"),e.k0s()),2&pe){const J=e.XpG(2);e.Y8G("ngClass",e.eq3(1,Ze,0===J.activeTabIndex))}}function Ui(pe,Te){1&pe&&e.eu8(0)}function Bt(pe,Te){if(1&pe&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&pe){const J=e.XpG().$implicit;e.R7$(),e.JRh(J)}}function Tt(pe,Te){if(1&pe){const J=e.RV6();e.j41(0,"span",71),e.bIt("click",function(){e.eBV(J);const re=e.XpG().$implicit,W=e.XpG(3);return e.Njj(W.addToFavourites(re.contractName?re.contractName:re.trainName))}),e.EFF(1,"star"),e.k0s()}}function tn(pe,Te){if(1&pe&&(e.EFF(0),e.DNE(1,Bt,2,1,"span",69)(2,Tt,2,0,"span",70)),2&pe){const J=Te.$implicit;e.SpI(" ",J.contractName?J.contractName:J.trainName," "),e.R7$(),e.Y8G("ngIf",J.trainName&&!J.contractName),e.R7$(),e.Y8G("ngIf","True"==J.isFavourite)}}function Yi(pe,Te){if(1&pe){const J=e.RV6();e.j41(0,"div",61),e.DNE(1,Ui,1,0,"ng-container",62),e.j41(2,"div",63),e.EFF(3),e.k0s(),e.j41(4,"div",64)(5,"kendo-checkbox",59),e.bIt("change",function(re){e.eBV(J);const W=e.XpG(2);return e.Njj(W.onSelectAllChange(re))}),e.k0s(),e.j41(6,"span",65),e.EFF(7,"Current Projects"),e.k0s()(),e.j41(8,"div",66)(9,"kendo-treeview",67),e.bIt("checkedKeysChange",function(re){e.eBV(J);const W=e.XpG(2);return e.Njj(W.onNodeSelect(re))}),e.mxI("checkedKeysChange",function(re){e.eBV(J);const W=e.XpG(2);return e.DH7(W.checkedKeys,re)||(W.checkedKeys=re),e.Njj(re)}),e.DNE(10,tn,3,3,"ng-template",68),e.k0s()()()}if(2&pe){e.XpG();const J=e.sdS(2),ae=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",J),e.R7$(2),e.SpI(" Results ",ae.filteredData.length||0," "),e.R7$(2),e.Y8G("checkedState",ae.allChecked),e.R7$(4),e.Y8G("nodes",ae.myContractsFiltered)("children",ae.children)("hasChildren",ae.hasChildren)("filter",ae.filterTerm)("kendoTreeViewCheckable",ae.checkableSettings),e.R50("checkedKeys",ae.checkedKeys),e.Y8G("expandedKeys",ae.expandedKeys)}}function ls(pe,Te){if(1&pe&&(e.j41(0,"button",60),e.EFF(1,"All Contracts"),e.k0s()),2&pe){const J=e.XpG(2);e.Y8G("ngClass",e.eq3(1,Ze,1===J.activeTabIndex))}}function qi(pe,Te){1&pe&&e.eu8(0)}function Et(pe,Te){if(1&pe&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&pe){const J=e.XpG().$implicit;e.R7$(),e.JRh(J)}}function es(pe,Te){if(1&pe){const J=e.RV6();e.j41(0,"span",71),e.bIt("click",function(){e.eBV(J);const re=e.XpG().$implicit,W=e.XpG(3);return e.Njj(W.addToFavourites(re.contractName?re.contractName:re.trainName))}),e.EFF(1,"star"),e.k0s()}}function xn(pe,Te){if(1&pe&&(e.EFF(0),e.DNE(1,Et,2,1,"span",69)(2,es,2,0,"span",70)),2&pe){const J=Te.$implicit;e.SpI(" ",J.contractName?J.contractName:J.trainName," "),e.R7$(),e.Y8G("ngIf",!J.trainName&&!J.contractName),e.R7$(),e.Y8G("ngIf","True"==J.isMyContracts&&"False"==J.isFavourite)}}function Ji(pe,Te){if(1&pe){const J=e.RV6();e.j41(0,"div",48),e.DNE(1,qi,1,0,"ng-container",62),e.j41(2,"kendo-treeview",67),e.bIt("checkedKeysChange",function(re){e.eBV(J);const W=e.XpG(2);return e.Njj(W.onNodeSelect(re))}),e.mxI("checkedKeysChange",function(re){e.eBV(J);const W=e.XpG(2);return e.DH7(W.checkedKeys,re)||(W.checkedKeys=re),e.Njj(re)}),e.DNE(3,xn,3,3,"ng-template",68),e.k0s()()}if(2&pe){e.XpG();const J=e.sdS(2),ae=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",J),e.R7$(),e.Y8G("nodes",ae.filteredData)("children",ae.children)("hasChildren",ae.hasChildren)("filter",ae.filterTerm)("kendoTreeViewCheckable",ae.checkableSettings),e.R50("checkedKeys",ae.checkedKeys),e.Y8G("expandedKeys",ae.expandedKeys)}}function nn(pe,Te){if(1&pe&&(e.j41(0,"button",60),e.EFF(1,"Favourites"),e.k0s()),2&pe){const J=e.XpG(2);e.Y8G("ngClass",e.eq3(1,Ze,2===J.activeTabIndex))}}function Cn(pe,Te){1&pe&&e.eu8(0)}function on(pe,Te){if(1&pe&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&pe){const J=e.XpG().$implicit;e.R7$(),e.JRh(J)}}function cs(pe,Te){if(1&pe&&(e.EFF(0),e.DNE(1,on,2,1,"span",69)),2&pe){const J=Te.$implicit;e.SpI(" ",J.contractName?J.contractName:J.trainName,""),e.R7$(),e.Y8G("ngIf",!J.trainName&&!J.contractName)}}function ve(pe,Te){if(1&pe){const J=e.RV6();e.j41(0,"div",48),e.DNE(1,Cn,1,0,"ng-container",62),e.j41(2,"kendo-treeview",72),e.mxI("checkedKeysChange",function(re){e.eBV(J);const W=e.XpG(2);return e.DH7(W.checkedKeys,re)||(W.checkedKeys=re),e.Njj(re)}),e.DNE(3,cs,2,2,"ng-template",68),e.k0s()()}if(2&pe){e.XpG();const J=e.sdS(2),ae=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",J),e.R7$(),e.Y8G("nodes",ae.favouritesFiltered)("children",ae.children)("hasChildren",ae.hasChildren)("kendoTreeViewCheckable",ae.checkableSettings),e.R50("checkedKeys",ae.checkedKeys),e.Y8G("expandedKeys",ae.expandedKeys)}}function Fi(pe,Te){if(1&pe){const J=e.RV6();e.j41(0,"div",28),e.DNE(1,ii,10,3,"ng-template",null,1,e.C5r),e.j41(3,"kendo-tabstrip",29),e.bIt("tabSelect",function(re){e.eBV(J);const W=e.XpG();return e.Njj(W.onTabSelect(re))}),e.j41(4,"kendo-tabstrip-tab",30),e.DNE(5,zi,2,3,"ng-template",31)(6,Yi,11,10,"ng-template",32),e.k0s(),e.j41(7,"kendo-tabstrip-tab",33),e.DNE(8,ls,2,3,"ng-template",31)(9,Ji,4,8,"ng-template",32),e.k0s(),e.j41(10,"kendo-tabstrip-tab",34),e.DNE(11,nn,2,3,"ng-template",31)(12,ve,4,7,"ng-template",32),e.k0s()()()}if(2&pe){const J=e.XpG();e.R7$(4),e.Y8G("selected",0===J.activeTabIndex),e.R7$(3),e.Y8G("selected",1===J.activeTabIndex),e.R7$(3),e.Y8G("selected",2===J.activeTabIndex)}}function ki(pe,Te){if(1&pe){const J=e.RV6();e.j41(0,"kendo-dialog",73),e.bIt("close",function(){e.eBV(J);const re=e.XpG();return e.Njj(re.closeFilterNamePopup())}),e.j41(1,"kendo-dialog-titlebar",74)(2,"h4"),e.EFF(3,"Add Name For Custom Filter"),e.k0s()(),e.j41(4,"kendo-label",75)(5,"kendo-textbox",76),e.mxI("ngModelChange",function(re){e.eBV(J);const W=e.XpG();return e.DH7(W.filterName,re)||(W.filterName=re),e.Njj(re)}),e.k0s()(),e.j41(6,"kendo-dialog-actions")(7,"button",77),e.bIt("click",function(){e.eBV(J);const re=e.XpG();return e.Njj(re.closeFilterNamePopup())}),e.EFF(8," Cancel"),e.k0s(),e.j41(9,"button",77),e.bIt("click",function(){e.eBV(J);const re=e.XpG();return e.Njj(re.saveFilter())}),e.EFF(10," Save"),e.k0s()()()}if(2&pe){const J=e.XpG();e.R7$(5),e.R50("ngModel",J.filterName)}}function sn(pe,Te){if(1&pe){const J=e.RV6();e.j41(0,"kendo-dialog",73),e.bIt("close",function(){e.eBV(J);const re=e.XpG();return e.Njj(re.closeInfoPopup())}),e.j41(1,"kendo-dialog-titlebar",78)(2,"h4"),e.EFF(3,"Information"),e.k0s()(),e.EFF(4,"\nThis window referes to advance search. "),e.j41(5,"p"),e.EFF(6,"To use advance search, please select the options from the dropdown and click on the search button."),e.k0s(),e.j41(7,"p"),e.EFF(8,'To clear the filters, click on the "Clear Filter" button.'),e.k0s(),e.j41(9,"p"),e.EFF(10,'To save the filter, click on the "Save Filter" button and provide a name for the filter.'),e.k0s(),e.j41(11,"p"),e.EFF(12,'To load a saved filter, select it from the "Load Filter" dropdown.'),e.k0s(),e.j41(13,"p"),e.EFF(14,"For more information, please refer to the user manual."),e.k0s()()}}let Bi=(()=>{class pe{constructor(){this.data=[],this.expandedKeys=[],this.myContracts=[],this.favouriteProject=[],this.dataService=(0,e.WQX)(qe.G),this.filterlist=[],this.searchOptions=[],this.namePopupOpen=!1,this.filterName="",this.formData={},this.checkedKeys=["0"],this.filterTerm="",this.filteredData=[],this.myContractsFiltered=[],this.favouritesFiltered=[],this.starIcon=Ne.wvA,this.enableCheck=!0,this.checkChildren=!0,this.checkDisabledChildren=!1,this.checkParents=!0,this.checkOnClick=!1,this.uncheckCollapsedChildren=!1,this.checkMode="multiple",this.allChecked=!1,this.collapsed=!1,this.selectedProjects=(0,e.vPA)([]),this.favourites=[],this.activeTabIndex=1,this.infoPopup=!1,this.emptyTagMapper=J=>J.map(()=>null),this.selectedDeliveryYears=[],this.selectedRacYears=[],this.selectedProjectStatuses=[],this.selectedDrivers=[],this.selectedConnectors=[],this.selectedInstallationCountries=[],this.isAdvancedSearchExpanded=!1,this.children=J=>(0,w.of)(J.trains||J.jobNumber),this.hasChildren=J=>!!J.trains||!!J.jobNumber,this.filterMenuOpen=!1,this.activeSubMenu=null,this.lastUploadedDate="2025-06-10",this.lastUploadedBy="Jane Doe",this.closeFilterMenuOnOutsideClick=()=>{this.filterMenuOpen=!1,this.activeSubMenu=null,document.removeEventListener("click",this.closeFilterMenuOnOutsideClick)},this.dataService.getSearchOptions().subscribe(J=>{this.searchOptions=J.data,this.searchOptions.forEach(ae=>{this.formData[ae.key]=[]})}),this.dataService.getFilterList().subscribe(J=>{this.filterlist=J.data},J=>{console.error("Error loading filter list:",J)}),this.dataService.getCurrentProjects().subscribe(J=>{if(this.data=J,this.filteredData=this.data,this.myContracts=this.data.filter(ae=>"True"===ae.isMyContracts),this.myContractsFiltered=this.myContracts,this.favouriteProject=this.data.filter(ae=>"True"===ae.isFavourite),this.favouritesFiltered=this.favouriteProject,this.data&&this.data.length>0){this.checkedKeys=["0"];const ae=this.data[0],re=ae.contractName||ae.trainName||"";re&&(this.dataService.selectedProjects.set([re]),this.dataService.setTreeData([{text:re}]))}})}get checkableSettings(){return{checkChildren:this.checkChildren,checkDisabledChildren:this.checkDisabledChildren,checkParents:this.checkParents,enabled:this.enableCheck,mode:this.checkMode,checkOnClick:this.checkOnClick,uncheckCollapsedChildren:this.uncheckCollapsedChildren}}onFilter(J){return this.data.filter(ae=>Object.keys(ae).some(re=>ae[re].toString().toLowerCase().includes(J.toLowerCase())))}onNodeSelect(J){console.log(J),this.checkedKeys=J;const ae=this.data,W=this.getCheckedNodesByPaths(ae,this.checkedKeys).map(Oi=>Oi.contractName);this.dataService.selectedProjects.set(W),this.dataService.setTreeData(W.map(Oi=>({text:Oi}))),this.dataService.setSelectedProjects(W);const qt=this.getAllNodeKeys(ae);this.allChecked=qt.length>0&&qt.every(Oi=>this.checkedKeys.includes(Oi))}onSelectAllChange(J){if(this.allChecked=J.target.checked,this.allChecked){this.checkedKeys=this.getAllNodeKeys(this.data),2===this.activeTabIndex&&(this.checkedKeys=this.getAllNodeKeys(this.favourites));const re=this.getCheckedNodesByPaths(2===this.activeTabIndex?this.favourites:this.data,this.checkedKeys).map(W=>W.contractName);this.dataService.selectedProjects.set(re)}else this.checkedKeys=[],this.dataService.selectedProjects.set([])}addToFavourites(J){const ae=(pi,Ri,ei=[])=>{for(const li of pi){const At=[...ei,li];if(li.trainName===Ri||li.contractName===Ri)return At;if(li.favourites&&li.favourites.length>0){const Gt=ae(li.favourites,Ri,At);if(Gt)return Gt}}return null},re=pi=>{const{favourites:Ri,...ei}=pi;return{...ei,...Ri&&Ri.length>0?{favourites:Ri.map(re)}:{}}},qt=ae(this.data,J);if(!qt)return;const Oi=(pi,Ri)=>{if(1===Ri.length){const ei=Ri[0];return pi.find(At=>At.trainName&&At.trainName===ei.trainName||At.contractName&&At.contractName===ei.contractName)||pi.push(re(ei)),pi}{const[ei,...li]=Ri;let At=pi.find(Gt=>Gt.trainName&&Gt.trainName===ei.trainName||Gt.contractName&&Gt.contractName===ei.contractName);return At||(At={...ei,favourites:[]},pi.push(At)),At.favourites=Oi(At.favourites||[],li),pi}};this.favourites=Oi([...this.favourites],qt)}onTabSelect(J){if(this.activeTabIndex=J.index,0===this.activeTabIndex){const ae=this.getAllNodeKeys(this.data);this.allChecked=ae.length>0&&ae.every(re=>this.checkedKeys.includes(re))}else if(1===this.activeTabIndex){const ae=this.getAllNodeKeys(this.favourites);this.allChecked=ae.length>0&&ae.every(re=>this.checkedKeys.includes(re))}}findCheckedNodeTexts(J,ae,re="key"){const W=[],qt=Oi=>{for(const pi of Oi)ae.includes(pi[re])&&W.push(pi.text),pi.favourites&&pi.favourites.length>0&&qt(pi.favourites)};return qt(J),W}getNodeByPath(J,ae){const re=ae.split("_").map(Oi=>+Oi);let W=null,qt=J;for(const Oi of re){if(!qt||!qt[Oi])return null;W=qt[Oi],qt=W&&W.favourites?W.favourites:[]}return W}getCheckedNodesByPaths(J,ae){return ae.map(re=>this.getNodeByPath(J,re)).filter(re=>null!==re)}toggleCollapse(){this.collapsed=!this.collapsed;const J=new CustomEvent("filterProjectsCollapse",{detail:{collapsed:this.collapsed}});window.dispatchEvent(J)}getAllNodeKeys(J){const ae=[],re=(W,qt="")=>{W.forEach((Oi,pi)=>{const Ri=qt?`${qt}_${pi}`:`${pi}`;ae.push(Ri),Oi.favourites&&Oi.favourites.length>0&&re(Oi.favourites,Ri)})};return re(J),ae}filterTree(J,ae){if(!ae)return J;const re=ae.toLowerCase();return J.map(W=>{let qt=W.favourites?this.filterTree(W.favourites,ae):[];return W.contractName&&W.contractName.toLowerCase().includes(re)||W.trainName&&W.trainName.toLowerCase().includes(re)||qt.length>0?{...W,favourites:qt}:null}).filter(Boolean)}onFilterTermChange(J){this.filterTerm=J,this.filteredData=this.filterTree(this.data,J),this.myContractsFiltered=this.filterTree(this.myContracts,J),this.favouritesFiltered=this.filterTree(this.favourites,J)}clearAdvanceFilters(){this.searchOptions.forEach(J=>{J.selected=[],this.formData[J.key]=[]}),this.selectedDeliveryYears=[],this.selectedRacYears=[],this.selectedProjectStatuses=[],this.selectedDrivers=[],this.selectedConnectors=[],this.selectedInstallationCountries=[]}showFilterOptions(){}toggleFilterMenu(J){J.stopPropagation(),this.filterMenuOpen=!this.filterMenuOpen,this.filterMenuOpen?document.addEventListener("click",this.closeFilterMenuOnOutsideClick):document.removeEventListener("click",this.closeFilterMenuOnOutsideClick)}exportContract(J){this.filterMenuOpen=!1,this.activeSubMenu=null}openSaveFilter(){this.namePopupOpen=!0}saveFilter(){this.searchOptions.forEach(J=>{"selected_year"==J.key?this.selectedDeliveryYears=J.selected:"selected_rac"==J.key?this.selectedRacYears=J.selected:"selected_status"==J.key?this.selectedProjectStatuses=J.selected:"selected_driver"==J.key?this.selectedDrivers=J.selected:"selected_connecter"==J.key?this.selectedConnectors=J.selected:this.selectedInstallationCountries=J.selected}),this.savedFIlteroptions={deliveryYears:this.selectedDeliveryYears,racYears:this.selectedRacYears,projectStatuses:this.selectedProjectStatuses,drivers:this.selectedDrivers,connectors:this.selectedConnectors,installationCountries:this.selectedInstallationCountries},this.dataService.saveFilterOptions(this.savedFIlteroptions,this.filterName).subscribe(J=>{this.dataService.getFilterList().subscribe(ae=>{this.filterlist=ae.data})},J=>{console.error("Error saving filter:",J)}),this.namePopupOpen=!1,this.filterMenuOpen=!1,this.activeSubMenu=null}loadFilter(J){this.filterMenuOpen=!1,this.activeSubMenu=null,this.savedFIlteroptions=J,this.savedFIlteroptions&&this.searchOptions.forEach(ae=>{"selected_year"==ae.key?(ae.selected=this.savedFIlteroptions?.deliveryYears||[],this.formData[ae.key]=ae.selected):"selected_rac"==ae.key?(ae.selected=this.savedFIlteroptions?.racYears||[],this.formData[ae.key]=ae.selected):"selected_status"==ae.key?(ae.selected=this.savedFIlteroptions?.projectStatuses||[],this.formData[ae.key]=ae.selected):"selected_driver"==ae.key?(ae.selected=this.savedFIlteroptions?.drivers||[],this.formData[ae.key]=ae.selected):"selected_connector"==ae.key?(ae.selected=this.savedFIlteroptions?.connectors||[],this.formData[ae.key]=ae.selected):(ae.selected=this.savedFIlteroptions?.installationCountries||[],this.formData[ae.key]=ae.selected)})}deselect(J,ae){J.preventDefault(),J.stopPropagation(),this.searchOptions.forEach(W=>{W.key==ae&&(W.selected="")})}toggleUserSelection(J,ae){const re=this.formData[ae]||[],W=re.indexOf(J);-1===W?re.push(J):re.splice(W,1),this.updateSelectedText(re,ae)}updateSelectedText(J,ae){this.searchOptions.forEach(re=>{const W=J;re.key==ae&&(re.selected=Array.isArray(W)?W.join(", "):"")})}isUserSelected(J,ae){return ae.selected.includes(J)}closeFilterNamePopup(){this.namePopupOpen=!1}openInfoPopup(){this.infoPopup=!0,console.log("Info popup opened")}closeInfoPopup(){this.infoPopup=!1}static{this.\u0275fac=function(ae){return new(ae||pe)}}static{this.\u0275cmp=e.VBU({type:pe,selectors:[["iep-filter-contract"]],standalone:!0,features:[e.aNF],decls:14,vars:9,consts:[["excelexport",""],["searchAndPanel",""],["customInput",""],[1,"filter-projects"],[1,"filter-header"],["class","material-symbols-outlined",3,"click",4,"ngIf"],[1,"filter-dots",3,"click"],["class","filter-dots-menu",3,"click",4,"ngIf"],[1,"collapse-btn",3,"click"],["class","material-symbols-outlined",4,"ngIf"],["class","filter-content",4,"ngIf"],["class","nameDialog",3,"close",4,"ngIf"],[1,"material-symbols-outlined",3,"click"],[1,"filter-dots-menu",3,"click"],[3,"click"],[1,"material-symbols-outlined"],["fileName","contracts.xlsx",3,"data"],["field","projectId","title","Project Id"],["field","contractName","title","Project Name"],[1,"relative"],[1,"material-symbols-outlined","submenu-arrow","submenu-arrow-custom"],[1,"submenu"],[4,"ngFor","ngForOf"],[1,"relative",3,"click"],[1,"menu-divider"],[1,"menu-instruction"],[1,"menu-last-uploaded"],[3,"click",4,"ngFor","ngForOf"],[1,"filter-content"],[1,"searchTabs",3,"tabSelect"],["title","My Contracts",3,"selected"],["kendoTabTitleTemplate",""],["kendoTabContent",""],["title","All Contracts",3,"selected"],["title","Favourites",3,"selected"],["placeholder","Search job number or contract name",1,"searchkendo",3,"valueChange","clearButton"],["kendoTextBoxPrefixTemplate",""],[1,"panelbar-wrapper"],[1,"advanced-search-toggle",3,"click"],[1,"advanced-search-label"],["id","filter",4,"ngIf"],[1,"material-symbols-outlined","search-icon"],["id","filter"],[1,"advance-search-row"],[1,"clear-filter-link",3,"click"],["class","advance-expansion-panel",4,"ngFor","ngForOf"],[1,"advance-expansion-panel"],["kendoExpansionPanelTitleDirective",""],[1,"content"],["kendoTextBox","",1,"extended-users-input",3,"ngModelChange","placeholder","ngModel","name"],["class","autocomplete-list",4,"ngIf"],[1,"custom-header"],[1,"title-group"],[1,"main-title"],[1,"sub-title"],[1,"selected-values-text"],[1,"custom-icon","k-icon","k-i-folder"],[1,"autocomplete-list"],[1,"user-checkbox"],[3,"change","checkedState"],["kendoButton","","look","flat",3,"ngClass"],[1,"content","content-left-padding"],[4,"ngTemplateOutlet"],[1,"treeview-results-label"],[1,"tree-parent-checkbox-row"],[1,"tree-parent-label"],[1,"iep-tree-view"],["kendoTreeViewExpandable","","textField","text",3,"checkedKeysChange","nodes","children","hasChildren","filter","kendoTreeViewCheckable","checkedKeys","expandedKeys"],["kendoTreeViewNodeTemplate",""],[4,"ngIf"],["class","material-symbols-outlined filled-star filled-star-true",3,"click",4,"ngIf"],[1,"material-symbols-outlined","filled-star","filled-star-true",3,"click"],["kendoTreeViewExpandable","","textField","text",3,"checkedKeysChange","nodes","children","hasChildren","kendoTreeViewCheckable","checkedKeys","expandedKeys"],[1,"nameDialog",3,"close"],[1,"nameDialogTitle"],["text","Filter Name"],["placeholder","filter name",1,"nameDialogueText",3,"ngModelChange","ngModel"],["kendoButton","",3,"click"],[1,"infoPopupTitle"]],template:function(ae,re){1&ae&&(e.j41(0,"div",3)(1,"div",4),e.DNE(2,He,2,0,"span",5),e.j41(3,"h3"),e.EFF(4,"Filter Contracts"),e.k0s(),e.j41(5,"button",6),e.bIt("click",function(qt){return re.toggleFilterMenu(qt)}),e.EFF(6,"..."),e.k0s(),e.DNE(7,Wt,33,4,"div",7),e.j41(8,"button",8),e.bIt("click",function(){return re.toggleCollapse()}),e.DNE(9,E,2,0,"span",9)(10,Yt,2,0,"span",9),e.k0s()(),e.DNE(11,Fi,13,3,"div",10),e.k0s(),e.DNE(12,ki,11,1,"kendo-dialog",11)(13,sn,15,0,"kendo-dialog",11)),2&ae&&(e.AVh("collapsed",re.collapsed),e.R7$(2),e.Y8G("ngIf",re.collapsed),e.R7$(5),e.Y8G("ngIf",re.filterMenuOpen),e.R7$(2),e.Y8G("ngIf",!re.collapsed),e.R7$(),e.Y8G("ngIf",re.collapsed),e.R7$(),e.Y8G("ngIf",!re.collapsed),e.R7$(),e.Y8G("ngIf",re.namePopupOpen),e.R7$(),e.Y8G("ngIf",re.infoPopup))},dependencies:[Ve.z$,Ve.sl,Ve.Ai,Be.xf,Be.m2,Be.yw,Be.Ae,It.gl,It.OV,It.WX,It.$W,Ve.d3,Ve.TM,we.mq,we.Hx,we.hf,De.Qp,Ae.UF,Je.MD,Je.YU,Je.Sq,Je.bT,Je.T3,Je.lG,me.YN,me.me,me.BC,me.vS,xe,Pe.dY,Pe.Io],styles:['@charset "UTF-8";.filter-projects[_ngcontent-%COMP%]{transition:width .3s cubic-bezier(.4,0,.2,1);width:320px;min-width:80px;max-width:100vw;background:#fff;box-shadow:2px 0 8px #0000000a;position:relative;text-align:center}.filter-projects[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:.5rem}.filter-projects[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#444}.filter-projects.collapsed[_ngcontent-%COMP%]{width:40px;min-width:40px}.filter-projects.collapsed[_ngcontent-%COMP%]   .filter-content[_ngcontent-%COMP%]{display:none}.filter-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.5rem 1rem;border-bottom:1px solid #eee}.filter-dots[_ngcontent-%COMP%]{margin-left:auto;margin-right:.5rem;font-size:1.5rem;letter-spacing:.2em;border:none;background:none;cursor:pointer}.collapse-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:0;display:flex;align-items:center}.material-symbols-outlined[_ngcontent-%COMP%]{font-family:Material Symbols Outlined;font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48;font-size:24px;vertical-align:middle;-webkit-user-select:none;user-select:none;display:inline-block}.google-star[_ngcontent-%COMP%]{font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 24 I!important;color:#05322b!important;fill:#05322b!important}.filled-star[_ngcontent-%COMP%]{color:#209474!important;font-variation-settings:"FILL" 1}.search-icon[_ngcontent-%COMP%]{font-family:Material Symbols Outlined;font-size:20px;color:#888;vertical-align:middle}.advance-search-row[_ngcontent-%COMP%]{gap:12px;align-items:center;justify-content:center;margin-bottom:8px;position:relative}.advance-multiselect[_ngcontent-%COMP%]{min-width:160px;flex:1 1 160px;max-width:200px;margin:5px}.advance-multiselect[_ngcontent-%COMP%]:after{content:"\\25bc";font-size:10px;padding:4px}.clear-filter-btn[_ngcontent-%COMP%]{margin-left:auto;align-self:flex-start;background:#fff;color:#209474;border:1px solid #209474;border-radius:4px;font-size:.95rem;padding:6px 16px;transition:background .2s,color .2s}.clear-filter-btn[_ngcontent-%COMP%]:hover{background:#209474;color:#fff}.clear-filter-link[_ngcontent-%COMP%]{background:none;border:none;color:#209474;text-decoration:underline;cursor:pointer;font-size:1rem;font-weight:500;margin-left:auto;display:block;padding:0 0 8px;transition:color .2s}.clear-filter-link[_ngcontent-%COMP%]:hover, .clear-filter-link[_ngcontent-%COMP%]:active{color:#145c4c;text-decoration:underline}.filter-dots-menu[_ngcontent-%COMP%]{text-align:justify;position:absolute;top:44px;right:16px;min-width:210px;background:#fff;border-radius:8px;box-shadow:0 4px 24px #1976d21f;z-index:2000;padding:8px 0;font-size:1rem;color:#05322b;-webkit-user-select:none;user-select:none}.filter-dots-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.filter-dots-menu[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{padding:8px 20px;cursor:pointer;position:relative;transition:background .2s;white-space:nowrap}.filter-dots-menu[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background:#f5f7fa}.filter-dots-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]{display:none;position:absolute;left:100%;top:0;min-width:180px;background:#fff;border-radius:6px;box-shadow:0 4px 16px #1976d21a;z-index:2100;margin-left:2px;padding:4px 0}.filter-dots-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   .submenu[_ngcontent-%COMP%]{display:block}.submenu-arrow[_ngcontent-%COMP%]{pointer-events:none}.filter-dots-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 18px;cursor:pointer;color:#209474;border-radius:4px;margin:0 4px 2px;transition:background .2s;background:none}.filter-dots-menu[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#f5f7fa}.menu-divider[_ngcontent-%COMP%]{border-top:1px solid #eee;margin:6px 0}.menu-instruction[_ngcontent-%COMP%]{color:#888;font-size:.97rem;padding:8px 20px;cursor:default}.menu-last-uploaded[_ngcontent-%COMP%]{color:#209474;font-size:.97rem;padding:8px 20px;cursor:default}.advanced-search-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;background:#209474;color:#fff;padding:.5rem 1rem;border-radius:8px;cursor:pointer;margin-bottom:1rem;font-weight:500;font-size:1.08rem;box-shadow:0 2px 8px #20947414;transition:background .2s}.advanced-search-toggle[_ngcontent-%COMP%]:hover{background:#176b56}.advanced-search-toggle[_ngcontent-%COMP%]   .arrow-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;margin-right:.5rem;display:flex;align-items:center;font-size:1.3rem;cursor:pointer;padding:0}.advanced-search-label[_ngcontent-%COMP%]{color:#fff;font-size:1.08rem;font-weight:500;letter-spacing:.01em}.tree-parent-checkbox-row[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:.5rem;margin-left:.2rem}.tree-parent-label[_ngcontent-%COMP%]{margin-left:.5rem;font-weight:500;font-size:1.05rem;color:#05322b}.searchkendo[_ngcontent-%COMP%]{padding:2px;margin-bottom:8px;border-radius:25px}.relative[_ngcontent-%COMP%]{position:relative}.submenu-arrow-custom[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);font-size:18px;color:#209474}.content-left-padding[_ngcontent-%COMP%]{text-align:left;padding:0 10px}.filled-star-true[_ngcontent-%COMP%]{font-variation-settings:"FILL" 1;color:#209474}.content-left-padding[_ngcontent-%COMP%]{text-align:left}.advanced-multiselect[_ngcontent-%COMP%]   .k-multiselect-clearable[_ngcontent-%COMP%]   .k-clear-value[_ngcontent-%COMP%]{color:transparent!important}.advanced-multiselect[_ngcontent-%COMP%]   .k-multiselect-clearable[_ngcontent-%COMP%]   .k-clear-value[_ngcontent-%COMP%]:before{content:"-"!important;font-size:18px;color:#888;display:inline-block;font-family:inherit;font-weight:700;line-height:1}.selected-values-text[_ngcontent-%COMP%]{color:#888;font-size:13px;margin-top:2px;margin-bottom:8px;display:block}.custom-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;width:100%}.custom-icon[_ngcontent-%COMP%]{font-size:24px;color:#000609}.title-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.main-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.sub-title[_ngcontent-%COMP%]{font-size:13px;color:#6c757d}.autocomplete-list[_ngcontent-%COMP%]{text-align:justify;list-style:none;margin:0;padding:0;max-height:100px;overflow-y:auto}.autocomplete-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0;cursor:pointer;font-size:1rem;color:#05322b;transition:background .2s}.autocomplete-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#f5f7fa}.nameDialog[_ngcontent-%COMP%] > .k-dialog[_ngcontent-%COMP%]{min-width:300px!important;min-height:100px!important}.nameDialogTitle[_ngcontent-%COMP%]{background-color:#176b56;color:#fff}.nameDialogueText[_ngcontent-%COMP%]{padding:8px!important;width:100%!important}']})}}return pe})()},7467:(Ts,xi,$)=>{$.d(xi,{d:()=>yz});var e=$(4438),w=$(177),Ne=$(4341),qe=$(7786),Je=$(7673),me=$(1413),xe=$(1985),Ve=$(8750);const{isArray:Be}=Array;var we=$(983),De=$(4360),Ae=$(9326);var Ze=$(6648),He=$(8359),Ei=$(605),Ot=$(3726),Wt=$(4412),E=$(4256),Yt=$(345),ct=$(3974),ne=$(8936),Dt=$(5558),st=$(6697),tt=$(6354),We=$(5964),ii=$(6977),zi=$(8071);function Ui(n,o){return(0,zi.T)(o)?(0,Dt.n)(()=>n,o):(0,Dt.n)(()=>n)}var Bt=$(1986),Tt=$(8141),tn=$(3386),Yi=$(152),ls=$(3669),qi=$(9974);function es(n,o){return n===o}var xn=$(5245),Ji=$(3798),nn=$(7908);const cs=$(1397).Z;var ve=$(5580),Fi=$(9514),ki=$(8430),sn=$(1553),Bi=$(9120),pe=$(1730),Te=$(1704),J=$(7944),ae=$(9668),re=$(8911);const W=n=>n?new Date(n.getTime()):null,Ri=(n,o)=>{const t=W(n);return 0===o&&23===t.getHours()&&t.setHours(t.getHours()+2),t},ei=(n,o)=>{const t=W(n);return t.setDate(t.getDate()+o),Ri(t,n.getHours())},li=(n,o,t,i=0,s=0,r=0,l=0)=>{const u=new Date(n,o,t,i,s,r,l);return n>-1&&n<100&&u.setFullYear(u.getFullYear()-1900),Ri(u,i)},At=n=>li(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0),Gt=(n,o)=>!n&&!o||n&&o&&n.getTime()===o.getTime(),Vn=n=>{const o=li(n.getFullYear(),n.getMonth()+1,1,n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds());return ei(o,-1)},se=(n,o)=>{const t=W(n),s=(12+(t.getMonth()+o)%12)%12;return t.setMonth(t.getMonth()+o),((n,o)=>n.getMonth()!==o?Vn(se(n,-1)):n)(Ri(t,n.getHours()),s)},vt=(n,o)=>{const t=n.getMonth(),i=li(o,t,n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds());return i.getMonth()===t?i:Vn(se(i,-1))},A=(n,o)=>Ri(vt(n,n.getFullYear()+o),n.getHours()),U=(n,o)=>A(n,10*o),Y=(n,o)=>A(n,100*o),Z=(n,o)=>vt(n,o(n.getFullYear())),wt=n=>Z(n,o=>o-o%100),ti=n=>Z(n,o=>o-o%100+90),Qt=n=>Z(n,o=>o-o%10+9),Zt=n=>Z(n,o=>o-o%10),_i=(n,o)=>{const t=n.getDate(),i=li(n.getFullYear(),o,t,n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds());return i.getDate()===t?i:Vn(se(i,-1))},En=n=>_i(n,11),qn=(n,o)=>(wt(o).getFullYear()-wt(n).getFullYear())/100,zn=(n,o)=>(Zt(o).getFullYear()-Zt(n).getFullYear())/10,pn=(n,o)=>ei(n,7*o),Kn=n=>li(n.getFullYear(),n.getMonth(),1,n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds());var ds=function(n){return n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward",n}(ds||{});const xs=(n,o,t=ds.Forward)=>{const i=W(n),s=(o-i.getDay()+7*t)%7;return i.setDate(i.getDate()+s),Ri(i,n.getHours())},cr=(n,o)=>12*(o.getFullYear()-n.getFullYear())+(o.getMonth()-n.getMonth()),On=n=>_i(n,0),rn=(n,o)=>o.getFullYear()-n.getFullYear();var $n=function(n){return n[n.Sunday=0]="Sunday",n[n.Monday=1]="Monday",n[n.Tuesday=2]="Tuesday",n[n.Wednesday=3]="Wednesday",n[n.Thursday=4]="Thursday",n[n.Friday=5]="Friday",n[n.Saturday=6]="Saturday",n}($n||{});const kn=(n,o)=>{const t=li(n.getFullYear(),0,1,-6),s=((n,o)=>o!==$n.Monday?ei(((n,o)=>xs(n,o,ds.Backward))(n,o),4):ei(n,4-(n.getDay()||7)))(n,o).getTime()-t.getTime(),r=Math.floor(s/864e5);return 1+Math.floor(r/7)},wo=(n,o=$n.Monday)=>{n=At(n);const t=ei(n,-7),i=ei(n,7),s=kn(n,o);return 0===s?kn(t,o)+1:53===s&&kn(i,o)>1?1:s};var Vt=$(5987),dr=$(2771),Ir=$(4572),Io=$(6780);const hs={schedule(n){let o=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=hs;i&&(o=i.requestAnimationFrame,t=i.cancelAnimationFrame);const s=o(r=>{t=void 0,n(r)});return new He.yU(()=>t?.(s))},requestAnimationFrame(...n){const{delegate:o}=hs;return(o?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:o}=hs;return(o?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var uo=$(9687);const Do=new class ho extends uo.q{flush(o){let t;this._active=!0,o?t=o.id:(t=this._scheduled,this._scheduled=void 0);const{actions:i}=this;let s;o=o||i.shift();do{if(s=o.execute(o.state,o.delay))break}while((o=i[0])&&o.id===t&&i.shift());if(this._active=!1,s){for(;(o=i[0])&&o.id===t&&i.shift();)o.unsubscribe();throw s}}}(class ur extends Io.R{constructor(o,t){super(o,t),this.scheduler=o,this.work=t}requestAsyncId(o,t,i=0){return null!==i&&i>0?super.requestAsyncId(o,t,i):(o.actions.push(this),o._scheduled||(o._scheduled=hs.requestAnimationFrame(()=>o.flush(void 0))))}recycleAsyncId(o,t,i=0){var s;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(o,t,i);const{actions:r}=o;null!=t&&t===o._scheduled&&(null===(s=r[r.length-1])||void 0===s?void 0:s.id)!==t&&(hs.cancelAnimationFrame(t),o._scheduled=void 0)}});var po=$(2816);class hr{constructor(){this.symbols="",this.partMap=[]}}const ps=n=>new Array(Math.max(n,0)).fill("0").join(""),Mi=n=>n.replace(/^0*/,""),Ho=(n,o)=>(n[o.pattern[0]]=o.type,n),wi=n=>null!=n,Mo=()=>!!document,Js=n=>wi(n)&&"number"==typeof n&&!Number.isNaN(n),ns=n=>parseInt(n,10),yo=n=>Js(ns(n))&&/^[0-9]+$/.test(n),ms=(n,o,t)=>Math.min(t,Math.max(o,n)),vi=(...n)=>Object.assign(...n),mr=("setFullYear",(o,t)=>{const i=W(o);return i.setFullYear(t),i}),fo=(n,o,t,i,s,r,l,u)=>!(!n||n.getFullYear()!==o||n.getMonth()!==t||n.getDate()!==i||n.getHours()!==s||n.getMinutes()!==r||n.getSeconds()!==l||n.getMilliseconds()!==u),an=n=>wi(n)&&n.getTime&&Js(n.getTime()),ci=/d|M|H|h|m|s/;class Or{set value(o){o&&!(o instanceof Date)||(this._value=o,this.resetInvalidDate())}get value(){return this._value}get localeId(){let o="en";const t=Object.keys(this.intl.cldr);for(let i=0;i<t.length;i++){const r=this.intl.cldr[t[i]];if(r.name&&r.calendar&&r.numbers&&"en"!==r.name){o=r.name;break}}return o}constructor({intlService:o,formatPlaceholder:t,format:i,cycleTime:s=!1,twoDigitYearMax:r=68,value:l=null,autoCorrectParts:u=!0,toggleDayPeriod:f=!1,autoSwitchParts:C=!0}){if(this.year=!0,this.month=!0,this.date=!0,this.hours=!0,this.minutes=!0,this.seconds=!0,this.milliseconds=!0,this.dayperiod=!0,this.leadingZero=null,this.typedMonthPart="",this.knownParts="adHhmMsEyS",this.symbols={E:"E",H:"H",M:"M",a:"a",d:"d",h:"h",m:"m",s:"s",y:"y",S:"S"},this._value=this.getDefaultDate(),this.cycleTime=!1,this._partiallyInvalidDate={startDate:null,invalidDateParts:{E:{value:null,date:null,startDateOffset:0},H:{value:null,date:null,startDateOffset:0},M:{value:null,date:null,startDateOffset:0},a:{value:null,date:null,startDateOffset:0},d:{value:null,date:null,startDateOffset:0},h:{value:null,date:null,startDateOffset:0},m:{value:null,date:null,startDateOffset:0},s:{value:null,date:null,startDateOffset:0},y:{value:null,date:null,startDateOffset:0},S:{value:null,date:null,startDateOffset:0}}},this.setOptions({intlService:o,formatPlaceholder:t,format:i,cycleTime:s,twoDigitYearMax:r,value:l,autoCorrectParts:u,toggleDayPeriod:f,autoSwitchParts:C}),l)this._value=W(l);else{this._value=this.getDefaultDate();const T=this.dateFormatString(this.value,this.format).symbols;for(let O=0;O<T.length;O++)this.setExisting(T[O],!1)}}setOptions(o){this.intl=o.intlService,this.formatPlaceholder=o.formatPlaceholder||"wide",this.format=o.format,this.cycleTime=o.cycleTime,this.monthNames=this.allFormattedMonths(this.localeId),this.dayPeriods=this.allDayPeriods(this.localeId),this.twoDigitYearMax=o.twoDigitYearMax,this.autoCorrectParts=o.autoCorrectParts,this.toggleDayPeriod=o.toggleDayPeriod,this.autoSwitchParts=o.autoSwitchParts}setValue(o){o?Gt(o,this._value)?Gt(o,this._value)&&this.dayPeriods&&this.setExisting("a",!0):(this._value=W(o),this.modifyExisting(!0)):(this._value=this.getDefaultDate(),this.modifyExisting(!1)),this.resetInvalidDate()}hasValue(){return this.intl.splitDateFormat(this.format,this.localeId).reduce((t,i)=>t||"literal"!==i.type&&"dayperiod"!==i.type&&this.getExisting(i.pattern[0]),!1)}getValue(){for(let o=0;o<this.knownParts.length;o++)if(!this.getExisting(this.knownParts[o]))return null;return W(this.value)}createDefaultDate(){return li(2e3,0,31)}getDefaultDate(){return At(this.createDefaultDate())}getFormattedDate(o){return this.intl.formatDate(this.getValue(),o,this.localeId)}getTextAndFormat(o=""){const t=o||this.format;let i=this.intl.formatDate(this.value,t,this.localeId);const s=this.dateFormatString(this.value,t);if(!this.autoCorrectParts&&this._partiallyInvalidDate.startDate){let l="";const u=this.intl.formatDate(this.value,t,this.localeId),f=this.getFormattedInvalidDates(t);for(let C=0;C<u.length;C++){const T=s.symbols[C];if("literal"===s.partMap[C].type)l+=i[C];else if(this.getInvalidDatePartValue(T)){const O=this.getPartsForSegment(s,C);if("M"===T){const G=(ns(this.getInvalidDatePartValue(T))+1).toString();O.length>2?l+=f[T][C]:this.getInvalidDatePartValue(T)?(l+=ps(O.length-G.length)+G,C+=O.length-1):l+=f[T][C]}else if(this.getInvalidDatePartValue(T)){const G=this.getInvalidDatePartValue(T).toString();l+=ps(O.length-G.length)+G,C+=O.length-1}else l+=f[T][C]}else l+=i[C]}i=l}return this.merge(i,s)}getFormattedInvalidDates(o=""){const t=o||this.format,i={E:"",H:"",M:"",a:"",d:"",h:"",m:"",s:"",y:"",S:""};return Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach(s=>{const r=this.getInvalidDatePart(s).date;if(r){const l=this.intl.formatDate(r,t,this.localeId);i[s]=l}}),i}modifyExisting(o){const t=this.dateFormatString(this.value,this.format).symbols;for(let i=0;i<t.length;i++)this.setExisting(t[i],o)}getExisting(o){switch(o){case"y":return this.year;case"M":case"L":return this.month;case"d":return this.date;case"E":return this.date&&this.month&&this.year;case"h":case"H":return this.hours;case"t":case"a":return this.dayperiod;case"m":return this.minutes;case"s":return this.seconds;case"S":return this.milliseconds;default:return!0}}setExisting(o,t){switch(o){case"y":this.year=t,!1===t&&this._value.setFullYear(2e3);break;case"M":this.month=t,!1===t&&this.autoCorrectParts&&this._value.setMonth(0);break;case"d":this.date=t;break;case"h":case"H":this.hours=t;break;case"t":case"a":this.dayperiod=t;break;case"m":this.minutes=t;break;case"s":this.seconds=t;break;case"S":this.milliseconds=t}this.getValue()&&this.resetInvalidDate()}modifyPart(o,t){if(!wi(o)||!wi(t)||0===t)return;let r,i=W(this.value),s=!1;const l="M"===o,u="d"===o||"E"===o,f=this.getExisting(o);if(this.autoCorrectParts||!u&&!l){const C=i.getHours();switch(o){case"y":i.setFullYear(i.getFullYear()+t);break;case"M":i=se(this.value,t);break;case"d":case"E":i.setDate(i.getDate()+t);break;case"h":case"H":i.setHours(i.getHours()+t),s=!0;break;case"m":i.setMinutes(i.getMinutes()+t),s=!0;break;case"s":i.setSeconds(i.getSeconds()+t),s=!0;break;case"S":i.setMilliseconds(i.getMilliseconds()+t);break;case"a":i.setHours(this.toggleDayPeriod?C>=12?C-12:C+12:i.getHours()+12*t),s=!0}}else{const C=this._partiallyInvalidDate.invalidDateParts||{},T=this.getInvalidDatePartValue(o);let O=C.y.value||i.getFullYear(),G=C.M.value||i.getMonth(),P=C.d.value||C.E.value||i.getDate();const Q=C.h.value||C.H.value||i.getHours(),z=C.m.value||i.getMinutes(),de=C.s.value||i.getSeconds(),le=C.S.value||i.getMilliseconds();switch(o){case"y":O+=t;break;case"M":G+=t;break;case"d":case"E":P+=t}if("M"===o){if((G<0||G>11)&&f)return this.setExisting(o,!1),void this.resetInvalidDateSymbol(o);if(!f){if(G<0)G=ms(G%11+1+11,0,11);else{const ge=wi(T)?G:(t-1)%12;G=ms(ge,0,11)}G=ms(G,0,11)}G=ms(G,0,11)}else if("d"===o)if(f){if(P<=0||P>31)return this.setExisting(o,!1),void this.resetInvalidDateSymbol(o)}else if(!f){if(wi(T)&&(P<=0||P>31))return this.setExisting(o,!1),void this.resetInvalidDateSymbol(o);if(t<0){const ge=wi(T)?P:31-Math.abs(t%31)+1;P=ms(ge,1,31)}else{const ge=wi(T)?P:t%31;P=ms(ge,1,31)}P=ms(P,1,31)}const Ce=li(O,G,P,Q,z,de,le),_e=l||u?this.modifyDateSymbolWithValue(i,o,l?G:P):null,Ge=fo(Ce,O,G,P,Q,z,de,le);this.getValue()&&fo(Ce,O,G,P,Q,z,de,le)?(i=W(Ce),this.markDatePartsAsExisting()):l&&_e?_e.getMonth()===G?this.getExisting("d")?Ge?(i=W(Ce),this.resetInvalidDateSymbol(o)):(r=!0,this.setInvalidDatePart(o,{value:G,date:W(_e),startDateOffset:t,startDate:W(this.value)}),this.setExisting(o,!1)):Ge?(this.resetInvalidDateSymbol(o),i=W(Ce),this.getExisting("M")&&this.getExisting("y")&&(this.setExisting("d",!0),this.resetInvalidDateSymbol("d"))):(this.resetInvalidDateSymbol(o),i=W(_e)):(r=!0,this.setInvalidDatePart(o,{value:G,date:W(_e),startDateOffset:t,startDate:W(this.value)}),this.setExisting(o,!1)):u&&_e&&(_e.getDate()===P?this.getExisting("M")?Ge?(i=W(Ce),this.resetInvalidDateSymbol(o)):(r=!0,this.setInvalidDatePart(o,{value:P,date:W(_e),startDateOffset:t,startDate:W(this.value)}),this.setExisting(o,!1)):Ge?(i=W(Ce),this.resetInvalidDateSymbol(o),this.getExisting("d")&&this.getExisting("y")&&(this.setExisting("M",!0),this.resetInvalidDateSymbol("M"))):(this.resetInvalidDateSymbol(o),i=W(_e)):(r=!0,this.setInvalidDatePart(o,{value:P,date:W(this.value),startDateOffset:t,startDate:W(this.value)}),this.setExisting(o,!1)))}this.shouldNormalizeCentury()&&(i=this.normalizeCentury(i)),s&&!this.cycleTime&&(i.getDate(),this._value.getDate()),r||(this.setExisting(o,!0),this._value=i,this.getValue()&&this.resetInvalidDate())}parsePart({symbol:o,currentChar:t,resetSegmentValue:i,cycleSegmentValue:s,rawTextValue:r,isDeleting:l,originalFormat:u}){const f=!s,C=this.dateFormatString(this.value,this.format),T=C.partMap.filter(ut=>"literal"===ut.type).map((ut,_t)=>({datePartIndex:_t,type:ut.type,pattern:ut.pattern,literal:""})),O=C.partMap.map(ut=>({type:ut.type,pattern:ut.pattern,text:""}));for(let ut=0;ut<T.length;ut++){const _t=T[ut];for(let Ct=0;Ct<_t.pattern.length;Ct++)T[ut+Ct]&&(T[ut+Ct].literal=_t.pattern[Ct]);ut+=_t.pattern.length-1}for(let ut=0;ut<O.length;ut++){const _t=O[ut];for(let Ct=0;Ct<_t.pattern.length;Ct++)O[ut+Ct]&&(O[ut+Ct].text=_t.pattern[Ct]);ut+=_t.pattern.length-1}const P={value:null,switchToNext:!1,resetPart:f&&"M"===o&&C.partMap.filter(ut=>"month"===ut.type).some(ut=>ut.pattern.length>2),hasInvalidDatePart:!1};if(!t){if(!f)return this.resetLeadingZero(),this.setExisting(o,!1),this.resetInvalidDateSymbol(o),vi(P,{value:null,switchToNext:!1});for(let ut=0;ut<T.length;ut++){const _t=T[ut].literal,Ct=r.startsWith(_t),oi=r.endsWith(_t),bs=r.indexOf(_t+_t)>=0;if(Ct||oi||bs)return this.resetLeadingZero(),this.setExisting(o,!1),this.resetInvalidDateSymbol(o),vi(P,{value:null,switchToNext:!1})}}const Q=this.intl.formatDate(this.value,this.format,this.localeId),z=C.symbols;let de=!1,le="",Ce="",_e="",Ge="",ge="",$e="",ft="";for(let ut=0;ut<O.length;ut++)ft+=O[ut].text;const ke=this.format===z||this.format===ft||this.format===u||this.format.length===u.length,Kt=(ke?ft:u).indexOf(o),Le=(ke?ft:u).lastIndexOf(o)-Kt+1,jt=u.length-r.length;if(f||!f&&!this.autoCorrectParts){let ut=0;for(let _t=0;_t<Q.length;_t++)if(z[_t]===o){const Ct=this.getExisting(o);if("y"===o)if(!this.hasInvalidDatePart()&&this.getExisting("y"))Ce+=Q[_t];else{const oi=this.getInvalidDatePartValue(o);wi(oi)?(Ce+=(oi||"").toString()[ut]||"",ut++):Ce+=Ct?Q[_t]:"0"}else Ce+=Ct?Q[_t]:"0";jt>0?_e.length+jt<Le&&(_e+=r[_t]||""):_e+=r[_t]||"",de=!0}else de?($e+=Q[_t],ge+=Q[_t]):(le+=Q[_t],Ge+=Q[_t]);if(ke&&(ft.length<r.length&&(_e+=t),_e.length>Le))return vi(P,{value:null,switchToNext:!1});if(!ke||ke&&!this.autoCorrectParts){Ce="",_e="",le="",$e="",de=!1;let _t=0;for(let Ct=0;Ct<u.length;Ct++)if(u[Ct]===o){const oi=this.getExisting(o);if("y"===o)if(!this.hasInvalidDatePart()&&this.getExisting("y"))Ce+=Q[Ct];else{const bs=this.getInvalidDatePartValue(o);wi(bs)?(Ce+=(bs||"").toString()[_t]||"",_t++):Ce+=oi?Q[Ct]:"0"}else Ce+=oi?Q[Ct]||"":"0";jt>0?_e.length+jt<Le&&(_e+=r[Ct]||""):_e+=r[Ct]||"",de=!0}else de?$e+=r[Ct-jt]||"":le+=r[Ct]||"";u.length<r.length&&(_e+=t)}}if(!f)if(this.autoCorrectParts){Ce="",_e="",le="",$e="",de=!1;for(let ut=0;ut<Q.length;ut++)z[ut]===o?(Ce+=this.getExisting(o)?Q[ut]:"0",de=!0):de?$e+=Q[ut]:le+=Q[ut]}else Ce=i?_e:Ce;let Ie=null;const Xe=this.matchMonth(t),he=this.matchDayPeriod(t,o),Re="0"===t,je=this.leadingZero||{};Re?("0"===_e&&(_e=Ce),0===ns(i?t:(f?_e:Ce)+t)&&!this.isAbbrMonth(C.partMap,o)&&"a"!==o&&this.incrementLeadingZero(o)):this.resetLeadingZero();const xt=this.partPattern(C.partMap,o),ot=xt?xt.pattern:null,dt=this.patternLength(ot)||ot.length;if(f&&l&&!_e)return this.setExisting(o,!1),vi(P,{value:null,switchToNext:!1});let hi=!0,Di=f?_e:Ce;for(let ut=Math.max(0,Ce.length-3);ut<=Ce.length&&hi;ut++){Di=i?t:f?_e:Ce.substring(ut)+t,this.autoSwitchParts&&"h"===o&&"12"===Ce.substring(ut)&&(Di=Di.replace("12","0")),(f||!this.autoCorrectParts)&&(hi=!1,Di=Mi(Di),Di=ps(dt-Di.length)+Di);const _t=parseInt(Di,10);Ie=this.intl.parseDate(le+Di+$e,this.format,this.localeId),Ie&&this.value&&C.partMap.every(vn=>"year"!==vn.type&&"month"!==vn.type&&"day"!=vn.type)&&(Ie.setFullYear(this.value.getFullYear()),Ie.setMonth(this.value.getMonth()),Ie.setDate(this.value.getDate()));let oi=!1;f&&!an(Ie)&&this.autoCorrectParts&&(Ie=this.intl.parseDate(Ge+Di+ge,this.format,this.localeId),oi=!0);const bs=!isNaN(parseInt(t,10))||f&&l&&""===t;if(!Ie&&!isNaN(_t)&&bs&&this.autoCorrectParts){if("M"===o&&!Xe){const vn=_t-1;vn>-1&&vn<12&&(Ie=W(this.value),Ie.setMonth(vn),Ie.getMonth()!==vn&&(Ie=Vn(se(Ie,-1))))}"y"===o&&(Ie=li(parseInt(Di,10),this.month?this.value.getMonth():0,this.date?this.value.getDate():1,this.hours?this.value.getHours():0,this.minutes?this.value.getMinutes():0,this.seconds?this.value.getSeconds():0,this.milliseconds?this.value.getMilliseconds():0),(f&&an(Ie)||!f&&Ie)&&this.date&&Ie.getDate()!==this.value.getDate()&&(Ie=Vn(se(Ie,-1))))}if(f&&an(Ie)||!f&&Ie){const vn=this.isPeekDateOverflowingDatePart({useBasePrefixAndSuffix:oi,middle:Di,patternValue:ot,basePrefix:Ge,baseSuffix:ge,prefix:le,suffix:$e,symbol:o,patternLength:dt,leadingZero:je});let fi=vn.switchToNext;return this.shouldNormalizeCentury()&&(Ie=this.normalizeCentury(Ie)),"H"===o&&Ie.getHours()>=12&&this.setExisting("a",!0),this._value=Ie,this.setExisting(o,!0),this.resetInvalidDateSymbol(o),this.autoCorrectParts||("M"===o?this.getExisting("M")&&this.getExisting("y")&&(this.setExisting("d",!0),this.resetInvalidDateSymbol("d")):"d"===o?this.getExisting("d")&&this.getExisting("y")&&(this.setExisting("M",!0),this.resetInvalidDateSymbol("M")):"y"===o&&this.markDatePartsAsExisting(),this.hasInvalidDatePart()||(this.markDatePartsAsExisting(),!vn.peekedDate&&vn.switchToNext&&!this.autoCorrectParts&&("M"===o||"d"===o&&30===vn.parsedPeekedValue&&1===this.value.getMonth()&&(fi=!1)))),vi(P,{value:this.value,switchToNext:fi})}}if(Xe&&(Ie=this.intl.parseDate(le+Xe+$e,this.format,this.localeId),Ie))return this._value=Ie,this.setExisting(o,!0),vi(P,{value:this.value,switchToNext:!1});if(he&&(Ie=this.intl.parseDate(le+he+$e,this.format)||this.intl.parseDate(Ge+he+ge,this.format),Ie))return this._value=Ie,this.setExisting(o,!0),vi(P,{value:this.value,switchToNext:!0});if(Re&&"a"!==o&&this.setExisting(o,!1),!this.autoCorrectParts){let ut,_t=f?_e:Di,Ct=ns(_t);if(Js(Ct)&&yo(_t)){if("d"===o&&(Ct<=0||Ct>31)||"M"===o&&(Ct<=0||Ct>11)){if(f)return vi(P,{value:null,switchToNext:!1});_t=t,Ct=ns(_t)}if(!Js(Ct)||!yo(_t))return vi(P,{value:null,switchToNext:!1});ut="M"===o?Ct-1:Ct;const oi="y"===o,bs="M"===o,vn="d"===o;let fi=W(this._value);const Ai=this._partiallyInvalidDate.invalidDateParts||{},Vs=oi?ut:Ai.y.value||fi.getFullYear(),Wi=bs?ut:Ai.M.value||fi.getMonth(),Tn=vn?ut:Ai.d.value||Ai.E.value||fi.getDate(),ol=Ai.h.value||Ai.H.value||fi.getHours(),rl=Ai.m.value||fi.getMinutes(),al=Ai.s.value||fi.getSeconds(),Al=Ai.S.value||fi.getMilliseconds(),Ca=li(Vs,Wi,Tn,ol,rl,al,Al),Ba=fo(Ca,Vs,Wi,Tn,ol,rl,al,Al),qs=oi||bs||vn?this.modifyDateSymbolWithValue(fi,o,oi?Vs:bs?Wi:Tn):null;let Lr=!1;if(bs&&qs?qs.getMonth()===Wi?this.getExisting("d")?Ba?(fi=W(Ca),this.resetInvalidDateSymbol(o)):(Lr=!0,this.setInvalidDatePart(o,{value:Wi,date:W(qs),startDate:W(this.value)}),this.setExisting(o,!1)):Ba?(this.resetInvalidDateSymbol(o),fi=W(Ca),this.getExisting("M")&&this.getExisting("y")&&(this.setExisting("d",!0),this.resetInvalidDateSymbol("d"))):(this.resetInvalidDateSymbol(o),fi=W(qs)):(Lr=!0,this.setInvalidDatePart(o,{value:Wi,date:W(qs),startDate:W(this.value)}),this.setExisting(o,!1)):vn&&qs?qs.getDate()===Tn?this.getExisting("M")?Ba?(fi=W(Ca),this.resetInvalidDateSymbol(o)):(Lr=!0,this.setInvalidDatePart(o,{value:Tn,date:W(qs),startDate:W(this.value)}),this.setExisting(o,!1)):Ba?(fi=W(Ca),this.resetInvalidDateSymbol(o),this.getExisting("d")&&this.getExisting("y")&&(this.setExisting("M",!0),this.resetInvalidDateSymbol("M"))):(this.resetInvalidDateSymbol(o),fi=W(qs)):(Lr=!0,this.setInvalidDatePart(o,{value:Tn,date:W(this.value),startDate:W(this.value)}),this.setExisting(o,!1)):oi&&qs&&(qs.getFullYear()===Vs?this.getExisting("d")&&this.getExisting("M")?Ba?(fi=W(Ca),this.resetInvalidDateSymbol(o)):(Lr=!0,this.setInvalidDatePart(o,{value:Vs,date:W(qs),startDate:W(this.value)}),this.setExisting(o,!1)):Ba?(this.resetInvalidDateSymbol(o),fi=W(Ca),this.getExisting("M")&&this.getExisting("d")&&(this.setExisting("y",!0),this.resetInvalidDateSymbol("y"))):(this.resetInvalidDateSymbol(o),fi=W(qs)):(Lr=!0,this.setInvalidDatePart(o,{value:Vs,date:W(qs),startDate:W(this.value)}),this.setExisting(o,!1))),!Lr){if(this.setExisting(o,!0),f&&!an(Ie)){const Tc=this.intl.parseDate(Ge+Di+ge,this.format,this.localeId);an(Tc)&&(this._value=Tc)}else this._value=fi;this.getValue()&&this.resetInvalidDate()}let ll=!1;return ll="M"===o?Ct>=2||_t.length>=2:ke?this.isPeekDateOverflowingDatePart({useBasePrefixAndSuffix:!this.autoCorrectParts,middle:Di,patternValue:ot,basePrefix:Ge,baseSuffix:ge,prefix:le,suffix:$e,symbol:o,patternLength:dt,leadingZero:je}).switchToNext:_t.length>Le,vi(P,{value:null,switchToNext:ll,hasInvalidDatePart:Lr})}}return vi(P,{value:null,switchToNext:!1})}symbolMap(o){return this.intl.splitDateFormat(this.format,this.localeId).reduce(Ho,{})[o]}resetLeadingZero(){const o=null!==this.leadingZero;return this.setLeadingZero(null),o}setLeadingZero(o){this.leadingZero=o}getLeadingZero(){return this.leadingZero||{}}normalizeCentury(o){if(!wi(o))return o;const t=(n=>!wi(n)||isNaN(n.getTime())?0:Number(n.getFullYear().toString().slice(-2)))(o),i=this.getNormalizedCenturyBase(t);return mr(o,i+t)}incrementLeadingZero(o){const t=this.leadingZero||{};t[o]=(t[o]||0)+1,this.leadingZero=t}isAbbrMonth(o,t){const i=this.partPattern(o,t);return"month"===i.type&&i.names}partPattern(o,t){return o.filter(i=>-1!==i.pattern.indexOf(t))[0]}peek(o,t){const i=o.replace(/^0*/,"")+"0";return ps(t.length-i.length)+i}matchMonth(o){if(this.typedMonthPart+=o.toLowerCase(),0===this.monthNames.length)return"";for(;this.typedMonthPart.length>0;){for(let i=0;i<this.monthNames.length;i++)if(0===this.monthNames[i].toLowerCase().indexOf(this.typedMonthPart))return this.monthNames[i];const t=parseInt(this.typedMonthPart,10);if(t>=1&&t<=12&&t.toString()===this.typedMonthPart)return this.monthNames[t-1];this.typedMonthPart=this.typedMonthPart.substring(1,this.typedMonthPart.length)}return""}matchDayPeriod(o,t){const i=o.toLowerCase();if("a"===t&&this.dayPeriods){if(this.dayPeriods.am.toLowerCase().startsWith(i))return this.dayPeriods.am;if(this.dayPeriods.pm.toLowerCase().startsWith(i))return this.dayPeriods.pm}return""}allFormattedMonths(o="en"){const t=this.intl.splitDateFormat(this.format,this.localeId);for(let i=0;i<t.length;i++)if("month"===t[i].type&&t[i].names)return this.intl.dateFormatNames(o,t[i].names);return[]}allDayPeriods(o="en"){const t=this.intl.splitDateFormat(this.format);for(let i=0;i<t.length;i++)if("dayperiod"===t[i].type&&t[i].names)return this.intl.dateFormatNames(o,t[i].names);return null}patternLength(o){return"y"===o[0]?4:ci.test(o)?2:0}dateFormatString(o,t){const i=this.intl.splitDateFormat(t,this.localeId),s=[],r=[];for(let u=0;u<i.length;u++){let f=this.intl.formatDate(o,{pattern:i[u].pattern},this.localeId).length;for(;f>0;)s.push(this.symbols[i[u].pattern[0]]||"_"),r.push(i[u]),f--}const l=new hr;return l.symbols=s.join(""),l.partMap=r,l}merge(o,t){let i="",s="";const r=t.symbols;let l=!1,u=0;const f=this.getFormattedInvalidDates(r);for(let C=r.length-1;C>=0;C--){const T=this.getPartsForSegment(t,C);if(-1===this.knownParts.indexOf(r[C])||this.getExisting(r[C]))this.autoCorrectParts?i=o[C]+i:o.length!==r.length?l?i=o[C]+i:u>0?(i=o[C]+i,u--,u<=0&&(l=!0)):i=(o[C+o.length-r.length]||"")+i:i=o[C]+i,s=r[C]+s;else{const O=r[C];let G=0;if(this.autoCorrectParts||!this.autoCorrectParts&&!this.getInvalidDatePartValue(O)){for(;C>=0&&O===r[C];)C--;C++}if(this.leadingZero&&this.leadingZero[O])i="0"+i;else if(!this.autoCorrectParts&&this.getInvalidDatePartValue(O)){let P=this.getInvalidDatePartValue(O).toString();"M"===O?(P=(ns(this.getInvalidDatePartValue(O))+1).toString(),T.length>2?i=f[O][C]+i:(P=(ns(this.getInvalidDatePartValue(O))+1).toString(),i=ps(T.length-P.length)+P+i,G=T.length-1,u=P.length-T.length)):(i=ps(T.length-P.length)+P+i,G=T.length-1,u=P.length-T.length)}else i=this.dateFieldName(t.partMap[C])+i;for(;s.length<i.length;)s=r[C]+s;0!==G&&(C=C-G+(o.length-r.length))}}return{text:i,format:s}}dateFieldName(o){const t=this.formatPlaceholder||"wide";return t[o.type]?t[o.type]:"formatPattern"===t?o.pattern:this.intl.dateFieldName(Object.assign(o,{nameType:t}))}getNormalizedCenturyBase(o){return o>this.twoDigitYearMax?1900:2e3}shouldNormalizeCentury(){return this.intl.splitDateFormat(this.format).some(o=>"yy"===o.pattern)}resetInvalidDate(){this._partiallyInvalidDate.startDate=null,Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach(o=>{this.resetInvalidDatePart(o)})}resetInvalidDateSymbol(o){this.resetInvalidDatePart(o);let t=!0;Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach(i=>{this._partiallyInvalidDate.invalidDateParts[i]&&wi(this._partiallyInvalidDate.invalidDateParts[i].value)&&(t=!1)}),t&&this.resetInvalidDate()}resetInvalidDatePart(o){this._partiallyInvalidDate.invalidDateParts[o]&&(this._partiallyInvalidDate.invalidDateParts[o]={value:null,date:null,startDateOffset:0})}getInvalidDatePart(o){return this._partiallyInvalidDate.invalidDateParts[o]||{}}getInvalidDatePartValue(o){return(this._partiallyInvalidDate.invalidDateParts[o]||{}).value}setInvalidDatePart(o,{value:t=null,date:i=null,startDateOffset:s=0,startDate:r=null}){this._partiallyInvalidDate.invalidDateParts[o]&&(this._partiallyInvalidDate.invalidDateParts[o].value=t,this._partiallyInvalidDate.invalidDateParts[o].date=i,this._partiallyInvalidDate.invalidDateParts[o].startDateOffset=s,this._partiallyInvalidDate.startDate=r)}hasInvalidDatePart(){let o=!1;return Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach(t=>{this._partiallyInvalidDate.invalidDateParts[t]&&wi(this._partiallyInvalidDate.invalidDateParts[t].value)&&(o=!0)}),o}modifyDateSymbolWithOffset(o,t,i){let s=W(o),r=!1;switch(t){case"y":s.setFullYear(s.getFullYear()+i);break;case"M":s=se(this.value,i);break;case"d":case"E":s.setDate(s.getDate()+i);break;case"h":case"H":s.setHours(s.getHours()+i),r=!0;break;case"m":s.setMinutes(s.getMinutes()+i),r=!0;break;case"s":s.setSeconds(s.getSeconds()+i),r=!0;break;case"S":s.setMilliseconds(s.getMilliseconds()+i);break;case"a":s.setHours(s.getHours()+12*i),r=!0}return{date:s,timeModified:r}}modifyDateSymbolWithValue(o,t,i){let s=W(o);switch(t){case"y":s.setFullYear(i);break;case"M":s=se(o,i-o.getMonth());break;case"d":case"E":s.setDate(i);break;case"h":case"H":case"a":s.setHours(i);break;case"m":s.setMinutes(i);break;case"s":s.setSeconds(i);break;case"S":s.setMilliseconds(i)}return s}markDatePartsAsExisting(){this.modifyExisting(!0)}getPartsForSegment(o,t){const i=o.partMap[t],s=[];for(let r=t;r<o.partMap.length;r++){const l=o.partMap[r];if(i.type!==l.type||i.pattern!==l.pattern)break;s.push(l)}for(let r=t-1;r>=0;r--){const l=o.partMap[r];if(i.type!==l.type||i.pattern!==l.pattern)break;s.unshift(l)}return s}isPeekDateOverflowingDatePart({useBasePrefixAndSuffix:o,middle:t,patternValue:i,basePrefix:s,baseSuffix:r,prefix:l,suffix:u,symbol:f,patternLength:C,leadingZero:T}){const O=this.peek(t,i),G=o?`${s}${O}${r}`:`${l}${O}${u}`,P=this.intl.parseDate(G,this.format,this.localeId),z=((this.leadingZero||{})[f]||0)+Mi(t).length>=C;return{peekedDate:P,peekedDateString:G,peekedValue:O,parsedPeekedValue:ns(O),switchToNext:null===P||(T[f]?i.length<=t.length:z)}}}const K={events:{}};class oe{constructor(o){this.options=vi({},K,o)}destroy(){this.options={}}trigger(o,t={}){const i={defaultPrevented:!1,preventDefault:()=>{i.defaultPrevented=!0}};return!!(n=>"function"==typeof n)(this.options.events[o])&&(this.options.events[o](vi(i,t,{sender:this})),i.defaultPrevented)}}var Se=function(n){return n.None="none",n.Caret="caret",n.Selection="selection",n}(Se||{});const mi="dragStart",Hi="touchstart",Mn="mousedown",Rn="mouseup",wn="input",ln="keydown",fs="focus",Ns="blur",Ur="DOMMouseScroll",Wo="mousewheel",Mr="valueChange",_s="inputEnd",vo="blurEnd",Zs="focusEnd",ks="change",Co={format:"d",hasPlaceholder:!1,placeholder:null,cycleTime:!0,locale:null,steps:{millisecond:1,second:1,minute:1,hour:1,day:1,month:1,year:1},formatPlaceholder:null,events:{[Mr]:null,[wn]:null,[_s]:null,[fs]:null,[Zs]:null,[Ns]:null,[vo]:null,[ln]:null,[Wo]:null,[ks]:null},selectNearestSegmentOnFocus:!1,selectPreviousSegmentOnBackspace:!1,enableMouseWheel:!1,allowCaretMode:!1,autoSwitchParts:!0,autoSwitchKeys:[],twoDigitYearMax:68,autoCorrectParts:!0,autoFill:!1,toggleDayPeriod:!1};class eo extends oe{get value(){return this.dateObject&&this.dateObject.getValue()}constructor(o,t){super(t),this.dateObject=null,this.currentText="",this.currentFormat="",this.interactionMode=Se.None,this.previousElementSelection={start:0,end:0},this.init(o,t)}init(o,t){let i=an(this.options.value)?W(this.options.value):new Date(t.formattedValue);an(i)||(i=null),this.element=o,this.options=vi({},Co,t,{steps:Object.assign(Object.assign({},Co.steps),t.steps)}),this.intl=this.options.intlService,this.dateObject=this.createDateObject(),this.dateObject.setValue(i),this.setTextAndFormat(),this.bindEvents(),this.resetSegmentValue=!0,this.interactionMode=Se.None,this.forceUpdate()}destroy(){this.unbindEvents(),this.dateObject=null,super.destroy()}bindEvents(){this.onElementDragStart=this.onElementDragStart.bind(this),this.element.addEventListener(mi,this.onElementDragStart),this.onElementDrop=this.onElementDrop.bind(this),this.element.addEventListener("drop",this.onElementDrop),this.onElementClick=this.onElementClick.bind(this),this.element.addEventListener("click",this.onElementClick),this.onElementMouseDown=this.onElementMouseDown.bind(this),this.element.addEventListener(Mn,this.onElementMouseDown),this.element.addEventListener(Hi,this.onElementMouseDown),this.onElementMouseUp=this.onElementMouseUp.bind(this),this.element.addEventListener(Rn,this.onElementMouseUp),this.onElementInput=this.onElementInput.bind(this),this.element.addEventListener(wn,this.onElementInput),this.onElementKeyDown=this.onElementKeyDown.bind(this),this.element.addEventListener(ln,this.onElementKeyDown),this.onElementFocus=this.onElementFocus.bind(this),this.element.addEventListener(fs,this.onElementFocus),this.onElementBlur=this.onElementBlur.bind(this),this.element.addEventListener(Ns,this.onElementBlur),this.onElementChange=this.onElementChange.bind(this),this.element.addEventListener(ks,this.onElementChange),this.onElementPaste=this.onElementPaste.bind(this),this.element.addEventListener("paste",this.onElementPaste),this.onElementMouseWheel=this.onElementMouseWheel.bind(this),this.element.addEventListener(Ur,this.onElementMouseWheel),this.element.addEventListener(Wo,this.onElementMouseWheel)}unbindEvents(){this.element.removeEventListener(mi,this.onElementDragStart),this.element.removeEventListener("drop",this.onElementDrop),this.element.removeEventListener(Hi,this.onElementMouseDown),this.element.removeEventListener(Mn,this.onElementMouseDown),this.element.removeEventListener(Rn,this.onElementMouseUp),this.element.removeEventListener("click",this.onElementClick),this.element.removeEventListener(wn,this.onElementInput),this.element.removeEventListener(ln,this.onElementKeyDown),this.element.removeEventListener(fs,this.onElementFocus),this.element.removeEventListener(Ns,this.onElementBlur),this.element.removeEventListener(ks,this.onElementChange),this.element.removeEventListener("paste",this.onElementPaste),this.element.removeEventListener(Ur,this.onElementMouseWheel),this.element.removeEventListener(Wo,this.onElementMouseWheel)}setOptions(o,t=!1){this.options=vi({},this.options,o,{steps:Object.assign(Object.assign({},Co.steps),o.steps)}),this.setDateObjectOptions(),t&&(this.unbindEvents(),this.init(this.element,this.options))}setDateObjectOptions(){if(this.dateObject){const o=this.getDateObjectOptions();this.dateObject.setOptions(o)}}resetLocale(){this.unbindEvents(),this.init(this.element,this.options)}isInCaretMode(){return this.interactionMode===Se.Caret}focus(){this.element.focus(),this.options.selectNearestSegmentOnFocus&&this.selectNearestSegment(0)}onElementDragStart(o){o.preventDefault()}onElementDrop(o){o.preventDefault()}onElementMouseDown(){this.mouseDownStarted=!0,this.focusedPriorToMouseDown=this.isActive}onElementMouseUp(o){this.mouseDownStarted=!1,o.preventDefault()}onElementClick(o){this.mouseDownStarted=!1,this.switchedPartOnPreviousKeyAction=!1;const t=this.selection;if(this.isInCaretMode()&&this.forceUpdate(),3!==o.detail)if(this.isActive&&this.options.selectNearestSegmentOnFocus){const i=this.element.selectionStart!==this.element.selectionEnd,s=wi(this.options.placeholder)&&!this.dateObject.hasValue()&&!this.focusedPriorToMouseDown,l=!i&&s?0:this.caret()[0];this.selectNearestSegment(l)}else this.setSelection(this.selectionByIndex(t.start))}onElementInput(o){this.triggerInput({event:o});const t=this.elementValue;if(!this.element||!this.dateObject)return;const i=this.switchedPartOnPreviousKeyAction;if(this.isPasteInProgress)return this.options.allowCaretMode&&(this.resetSegmentValue=!1),this.updateOnPaste(o),void(this.isPasteInProgress=!1);const s=this.keyDownEvent||{},r=8===s.keyCode||"Backspace"===s.key,l=46===s.keyCode||"Delete"===s.key,u=this.interactionMode;this.options.allowCaretMode&&u!==Se.Caret&&!l&&!r&&(this.resetSegmentValue=!0),this.interactionMode=this.options.allowCaretMode?Se.Caret:Se.Selection;const f=this.isInCaretMode();if(f&&" "===this.keyDownEvent.key)return void this.restorePreviousInputEventState();const C=this.dateObject&&this.dateObject.getValue(),T=this.dateObject?this.dateObject.value:null,{text:O,format:G}=this.dateObject.getTextAndFormat();this.currentFormat=G;let P="";P=f&&(r||l||u===Se.Caret)?this.previousElementValue:O;const z=(({oldText:n,newText:o,formatPattern:t,selectionStart:i,isInCaretMode:s,keyEvent:r})=>{const l=i+n.length-o.length,u=n[l],f=n.substring(0,l),C=o.substring(0,i),T=[];if(f===C&&i>0)return T.push([t[i-1],C[i-1]]),T;if(0===f.indexOf(C)&&s&&("Delete"===r.key||"Backspace"===r.key)||0===f.indexOf(C)&&!s&&(0===C.length||t[C.length-1]!==t[C.length])){let G="";!s&&1===C.length&&T.push([t[0],C[0]]);for(let P=C.length;P<f.length;P++)t[P]!==G&&"_"!==t[P]&&(G=t[P],T.push([G,""]));return T}if(s&&(0===C.indexOf(f)||"_"===t[i-1])||!s&&(0===C.indexOf(f)||"_"===t[i-1])){let G=t[0];for(let P=Math.max(0,f.length-1);P<t.length;P++)if("_"!==t[P]){G=t[P];break}return[[G,C[i-1]]]}return" "===C[C.length-1]||C[C.length-1]===u&&"_"===t[l]?[[t[i-1],"_"]]:[[t[i-1],C[i-1]]]})({oldText:P,newText:this.elementValue,formatPattern:this.currentFormat,selectionStart:this.selection.start,isInCaretMode:f,keyEvent:this.keyDownEvent});if(z&&z.length&&z[0]&&"_"!==z[0][1]&&(this.switchedPartOnPreviousKeyAction=!1),f&&(!z||0===z.length))return void this.restorePreviousInputEventState();if(f&&1===z.length){if(!z[0]||!z[0][0])return void this.restorePreviousInputEventState();if(f&&z[0]&&("_"===z[0][0]||"_"===z[0][1]))return void this.restorePreviousInputEventState()}const de=1===z.length&&"_"===z[0][1],le=[];let Ce=!1,_e=null;if(!de)for(let Xe=0;Xe<z.length;Xe++){const he=this.dateObject.parsePart({symbol:z[Xe][0],currentChar:z[Xe][1],resetSegmentValue:this.resetSegmentValue,cycleSegmentValue:!this.isInCaretMode(),rawTextValue:this.element.value,isDeleting:r||l,originalFormat:this.currentFormat});le.push(he),he.value||(_e={type:"parse"}),Ce=he.switchToNext}this.options.autoSwitchParts||(Ce=!1),this.resetSegmentValue=!1;const Ge=this.options.format===this.currentFormat||wi(this.options.format)&&this.options.format.length>1,ge=le[le.length-1],$e=ge&&!wi(ge.value),ft=f&&(r||l)&&$e,ke=!!ge&&ge.resetPart,Kt=this.dateObject.getValue(),$t=!Gt(C,Kt),Le=this.dateObject.value;let jt;const Ie=this.selection;if(f){const Xe=z&&z.length>0?z[0][0]:null,he=this.dateObject.getLeadingZero()[Xe];z.length&&"_"!==z[0][0]?Ce?(this.forceUpdateWithSelection(),this.switchDateSegment(1)):ke?(jt=this.currentFormat[Ie.start],jt?(this.forceUpdate(),this.setSelection(this.selectionBySymbol(jt))):this.restorePreviousInputEventState()):ft?(this.forceUpdate(),z.length&&"_"!==z[0][0]&&this.setSelection(this.selectionBySymbol(z[0][0]))):$e?"0"===o.data&&he||(wi(C)&&!wi(Kt)?this.restorePreviousInputEventState():!wi(C)&&wi(Kt)?this.forceUpdateWithSelection():wi(C)&&wi(Kt)?$t?this.forceUpdateWithSelection():this.restorePreviousInputEventState():wi(C)||wi(Kt)?T!==Le||this.restorePreviousInputEventState():this.forceUpdateWithSelection()):$e||Ge||this.forceUpdateWithSelection():!this.options.autoSwitchParts&&"_"===z[0][1]||this.setSelection(this.selectionBySymbol(z[0][0]))}else f||(this.forceUpdate(),z.length&&"_"!==z[0][0]&&this.setSelection(this.selectionBySymbol(z[0][0])),this.options.autoSwitchParts?de?(this.resetSegmentValue=!0,i||this.switchDateSegment(1),this.switchedPartOnPreviousKeyAction=!0):Ce&&(this.switchDateSegment(1),this.switchedPartOnPreviousKeyAction=!0):ge&&ge.switchToNext?this.resetSegmentValue=!0:de&&(this.resetSegmentValue=!0,i||this.switchDateSegment(1),this.switchedPartOnPreviousKeyAction=!0),r&&this.options.selectPreviousSegmentOnBackspace&&this.switchDateSegment(-1));this.tryTriggerValueChange({oldValue:C,event:o}),this.triggerInputEnd({event:o,error:_e,oldElementValue:t,newElementValue:this.elementValue}),f&&this.setTextAndFormat()}onElementFocus(o){this.triggerFocus({event:o})||(this.isActive=!0,this.interactionMode=Se.None,this.switchedPartOnPreviousKeyAction=!1,this.refreshElementValue(),this.mouseDownStarted||this.caret(0,this.elementValue.length),this.mouseDownStarted=!1,this.triggerFocusEnd({event:o}))}onElementBlur(o){this.resetSegmentValue=!0,this.isActive=!1,!this.triggerBlur({event:o})&&(this.options.autoFill&&this.autoFill(),this.interactionMode=Se.None,this.switchedPartOnPreviousKeyAction=!1,this.refreshElementValue(),this.triggerBlurEnd({event:o}))}onElementChange(o){this.triggerChange({event:o})}onElementKeyDown(o){if(this.triggerKeyDown({event:o}))return;const{start:t,end:i}=this.selection,s=o;if(this.keyDownEvent=o,this.previousElementValue=this.element.value,this.previousElementSelection={start:t,end:i},this.keyEventMatchesAutoSwitchKeys(o)){const C=9===o.keyCode;if(!C)return o.preventDefault(),void this.switchDateSegment(1);{const{start:T,end:O}=this.selection;if(this.switchDateSegment(o.shiftKey&&C?-1:1),T!==this.selection.start||O!==this.selection.end)return void o.preventDefault()}}const r=this.currentFormat[this.selection.start],l=this.getStepFromSymbol(r);let u=!1;const f=this.elementValue;if(!(o.altKey||o.ctrlKey||o.metaKey||9===o.keyCode)){switch(o.keyCode){case 37:this.switchDateSegment(-1),u=!0,this.switchedPartOnPreviousKeyAction=!1;break;case 38:this.modifyDateSegmentValue(l,r,s),f!==this.elementValue&&this.triggerInputEnd({event:o,error:null,newElementValue:this.elementValue,oldElementValue:f}),u=!0,this.switchedPartOnPreviousKeyAction=!1;break;case 39:this.switchDateSegment(1),u=!0,this.switchedPartOnPreviousKeyAction=!1;break;case 40:this.modifyDateSegmentValue(-l,r,s),f!==this.elementValue&&this.triggerInputEnd({event:o,error:null,newElementValue:this.elementValue,oldElementValue:f}),u=!0,this.switchedPartOnPreviousKeyAction=!1;break;case 13:break;case 36:this.selectNearestSegment(0),u=!0,this.switchedPartOnPreviousKeyAction=!1,this.resetSegmentValue=!0;break;case 35:this.selectNearestSegment(this.elementValue.length),u=!0,this.switchedPartOnPreviousKeyAction=!1,this.resetSegmentValue=!0;break;default:return}u&&o.preventDefault()}}onElementPaste(){this.isPasteInProgress=!0}onElementMouseWheel(o){const t=this.elementValue;if(!this.options.enableMouseWheel||this.triggerMouseWheel({event:o})||!this.isActive)return;const i=o;i.shiftKey?this.switchDateSegment((i.wheelDelta||-i.detail)>0?-1:1):this.modifyDateSegmentValue((i.wheelDelta||-i.detail)>0?1:-1),i.returnValue=!1,i.preventDefault&&i.preventDefault(),t!==this.elementValue&&this.triggerInputEnd({event:o,error:null,newElementValue:this.elementValue,oldElementValue:t})}updateOnPaste(o){let t=this.intl.parseDate(this.elementValue,this.inputFormat)||this.value;wi(t)&&this.dateObject.shouldNormalizeCentury()&&(t=this.dateObject.normalizeCentury(t));const i=this.dateObject&&this.dateObject.getValue();this.writeValue(t),this.tryTriggerValueChange({oldValue:i,event:o})}get elementValue(){return(this.element||{}).value||""}get inputFormat(){return this.options.format?"string"==typeof this.options.format?this.options.format:this.options.format.inputFormat:"d"}get displayFormat(){return this.options.format?"string"==typeof this.options.format?this.options.format:this.options.format.displayFormat:"d"}get selection(){let o={start:0,end:0};return null!==this.element&&void 0!==this.element.selectionStart&&(o={start:this.element.selectionStart,end:this.element.selectionEnd}),o}setSelection(o){this.element&&document.activeElement===this.element&&(this.element.setSelectionRange(o.start,o.end),Mo()&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/Macintosh/i.test(navigator.userAgent))&&this.element.scrollIntoView({block:"nearest",inline:"nearest"}),o.start!==o.end&&(this.interactionMode=Se.Selection))}selectionBySymbol(o){let t=-1,i=0;for(let s=0;s<this.currentFormat.length;s++)this.currentFormat[s]===o&&(i=s+1,-1===t&&(t=s));return t<0&&(t=0),!this.options.autoCorrectParts&&this.currentFormat.length!==this.currentText.length&&(this.currentFormat.length<this.currentText.length?i+=this.currentText.length-this.currentFormat.length:i=Math.max(0,i-(this.currentFormat.length-this.currentText.length))),{start:t,end:i}}selectionByIndex(o){let t={start:o,end:o};for(let i=o,s=o-1;i<this.currentFormat.length||s>=0;i++,s--){if(i<this.currentFormat.length&&"_"!==this.currentFormat[i]){t=this.selectionBySymbol(this.currentFormat[i]);break}if(s>=0&&"_"!==this.currentFormat[s]){t=this.selectionBySymbol(this.currentFormat[s]);break}}return t}switchDateSegment(o){const t=this.selection;if(this.isInCaretMode()){let f=t.start;const C=this.currentFormat[f-1];let T="",O="";if(o<0){for(let G=f+o;G>=0;G--)if(O=this.currentFormat[G],"_"!==O&&O!==C){f=G,T=O;break}}else for(let G=f+o;G<this.currentFormat.length;G++)if(O=this.currentFormat[G],"_"!==O&&O!==C){f=G,T=O;break}if(T)return this.forceUpdate(),this.setSelection(this.selectionBySymbol(T)),void(this.interactionMode=Se.Selection)}this.interactionMode=Se.None;const{start:i,end:s}=this.selection;if(i<s&&this.currentFormat[i]!==this.currentFormat[s-1])return this.setSelection(this.selectionByIndex(o>0?i:s-1)),this.resetSegmentValue=!0,void(this.interactionMode=Se.None);const r=this.currentFormat[i];let l=i+o;for(;l>0&&l<this.currentFormat.length&&(this.currentFormat[l]===r||"_"===this.currentFormat[l]);)l+=o;if("_"===this.currentFormat[l])return;let u=l;for(;u>=0&&u<this.currentFormat.length&&this.currentFormat[u]===this.currentFormat[l];)u+=o;l>u&&(u+1!==i||l+1!==s)?(this.setSelection({start:u+1,end:l+1}),this.resetSegmentValue=!0):l<u&&(l!==i||u!==s)&&(this.setSelection({start:l,end:u}),this.resetSegmentValue=!0),this.interactionMode=Se.None}modifyDateSegmentValue(o,t="",i={}){if(!this.dateObject||this.options.readonly)return;const s=this.value;let r=1;const l=this.caret();if("S"===(t=t||this.currentFormat[l[0]])&&(!this.options.steps.millisecond||1===this.options.steps.millisecond)){const u=(n=>{const o=n&&n.match(/S+(\1)/);return o?o[0].length:0})(this.inputFormat);r=(n=>Math.pow(10,3-n))(u)}this.dateObject.modifyPart(t,r*o),this.tryTriggerValueChange({oldValue:s,event:i}),this.forceUpdate(),this.setSelection(this.selectionBySymbol(t))}tryTriggerValueChange(o={oldValue:null,event:{}}){if(!Gt(this.value,o.oldValue))return this.triggerValueChange(o)}triggerValueChange(o={oldValue:null,event:{}}){return this.trigger(Mr,vi(o,{value:this.value}))}triggerInput(o={event:{}}){return this.trigger(wn,vi(o,{value:this.value}))}triggerInputEnd(o={event:{},error:null,oldElementValue:"",newElementValue:""}){return this.trigger(_s,vi(o,{value:this.value}))}triggerFocus(o={event:{}}){return this.trigger(fs,vi({},o))}triggerFocusEnd(o={event:{}}){return this.trigger(Zs,vi({},o))}triggerBlur(o={event:{}}){return this.trigger(Ns,vi({},o))}triggerBlurEnd(o={event:{}}){return this.trigger(vo,vi({},o))}triggerChange(o={event:{}}){return this.trigger(ks,vi(o,{value:this.value}))}triggerKeyDown(o={event:{}}){return this.trigger(ln,vi({},o))}triggerMouseWheel(o={event:{}}){return this.trigger(Wo,vi({},o))}forceUpdate(){this.setTextAndFormat(),this.refreshElementValue()}forceUpdateWithSelection(){const{start:o,end:t}=this.selection,i=this.elementValue.length;this.forceUpdate();const s=this.elementValue.length-i;this.setSelection({start:o+s,end:t+s})}setTextAndFormat(){const{text:o,format:t}=this.dateObject.getTextAndFormat();this.currentFormat=t,this.currentText=o}setElementValue(o){this.element.value=o}getStepFromSymbol(o){switch(o){case"S":return Number(this.options.steps.millisecond);case"s":return Number(this.options.steps.second);case"m":return Number(this.options.steps.minute);case"h":case"H":return Number(this.options.steps.hour);case"M":return Number(this.options.steps.month);case"d":case"E":return Number(this.options.steps.day);case"y":return Number(this.options.steps.year);default:return 1}}restorePreviousInputEventState(){this.restorePreviousElementValue(),this.restorePreviousElementSelection()}restorePreviousElementValue(){this.setElementValue(this.previousElementValue||"")}restorePreviousElementSelection(){const{start:o,end:t}=this.previousElementSelection;this.setSelection({start:o||0,end:t||0})}writeValue(o){this.verifyValue(o),this.dateObject=this.getDateObject(o),this.refreshElementValue()}verifyValue(o){if(o&&!an(o))throw new Error("The 'value' should be a valid JavaScript Date instance.")}refreshElementValue(){const o=this.element,t=this.isActive?this.inputFormat:this.displayFormat,{text:i,format:s}=this.dateObject.getTextAndFormat(t);this.currentFormat=s,this.currentText=i;const r=this.options.hasPlaceholder||wi(this.options.placeholder),l=!this.isActive&&r&&!this.dateObject.hasValue();r&&wi(this.options.placeholder)&&(o.placeholder=this.options.placeholder);const u=l?"":i;this.previousElementValue=this.elementValue,this.setElementValue(u)}caret(o,t=o){const i=void 0!==o;let s=[o,o];const r=this.element;if(!i||!this.options.disabled&&!this.options.readonly){try{void 0!==r.selectionStart&&(i&&(Mo()&&document.activeElement!==r&&r.focus(),r.setSelectionRange(o,t)),s=[r.selectionStart,r.selectionEnd])}catch{s=[]}return s}}selectNearestSegment(o){for(let t=o,i=o-1;t<this.currentFormat.length||i>=0;t++,i--){if(t<this.currentFormat.length&&"_"!==this.currentFormat[t])return void this.selectDateSegment(this.currentFormat[t]);if(i>=0&&"_"!==this.currentFormat[i])return void this.selectDateSegment(this.currentFormat[i])}}selectDateSegment(o){let t=-1,i=0;for(let s=0;s<this.currentFormat.length;s++)this.currentFormat[s]===o&&(i=s+1,-1===t&&(t=s));t<0&&(t=0),this.caret(0,0),this.caret(t,i)}getDateObject(o){const{leadingZero:t}=this.dateObject||{};this.options.value=o;const i=this.createDateObject();return i.setLeadingZero(this.isActive?t:null),i}createDateObject(){const o=this.getDateObjectOptions();return new Or(vi({},o))}getDateObjectOptions(){return{intlService:this.options.intlService,formatPlaceholder:this.options.formatPlaceholder?this.options.formatPlaceholder:"formatPattern",format:this.inputFormat,cycleTime:this.options.cycleTime,twoDigitYearMax:this.options.twoDigitYearMax,autoCorrectParts:this.options.autoCorrectParts,value:this.options.value,toggleDayPeriod:this.options.toggleDayPeriod,autoSwitchParts:this.options.autoSwitchParts}}keyEventMatchesAutoSwitchKeys(o){const t=(this.options.autoSwitchKeys||[]).map(i=>i.toString().toLowerCase().trim());return t.indexOf(o.keyCode.toString())>=0||t.indexOf(o.keyCode)>=0||t.indexOf(o.key.toLowerCase().trim())>=0}autoFill(){const o=this.dateObject,t=new Date;let i,s,r,l,u,f;(o.date||o.month||o.year||o.hours||o.minutes||o.seconds)&&(r=o.year?o.value.getFullYear():t.getFullYear(),s=o.month?o.value.getMonth():t.getMonth(),i=o.date?o.value.getDate():t.getDate(),l=o.hours?o.value.getHours():t.getHours(),u=o.minutes?o.value.getMinutes():t.getMinutes(),f=o.seconds?o.value.getSeconds():t.getSeconds(),o.setValue(new Date(r,s,i,l,u,f)),this.refreshElementValue(),this.triggerValueChange())}}var In=$(2446);const Vr=["kendoCalendarView",""],to=(n,o)=>({$implicit:n,cellContext:o});function zr(n,o){1&n&&(e.j41(0,"td",3),e.EFF(1,"\xa0"),e.k0s())}function Yo(n,o){if(1&n&&(e.j41(0,"tr",4)(1,"th",5),e.EFF(2),e.k0s()()),2&n){const t=e.XpG();e.BMQ("aria-hidden",t.ariaHidden),e.R7$(),e.Y8G("colSpan",t.colSpan),e.R7$(),e.JRh(t.title)}}function Kr(n,o){if(1&n&&e.EFF(0),2&n){const t=e.XpG(3).$implicit,i=e.XpG();e.SpI(" ",i.getWeekNumber(i.firstDate(t))," ")}}function Go(n,o){}function Nn(n,o){if(1&n){const t=e.RV6();e.j41(0,"td",9),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2).$implicit,r=e.XpG();return e.Njj(r.handleWeekNumberClick(s))}),e.DNE(1,Kr,1,1,"ng-template",6)(2,Go,0,0,"ng-template",10),e.k0s()}if(2&n){const t=e.XpG(2).$implicit,i=e.XpG();e.R7$(),e.Y8G("ngIf",!i.weekNumberTemplateRef),e.R7$(),e.Y8G("ngIf",i.weekNumberTemplateRef)("ngTemplateOutlet",i.weekNumberTemplateRef)("ngTemplateOutletContext",e.l_i(4,to,i.firstDate(t),i.getWeekNumberContext(t)))}}function Rs(n,o){if(1&n&&e.DNE(0,Nn,3,7,"td",8),2&n){const t=e.XpG().$implicit,i=e.XpG(),s=e.sdS(1);e.Y8G("ngIf",i.firstDate(t))("ngIfElse",s)}}function $r(n,o){if(1&n&&e.EFF(0),2&n){const t=e.XpG(2).$implicit;e.JRh(t.formattedValue)}}function Ao(n,o){}function qo(n,o){if(1&n&&e.DNE(0,Ao,0,0,"ng-template",15),2&n){const t=e.XpG(2).$implicit,i=e.XpG(2);e.Y8G("ngTemplateOutlet",i.templateRef)("ngTemplateOutletContext",e.l_i(2,to,t.value,t))}}function yr(n,o){if(1&n&&(e.j41(0,"td",12)(1,"span",13),e.DNE(2,$r,1,1,"ng-template",6)(3,qo,1,5,null,14),e.k0s()()),2&n){const t=e.XpG(),i=t.$implicit,s=t.index,r=e.XpG().index,l=e.XpG();e.Y8G("ngClass",l.getStyles(i))("title",i.title),e.BMQ("id",i.id)("data-cell-index",l.tableCellIndex(r,s))("aria-selected",i.isSelected||i.isRangeStart||i.isRangeMid||i.isRangeEnd)("aria-disabled",i.isDisabled)("aria-label",l.getMonthLabel(i.value)),e.R7$(2),e.Y8G("ngIf",!l.templateRef),e.R7$(),e.Y8G("ngIf",l.templateRef)}}function Sa(n,o){if(1&n&&(e.qex(0),e.DNE(1,yr,4,9,"td",11),e.bVm()),2&n){const t=o.$implicit,i=e.XpG(2),s=e.sdS(1);e.R7$(),e.Y8G("ngIf",i.shouldRenderCellContent(t))("ngIfElse",s)}}function gr(n,o){if(1&n&&(e.j41(0,"tr",4),e.DNE(1,Rs,1,2,"ng-template",6)(2,Sa,2,2,"ng-container",7),e.k0s()),2&n){const t=o.$implicit,i=e.XpG();e.R7$(),e.Y8G("ngIf",i.weekNumber),e.R7$(),e.Y8G("kForOf",t)}}const fr=n=>({date:n,className:"k-pointer-events-none"}),jr=n=>({date:n});function Hr(n,o){if(1&n&&(e.j41(0,"caption",7),e.EFF(1),e.k0s()),2&n){const t=e.XpG().date,i=e.XpG();e.R7$(),e.JRh(i.getCaptionTitle(t))}}function _r(n,o){if(1&n&&(e.j41(0,"th",11),e.EFF(1),e.k0s()),2&n){const t=o.$implicit,i=o.index,s=e.XpG(3);e.BMQ("aria-label",s.wideWeekNames[i]),e.R7$(),e.JRh(t)}}function Nr(n,o){if(1&n&&(e.j41(0,"thead",8)(1,"tr",9),e.DNE(2,_r,2,2,"th",10),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(2),e.Y8G("ngForOf",t.weekNames)}}function Jo(n,o){if(1&n){const t=e.RV6();e.j41(0,"table",3),e.bIt("focus",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.handleClassicCalendarFocus())})("blur",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.handleClassicCalendarBlur(s))}),e.DNE(1,Hr,2,1,"caption",4)(2,Nr,3,1,"thead",5),e.j41(3,"tbody",6),e.bIt("cellClick",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.cellClick.emit(s))})("weekNumberCellClick",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.weekNumberCellClick.emit(s))})("cellEnter",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.cellEnter.emit(s))})("cellLeave",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.cellLeave.emit(s))})("focusedCellId",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.focusedCellChange.emit(s))}),e.k0s()()}if(2&n){const t=o.date,i=o.className,s=e.XpG();e.Y8G("ngClass",i),e.BMQ("role",s.views>=2?"none":"grid")("aria-labelledby",s.id)("aria-activedescendant",s.getActiveDescendant)("tabindex",s.getTabIndex),e.R7$(),e.Y8G("ngIf",s.showViewHeader),e.R7$(),e.Y8G("ngIf",s.isMonthView()),e.R7$(),e.Y8G("allowReverse",s.allowReverse)("showOtherMonthDays",s.showOtherMonthDays)("activeView",s.activeView)("isActive",s.isActive)("min",s.min)("max",s.max)("cellUID",s.cellUID)("focusedDate",s.focusedDate)("selectedDates",s.selectedDates)("selectionRange",s.selectionRange)("activeRangeEnd",s.activeRangeEnd)("weekNumber",s.weekNumber)("templateRef",s.cellTemplateRef)("weekNumberTemplateRef",s.weekNumberTemplateRef)("viewDate",t)}}function Xr(n,o){}function io(n,o){if(1&n&&e.DNE(0,Xr,0,0,"ng-template",12),2&n){const t=e.XpG(),i=e.sdS(1);e.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",e.eq3(2,fr,t.nextAnimationDate))}}function Wr(n,o){}function La(n,o){if(1&n&&e.DNE(0,Wr,0,0,"ng-template",12),2&n){const t=o.$implicit;e.XpG();const i=e.sdS(1);e.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",e.eq3(2,jr,t))}}function Yr(n,o){}function I(n,o){if(1&n&&e.DNE(0,Yr,0,0,"ng-template",12),2&n){const t=e.XpG(),i=e.sdS(1);e.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",e.eq3(2,fr,t.prevAnimationDate))}}const V=(n,o,t)=>({title:n,activeView:o,date:t}),m=n=>({click:n}),k=(n,o,t)=>({$implicit:n,activeView:o,date:t});function N(n,o){}function H(n,o){if(1&n&&e.DNE(0,N,0,0,"ng-template",2),2&n){const t=e.XpG();e.Y8G("ngTemplateOutlet",t.headerTemplateRef)("ngTemplateOutletContext",e.sMw(2,V,t.title,t.activeViewValue,t.currentDate))}}function fe(n,o){if(1&n&&e.EFF(0),2&n){const t=e.XpG(2);e.JRh(t.title)}}function Ue(n,o){}function it(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",11),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.prevButtonClick.emit())}),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("size",t.size)("svgIcon",t.chevronLeftIcon)("disabled",t.isPrevDisabled)("title",t.prevButtonTitle),e.BMQ("aria-disabled",t.isPrevDisabled)}}function Ut(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",12),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.nextButtonClick.emit())}),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("size",t.size)("svgIcon",t.chevronRightIcon)("disabled",t.isNextDisabled)("title",t.nextButtonTitle),e.BMQ("aria-disabled",t.isNextDisabled)}}function Xi(n,o){if(1&n&&(e.j41(0,"button",3),e.DNE(1,fe,1,1,"ng-template",4)(2,Ue,0,0,"ng-template",5),e.k0s(),e.nrm(3,"span",6),e.j41(4,"span",7),e.DNE(5,it,1,5,"button",8),e.j41(6,"button",9),e.EFF(7),e.k0s(),e.DNE(8,Ut,1,5,"button",10),e.k0s()),2&n){const t=e.XpG();e.Y8G("id",t.id)("size",t.size)("disabled",!t.navigate)("kendoEventsOutsideAngular",e.eq3(17,m,t.handleNavigation))("title",t.parentViewButtonTitle)("scope",t),e.R7$(),e.Y8G("ngIf",!t.titleTemplateRef),e.R7$(),e.Y8G("ngIf",t.titleTemplateRef)("ngTemplateOutlet",t.titleTemplateRef)("ngTemplateOutletContext",e.sMw(19,k,t.title,t.activeViewValue,t.currentDate)),e.R7$(3),e.Y8G("ngIf",t.showNavigationButtons),e.R7$(),e.Y8G("size",t.size)("disabled",!t.todayAvailable)("kendoEventsOutsideAngular",e.eq3(23,m,t.handleTodayClick))("scope",t),e.R7$(),e.SpI(" ",t.todayMessage," "),e.R7$(),e.Y8G("ngIf",t.showNavigationButtons)}}const Ki=(n,o)=>({activeView:n,date:o});function no(n,o){}function Po(n,o){if(1&n&&e.DNE(0,no,0,0,"ng-template",2),2&n){const t=e.XpG();e.Y8G("ngTemplateOutlet",t.footerTemplateRef)("ngTemplateOutletContext",e.l_i(2,Ki,t.activeViewValue,t.currentDate))}}function ui(n,o){if(1&n&&(e.j41(0,"button",3),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",t.intl.formatDate(t.getToday(),"D")," ")}}function so(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-calendar-header",4),e.bIt("todayButtonClick",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.handleTodayButtonClick({selectedDates:[s],focusedDate:s}))})("prevButtonClick",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.navigateView(s.prevView))})("nextButtonClick",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.navigateView(s.nextView))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("activeView",t.activeViewEnum)("currentDate",t.activeDate)("size",t.size)("min",t.min)("max",t.max)("id",t.headerId)("rangeLength",t.views)("titleTemplateRef",null==t.headerTitleTemplateRef?null:t.headerTitleTemplateRef.templateRef)("headerTemplateRef",null==t.headerTemplateRef?null:t.headerTemplateRef.templateRef)("isPrevDisabled",t.isPrevDisabled)("isNextDisabled",t.isNextDisabled)("showNavigationButtons",!0)("orientation",t.orientation)}}function ws(n,o){if(1&n&&e.nrm(0,"kendo-calendar-footer",5),2&n){const t=e.XpG();e.Y8G("footerTemplateRef",null==t.footerTemplateRef?null:t.footerTemplateRef.templateRef)("activeViewValue",t.activeView)("currentDate",t.activeDate)}}const qr=["*"],vr=["list"];function Jr(n,o){if(1&n&&e.EFF(0),2&n){const t=e.XpG().$implicit,i=e.XpG();e.JRh(i.service.navigationTitle(t))}}function ba(n,o){}function Ea(n,o){if(1&n&&(e.j41(0,"li")(1,"span"),e.DNE(2,Jr,1,1,"ng-template",5)(3,ba,0,0,"ng-template",6),e.k0s()()),2&n){const t=o.$implicit,i=o.index,s=e.XpG();e.BMQ("data-date-index",i),e.R7$(),e.AVh("k-calendar-navigation-marker",s.service.isRangeStart(t)),e.R7$(),e.Y8G("ngIf",!s.templateRef),e.R7$(),e.Y8G("ngIf",s.templateRef)("ngTemplateOutlet",s.templateRef)("ngTemplateOutletContext",e.sMw(7,k,s.service.navigationTitle(t),s.activeViewValue,t))}}function R(n,o){if(1&n&&(e.j41(0,"th",12),e.EFF(1),e.k0s()),2&n){const t=o.$implicit,i=o.index,s=e.XpG(2);e.BMQ("aria-label",s.wideWeekNames[i]),e.R7$(),e.JRh(t)}}function g(n,o){if(1&n&&(e.j41(0,"table",8)(1,"thead",9)(2,"tr",10),e.DNE(3,R,2,2,"th",11),e.k0s()()()),2&n){const t=e.XpG();e.xc7("table-layout","auto"),e.R7$(3),e.Y8G("ngForOf",t.weekNames)}}function b(n,o){1&n&&e.nrm(0,"col")}function D(n,o){if(1&n){const t=e.RV6();e.j41(0,"tbody",13),e.bIt("cellClick",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.cellClick.emit(s))})("weekNumberCellClick",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.weekNumberCellClick.emit(s))})("focusedCellId",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.focusedCellChange.emit(s))})("cellEnter",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.cellEnter.emit(s))}),e.k0s()}if(2&n){const t=o.$implicit,i=e.XpG();e.Y8G("allowReverse",i.allowReverse)("activeRangeEnd",i.activeRangeEnd)("selectionRange",i.selectionRange)("showOtherMonthDays",i.showOtherMonthDays)("headerTitle",i.headerTitle)("activeView",i.activeView)("isActive",i.isActive)("min",i.min)("max",i.max)("cellUID",i.cellUID)("focusedDate",i.focusedDate)("selectedDates",i.selectedDates)("weekNumber",i.weekNumber)("templateRef",i.cellTemplateRef)("weekNumberTemplateRef",i.weekNumberTemplateRef)("viewDate",t)}}function F(n,o){if(1&n&&e.nrm(0,"kendo-calendar-footer",14),2&n){const t=e.XpG();e.Y8G("footerTemplateRef",t.footerTemplateRef)("activeViewValue",t.activeViewValue)("currentDate",t.activeDate)}}function L(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-calendar-navigation",6),e.bIt("valueChange",function(s){e.eBV(t);const r=e.XpG(2);return e.Njj(r.handleNavigation(s))})("pageChange",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onPageChange())}),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("activeView",t.activeViewEnum)("focusedDate",t.focusedDate)("min",t.min)("max",t.max)("templateRef",null==t.navigationItemTemplateRef?null:t.navigationItemTemplateRef.templateRef)}}function ee(n,o){if(1&n){const t=e.RV6();e.qex(0),e.DNE(1,L,1,5,"kendo-calendar-navigation",3),e.j41(2,"kendo-calendar-viewlist",4),e.bIt("todayButtonClick",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.handleDateChange({selectedDates:[s],focusedDate:s}))})("cellClick",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.handleCellClick(s))})("weekNumberCellClick",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.handleWeekNumberClick(s))})("activeDateChange",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.handleActiveDateChange(s))})("pageChange",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.onPageChange())})("focusCalendar",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.handleFocus())})("blurCalendar",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.handleBlur(s))})("cellEnter",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.onCellEnter(s))}),e.k0s(),e.j41(3,"kendo-resize-sensor",5),e.bIt("resize",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.onResize())}),e.k0s(),e.bVm()}if(2&n){let t;const i=e.XpG();e.R7$(),e.Y8G("ngIf",i.navigation),e.R7$(),e.Y8G("activeView",i.activeViewEnum)("allowReverse",i.allowReverse)("showOtherMonthDays",i.showOtherMonthDays)("activeRangeEnd",i.activeRangeEnd)("selectionRange",i.selectionRange)("size",i.size)("isActive",i.isActive)("id",i.headerId)("weekDaysFormat",i.weekDaysFormat)("cellTemplateRef",null==(t=i.activeCellTemplate())?null:t.templateRef)("headerTitleTemplateRef",null==i.headerTitleTemplateRef?null:i.headerTitleTemplateRef.templateRef)("headerTemplateRef",null==i.headerTemplateRef?null:i.headerTemplateRef.templateRef)("showFooter",i.footer)("footerTemplateRef",null==i.footerTemplateRef?null:i.footerTemplateRef.templateRef)("weekNumberTemplateRef",null==i.weekNumberTemplateRef?null:i.weekNumberTemplateRef.templateRef)("cellUID",i.cellUID)("min",i.min)("max",i.max)("focusedDate",i.focusedDate)("weekNumber",i.weekNumber)("selectedDates",i.selectedDates)("tabIndex",i.tabIndex)("disabled",i.disabled)}}function ze(n,o){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"kendo-multiviewcalendar",7,0),e.bIt("onClosePopup",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.closePopup.emit())})("activeViewChange",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.handleActiveViewChange(s))})("navigate",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.handleNavigate(s))})("valueChange",function(s){e.eBV(t);const r=e.sdS(2),l=e.XpG();return e.Njj(l.handleMultiViewCalendarValueChange(s,r.focusedDate))})("focusCalendar",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.handleFocus())})("blur",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.handleBlur(s))})("blurEvent",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.handleBlur(s))})("keydown",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.handleMultiViewCalendarKeydown(s))}),e.nrm(3,"kendo-multiviewcalendar-messages",8),e.k0s(),e.bVm()}if(2&n){const t=e.XpG();e.R7$(),e.Y8G("views",1)("min",t.min)("max",t.max)("size",t.size)("id",t.id)("activeRangeEnd",t.activeRangeEnd)("selectionRange",t.selectionRange)("allowReverse",t.allowReverse)("disabled",t.disabled)("isActive",t.isActive)("showOtherMonthDays",t.showOtherMonthDays)("tabIndex",t.tabIndex)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("weekDaysFormat",t.weekDaysFormat)("weekNumber",t.weekNumber)("animateNavigation",t.animateNavigation)("cellTemplate",t.activeCellTemplate())("monthCellTemplate",t.monthCellTemplateRef)("yearCellTemplate",t.yearCellTemplateRef)("decadeCellTemplate",t.decadeCellTemplateRef)("centuryCellTemplate",t.centuryCellTemplateRef)("headerTitleTemplate",t.headerTitleTemplateRef)("headerTemplate",t.headerTemplateRef)("footerTemplate",t.footerTemplateRef)("footer",t.footer)("weekNumberTemplate",t.weekNumberTemplateRef)("focusedDate",t.focusedDate)("selection",t.selection)("value",t.value)("disabledDates",t.disabledDates),e.R7$(2),e.Y8G("today",t.localization.get("today"))("prevButtonTitle",t.localization.get("prevButtonTitle"))("nextButtonTitle",t.localization.get("nextButtonTitle"))("parentViewButtonTitle",t.localization.get("parentViewButtonTitle"))}}const Ke=["dateInput"],Qe=["spinup"],rt=["spindown"],Jt=(n,o)=>({dragstart:n,drop:o});function Ye(n,o){if(1&n){const t=e.RV6();e.j41(0,"span",7),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.resetInput())})("mousedown",function(s){return e.eBV(t),e.Njj(s.preventDefault())}),e.nrm(1,"kendo-icon-wrapper",8),e.k0s()}if(2&n){const t=e.XpG();e.BMQ("title",t.localization.get("clearTitle")),e.R7$(),e.Y8G("svgIcon",t.xIcon)}}function Ht(n,o){if(1&n){const t=e.RV6();e.j41(0,"span",9),e.bIt("mousedown",function(s){return e.eBV(t),e.Njj(s.preventDefault())}),e.j41(1,"button",10,1),e.bIt("mousedown",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.arrowDirection=s.arrow.Up)})("mouseleave",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.arrowDirection=s.arrow.None)})("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.handleButtonClick(1))}),e.nrm(3,"kendo-icon-wrapper",11),e.k0s(),e.j41(4,"button",12,2),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.handleButtonClick(-1))})("mousedown",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.arrowDirection=s.arrow.Down)})("mouseleave",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.arrowDirection=s.arrow.None)}),e.nrm(6,"kendo-icon-wrapper",13),e.k0s()()}if(2&n){const t=e.XpG();e.R7$(),e.AVh("k-active",t.arrowDirection===t.arrow.Up),e.Y8G("title",t.localization.get("increment")),e.BMQ("aria-label",t.localization.get("increment")),e.R7$(2),e.Y8G("svgIcon",t.caretAltUpIcon),e.R7$(),e.AVh("k-active",t.arrowDirection===t.arrow.Down),e.Y8G("title",t.localization.get("decrement")),e.BMQ("aria-label",t.localization.get("decrement")),e.R7$(2),e.Y8G("svgIcon",t.caretAltDownIcon)}}const cn=["container"],So=["popupTemplate"],gn=["toggleButton"],Qi=["actionSheet"],oo=(n,o)=>({click:n,mousedown:o}),zt=(n,o)=>({"k-adaptive-actionsheet":!0,"k-actionsheet-fullscreen":n,"k-actionsheet-bottom":o}),Gn=n=>({height:n}),Gs=n=>({keydown:n});function nt(n,o){1&n&&e.eu8(0)}function Xt(n,o){if(1&n&&e.DNE(0,nt,1,0,"ng-container",15),2&n){e.XpG();const t=e.sdS(16);e.Y8G("ngTemplateOutlet",t)}}function fn(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-resize-sensor",16),e.bIt("resize",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.onResize())}),e.k0s()}}function Is(n,o){if(1&n&&(e.j41(0,"div",25),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.JRh(t.adaptiveTitle)}}function vs(n,o){if(1&n&&(e.j41(0,"div",26),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.JRh(t.adaptiveSubtitle)}}function An(n,o){1&n&&e.eu8(0)}function Qo(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",17)(1,"div",18)(2,"div",19),e.DNE(3,Is,2,1,"div",20)(4,vs,2,1,"div",21),e.k0s(),e.j41(5,"div",22)(6,"button",23),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.show=!1)}),e.k0s()()()(),e.j41(7,"div",24),e.DNE(8,An,1,0,"ng-container",15),e.k0s()}if(2&n){const t=e.XpG(),i=e.sdS(16);e.R7$(3),e.Y8G("ngIf",t.adaptiveTitle),e.R7$(),e.Y8G("ngIf",t.adaptiveSubtitle),e.R7$(2),e.Y8G("svgIcon",t.checkIcon)("tabIndex",-1),e.BMQ("title",t.localization.get("adaptiveCloseButtonTitle")),e.R7$(2),e.Y8G("ngTemplateOutlet",i)}}function Fo(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-calendar",27,6),e.bIt("closePopup",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.show=!1)})("valueChange",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.handleChange(r.mergeTime(s)))}),e.nrm(2,"kendo-calendar-messages",28),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("type",t.calendarType)("size",t.isAdaptive?"large":t.size)("min",t.min)("max",t.max)("weekDaysFormat",t.weekDaysFormat)("navigation",t.navigation)("animateNavigation",t.animateCalendarNavigation)("activeView",t.activeView)("bottomView",t.bottomView)("showOtherMonthDays",t.showOtherMonthDays)("topView",t.topView)("weekNumber",t.weekNumber)("cellTemplate",t.cellTemplate)("monthCellTemplate",t.monthCellTemplate)("yearCellTemplate",t.yearCellTemplate)("decadeCellTemplate",t.decadeCellTemplate)("centuryCellTemplate",t.centuryCellTemplate)("weekNumberTemplate",t.weekNumberTemplate)("headerTitleTemplate",t.headerTitleTemplate)("headerTemplate",t.headerTemplate)("footerTemplate",t.footerTemplate)("footer",t.footer)("navigationItemTemplate",t.navigationItemTemplate)("focusedDate",t.focusedDate)("value",t.value)("kendoEventsOutsideAngular",e.eq3(32,Gs,t.handleKeydown))("scope",t)("disabledDates",t.disabledDates),e.R7$(2),e.Y8G("today",t.localization.get("today"))("prevButtonTitle",t.localization.get("prevButtonTitle"))("nextButtonTitle",t.localization.get("nextButtonTitle"))("parentViewButtonTitle",t.localization.get("parentViewButtonTitle"))}}const yd=["defaultTemplate"];function fg(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-multiviewcalendar",6),e.bIt("onClosePopup",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.closePopup(s))})("onTabPress",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.handleTab(s))})("onShiftTabPress",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.handleShiftTab(s))})("rangeSelectionChange",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.onRangeSelectionChange(s))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("activeView",t.activeView)("bottomView",t.bottomView)("animateNavigation",t.animateNavigation)("disabled",t.disabled)("views",t.views)("weekNumber",t.weekNumber)("topView",t.topView)("disabledDates",t.disabledDates)("min",t.min)("max",t.max)("showCalendarHeader",t.showCalendarHeader)("focusedDate",t.focusedDate)("allowReverse",t.allowReverse)("showViewHeader",t.showViewHeader)("showOtherMonthDays",t.showOtherMonthDays)("size",t.size)("value",t.dateRangeService.selectionRange)}}function Va(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-resize-sensor",21),e.bIt("resize",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onResize())}),e.k0s()}}function za(n,o){if(1&n&&(e.j41(0,"div",22),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.JRh(t.adaptiveTitle)}}function Qr(n,o){if(1&n&&(e.j41(0,"div",23),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.JRh(t.adaptiveSubtitle)}}function Ka(n,o){if(1&n){const t=e.RV6();e.DNE(0,Va,1,0,"kendo-resize-sensor",7),e.j41(1,"div",8)(2,"div",9)(3,"div",10),e.DNE(4,za,2,1,"div",11)(5,Qr,2,1,"div",12),e.k0s(),e.j41(6,"div",13)(7,"button",14),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.handleAccept())}),e.k0s()()()(),e.j41(8,"div",15)(9,"div",16)(10,"kendo-multiviewcalendar",17),e.bIt("rangeSelectionChange",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.onRangeSelectionChange(s))}),e.k0s()()(),e.j41(11,"div",18)(12,"button",19),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.show=!1)}),e.EFF(13),e.k0s(),e.j41(14,"button",20),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.handleAccept())}),e.EFF(15),e.k0s()()}if(2&n){const t=e.XpG();e.Y8G("ngIf",t.isAdaptiveModeEnabled),e.R7$(4),e.Y8G("ngIf",t.adaptiveTitle),e.R7$(),e.Y8G("ngIf",t.adaptiveSubtitle),e.R7$(2),e.Y8G("svgIcon",t.checkIcon)("tabIndex",-1),e.BMQ("title",t.localization.get("adaptiveCloseButtonTitle")),e.R7$(3),e.Y8G("animateNavigation",t.animateNavigation)("disabled",t.disabled)("views",t.views)("weekNumber",t.weekNumber)("disabledDates",t.disabledDates)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("min",t.min)("max",t.max)("showCalendarHeader",t.showCalendarHeader)("focusedDate",t.focusedDate)("allowReverse",t.allowReverse)("showViewHeader",t.showViewHeader)("showOtherMonthDays",t.showOtherMonthDays)("focusedDate",t.dateRangeService.focusedDate)("value",t.dateRangeService.selectionRange),e.R7$(2),e.BMQ("title",t.localization.get("cancelLabel"))("aria-label",t.localization.get("cancelLabel")),e.R7$(),e.SpI(" ",t.localization.get("cancel")," "),e.R7$(),e.BMQ("title",t.localization.get("acceptLabel"))("aria-label",t.localization.get("acceptLabel")),e.R7$(),e.SpI(" ",t.localization.get("accept")," ")}}function Zr(n,o){if(1&n&&e.nrm(0,"kendo-daterange-popup",1),2&n){const t=e.XpG();e.Y8G("size",t.size)}}const Bo={name:"@progress/kendo-angular-dateinputs",productName:"Kendo UI for Angular",productCode:"KENDOUIANGULAR",productCodes:["KENDOUIANGULAR"],publishDate:1755030481,version:"19.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};var yt=function(n){return n[n.Left=0]="Left",n[n.Right=1]="Right",n[n.Up=2]="Up",n[n.Down=3]="Down",n[n.PrevView=4]="PrevView",n[n.NextView=5]="NextView",n[n.FirstInView=6]="FirstInView",n[n.LastInView=7]="LastInView",n[n.LowerView=8]="LowerView",n[n.UpperView=9]="UpperView",n}(yt||{});const un={start:null,end:null},jn=(new Date(1980,0,1),new Date(1900,0,1)),Hn=new Date(2099,11,31),Cs=(new Date(1980,0,1),new Date(1980,0,1,23,59,59),n=>n&&(!n.touched||n.control&&"blur"===n.control.updateOn)),mt=n=>n.preventDefault(),Fl=n=>n.relatedTarget||document.activeElement,kt=n=>null!=n,os=n=>null===n||n instanceof Date,yc=n=>{const o=(0,E.tq)(n);return n.shiftKey&&(o===E.D$.ArrowRight||o===E.D$.ArrowLeft||o===E.D$.ArrowDown||o===E.D$.ArrowUp)},ja=n=>null!=n,Ha=n=>(o,t)=>{const i=W(o);return i[n](t),i},Uo=(n,o)=>{const t=W(n);return t.setHours(o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()),t},Sr=(Ha("setFullYear"),Ha("setHours")),Ra=Ha("setMinutes"),Bl=Ha("setSeconds"),Ll=Ha("setMilliseconds"),As=(n,o,t=1)=>{const i=[];for(let s=n;s<o;s+=t)i.push(s);return i},Xa=(n,o,t)=>!n||!(o&&o>n||t&&t<n),Wa=(n,o)=>!ja(n)||!ja(o)||n<=o,Ss=(n,o,t)=>n&&(o&&n<o?W(o):t&&n>t?W(t):n),rs=()=>At(new Date),Rt=n=>{},Kl=()=>typeof window<"u",Nd=(n,o)=>n.slice(o).concat(n.slice(0,o)),$s=n=>(o,t="",i={})=>{const s=document.createElement(n);return s.className=t,Object.keys(i).forEach(r=>s.style[r]=i[r]),"string"==typeof o?s.innerHTML=o||"":(o||[]).forEach(r=>r&&s.appendChild(r)),s},js=(n,o)=>void 0!==n[o],$l=(n,o)=>n[o]&&null!=n[o].currentValue,Vo=(n=[])=>n&&n[n.length-1],zo=(n,o)=>{const{start:t,end:i}=o||un;return!(!t||!i)&&t<n&&n<i},Gd=(n,o)=>n||o,jl=n=>({start:n,end:n}),ul=(n,o)=>{const{start:t,end:i}=n||un,{start:s,end:r}=o||un;return Gt(t,s)&&Gt(i,r)},wa=(n,o)=>(n=n||[]).length===(o=o||[]).length&&n.every((t,i)=>Gt(t,o[i])),hl=n=>n.filter(o=>kt(o)).sort((o,t)=>o.getTime()-t.getTime()),hn=(n,o)=>({small:`k-${n}-sm`,medium:`k-${n}-md`,large:`k-${n}-lg`}[o]),bo=n=>({small:"k-rounded-sm",medium:"k-rounded-md",large:"k-rounded-lg",full:"k-rounded-full"}[n]),Fn=(n,o)=>({solid:`k-${n}-solid`,flat:`k-${n}-flat`,outline:`k-${n}-outline`}[o]),br="medium",Eo="medium",ea="solid",_h=[[]],Ch={[yt.Left]:n=>U(n,-1),[yt.Up]:n=>U(n,(n=>{const o=Number(n.toString().slice(-2,-1));return o<2?-2:o<4?-6:-4})(n.getFullYear())),[yt.Right]:n=>U(n,1),[yt.Down]:n=>U(n,(n=>{const o=Number(n.toString().slice(-2,-1));return o>7?2:o>5?6:4})(n.getFullYear())),[yt.PrevView]:n=>Y(n,-1),[yt.NextView]:n=>Y(n,1),[yt.FirstInView]:n=>wt(n),[yt.LastInView]:n=>ti(n)};let Sh=(()=>{class n{addToDate(t,i){return Y(t,i)}datesList(t,i){return As(0,i).map(s=>Y(t,s))}data(t){const{cellUID:i,focusedDate:s,isActiveView:r,max:l,min:u,selectedDates:f,selectionRange:C=un,viewDate:T,allowReverse:O}=t;if(!T)return _h;const G=As(0,4),P=wt(T),Q=ti(T),z=Qt(Q).getFullYear()+1,de=rs();return As(0,3).map(le=>{const Ce=U(P,4*le);return G.map(_e=>{const Ge=this.normalize(U(Ce,_e),u,l),ge=Ge.getFullYear()>=z;if(!this.isInRange(Ge,u,l)||ge)return null;let $e=!1,ft=!1;O?((this.isEqual(Ge,C.start)&&C.start<=C.end||this.isEqual(Ge,C.end)&&C.end<=C.start)&&($e=!0),(this.isEqual(Ge,C.start)&&C.start>=C.end||this.isEqual(Ge,C.end)&&C.end>=C.start)&&(ft=!0)):($e=this.isEqual(Ge,C.start),ft=this.isEqual(Ge,C.end));const ke=!$e&&!ft;let Kt;return Kt=O?ke&&(zo(Ge,C)||zo(Ge,{start:C.end,end:C.start})):ke&&zo(Ge,C),{formattedValue:this.value(Ge),id:`${i}${Ge.getTime()}`,isFocused:this.isEqual(Ge,s),isSelected:r&&f.some($t=>this.isEqual(Ge,$t)),isWeekend:!1,isRangeStart:$e,isRangeMid:Kt,isRangeEnd:ft,isRangeSplitEnd:Kt&&this.isEqual(Ge,Q),isRangeSplitStart:Kt&&this.isEqual(Ge,P),isToday:this.isEqual(Ge,de),title:this.cellTitle(Ge),value:Ge,allowReverse:O}})})}isEqual(t,i){return!(!t||!i)&&Zt(t).getFullYear()===Zt(i).getFullYear()}isInArray(t,i){if(!i.length)return!1;const s=t.getFullYear();return i[0].getFullYear()<=s&&s<=i[i.length-1].getFullYear()+99}isInRange(t,i,s){const r=Zt(t).getFullYear(),l=!i||Zt(i).getFullYear()<=r,u=!s||r<=Zt(s).getFullYear();return l&&u}beginningOfPeriod(t){if(!t)return t;const i=Zt(wt(t));return li(i.getFullYear(),0,1)}lastDayOfPeriod(t){const i=ti(t),s=Qt(i),r=En(s);return Vn(r)}isRangeStart(t){return t.getFullYear()%1e3==0}move(t,i){const s=Ch[i];return s?s(t):t}cellTitle(t){return Zt(t).getFullYear().toString()}navigationTitle(t){return t?wt(t).getFullYear().toString():""}title(t){return t?`${wt(t).getFullYear()} - ${ti(t).getFullYear()}`:""}rowLength(){return 4}skip(t,i){return qn(i,t)}total(t,i){return qn(t,i)+1}value(t){return t?Zt(t).getFullYear().toString():""}viewDate(t,i,s=1){const r=this.total(t,i);return r<s?Y(t,-1*(s-r)):t}dateRange=(t,i)=>{if(!kt(t)||!kt(i))return[];const s=[];let r=t;for(;r<=i;)s.push(r),r=U(r,1);return s};normalize(t,i,s){return t<i&&this.isEqual(t,i)?W(i):t>s&&this.isEqual(t,s)?W(s):t}static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const bh=[[]],Rh={[yt.Left]:n=>A(n,-1),[yt.Up]:n=>A(n,(n=>{const o=Number(n.toString().slice(-1));return o<2?-2:o<4?-6:-4})(n.getFullYear())),[yt.Right]:n=>A(n,1),[yt.Down]:n=>A(n,(n=>{const o=Number(n.toString().slice(-1));return o>7?2:o>5?6:4})(n.getFullYear())),[yt.PrevView]:n=>U(n,-1),[yt.NextView]:n=>U(n,1),[yt.FirstInView]:n=>Zt(n),[yt.LastInView]:n=>Qt(n)};let Bd=(()=>{class n{addToDate(t,i){return U(t,i)}datesList(t,i){return As(0,i).map(s=>U(t,s))}data(t){const{cellUID:i,focusedDate:s,isActiveView:r,max:l,min:u,selectedDates:f,selectionRange:C=un,viewDate:T,allowReverse:O}=t;if(!T)return bh;const G=As(0,4),P=Zt(T),Q=Qt(T),z=rs();return As(0,3).map(de=>{const le=A(P,4*de);return G.map(Ce=>{const _e=this.normalize(A(le,Ce),u,l),Ge=_e.getFullYear()>Q.getFullYear();if(!this.isInRange(_e,u,l)||Ge)return null;let ge=!1,$e=!1;O?((this.isEqual(_e,C.start)&&C.start<=C.end||this.isEqual(_e,C.end)&&C.end<=C.start)&&(ge=!0),(this.isEqual(_e,C.start)&&C.start>=C.end||this.isEqual(_e,C.end)&&C.end>=C.start)&&($e=!0)):(ge=this.isEqual(_e,C.start),$e=this.isEqual(_e,C.end));const ft=!ge&&!$e;let ke;return ke=O?ft&&(zo(_e,C)||zo(_e,{start:C.end,end:C.start})):ft&&zo(_e,C),{formattedValue:this.value(_e),id:`${i}${_e.getTime()}`,isFocused:this.isEqual(_e,s),isSelected:r&&f.some(Kt=>this.isEqual(_e,Kt)),isWeekend:!1,isRangeStart:ge,isRangeMid:ke,isRangeEnd:$e,isRangeSplitEnd:ke&&this.isEqual(_e,Q),isRangeSplitStart:ke&&this.isEqual(_e,P),isToday:this.isEqual(_e,z),title:this.cellTitle(_e),value:_e,allowReverse:O}})})}isEqual(t,i){return!(!t||!i)&&t.getFullYear()===i.getFullYear()}isInArray(t,i){if(!i.length)return!1;const s=t.getFullYear();return i[0].getFullYear()<=s&&s<=i[i.length-1].getFullYear()+9}isInRange(t,i,s){const r=t.getFullYear(),l=!i||i.getFullYear()<=r,u=!s||r<=s.getFullYear();return l&&u}beginningOfPeriod(t){if(!t)return t;const i=Zt(t);return li(i.getFullYear(),0,1)}lastDayOfPeriod(t){const i=Qt(t),s=En(i);return Vn(s)}isRangeStart(t){return t.getFullYear()%100==0}move(t,i){const s=Rh[i];return s?s(t):t}cellTitle(t){return t.getFullYear().toString()}navigationTitle(t){return t?Zt(t).getFullYear().toString():""}title(t){return t?`${Zt(t).getFullYear()} - ${Qt(t).getFullYear()}`:""}rowLength(){return 4}skip(t,i){return zn(i,t)}total(t,i){return zn(t,i)+1}value(t){return t?t.getFullYear().toString():""}viewDate(t,i,s=1){const r=this.total(t,i);return r<s?U(t,-1*(s-r)):t}dateRange=(t,i)=>{if(!kt(t)||!kt(i))return[];const s=[];let r=t;for(;r<=i;)s.push(r),r=A(r,1);return s};normalize(t,i,s){return t<i&&this.isEqual(t,i)?W(i):t>s&&this.isEqual(t,s)?W(s):t}static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Eg=[[]],Ud={[yt.Left]:n=>ei(n,-1),[yt.Up]:n=>pn(n,-1),[yt.Right]:n=>ei(n,1),[yt.Down]:n=>pn(n,1),[yt.PrevView]:n=>se(n,-1),[yt.NextView]:n=>se(n,1),[yt.FirstInView]:n=>Kn(n),[yt.LastInView]:n=>Vn(n)};let wh=(()=>{class n{_intlService;constructor(t){this._intlService=t}addToDate(t,i){return se(t,i)}datesList(t,i){return As(0,i).map(s=>se(t,s))}data(t){const{cellUID:i,focusedDate:s,isActiveView:r,max:l,min:u,selectedDates:f,selectionRange:C=un,viewDate:T,isDateDisabled:O=(()=>!1),allowReverse:G}=t;if(!T)return Eg;const P=Kn(T),Q=At(P),z=Vn(T),de=At(z),Ce=xs(P,this._intlService.firstDay(),-1),_e=As(0,7),Ge=rs();return As(0,6).map(ge=>{const $e=ei(Ce,7*ge);return _e.map(ft=>{const ke=this.normalize(ei($e,ft),u,l),Kt=At(ke),$t=Kt<Q||Kt>de;if(ke<u||ke>l)return null;let jt=!1,Ie=!1;G?((this.isEqual(ke,C.start)&&C.start<=C.end||this.isEqual(ke,C.end)&&C.end<=C.start)&&(jt=!0),(this.isEqual(ke,C.start)&&C.start>=C.end||this.isEqual(ke,C.end)&&C.end>=C.start)&&(Ie=!0)):(jt=this.isEqual(ke,C.start),Ie=this.isEqual(ke,C.end));const Xe=!jt&&!Ie;let he;return he=G?Xe&&(zo(ke,C)||zo(ke,{start:C.end,end:C.start})):Xe&&zo(ke,C),{formattedValue:this.value(ke),id:`${i}${$t?ke.getTime()+"1":ke.getTime()}`,isFocused:this.isEqual(ke,s),isSelected:r&&f.some(Re=>this.isEqual(ke,Re)),isWeekend:this.isWeekend(ke),isRangeStart:jt,isRangeMid:he,isRangeEnd:Ie,isRangeSplitStart:he&&this.isEqual(ke,P),isRangeSplitEnd:he&&this.isEqual(ke,z),isToday:this.isEqual(ke,Ge),title:this.cellTitle(ke),value:ke,isDisabled:O(ke),isOtherMonth:$t,allowReverse:G}})})}isEqual(t,i){return!(!t||!i)&&At(t).getTime()===At(i).getTime()}isInArray(t,i){if(0===i.length)return!1;const s=this.beginningOfPeriod(i[0]),r=this.beginningOfPeriod(se(i[i.length-1],1));return s<=t&&t<r}isInRange(t,i,s){const r=At(t),l=!i||At(i)<=r,u=!s||r<=At(s);return l&&u}beginningOfPeriod(t){return t&&li(t.getFullYear(),t.getMonth(),1)}lastDayOfPeriod(t){return Vn(t)}isRangeStart(t){return!t.getMonth()}move(t,i){const s=Ud[i];return s?s(t):t}cellTitle(t){return this._intlService.formatDate(t,"D")}navigationTitle(t){return t?this.isRangeStart(t)?t.getFullYear().toString():this.abbrMonthNames()[t.getMonth()]:""}title(t){return`${this.wideMonthNames()[t.getMonth()]} ${t.getFullYear()}`}rowLength(t={}){return 7+(t.prependCell?1:0)}skip(t,i){return cr(i,t)}total(t,i){return cr(t,i)+1}value(t){return t?t.getDate().toString():""}viewDate(t,i,s=1){const r=this.total(t,i);return r<s?se(t,-1*(s-r)):t}isWeekend(t){const{start:i,end:s}=this._intlService.weekendRange(),r=t.getDay();return s<i?r<=s||i<=r:i<=r&&r<=s}dateRange=(t,i)=>{if(!kt(t)||!kt(i))return[];const s=[];let r=t;for(;r<=i;)s.push(r),r=ei(r,1);return s};abbrMonthNames(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}normalize(t,i,s){return t<i&&this.isEqual(t,i)?W(i):t>s&&this.isEqual(t,s)?W(s):t}wideMonthNames(){return this._intlService.dateFormatNames({nameType:"wide",type:"months"})}static \u0275fac=function(i){return new(i||n)(e.KVO(Bi.Bs))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ih=[[]],Dh={[yt.Left]:n=>se(n,-1),[yt.Up]:n=>se(n,-4),[yt.Right]:n=>se(n,1),[yt.Down]:n=>se(n,4),[yt.PrevView]:n=>A(n,-1),[yt.NextView]:n=>A(n,1),[yt.FirstInView]:n=>On(n),[yt.LastInView]:n=>En(n)};let Th=(()=>{class n{_intlService;constructor(t){this._intlService=t}addToDate(t,i){return A(t,i)}datesList(t,i){return As(0,i).map(s=>A(t,s))}data(t){const{cellUID:i,focusedDate:s,isActiveView:r,max:l,min:u,selectedDates:f,selectionRange:C=un,viewDate:T,allowReverse:O}=t;if(!T)return Ih;const G=this.abbrMonthNames(),P=On(T),Q=En(T),z=P.getFullYear(),de=As(0,4),le=rs();return As(0,3).map(Ce=>{const _e=se(P,4*Ce);return de.map(Ge=>{const ge=this.normalize(se(_e,Ge),u,l),$e=z<ge.getFullYear();if(!this.isInRange(ge,u,l)||$e)return null;let ft=!1,ke=!1;O?((this.isEqual(ge,C.start)&&C.start<=C.end||this.isEqual(ge,C.end)&&C.end<=C.start)&&(ft=!0),(this.isEqual(ge,C.start)&&C.start>=C.end||this.isEqual(ge,C.end)&&C.end>=C.start)&&(ke=!0)):(ft=this.isEqual(ge,C.start),ke=this.isEqual(ge,C.end));const Kt=!ft&&!ke;let $t;return $t=O?Kt&&(zo(ge,C)||zo(ge,{start:C.end,end:C.start})):Kt&&zo(ge,C),{formattedValue:G[ge.getMonth()],id:`${i}${ge.getTime()}`,isFocused:this.isEqual(ge,s),isSelected:r&&f.some(Le=>this.isEqual(ge,Le)),isWeekend:!1,isRangeStart:ft,isRangeMid:$t,isRangeEnd:ke,isRangeSplitEnd:$t&&this.isEqual(ge,Q),isRangeSplitStart:$t&&this.isEqual(ge,P),isToday:this.isEqual(ge,le),title:this.cellTitle(ge),value:ge,allowReverse:O}})})}isEqual(t,i){return!(!t||!i)&&t.getFullYear()===i.getFullYear()&&t.getMonth()===i.getMonth()}isInArray(t,i){if(!i.length)return!1;const s=t.getFullYear();return i[0].getFullYear()<=s&&s<=i[i.length-1].getFullYear()}isInRange(t,i,s){const r=li(t.getFullYear(),t.getMonth(),1),l=!i||li(i.getFullYear(),i.getMonth(),1)<=r,u=!s||r<=li(s.getFullYear(),s.getMonth(),1);return l&&u}beginningOfPeriod(t){return t&&li(t.getFullYear(),0,1)}lastDayOfPeriod(t){const i=En(t);return Vn(i)}isRangeStart(t){return t.getFullYear()%10==0}move(t,i){const s=Dh[i];return s?s(t):t}cellTitle(t){return`${t.getFullYear()} ${this.value(t)}`}navigationTitle(t){return this.title(t)}title(t){return t?t.getFullYear().toString():""}rowLength(){return 4}skip(t,i){return rn(i,t)}total(t,i){return rn(t,i)+1}value(t){return t?this.abbrMonthNames()[t.getMonth()]:""}viewDate(t,i,s=1){const r=this.total(t,i);return r<s?A(t,-1*(s-r)):t}dateRange=(t,i)=>{if(!kt(t)||!kt(i))return[];const s=[];let r=t;for(;r<=i;)s.push(r),r=se(r,1);return s};abbrMonthNames(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}normalize(t,i,s){return t<i&&this.isEqual(t,i)?W(i):t>s&&this.isEqual(t,s)?W(s):t}static \u0275fac=function(i){return new(i||n)(e.KVO(Bi.Bs))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var lt=function(n){return n[n.month=0]="month",n[n.year=1]="year",n[n.decade=2]="decade",n[n.century=3]="century",n}(lt||{});const xh={[lt.month]:wh,[lt.year]:Th,[lt.decade]:Bd,[lt.century]:Sh};let Mh=0,ko=(()=>{class n{injector;viewChanged=new e.bkB;bottom=lt.month;top=lt.century;calendarId;constructor(t){this.injector=t,this.calendarId=Mh++}configure(t,i){this.bottom=t,this.top=i}service(t){const i=xh[t];return i?this.injector.get(i):null}moveDown(t){this.move(t,-1)}moveUp(t){this.move(t,1)}moveToBottom(t){t!==this.bottom&&this.viewChanged.emit({view:this.bottom})}canMoveDown(t){return this.bottom<t}canMoveUp(t){return t<this.top}clamp(t){return t<this.bottom?this.bottom:t>this.top?this.top:t}move(t,i){const s=this.clamp(((n,o)=>{const t=lt[lt[n+o]];return void 0!==t?t:n})(t,i));s!==t&&this.viewChanged.emit({view:s})}static \u0275fac=function(i){return new(i||n)(e.KVO(e.zZn))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();class zd{$implicit;kForOf;index;count;constructor(o,t,i,s){this.$implicit=o,this.kForOf=t,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ql=(()=>{class n{_viewContainer;_template;_differs;kForOf;kForTrackBy;_differ=null;constructor(t,i,s){this._viewContainer=t,this._template=i,this._differs=s}set kForTemplate(t){t&&(this._template=t)}ngOnChanges(t){if("kForOf"in t){const i=t.kForOf.currentValue;if(this._differ||!i)return;try{this._differ=this._differs.find(i).create(this.kForTrackBy)}catch{throw new Error(`Cannot find a differ supporting object '${i}' of type '${function yh(n){return n.name||typeof n}(i)}'.`)}}}ngDoCheck(){if(this._differ){const t=this._differ.diff(this.kForOf);t&&this._applyChanges(t)}}_applyChanges(t){if(!(0,E.nm)())return;const i=this._viewContainer.length,s=this.kForOf.length,r={};t.forEachOperation((l,u,f)=>{null!==f&&(r[f]=l.item)});for(let l=i;l<s;l++)this._viewContainer.createEmbeddedView(this._template,new zd(null,this.kForOf,-1,-1),l);for(let l=this._viewContainer.length;l>s;l--)this._viewContainer.remove(l-1);for(let l=0;l<this._viewContainer.length;l++){const u=this._viewContainer.get(l);u.context.index=l,u.context.count=length,u.context.$implicit=r[l]||null}}static \u0275fac=function(i){return new(i||n)(e.rXU(e.c1b),e.rXU(e.C4Q),e.rXU(e._q3))};static \u0275dir=e.FsC({type:n,selectors:[["","kFor","","kForOf",""]],inputs:{kForOf:"kForOf",kForTrackBy:"kForTrackBy",kForTemplate:"kForTemplate"},standalone:!0,features:[e.OA$]})}return n})();const Kd=()=>!1;let tr=(()=>{class n{changes=new me.B;isDateDisabled=Kd;initialize(t){if("function"==typeof t)this.isDateDisabled=i=>t(At(i));else if((n=>Array.isArray(n)&&n.length>0&&n.every(o=>"number"==typeof o))(t)){const i=new Set(t);this.isDateDisabled=s=>i.has(s.getDay())}else if((n=>Array.isArray(n)&&n.length>0&&n.every(o=>o instanceof Date))(t)){const i=new Set(t.map(s=>At(s).getTime()));this.isDateDisabled=s=>i.has(At(s).getTime())}else this.isDateDisabled=Kd,this.notifyInvalidInput(t);this.notifyServiceChange()}notifyInvalidInput(t){if(kt(t)&&(0,e.naY)())throw new Error("The 'disabledDates' value should be a function, a Day array or a Date array. Check https://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/disabled-dates/ for more information.")}notifyServiceChange(){this.changes.next()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();const Lc=(n,o,t)=>{for(;n&&n!==t&&!o(n);)n=n.parentNode;if(n!==t)return n},Ia=(n,o)=>{for(;n&&!o(n);)n=n.parentNode;return n};let ta=(()=>{class n{bus;intl;cdr;element;zone;renderer;disabledDatesService;allowReverse;showOtherMonthDays;direction="vertical";isActive=!0;activeView;cellUID;focusedDate;viewDate;activeRangeEnd;selectionRange;min;max;selectedDates=[];get weekNumber(){return this.showWeekNumbers&&this.activeView===lt.month}set weekNumber(t){this.showWeekNumbers=t}viewIndex;templateRef;weekNumberTemplateRef;headerTitle;cellClick=new e.bkB;weekNumberCellClick=new e.bkB;cellEnter=new e.bkB;cellLeave=new e.bkB;focusedCellId=new e.bkB;get ariaHidden(){return this.headerTitle!==this.title||null}colSpan=0;data;service;title;subscriptions=new He.yU;showWeekNumbers;domEvents=[];currentCellIndex;constructor(t,i,s,r,l,u,f){this.bus=t,this.intl=i,this.cdr=s,this.element=r,this.zone=l,this.renderer=u,this.disabledDatesService=f,this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))),this.subscriptions.add(this.disabledDatesService.changes.subscribe(this.disabledDatesChange.bind(this)))}ngOnInit(){this.element&&this.zone.runOutsideAngular(()=>{this.bindEvents()})}ngOnChanges(t){this.service=this.bus.service(this.activeView),this.service&&(this.colSpan=this.service.rowLength({prependCell:this.weekNumber}),this.title=this.service.title(this.viewDate),this.updateData(),t.activeView&&(this.currentCellIndex=null))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.domEvents.forEach(t=>t())}isHorizontal(){return"horizontal"===this.direction}isMonthView(){return this.activeView===lt.month}shouldRenderCellContent(t){return kt(t)&&(!t.isOtherMonth||t.isOtherMonth&&this.showOtherMonthDays)}firstDate(t){const i=this.firstWeekDateContext(t);return i?i.value:null}getWeekNumber(t){return this.weekNumber?wo(t,this.intl.firstDay()):null}getWeekNumberContext(t){const i=this.firstWeekDateContext(t);if(!this.weekNumber||!i)return null;const s=wo(i.value,this.intl.firstDay()).toString();return{formattedValue:s,id:null,isFocused:!1,isSelected:!1,isWeekend:!1,title:s,value:W(i.value)}}getStyles(t){!t.isOtherMonth&&this.isActive&&t.isFocused&&this.focusedCellId.emit(t.id);const{isRangeEnd:i,isRangeStart:s}=t;return(n=>Object.keys(n).reduce((t,i)=>n[i]?t.concat(i):t,[]).join(" "))({"k-range-end":!t.isOtherMonth&&i,"k-range-mid":!t.isOtherMonth&&t.isRangeMid,"k-range-split-end":!t.isOtherMonth&&t.isRangeSplitEnd,"k-range-split-start":!t.isOtherMonth&&t.isRangeSplitStart,"k-range-start":!t.isOtherMonth&&s,"k-active":"start"===this.activeRangeEnd&&s||"end"===this.activeRangeEnd&&i,"k-focus":!t.isOtherMonth&&this.isActive&&t.isFocused,"k-selected":!t.isOtherMonth&&(t.isSelected||s||i),"k-today":!t.isOtherMonth&&t.isToday,"k-weekend":t.isWeekend,"k-disabled":t.isDisabled,"k-other-month":t.isOtherMonth})}tableCellIndex(t,i){return`${t}:${i}`}handleWeekNumberClick(t){const i=t.filter(s=>s).map(s=>s.value).filter(s=>!this.disabledDatesService.isDateDisabled(s));this.weekNumberCellClick.emit(i)}getMonthLabel(t){return 1===this.activeView?this.intl.formatDate(t,"MMMM"):null}firstWeekDateContext(t){if(!this.weekNumber)return null;let i=0,s=this.shouldRenderCellContent(t[i])?t[i]:null;for(;!s&&i<t.length;){const r=t[++i];s=this.shouldRenderCellContent(r)?r:null}return s}updateData(){const t=Vo(this.selectedDates)||rs(),i=Uo(this.viewDate,t);this.data=this.service.data({cellUID:this.cellUID,focusedDate:this.focusedDate,isActiveView:!this.bus.canMoveDown(this.activeView),max:this.max,min:this.min,selectedDates:this.selectedDates,selectionRange:this.selectionRange,viewDate:i,isDateDisabled:this.disabledDatesService.isDateDisabled,direction:this.direction,allowReverse:this.allowReverse})}intlChange(){this.updateData(),this.cdr.markForCheck()}disabledDatesChange(){this.updateData(),this.cdr.markForCheck()}bindEvents(){const t=this.element.nativeElement;this.domEvents.push(this.renderer.listen(t,"mouseover",this.cellMouseoverHandler.bind(this)),this.renderer.listen(t,"mouseleave",this.mouseLeaveHandler.bind(this)),this.renderer.listen(t,"click",this.clickHandler.bind(this)))}clickHandler(t){const i=this.closestCell(t);if(!i)return;const s=i.getAttribute("data-cell-index"),r=this.cellByIndex(s);if(!r.isDisabled){const{ctrlKey:l,metaKey:u,shiftKey:f}=t;this.cellClick.emit({date:r.value,modifiers:{ctrlKey:l,metaKey:u,shiftKey:f}})}}mouseLeaveHandler(){this.currentCellIndex&&this.emitCellLeave()}cellMouseoverHandler(t){const i=this.closestCell(t);if(i){const s=i.getAttribute("data-cell-index");this.currentCellIndex&&this.currentCellIndex!==s&&this.emitCellLeave();const r=this.cellByIndex(s).value;this.cellEnter.emit(r),this.currentCellIndex=s}else this.currentCellIndex&&this.emitCellLeave()}closestCell(t){return Lc(t.target,i=>i.hasAttribute("data-cell-index"),this.element.nativeElement)}emitCellLeave(){const t=this.cellByIndex(this.currentCellIndex);t&&this.cellLeave.emit(t.value),this.currentCellIndex=null}cellByIndex(t){const[i,s]=t.split(":");return this.data[i][s]}static \u0275fac=function(i){return new(i||n)(e.rXU(ko),e.rXU(Bi.Bs),e.rXU(e.gRc),e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(e.sFG),e.rXU(tr))};static \u0275cmp=e.VBU({type:n,selectors:[["","kendoCalendarView",""]],inputs:{allowReverse:"allowReverse",showOtherMonthDays:"showOtherMonthDays",direction:"direction",isActive:"isActive",activeView:"activeView",cellUID:"cellUID",focusedDate:"focusedDate",viewDate:"viewDate",activeRangeEnd:"activeRangeEnd",selectionRange:"selectionRange",min:"min",max:"max",selectedDates:"selectedDates",weekNumber:"weekNumber",viewIndex:"viewIndex",templateRef:"templateRef",weekNumberTemplateRef:"weekNumberTemplateRef",headerTitle:"headerTitle"},outputs:{cellClick:"cellClick",weekNumberCellClick:"weekNumberCellClick",cellEnter:"cellEnter",cellLeave:"cellLeave",focusedCellId:"focusedCellId"},standalone:!0,features:[e.OA$,e.aNF],attrs:Vr,decls:4,vars:2,consts:[["emptyCell",""],["class","k-calendar-tr","role","row",4,"ngIf"],["class","k-calendar-tr","role","row",4,"kFor","kForOf"],["role","gridcell",1,"k-empty","k-calendar-td"],["role","row",1,"k-calendar-tr"],["scope","col",1,"k-calendar-caption",3,"colSpan"],[3,"ngIf"],[4,"kFor","kForOf"],["class","k-alt k-calendar-td","role","gridcell",3,"click",4,"ngIf","ngIfElse"],["role","gridcell",1,"k-alt","k-calendar-td",3,"click"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],["class","k-calendar-td","role","gridcell",3,"ngClass","title",4,"ngIf","ngIfElse"],["role","gridcell",1,"k-calendar-td",3,"ngClass","title"],[1,"k-link"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,s){1&i&&e.DNE(0,zr,2,0,"ng-template",null,0,e.C5r)(2,Yo,3,3,"tr",1)(3,gr,3,2,"tr",2),2&i&&(e.R7$(2),e.Y8G("ngIf",!s.isHorizontal()),e.R7$(),e.Y8G("kForOf",s.data))},dependencies:[w.bT,ql,w.T3,w.YU],encapsulation:2})}return n})(),jd=(()=>{class n{bus;intl;cdr;element;renderer;handleMultiViewCalendarFocus(){this.focusCalendar.emit()}handleMultiViewCalendarBlur(t){this.blurCalendar.emit(t)}showOtherMonthDays=!0;cellTemplateRef;weekNumberTemplateRef;allowReverse;activeRangeEnd;activeView=lt.month;cellUID;focusedDate;isActive=!0;min=new Date(jn);max=new Date(Hn);selectionRange;selectedDates=[];views=2;showViewHeader=!1;animateNavigation=!1;orientation="horizontal";activeDescendant;tabIndex=0;disabled=!1;id;weekDaysFormat="short";get weekNumber(){return this.showWeekNumbers&&this.isMonthView()}set weekNumber(t){this.showWeekNumbers=t}cellClick=new e.bkB;weekNumberCellClick=new e.bkB;cellEnter=new e.bkB;cellLeave=new e.bkB;activeDateChange=new e.bkB;focusCalendar=new e.bkB;blurCalendar=new e.bkB;focusedCellChange=new e.bkB;getComponentClass=!0;get horizontalHostClass(){return"horizontal"===this.orientation}get verticalHostClass(){return"vertical"===this.orientation}get getComponentMonthClass(){return this.activeView===lt.month}get getComponentYearClass(){return this.activeView===lt.year}get getComponentDecadeClass(){return this.activeView===lt.decade}get getComponentCenturyClass(){return this.activeView===lt.century}get role(){return this.views>=2?"grid":null}get tabindex(){return this.views>=2?"0":null}get getActiveDescendant(){return 1===this.views?this.activeDescendant:null}get getTabIndex(){return this.disabled||this.views>=2?null:this.tabIndex}service;weekNames=[];wideWeekNames=[];activeDate;dates=[];skip;total;nextAnimationDate;prevAnimationDate;showWeekNumbers;intlSubscription;animation;constructor(t,i,s,r,l){this.bus=t,this.intl=i,this.cdr=s,this.element=r,this.renderer=l,this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}ngOnChanges(t){if(this.initService(),(0===this.weekNames.length||t.weekNumber)&&(this.weekNames=this.getWeekNames(this.weekDaysFormat),this.wideWeekNames=this.getWeekNames("wide")),t.weekDaysFormat&&0!==this.weekNames.length&&!t.weekNumber&&(this.weekNames=this.getWeekNames(this.weekDaysFormat)),!this.service)return;this.views=this.views||2;const i=this.focusedDate,s=this.clampDate(this.service.viewDate(i,this.max,this.views));this.skip=this.service.skip(s,this.min),this.total=this.service.total(this.min,this.max);const r=js(t,"activeView"),l=this.views>0&&js(t,"views");(r||!this.isInDates(i)||l||!this.activeDate)&&(this.dates=this.service.datesList(s,this.getTake(this.skip)),this.activeDate=W(this.dates[0]),this.activeDateChange.emit(this.activeDate)),this.setAriaActivedescendant(),this.views>=2&&this.renderer.setAttribute(this.element.nativeElement,"tabindex",this.tabIndex.toString())}ngOnDestroy(){this.intlSubscription.unsubscribe()}initService(){this.service=this.bus.service(this.activeView)}isMonthView(){return this.activeView===lt.month}getCaptionTitle(t){return this.service.title(t)}handleClassicCalendarFocus(){this.focusCalendar.emit()}handleClassicCalendarBlur(t){this.blurCalendar.emit(t)}animateView(t){const i=this.element.nativeElement,s=i.querySelector("table"),r=parseFloat(getComputedStyle(i).width),l=parseFloat(getComputedStyle(s).width);this.renderer.setStyle(i,"width",`${r}px`),this.renderer.setStyle(i,"overflow","visible"),t===yt.NextView?this.nextAnimationDate=W(this.dates[0]):this.prevAnimationDate=W(this.dates[this.dates.length-1]),this.cdr.detectChanges(),i.querySelectorAll("table").forEach(O=>{this.renderer.setStyle(O,"width",`${l}px`)});const u=s.getBoundingClientRect(),f=parseFloat(getComputedStyle(i).columnGap),C=t===yt.NextView?"translateX(0)":`translateX(-${u.width+f}px)`,T=t===yt.NextView?`translateX(-${u.width+f}px)`:"translateX(0)";this.animation?this.animation.cancel():(this.animation=i.animate([{transform:C},{transform:T}],{duration:500,easing:"ease-out"}),this.animation.oncancel=this.animation.onfinish=()=>{this.renderer.removeStyle(i,"width"),this.renderer.removeStyle(i,"overflow"),i.querySelectorAll("table").forEach(O=>{this.renderer.removeStyle(O,"width")}),this.animation=null,this.nextAnimationDate=null,this.prevAnimationDate=null,this.cdr.detectChanges()})}navigate(t){this.animateNavigation&&(0,E.nm)()&&kt(this.element.nativeElement.animate)&&this.animateView(t);const i=this.move(t),s=this.service.datesList(i,this.getTake(this.skip));return this.isListInRange(s)&&(this.dates=s),this.activeDate=W(this.dates[0]),this.focusedDate=W(i),this.cdr.markForCheck(),this.activeDateChange.emit(this.activeDate),W(i)}canNavigate(t){return!!this.service&&this.isListInRange(this.service.datesList(this.move(t),this.getTake(this.skip)))}getWeekNames(t){const i=Nd(this.intl.dateFormatNames({nameType:t,type:"days"}),this.intl.firstDay());return this.weekNumber?[""].concat(i):i}intlChange(){this.weekNames=this.getWeekNames(this.weekDaysFormat),this.wideWeekNames=this.getWeekNames("wide"),this.cdr.markForCheck()}clampDate(t){return Ss(t,this.min,this.max)}move(t){return this.service.move(this.dates[0]||this.focusedDate,t)}isListInRange(t){const i=this.service.beginningOfPeriod(this.min),s=this.service.beginningOfPeriod(this.service.addToDate(this.max,1));return i<=t[0]&&t[t.length-1]<s}isInDates(t){return this.service.isInArray(t,this.dates)}getTake(t){return Math.min(this.total-t,this.views)}setAriaActivedescendant(){this.views>=2&&this.renderer.setAttribute(this.element.nativeElement,"aria-activedescendant",this.activeDescendant)}static \u0275fac=function(i){return new(i||n)(e.rXU(ko),e.rXU(Bi.Bs),e.rXU(e.gRc),e.rXU(e.aKT),e.rXU(e.sFG))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-calendar-horizontal"]],hostVars:20,hostBindings:function(i,s){1&i&&e.bIt("focus",function(){return s.handleMultiViewCalendarFocus()})("blur",function(l){return s.handleMultiViewCalendarBlur(l)}),2&i&&(e.BMQ("role",s.role)("tabindex",s.tabindex),e.AVh("k-calendar-view",s.getComponentClass)("k-align-items-start",s.getComponentClass)("k-justify-content-center",s.getComponentClass)("k-hstack",s.horizontalHostClass)("k-vstack",s.verticalHostClass)("k-calendar-monthview",s.getComponentMonthClass)("k-calendar-yearview",s.getComponentYearClass)("k-calendar-decadeview",s.getComponentDecadeClass)("k-calendar-centuryview",s.getComponentCenturyClass))},inputs:{showOtherMonthDays:"showOtherMonthDays",cellTemplateRef:"cellTemplateRef",weekNumberTemplateRef:"weekNumberTemplateRef",allowReverse:"allowReverse",activeRangeEnd:"activeRangeEnd",activeView:"activeView",cellUID:"cellUID",focusedDate:"focusedDate",isActive:"isActive",min:"min",max:"max",selectionRange:"selectionRange",selectedDates:"selectedDates",views:"views",showViewHeader:"showViewHeader",animateNavigation:"animateNavigation",orientation:"orientation",activeDescendant:"activeDescendant",tabIndex:"tabIndex",disabled:"disabled",id:"id",weekDaysFormat:"weekDaysFormat",weekNumber:"weekNumber"},outputs:{cellClick:"cellClick",weekNumberCellClick:"weekNumberCellClick",cellEnter:"cellEnter",cellLeave:"cellLeave",activeDateChange:"activeDateChange",focusCalendar:"focusCalendar",blurCalendar:"blurCalendar",focusedCellChange:"focusedCellChange"},standalone:!0,features:[e.OA$,e.aNF],decls:5,vars:3,consts:[["tableTemplate",""],[4,"ngIf"],[4,"kFor","kForOf"],[1,"k-calendar-table",3,"focus","blur","ngClass"],["class","k-calendar-caption",4,"ngIf"],["class","k-calendar-thead","role","rowgroup",4,"ngIf"],["kendoCalendarView","","role","rowgroup","direction","horizontal",1,"k-calendar-tbody",3,"cellClick","weekNumberCellClick","cellEnter","cellLeave","focusedCellId","allowReverse","showOtherMonthDays","activeView","isActive","min","max","cellUID","focusedDate","selectedDates","selectionRange","activeRangeEnd","weekNumber","templateRef","weekNumberTemplateRef","viewDate"],[1,"k-calendar-caption"],["role","rowgroup",1,"k-calendar-thead"],["role","row",1,"k-calendar-tr"],["class","k-calendar-th","scope","col","role","columnheader",4,"ngFor","ngForOf"],["scope","col","role","columnheader",1,"k-calendar-th"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,s){1&i&&e.DNE(0,Jo,4,22,"ng-template",null,0,e.C5r)(2,io,1,4,null,1)(3,La,1,4,null,2)(4,I,1,4,null,1),2&i&&(e.R7$(2),e.Y8G("ngIf",s.nextAnimationDate),e.R7$(),e.Y8G("kForOf",s.dates),e.R7$(),e.Y8G("ngIf",s.prevAnimationDate))},dependencies:[w.YU,w.bT,w.pM,ta,w.T3,ql],encapsulation:2,changeDetection:0})}return n})(),Jl=(()=>{class n{bus;cdr;localization;intl;disabledDatesService;chevronRightIcon=ne.V9O;chevronLeftIcon=ne.IlG;navigate=!0;todayAvailable=!0;activeViewValue;todayMessage;title;prevButtonTitle;nextButtonTitle;parentViewButtonTitle;activeView;currentDate;min=new Date(jn);max=new Date(Hn);rangeLength=1;titleTemplateRef;headerTemplateRef;isPrevDisabled=!0;isNextDisabled=!0;showNavigationButtons=!1;orientation="horizontal";id;size;todayButtonClick=new e.bkB;prevButtonClick=new e.bkB;nextButtonClick=new e.bkB;getComponentClass=!0;get verticalHostClass(){return"vertical"===this.orientation}subscriptions=new He.yU;constructor(t,i,s,r,l){this.bus=t,this.cdr=i,this.localization=s,this.intl=r,this.disabledDatesService=l}ngOnInit(){this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))),this.subscriptions.add(this.localization.changes.subscribe(this.l10nChange.bind(this))),this.subscriptions.add(this.disabledDatesService.changes.subscribe(this.setTodayAvailability.bind(this)))}ngOnChanges(){this.bus.service(this.activeView)&&(this.activeViewValue=lt[this.activeView],this.todayMessage=this.localization.get("today"),this.parentViewButtonTitle=this.localization.get("parentViewButtonTitle"),this.setTodayAvailability(),this.navigate=this.bus.canMoveUp(this.activeView),this.title=this.getTitle())}ngOnDestroy(){this.subscriptions.unsubscribe()}handleTodayClick(){this.todayAvailable&&(this.bus.moveToBottom(this.activeView),this.todayButtonClick.emit(Ss(rs(),this.min,this.max)))}handleNavigation(){this.navigate&&this.bus.moveUp(this.activeView)}isDisabled(){return this.navigate?null:""}intlChange(){this.currentDate&&this.bus.service(this.activeView)&&(this.title=this.getTitle(),this.cdr.markForCheck())}l10nChange(){this.prevButtonTitle=this.localization.get("prevButtonTitle"),this.nextButtonTitle=this.localization.get("nextButtonTitle"),this.parentViewButtonTitle=this.localization.get("parentViewButtonTitle"),this.todayMessage=this.localization.get("today"),this.cdr.markForCheck()}getTitle(){if(!this.currentDate)return"";const t=this.bus.service(this.activeView),i=this.rangeLength-1,s=t.title(this.currentDate),r=t.addToDate(this.currentDate,i);return i<1||!t.isInRange(r,this.min,this.max)?s:`${s} - ${t.title(r)}`}setTodayAvailability(){const t=rs(),i=Xa(t,At(this.min),At(this.max)),s=this.disabledDatesService.isDateDisabled(t);this.todayAvailable=i&&!s,this.cdr.markForCheck()}static \u0275fac=function(i){return new(i||n)(e.rXU(ko),e.rXU(e.gRc),e.rXU(ve.Pi),e.rXU(Bi.Bs),e.rXU(tr))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-calendar-header"]],hostVars:4,hostBindings:function(i,s){2&i&&e.AVh("k-calendar-header",s.getComponentClass)("k-vstack",s.verticalHostClass)},inputs:{activeView:"activeView",currentDate:"currentDate",min:"min",max:"max",rangeLength:"rangeLength",titleTemplateRef:"titleTemplateRef",headerTemplateRef:"headerTemplateRef",isPrevDisabled:"isPrevDisabled",isNextDisabled:"isNextDisabled",showNavigationButtons:"showNavigationButtons",orientation:"orientation",id:"id",size:"size"},outputs:{todayButtonClick:"todayButtonClick",prevButtonClick:"prevButtonClick",nextButtonClick:"nextButtonClick"},standalone:!0,features:[e.OA$,e.aNF],decls:3,vars:2,consts:[["defaultRendering",""],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["kendoButton","","role","button","type","button","fillMode","flat","themeColor","primary","tabindex","-1",1,"k-calendar-title",3,"id","size","disabled","kendoEventsOutsideAngular","title","scope"],[3,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-spacer"],[1,"k-calendar-nav"],["kendoButton","","fillMode","flat","icon","chevron-left","tabindex","-1","type","button","class","k-calendar-nav-prev",3,"size","svgIcon","disabled","title","click",4,"ngIf"],["kendoButton","","fillMode","flat","role","link","type","button",1,"k-calendar-nav-today",3,"size","disabled","kendoEventsOutsideAngular","scope"],["kendoButton","","fillMode","flat","icon","chevron-right","class","k-calendar-nav-next","tabindex","-1","type","button",3,"size","svgIcon","disabled","title","click",4,"ngIf"],["kendoButton","","fillMode","flat","icon","chevron-left","tabindex","-1","type","button",1,"k-calendar-nav-prev",3,"click","size","svgIcon","disabled","title"],["kendoButton","","fillMode","flat","icon","chevron-right","tabindex","-1","type","button",1,"k-calendar-nav-next",3,"click","size","svgIcon","disabled","title"]],template:function(i,s){if(1&i&&e.DNE(0,H,1,6,null,1)(1,Xi,9,25,"ng-template",null,0,e.C5r),2&i){const r=e.sdS(2);e.Y8G("ngIf",s.headerTemplateRef)("ngIfElse",r)}},dependencies:[w.bT,w.T3,Te.Qp,E.Uj],encapsulation:2})}return n})(),Ql=(()=>{class n{bus;constructor(t){this.bus=t}lastClicked;performSelection(t){let{date:i,modifiers:s,selectionMode:r,activeViewEnum:l,rangePivot:u}=t,f=t.selectedDates.slice();if("multiple"===r)if(s.ctrlKey||s.metaKey)this.isDateSelected(f,i)?f=f.filter(C=>!Gt(C,i)):f.push(i),u=i;else if(s.shiftKey){const[C,T]=hl([u||i,i]);if(f=this.bus.service(l).dateRange(C,T),u=i>f[0]?f[0]:Vo(f),s.anyArrow){const[O,G]=hl([this.lastClicked||i,i]);f=this.bus.service(0).dateRange(O,G)}}else f=[i],u=i;else f=[i],u=i;return{selectedDates:f,rangePivot:u}}isDateSelected(t,i){return t.some(s=>Gt(s,i))}static \u0275fac=function(i){return new(i||n)(e.KVO(ko))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),ia=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoCalendarCellTemplate",""]],standalone:!0})}return n})(),na=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoCalendarMonthCellTemplate",""]],standalone:!0})}return n})(),sa=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoCalendarYearCellTemplate",""]],standalone:!0})}return n})(),oa=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoCalendarDecadeCellTemplate",""]],standalone:!0})}return n})(),ra=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoCalendarCenturyCellTemplate",""]],standalone:!0})}return n})(),Da=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoCalendarWeekNumberCellTemplate",""]],standalone:!0})}return n})(),Ta=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoCalendarHeaderTitleTemplate",""]],standalone:!0})}return n})();function Gh(n,o,t,i=!1){return"start"===t&&o.start?.getTime()===n?.getTime()&&(i&&!o.end||!i)||"end"===t&&o.end?.getTime()===n?.getTime()||(i&&("start"===t&&o.start?.getTime()!==n?.getTime()?(o.start=n,t="end"):"end"===t&&o.end?.getTime()!==n?.getTime()&&(o.end=n,t="start")),i||("start"===t&&n>o.end||"end"===t&&n<o.start?(o={start:n,end:null},t="end"):"start"===t&&n<=o.end?(o.start=n,t="end"):"end"===t&&n>=o.start&&n.getTime()!==o.end?.getTime()&&(o.end=n,t="start"))),{activeRangeEnd:t,selectionRange:o}}const xa=n=>o=>n&&o.value&&o.value<n?{minError:{minValue:n,value:o.value}}:null,Oa=n=>o=>n&&o.value&&o.value>n?{maxError:{maxValue:n,value:o.value}}:null,kg=()=>null,p={PageUp:yt.PrevView,PageDown:yt.NextView,End:yt.LastInView,Home:yt.FirstInView,ArrowLeft:yt.Left,ArrowUp:yt.Up,ArrowRight:yt.Right,ArrowDown:yt.Down,"meta+ArrowUp":yt.UpperView,"meta+ArrowDown":yt.LowerView};let B=(()=>{class n{bus;constructor(t){this.bus=t}action(t){const i=(0,E.tq)(t);return p[`${t.ctrlKey||t.metaKey?"meta+":""}${i}`]}move(t,i,s){const r=this.bus.service(s);return r?i===yt.UpperView&&this.bus.canMoveUp(s)?(this.bus.moveUp(s),t):i===yt.LowerView&&this.bus.canMoveDown(s)?(this.bus.moveDown(s),t):r.move(t,i):t}static \u0275fac=function(i){return new(i||n)(e.KVO(ko))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),a=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoCalendarHeaderTemplate",""]],standalone:!0})}return n})(),c=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoCalendarFooterTemplate",""]],standalone:!0})}return n})(),d=(()=>{class n{intl;showFooter=!0;footerTemplateRef;activeViewValue;currentDate;getToday=rs;constructor(t){this.intl=t}static \u0275fac=function(i){return new(i||n)(e.rXU(Bi.Bs))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-calendar-footer"]],hostVars:2,hostBindings:function(i,s){2&i&&e.AVh("k-calendar-footer",s.showFooter)},inputs:{footerTemplateRef:"footerTemplateRef",activeViewValue:"activeViewValue",currentDate:"currentDate"},standalone:!0,features:[e.aNF],decls:3,vars:2,consts:[["defaultRendering",""],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["kendoButton","","fillMode","flat","themeColor","primary","type","button","tabindex","-1",1,"k-calendar-nav-today"]],template:function(i,s){if(1&i&&e.DNE(0,Po,1,5,null,1)(1,ui,2,1,"ng-template",null,0,e.C5r),2&i){const r=e.sdS(2);e.Y8G("ngIf",s.footerTemplateRef)("ngIfElse",r)}},dependencies:[w.bT,w.T3,Te.Qp],encapsulation:2})}return n})(),v=(()=>{class n extends ve.EX{today;prevButtonTitle;nextButtonTitle;parentViewButtonTitle;static \u0275fac=(()=>{let t;return function(s){return(t||(t=e.xGo(n)))(s||n)}})();static \u0275dir=e.FsC({type:n,selectors:[["kendo-multiview-calendar-messages-base"]],inputs:{today:"today",prevButtonTitle:"prevButtonTitle",nextButtonTitle:"nextButtonTitle",parentViewButtonTitle:"parentViewButtonTitle"},features:[e.Vt3]})}return n})(),x=(()=>{class n extends v{service;constructor(t){super(),this.service=t}static \u0275fac=function(i){return new(i||n)(e.rXU(ve.Pi))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoMultiViewCalendarLocalizedMessages",""]],standalone:!0,features:[e.Jv_([{provide:v,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3]})}return n})();const Ni="https://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/#toc-using-with-json",Ds={multi:!0,provide:Ne.kq,useExisting:(0,e.Rfq)(()=>Ps)},Hs={multi:!0,provide:Ne.cz,useExisting:(0,e.Rfq)(()=>Ps)};let Ps=(()=>{class n{bus;element;navigator;renderer;cdr;zone;disabledDatesService;selectionService;showOtherMonthDays=!0;showCalendarHeader=!0;set size(t){const i=t||Eo;this.renderer.removeClass(this.element.nativeElement,hn("calendar",this.size)),"none"!==i&&this.renderer.addClass(this.element.nativeElement,hn("calendar",i)),this._size=i}get size(){return this._size}_size=Eo;id;set focusedDate(t){this._focusedDate=t||rs()}get focusedDate(){return this._focusedDate}footer=!1;get headerId(){return this.id+"header-"}get multiViewCalendarHeaderIdLabel(){return this.views>=2?this.id+"header-":null}get calendarHeaderIdLabel(){return 1===this.views?this.id+"header-":null}set min(t){this._min=t||new Date(jn)}get min(){return this._min}set max(t){this._max=t||new Date(Hn)}get max(){return this._max}rangeValidation=!1;disabledDatesRangeValidation=!1;set selection(t){this.selectionSetter=!0,this._selection=t}get selection(){return this._selection}_selection="single";allowReverse=!1;set value(t){this.valueSetter=!0,this._value=t}get value(){return this._value}disabled=!1;tabindex=0;set tabIndex(t){this.tabindex=t}get tabIndex(){return this.tabindex}weekDaysFormat="short";isActive=!1;set disabledDates(t){this.disabledDatesService.initialize(t)}activeView=lt[lt.month];bottomView=lt[lt.month];topView=lt[lt.century];showViewHeader=!1;animateNavigation=!1;weekNumber=!1;set activeRangeEnd(t){this._activeRangeEnd=t}get activeRangeEnd(){return"range"!==this.selection||this._activeRangeEnd?this._activeRangeEnd:"start"}set selectionRange(t){this._selectionRange=t,this.disabledDatesRangeValidation&&this.onValidatorChange()}get selectionRange(){return this._selectionRange}views=2;orientation="horizontal";activeViewChange=new e.bkB;navigate=new e.bkB;cellEnter=new e.bkB;cellLeave=new e.bkB;valueChange=new e.bkB;rangeSelectionChange=new e.bkB;blurEvent=new e.bkB;focusEvent=new e.bkB;focusCalendar=new e.bkB;onClosePopup=new e.bkB;onTabPress=new e.bkB;onShiftTabPress=new e.bkB;cellTemplate;set cellTemplateRef(t){this._cellTemplateRef=t}get cellTemplateRef(){return this._cellTemplateRef||this.cellTemplate}monthCellTemplate;set monthCellTemplateRef(t){this._monthCellTemplateRef=t}get monthCellTemplateRef(){return this._monthCellTemplateRef||this.monthCellTemplate}yearCellTemplate;set yearCellTemplateRef(t){this._yearCellTemplateRef=t}get yearCellTemplateRef(){return this._yearCellTemplateRef||this.yearCellTemplate}decadeCellTemplate;set decadeCellTemplateRef(t){this._decadeCellTemplateRef=t}get decadeCellTemplateRef(){return this._decadeCellTemplateRef||this.decadeCellTemplate}centuryCellTemplate;set centuryCellTemplateRef(t){this._centuryCellTemplateRef=t}get centuryCellTemplateRef(){return this._centuryCellTemplateRef||this.centuryCellTemplate}weekNumberTemplate;set weekNumberTemplateRef(t){this._weekNumberTemplateRef=t}get weekNumberTemplateRef(){return this._weekNumberTemplateRef||this.weekNumberTemplate}headerTitleTemplate;headerTemplate;footerTemplate;set footerTemplateRef(t){this._footerTemplateRef=t}get footerTemplateRef(){return this._footerTemplateRef||this.footerTemplate}set headerTitleTemplateRef(t){this._headerTitleTemplateRef=t}get headerTitleTemplateRef(){return this._headerTitleTemplateRef||this.headerTitleTemplate}set headerTemplateRef(t){this._headerTemplateRef=t}get headerTemplateRef(){return this._headerTemplateRef||this.headerTemplate}headerElement;viewList;cellUID=(0,E.Os)();isHovered=!1;activeDate;isPrevDisabled=!0;isNextDisabled=!0;prevView=yt.PrevView;nextView=yt.NextView;selectedDates=[];rangePivot;shouldHoverWhenNoStart=!1;canHover=!1;changes={};valueSetter=!1;selectionSetter=!1;_min=new Date(jn);_max=new Date(Hn);_focusedDate=rs();_value;_selectionRange={start:null,end:null};_activeRangeEnd;resolvedPromise=Promise.resolve();onControlChange=Rt;onControlTouched=Rt;onValidatorChange=Rt;minValidateFn=Rt;maxValidateFn=Rt;disabledDatesRangeValidateFn=Rt;subscriptions=new He.yU;_cellTemplateRef;_monthCellTemplateRef;_yearCellTemplateRef;_decadeCellTemplateRef;_centuryCellTemplateRef;_weekNumberTemplateRef;_headerTitleTemplateRef;_headerTemplateRef;_footerTemplateRef;get activeViewEnum(){const t=lt[this.activeView];return t<this.bottomViewEnum?this.bottomViewEnum:t}get bottomViewEnum(){return lt[this.bottomView]}get topViewEnum(){return lt[this.topView]}get widgetId(){return this.views>=2?this.id:null}get ariaDisabled(){return this.disabled}get ariaActivedescendant(){return this.cellUID+this.focusedDate.getTime()}handleFocusout(t){this.element.nativeElement.contains(t.relatedTarget)||(1===this.views?this.blurEvent.emit(t):this.blurEvent.emit(),this.onControlTouched()),this.isActive=!1,this.isHovered=!1}handleFocus(){this.isActive=!0,1===this.views?this.focusCalendar.emit():this.focusEvent.emit(),this.focusEvent.emit()}handleMouseEnter(){this.isHovered=!0}handleMouseLeave(){this.isHovered=!1,this.setRangeSelectionToValue()}handleMousedown(t){t.preventDefault()}handleClick(){this.isActive||this.focus()}keydown(t){const i=(0,E.tq)(t),s=-1!==[E.D$.ArrowUp,E.D$.ArrowDown].indexOf(i),r=t.ctrlKey||t.metaKey,u=i===E.D$.ArrowLeft&&r,f=i===E.D$.KeyT,C=i===E.D$.Enter,T=i===E.D$.ArrowUp,O=t.altKey,G=i===E.D$.Escape,P=i===E.D$.Tab,Q=t.shiftKey;if(i===E.D$.ArrowRight&&r)return t.preventDefault(),void this.navigateView(this.nextView);if(u)return t.preventDefault(),void this.navigateView(this.prevView);if(r&&s)t.preventDefault();else{if(f)return this.focusedDate=rs(),this.bus.moveToBottom(this.activeViewEnum),void this.updateButtonState();C&&("range"!==this.selection?(this.selectionService.lastClicked=this.focusedDate,this.performSelection(this.focusedDate,t)):this.performRangeSelection(this.focusedDate))}this.views>=2&&(G||O&&T?this.onClosePopup.emit(t):P&&Q?this.onShiftTabPress.emit(t):P&&!Q&&this.onTabPress.emit(t));const z=Ss(this.navigator.move(this.focusedDate,this.navigator.action(t),this.activeViewEnum),this.min,this.max);Gt(this.focusedDate,z)||(this.focusedDate=z,t.preventDefault(),this.bus.service(this.activeViewEnum).isInArray(this.focusedDate,this.viewList.dates)||(this.emitNavigate(this.focusedDate),this.updateButtonState()),yc(t)&&"range"!==this.selection&&(t.anyArrow=!0,this.performSelection(this.focusedDate,t)))}constructor(t,i,s,r,l,u,f,C){this.bus=t,this.element=i,this.navigator=s,this.renderer=r,this.cdr=l,this.zone=u,this.disabledDatesService=f,this.selectionService=C,this.id=`kendo-multiviewcalendarid-${this.bus.calendarId}-`}ngOnInit(){this.setClasses(this.element.nativeElement),this.subscriptions.add(this.bus.viewChanged.subscribe(({view:t})=>{this.activeView=lt[t],this.activeViewChange.emit(this.activeView),this.cdr.detectChanges(),this.updateButtonState()}))}ngOnChanges(t){this.changes=t,this.verifyChanges(),this.bus.configure(this.bottomViewEnum,this.topViewEnum)}ngDoCheck(){(this.valueSetter||this.selectionSetter)&&("range"===this.selection&&(this.value?.start||this.value?.end)&&this.focusedDate.getTime()!==this.value.start?.getTime()&&this.focusedDate.getTime()!==this.value.end?.getTime()&&(this.focusedDate=this.value.start||this.value.end||rs()),this.setValue(this.value),this.valueSetter=!1,this.selectionSetter=!1),$l(this.changes,"focusedDate")&&(this.focusedDate=Ss(this.changes.focusedDate.currentValue,this.min,this.max)),(this.changes.min||this.changes.max||this.changes.rangeValidation||this.changes.disabledDates||this.changes.disabledDatesRangeValidation)&&(this.minValidateFn=this.rangeValidation?xa(this.min):Rt,this.maxValidateFn=this.rangeValidation?Oa(this.max):Rt,this.disabledDatesRangeValidateFn=this.disabledDatesRangeValidation?(n=>kt(n)?o=>{if(!(kt(o)&&kt(o.start)&&kt(o.end))||o.start>o.end)return null;const i=((n,o,t)=>{if(!(n&&o&&t)||n>o)return[];const i=[];let s=n;for(;s<=o;)t(s)&&i.push(s),s=ei(s,1);return i})(o.start,o.end,n);return i.length?{disabledDatesInRange:i}:null}:kg)(this.disabledDatesService.isDateDisabled):Rt,this.onValidatorChange()),(this.changes.min||this.changes.max||this.changes.focusedDate||this.changes.activeView||this.changes.value)&&this.updateButtonState(),this.changes={}}ngOnDestroy(){this.subscriptions.unsubscribe()}ngAfterViewInit(){this.updateButtonState()}focus(){this.element&&this.element.nativeElement.querySelector(".k-calendar-view").focus({preventScroll:!0})}blur(){this.element&&this.element.nativeElement.querySelector(this.views>=2?".k-calendar-view":".k-calendar-table").blur()}handleDateChange(t){const i=this.bus.canMoveDown(this.activeViewEnum),s=t.selectedDates.filter(l=>!this.disabledDatesService.isDateDisabled(l));this.focusedDate=t.focusedDate||this.focusedDate;const r=!i&&wa(s,this.selectedDates);if(r&&!i&&"single"===this.selection&&this.onClosePopup.emit(),!this.disabled&&!r){if(i)return void this.bus.moveDown(this.activeViewEnum);this.disabledDatesService.isDateDisabled(this.focusedDate)||"range"!==this.selection&&(this.selectedDates=s.map(l=>W(l)),this.value=this.parseSelectionToValue(s),this.onControlChange(this.parseSelectionToValue(s)),this.valueChange.emit(this.parseSelectionToValue(s)))}}onCellEnter(t,i){this.emitCellEvent(t,i),"range"===this.selection&&(this.canHover||this.shouldHoverWhenNoStart)&&this.zone.run(()=>{this.canHover&&!this.shouldHoverWhenNoStart?this.allowReverse?("end"===this.activeRangeEnd&&this.selectionRange.start&&(this.selectionRange={start:this.selectionRange.start,end:i}),"start"===this.activeRangeEnd&&this.selectionRange.end&&(this.selectionRange={start:i,end:this.selectionRange.end})):("end"===this.activeRangeEnd&&this.selectionRange.start&&i>=this.selectionRange.start&&(this.selectionRange={start:this.selectionRange.start,end:i}),this.selectionRange.start&&i<this.selectionRange.start&&(this.selectionRange={start:this.selectionRange.start,end:null})):this.selectionRange=this.shouldHoverWhenNoStart&&i<=this.selectionRange.end?{start:i,end:this.selectionRange.end}:{start:null,end:this.selectionRange.end}})}handleTodayButtonClick(t){const i=t.focusedDate,s=this.bus.service(this.activeViewEnum).isInArray(i,this.viewList.dates),r=!this.bus.canMoveDown(this.activeViewEnum);!s&&r&&(this.emitNavigate(i),this.updateButtonState()),this.handleDateChange(t)}setActiveDate(t){this.activeDate=W(t),this.cdr.detectChanges()}writeValue(t){this.verifyValue(t),this.value=t,this.cdr.markForCheck()}registerOnChange(t){this.onControlChange=t}registerOnTouched(t){this.onControlTouched=t}setDisabledState(t){this.disabled=t,this.cdr.markForCheck()}validate(t){return this.minValidateFn(t)||this.maxValidateFn(t)||this.disabledDatesRangeValidateFn(this.selectionRange)}registerOnValidatorChange(t){this.onValidatorChange=t}activeCellTemplate(){switch(this.activeViewEnum){case lt.month:return this.monthCellTemplateRef||this.cellTemplateRef;case lt.year:return this.yearCellTemplateRef;case lt.decade:return this.decadeCellTemplateRef;case lt.century:return this.centuryCellTemplateRef;default:return null}}navigateView(t){this.focusedDate=this.viewList.navigate(t),this.updateButtonState(),this.emitNavigate(this.focusedDate)}emitNavigate(t){this.navigate.emit({activeView:lt[this.activeViewEnum],focusedDate:t})}emitCellEvent(t,i){(0,E.SF)(t)&&this.zone.run(()=>{t.emit(i)})}handleCellClick({date:t,modifiers:i}){"range"===this.selection&&this.activeViewEnum===lt[this.bottomView]?this.performRangeSelection(t):(this.selectionService.lastClicked=t,this.performSelection(t,i)),this.bus.service(this.activeViewEnum).isInArray(this.focusedDate,this.viewList.dates)||(this.emitNavigate(this.focusedDate),this.updateButtonState())}handleWeekNumberClick(t){"single"!==this.selection&&this.zone.run(()=>{if("multiple"===this.selection&&this.handleDateChange({selectedDates:t,focusedDate:Vo(t)}),"range"===this.selection){this.activeRangeEnd="start";const i=this.selectionRange.start?.getTime()!==t[0].getTime()||this.selectionRange.end?.getTime()!==Vo(t).getTime();this.selectionRange.start=t[0],this.selectionRange.end=Vo(t),this.value=this.selectionRange,i&&this.valueChange.emit(this.value)}})}setClasses(t){this.renderer.addClass(t,"k-calendar"),this.renderer.addClass(t,hn("calendar",this.size)),this.views>=2&&this.renderer.addClass(t,"k-calendar-range")}verifyChanges(){if((0,e.naY)()){if(this.min>this.max)throw new Error("The max value should be bigger than the min. See https://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-min and https://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-max.");if(this.bottomViewEnum>this.topViewEnum)throw new Error("The topView should be greater than bottomView. See https://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-bottomview and https://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-topview.")}}verifyValue(t){if((0,e.naY)()){if("single"===this.selection&&t&&!os(t))throw new Error(`When using 'single' selection the 'value' should be a valid JavaScript Date instance. Check ${Ni} for possible resolution.`);if("multiple"===this.selection&&t){if(Array.isArray(t)&&!t.every(s=>s instanceof Date))throw new Error(`When using 'multiple' selection the 'value' should be an array of valid JavaScript Date instances. Check ${Ni} for possible resolution.`);if(Object.keys(t).find(i=>"start"===i)&&Object.keys(t).find(i=>"end"===i))throw new Error(`When using 'multiple' selection the 'value' should be an array of valid JavaScript Date instances. Check ${Ni} for possible resolution.`)}else if("range"===this.selection&&t&&(!os(t.start)||!os(t.end)))throw new Error(`The 'value' should be an object with start and end dates. Check ${Ni} for possible resolution.`)}}updateButtonState(){this.resolvedPromise.then(()=>{this.cdr.detectChanges(),this.isPrevDisabled=!this.viewList.canNavigate(this.prevView),this.isNextDisabled=!this.viewList.canNavigate(this.nextView),this.cdr.markForCheck()})}parseSelectionToValue(t){return t=t||[],"single"===this.selection?W(Vo(t)):t.map(i=>W(i))}setValue(t){if(this.verifyValue(t),null===t?(this._value=null,this.selectedDates=[]):Array.isArray(t)?(this.selectionRange={start:null,end:null},this._value=t.filter(i=>kt(i)).map(i=>W(i))):(0,E.Gv)(t)&&Object.keys(t).find(i=>"start"===i)&&Object.keys(t).find(i=>"end"===i)?(this.selectedDates=[],this.selectionRange={start:null,end:null},this._value={start:null,end:null},this._value.start=t.start instanceof Date?W(t.start):null,this._value.end=t.end instanceof Date?W(t.end):null,this.selectionRange=Object.assign({},this._value),this._value?.start&&!this._value?.end&&(this.activeRangeEnd="end",this.canHover=!0),this._value?.end&&!this._value?.start&&(this.activeRangeEnd="start",this.canHover=!0),this._value?.end&&this._value?.start&&(this.canHover=!1)):(this.selectionRange={start:null,end:null},this._value=W(t)),"range"!==this.selection){const i=[].concat(t).filter(s=>kt(s)).map(s=>W(s));if(!wa(i,this.selectedDates)){const s=Vo(i);this.rangePivot=W(s),this.focusedDate=W(s)||this.focusedDate,this.selectedDates=i}}}setRangeSelectionToValue(){"range"===this.selection&&this.value&&(this.selectionRange=this.value,this.cdr.markForCheck())}performRangeSelection(t){this.focusedDate=t;const i=Object.assign({},this.selectionRange),s="start"===this.activeRangeEnd&&this.value?.start?.getTime()!==t?.getTime()||"end"===this.activeRangeEnd&&this.value?.end?.getTime()!==t?.getTime();this.zone.run(()=>{const r=Gh(t,i,this.activeRangeEnd,this.allowReverse);this.activeRangeEnd=r.activeRangeEnd,this.canHover&&"end"===r.activeRangeEnd&&r.selectionRange.end?.getTime()===t.getTime()&&(this.activeRangeEnd="start",r.activeRangeEnd="start"),this.canHover="end"===this.activeRangeEnd&&r.selectionRange.start&&!r.selectionRange.end,s&&(this.value?.start?.getTime()!==r.selectionRange?.start?.getTime()||this.value?.end?.getTime()!==r.selectionRange?.end?.getTime())&&(this.value=r.selectionRange,this.valueChange.emit(this.value),this.rangeSelectionChange.emit(r)),this.cdr.markForCheck()})}performSelection(t,i){const s=this.selectionService.performSelection({date:t,modifiers:i,selectionMode:this.selection,activeViewEnum:this.activeViewEnum,rangePivot:this.rangePivot,selectedDates:this.selectedDates});this.rangePivot=s.rangePivot,this.handleDateChange({selectedDates:s.selectedDates,focusedDate:t})}static \u0275fac=function(i){return new(i||n)(e.rXU(ko),e.rXU(e.aKT),e.rXU(B),e.rXU(e.sFG),e.rXU(e.gRc),e.rXU(e.SKi),e.rXU(tr),e.rXU(Ql))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-multiviewcalendar"]],contentQueries:function(i,s,r){if(1&i&&(e.wni(r,ia,5),e.wni(r,na,5),e.wni(r,sa,5),e.wni(r,oa,5),e.wni(r,ra,5),e.wni(r,Da,5),e.wni(r,Ta,5),e.wni(r,a,5),e.wni(r,c,5)),2&i){let l;e.mGM(l=e.lsd())&&(s.cellTemplate=l.first),e.mGM(l=e.lsd())&&(s.monthCellTemplate=l.first),e.mGM(l=e.lsd())&&(s.yearCellTemplate=l.first),e.mGM(l=e.lsd())&&(s.decadeCellTemplate=l.first),e.mGM(l=e.lsd())&&(s.centuryCellTemplate=l.first),e.mGM(l=e.lsd())&&(s.weekNumberTemplate=l.first),e.mGM(l=e.lsd())&&(s.headerTitleTemplate=l.first),e.mGM(l=e.lsd())&&(s.headerTemplate=l.first),e.mGM(l=e.lsd())&&(s.footerTemplate=l.first)}},viewQuery:function(i,s){if(1&i&&(e.GBs(Jl,5,e.aKT),e.GBs(jd,5)),2&i){let r;e.mGM(r=e.lsd())&&(s.headerElement=r.first),e.mGM(r=e.lsd())&&(s.viewList=r.first)}},hostVars:4,hostBindings:function(i,s){1&i&&e.bIt("mouseenter",function(){return s.handleMouseEnter()})("mouseleave",function(){return s.handleMouseLeave()})("mousedown",function(l){return s.handleMousedown(l)})("click",function(){return s.handleClick()})("keydown",function(l){return s.keydown(l)}),2&i&&(e.BMQ("id",s.widgetId)("aria-disabled",s.ariaDisabled),e.AVh("k-disabled",s.ariaDisabled))},inputs:{showOtherMonthDays:"showOtherMonthDays",showCalendarHeader:"showCalendarHeader",size:"size",id:"id",focusedDate:"focusedDate",footer:"footer",min:"min",max:"max",rangeValidation:"rangeValidation",disabledDatesRangeValidation:"disabledDatesRangeValidation",selection:"selection",allowReverse:"allowReverse",value:"value",disabled:"disabled",tabindex:"tabindex",tabIndex:"tabIndex",weekDaysFormat:"weekDaysFormat",isActive:"isActive",disabledDates:"disabledDates",activeView:"activeView",bottomView:"bottomView",topView:"topView",showViewHeader:"showViewHeader",animateNavigation:"animateNavigation",weekNumber:"weekNumber",activeRangeEnd:"activeRangeEnd",selectionRange:"selectionRange",views:"views",orientation:"orientation",cellTemplateRef:[e.Mj6.None,"cellTemplate","cellTemplateRef"],monthCellTemplateRef:[e.Mj6.None,"monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:[e.Mj6.None,"yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:[e.Mj6.None,"decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:[e.Mj6.None,"centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:[e.Mj6.None,"weekNumberTemplate","weekNumberTemplateRef"],footerTemplateRef:[e.Mj6.None,"footerTemplate","footerTemplateRef"],headerTitleTemplateRef:[e.Mj6.None,"headerTitleTemplate","headerTitleTemplateRef"],headerTemplateRef:[e.Mj6.None,"headerTemplate","headerTemplateRef"]},outputs:{activeViewChange:"activeViewChange",navigate:"navigate",cellEnter:"cellEnter",cellLeave:"cellLeave",valueChange:"valueChange",rangeSelectionChange:"rangeSelectionChange",blurEvent:"blur",focusEvent:"focus",focusCalendar:"focusCalendar",onClosePopup:"onClosePopup",onTabPress:"onTabPress",onShiftTabPress:"onShiftTabPress"},exportAs:["kendo-multiviewcalendar"],standalone:!0,features:[e.Jv_([ko,Ds,Hs,ve.Pi,tr,{provide:ve.$R,useValue:"kendo.multiviewcalendar"},B,Ql]),e.OA$,e.aNF],decls:4,vars:26,consts:()=>{let t,i,s,r;return t=$localize`:kendo.multiviewcalendar.today|The label for the today button in the calendar header:Today`,i=$localize`:kendo.multiviewcalendar.prevButtonTitle|The label for the previous button in the Multiview calendar:Navigate to previous view`,s=$localize`:kendo.multiviewcalendar.nextButtonTitle|The label for the next button in the Multiview calendar:Navigate to next view`,r=$localize`:kendo.multiviewcalendar.parentViewButtonTitle|The title of the parent view button in the Multiview calendar header:Navigate to parent view`,[["kendoMultiViewCalendarLocalizedMessages","","today",t,"prevButtonTitle",i,"nextButtonTitle",s,"parentViewButtonTitle",r],[3,"activeView","currentDate","size","min","max","id","rangeLength","titleTemplateRef","headerTemplateRef","isPrevDisabled","isNextDisabled","showNavigationButtons","orientation","todayButtonClick","prevButtonClick","nextButtonClick",4,"ngIf"],[3,"cellClick","weekNumberCellClick","cellEnter","cellLeave","activeDateChange","focusCalendar","blurCalendar","showOtherMonthDays","allowReverse","id","activeView","activeDescendant","isActive","cellTemplateRef","weekNumberTemplateRef","cellUID","weekDaysFormat","views","min","max","focusedDate","animateNavigation","showViewHeader","weekNumber","activeRangeEnd","selectionRange","selectedDates","orientation","tabIndex","disabled"],[3,"footerTemplateRef","activeViewValue","currentDate",4,"ngIf"],[3,"todayButtonClick","prevButtonClick","nextButtonClick","activeView","currentDate","size","min","max","id","rangeLength","titleTemplateRef","headerTemplateRef","isPrevDisabled","isNextDisabled","showNavigationButtons","orientation"],[3,"footerTemplateRef","activeViewValue","currentDate"]]},template:function(i,s){if(1&i&&(e.eu8(0,0),e.DNE(1,so,1,13,"kendo-calendar-header",1),e.j41(2,"kendo-calendar-horizontal",2),e.bIt("cellClick",function(l){return s.handleCellClick(l)})("weekNumberCellClick",function(l){return s.handleWeekNumberClick(l)})("cellEnter",function(l){return s.onCellEnter(s.cellEnter,l)})("cellLeave",function(l){return s.emitCellEvent(s.cellLeave,l)})("activeDateChange",function(l){return s.setActiveDate(l)})("focusCalendar",function(){return s.handleFocus()})("blurCalendar",function(l){return s.handleFocusout(l)}),e.k0s(),e.DNE(3,ws,1,3,"kendo-calendar-footer",3)),2&i){let r;e.R7$(),e.Y8G("ngIf",s.showCalendarHeader),e.R7$(),e.Y8G("showOtherMonthDays",s.showOtherMonthDays)("allowReverse",s.allowReverse)("id",s.calendarHeaderIdLabel)("activeView",s.activeViewEnum)("activeDescendant",s.ariaActivedescendant)("isActive",s.isActive||s.isHovered)("cellTemplateRef",null==(r=s.activeCellTemplate())?null:r.templateRef)("weekNumberTemplateRef",null==s.weekNumberTemplateRef?null:s.weekNumberTemplateRef.templateRef)("cellUID",s.cellUID)("weekDaysFormat",s.weekDaysFormat)("views",s.views)("min",s.min)("max",s.max)("focusedDate",s.focusedDate)("animateNavigation",s.animateNavigation)("showViewHeader",s.showViewHeader)("weekNumber",s.weekNumber)("activeRangeEnd",s.activeRangeEnd)("selectionRange",s.selectionRange)("selectedDates",s.selectedDates)("orientation",s.orientation)("tabIndex",s.tabIndex)("disabled",s.disabled),e.BMQ("aria-labelledby",s.multiViewCalendarHeaderIdLabel),e.R7$(),e.Y8G("ngIf",s.footer)}},dependencies:[x,w.bT,Jl,jd,d],encapsulation:2,changeDetection:0})}return n})();const Fs=$s("div"),Ah=$s("ul"),HE=$s("li"),XE=$s("td"),wg=$s("th"),Ph=$s("tr"),WE=$s("tbody"),YE=$s("thead"),Ig=$s("table"),Dg=(n,o)=>new Array(n).fill("1").map(o),Tg=n=>Fs(n,"k-flex k-content k-scrollable"),ek=(()=>{let n;return()=>E.nm?(n||(n=Fs([Tg([Ah([HE("<span>FEB</span>")])])],"k-calendar-navigation",{left:"0px",position:"absolute"})),n):null})(),Fh=({cells:n,rows:o},t,i)=>{let s;return()=>E.nm?(s||(s=((n,o,t)=>Fs([Fs('\n            <span class="k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-calendar-title">March 2017</span>\n            <span class="k-spacer"></span>\n            <span class="k-calendar-nav">\n                <button class="k-calendar-nav-today k-button k-button-md k-button-flat k-button-flat-base k-rounded-md">TODAY</button>\n            </span>\n        ',"k-calendar-header"),t?Ig([YE([Ph([wg("MO","k-calendar-th")],"k-calendar-tr")],"k-calendar-thead")],"k-calendar-weekdays k-calendar-table"):null,Tg([n,n])],o,{left:"-10000px",position:"absolute"}))(((n,o=1)=>Ig([WE([Ph([wg("1","k-calendar-th")],"k-calendar-tr")].concat(Dg(n,()=>Ph(Dg(o,t=>XE(`<span class="k-link">${t}</span>`,"k-calendar-td")),"k-calendar-tr"))),"k-calendar-tbody")],"k-calendar-table"))(o,n),t,i)),s):null},Hd=n=>n.querySelector(".k-scrollable"),Bh=n=>(Hd(n).classList.add("k-scrollable-horizontal"),n),xg=Fh({cells:7,rows:6},"k-vstack k-calendar-view k-calendar-monthview",!0),Og=Fh({cells:4,rows:3},"k-vstack k-calendar-view k-calendar-yearview",!1),Mg=Fh({cells:4,rows:3},"k-vstack k-calendar-view k-calendar-decadeview",!1),Ya=n=>parseFloat(window.getComputedStyle(n).height)||n.offsetHeight,Uc=n=>{const o=window.getComputedStyle(n);return parseFloat(o.width)+parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)||n.offsetWidth},Zl=n=>n.querySelector("tbody");let Xd=(()=>{class n{calendarHeight;headerHeight;monthViewHeight;yearViewHeight;decadeViewHeight;centuryViewHeight;navigationItemHeight;scrollableContentHeight;scrollableYearContentHeight;calendarWidth;monthViewWidth;yearViewWidth;decadeViewWidth;centuryViewWidth;scrollableContentWidth;hostContainer;ensureHeights(){void 0===this.calendarHeight&&this.calculateHeights()}calculateHeights(t){(0,E.nm)()&&(this.hostContainer=t,this.batch(xg(),i=>{const s=Zl(i);this.calendarHeight=Ya(i),this.monthViewHeight=Ya(s),this.headerHeight=Ya(s.children[0]),this.scrollableContentHeight=Ya(Hd(i))}),this.batch(Bh(xg()),i=>{const s=Zl(i);this.calendarWidth=Uc(i),this.monthViewWidth=Uc(s),this.scrollableContentWidth=Uc(Hd(i))}),this.batch(Og(),i=>{this.yearViewHeight=Ya(Zl(i)),this.scrollableYearContentHeight=Ya(Hd(i))}),this.batch(Bh(Og()),i=>{this.yearViewWidth=Uc(Zl(i))}),this.batch(Mg(),i=>{this.decadeViewHeight=Ya(Zl(i)),this.centuryViewHeight=this.decadeViewHeight}),this.batch(Bh(Mg()),i=>{this.decadeViewWidth=Uc(Zl(i)),this.centuryViewWidth=this.decadeViewWidth}),this.batch(ek(),i=>{this.navigationItemHeight=Ya(i.querySelector("li"))}))}viewHeight(t){return this.viewDimension(t,"height")}viewWidth(t){return this.viewDimension(t,"width")}viewDimension(t,i){const s="height"===i?"ViewHeight":"ViewWidth";switch(t){case lt.month:return this[`month${s}`];case lt.year:return this[`year${s}`];case lt.decade:return this[`decade${s}`];case lt.century:return this[`century${s}`];default:return 1}}batch(t,i){if(!kt(this.hostContainer))return;const s=this.hostContainer.cloneNode();document.body.appendChild(s);try{i(s.appendChild(t))}finally{document.body.removeChild(s)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class ok{total;rowHeight;detailRowHeight;offsets=[];heights=[];constructor(o=0,t,i){this.total=o,this.rowHeight=t,this.detailRowHeight=i;let s=0;for(let r=0;r<o;r++)this.offsets.push(s),s+=t,this.heights.push(t)}height(o){return this.heights[o]}expandDetail(o){this.height(o)===this.rowHeight&&this.updateRowHeight(o,this.detailRowHeight)}collapseDetail(o){this.height(o)>this.rowHeight&&this.updateRowHeight(o,-1*this.detailRowHeight)}index(o){if(o<0)return;const t=this.offsets.reduce((i,s,r)=>void 0!==i?i:s===o?r:s>o?r-1:void 0,void 0);return void 0===t?this.total-1:t}offset(o){return this.offsets[o]}totalHeight(){return this.heights.reduce((o,t)=>o+t,0)}updateRowHeight(o,t){this.heights[o]+=t,this.offsets=((n,o,t)=>[...n.slice(0,o+1),...n.slice(o+1).map(i=>i+t)])(this.offsets,o,t)}}const Wd=n=>Math.max(n,0);class Lh{offset;constructor(o){this.offset=o}}class Yd{skip;constructor(o){this.skip=o}}class rk{scrollObservable;direction;firstLoaded=0;lastLoaded;lastScroll;take;total;rowHeightService;scrollSubscription;subscription;bottomOffset=0;topOffset=0;constructor(o){this.scrollObservable=o}create(o,t,i,s,r=0,l=0,u="vertical"){this.rowHeightService=o,this.firstLoaded=t,this.lastLoaded=t+i,this.take=i,this.total=s,this.lastScroll=0,this.topOffset=r,this.bottomOffset=l,this.direction=u;const f=new dr.m(2),C=this.rowsForHeight(r),T=Wd(t-C);return f.next(new Lh(this.rowOffset(T))),C&&f.next(new Yd(T)),this.subscription=new xe.c(O=>{this.unsubscribe(),this.scrollSubscription=this.scrollObservable.subscribe(G=>this.onScroll(G,O))}).subscribe(O=>f.next(O)),f}destroy(){this.unsubscribe(),this.subscription&&this.subscription.unsubscribe()}onScroll({scrollLeft:o,scrollTop:t,offsetHeight:i,offsetWidth:s},r){const l="vertical"===this.direction?t:o,u="vertical"===this.direction?i:s;if(this.lastScroll===l)return;const f=this.lastScroll>=l;this.lastScroll=l;const C=this.rowHeightService.index(Wd(l-this.topOffset)),T=this.rowHeightService.index(Wd(l+u-this.bottomOffset));if(!f&&T>=this.lastLoaded&&this.lastLoaded<this.total&&(this.firstLoaded=C,r.next(new Lh(this.rowOffset(C))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),r.next(new Yd(this.firstLoaded))),f&&C<=this.firstLoaded){const O=Math.floor(.3*this.take);this.firstLoaded=Wd(C-O),r.next(new Lh(this.rowOffset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),r.next(new Yd(this.firstLoaded))}}rowOffset(o){return this.rowHeightService.offset(o)+this.topOffset}rowsForHeight(o){return Math.ceil(o/this.rowHeightService.height(0))}unsubscribe(){this.scrollSubscription&&(this.scrollSubscription.unsubscribe(),this.scrollSubscription=null)}}const yg=new e.nKC("dateinputs-scroll-service-factory");function ak(n){return new rk(n)}var aa=function(n){return n[n.Backward=0]="Backward",n[n.Forward=1]="Forward",n}(aa||{});const ck={[aa.Forward]:n=>o=>o+n,[aa.Backward]:n=>o=>o-n},dk={[aa.Forward]:n=>o=>Math.min(o,n),[aa.Backward]:n=>o=>Math.max(o,n)},uk={[aa.Forward]:n=>o=>o<n,[aa.Backward]:n=>o=>o>n};let ec=(()=>{class n{container;renderer;zone;scrollBarWidthService;direction="vertical";itemHeight=1;itemWidth=1;topOffset=0;bottomOffset=0;maxScrollDifference=100;scrollOffsetSize=0;scrollDuration=150;skip;take;total;activeIndexChange=new e.bkB;pageChange=new e.bkB;scrollChange=new e.bkB;wrapperClasses=!0;get horizontalClass(){return"horizontal"===this.direction}totalSize;get totalVertexLength(){const t=`${this.totalSize}px`;return"vertical"===this.direction?{height:t}:{width:t}}get containerOffsetSize(){return this.getContainerProperty("vertical"===this.direction?"offsetHeight":"offsetWidth")}get containerScrollSize(){return this.getContainerProperty("vertical"===this.direction?"scrollHeight":"scrollWidth")}get containerScrollPosition(){return this.getContainerProperty("vertical"===this.direction?"scrollTop":"scrollLeft")}lastActiveIndex;resolvedPromise=Promise.resolve(null);scroller;rowHeightService;dispatcher=new me.B;scrollSubscription;containerScrollSubscription;animationSubscription;constructor(t,i,s,r,l){this.container=i,this.renderer=s,this.zone=r,this.scrollBarWidthService=l,this.scroller=t(this.dispatcher)}ngOnChanges(t){(t.direction||t.take||t.total)&&(this.initServices(),this.totalSize=this.rowHeightService.totalHeight()+this.bottomOffset)}ngOnInit(){this.rowHeightService||(this.rowHeightService=this.createRowHeightService())}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{this.containerScrollSubscription=this.scroll$().pipe((0,tt.T)(t=>t.target)).subscribe(t=>{this.dispatcher.next(t),this.emitActiveIndex()})})}ngOnDestroy(){this.containerScrollSubscription&&this.containerScrollSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.animationSubscription&&this.animationSubscription.unsubscribe()}getContainerProperty(t){return this.container.nativeElement[t]}activeIndex(){return this.itemIndex(Math.ceil(this.containerScrollPosition))}itemIndex(t){return this.rowHeightService.index(t)}itemOffset(t){return this.rowHeightService.offset(t)}isIndexVisible(t){if(!this.rowHeightService)return!1;const i=this.containerScrollPosition,s=i+this.containerOffsetSize,r=this.rowHeightService.offset(t),l=r+this.rowHeightService.height(t);return r>=i&&l<=s}isListScrolled(t){return this.containerScrollPosition!==this.rowHeightService.offset(t)}scrollTo(t){this.renderer.setProperty(this.container.nativeElement,"vertical"===this.direction?"scrollTop":"scrollLeft",t)}scrollToIndex(t){this.zone.runOutsideAngular(()=>{this.resolvedPromise.then(()=>{this.scrollTo(this.rowHeightService.offset(t))})})}scrollToBottom(){this.scrollTo(this.totalSize)}animateToIndex(t){this.animationSubscription&&this.animationSubscription.unsubscribe();const i=this.rowHeightService.offset(t),s=this.getContainerScrollDirection(i),{start:r,end:l}=this.scrollRange(i,s);if(r===l)return;const u=this.scrollStep(r,l),f=ck[s](u),C=dk[s](l),T=uk[s](f(l));this.zone.runOutsideAngular(()=>{this.animationSubscription=(0,Ir.z)((0,Je.of)(r),(0,Ei.Y)(0,Do)).pipe((0,tt.T)(O=>O[0]),(0,po.S)(f),function xo(n,o=!1){return(0,qi.N)((t,i)=>{let s=0;t.subscribe((0,De._)(i,r=>{const l=n(r,s++);(l||o)&&i.next(r),!l&&i.complete()}))})}(T),(0,tt.T)(C)).subscribe(O=>this.scrollTo(O))})}scrollRange(t,i){const s=this.containerScrollPosition;if(parseInt(t,10)===parseInt(s,10))return{start:t,end:t};const r=this.containerMaxScroll(),l=i===aa.Backward?1:-1,u=((n,o,t)=>Math.min(Math.abs(o-n),t))(s,t,this.maxScrollDifference),f=Math.min(t,r);return{start:Math.min(Math.max(f+l*u,0),r),end:f}}scrollStep(t,i){return Math.abs(i-t)/(this.scrollDuration/17)}scroll$(){return(0,E.nm)()?(0,Ot.R)(this.container.nativeElement,"scroll"):we.w}initServices(){this.rowHeightService=this.createRowHeightService(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.scrollSubscription=this.scroller.create(this.rowHeightService,this.skip,this.take,this.total,this.topOffset,this.scrollOffsetSize,this.direction).subscribe(t=>{t instanceof Yd?this.pageChange.emit(t):this.scrollChange.emit(t)})}createRowHeightService(){return new ok(this.total,"vertical"===this.direction?this.itemHeight:this.itemWidth,0)}emitActiveIndex(){const t=this.rowHeightService.index(this.containerScrollPosition-this.topOffset);this.lastActiveIndex!==t&&(this.lastActiveIndex=t,this.activeIndexChange.emit(t))}containerMaxScroll(){return this.containerScrollSize-this.containerOffsetSize}getContainerScrollDirection(t){return t<this.containerScrollPosition?aa.Backward:aa.Forward}static \u0275fac=function(i){return new(i||n)(e.rXU(yg),e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(e.SKi),e.rXU(E._9))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-virtualization"]],hostVars:8,hostBindings:function(i,s){2&i&&e.AVh("k-flex",s.wrapperClasses)("k-content",s.wrapperClasses)("k-scrollable",s.wrapperClasses)("k-scrollable-horizontal",s.horizontalClass)},inputs:{direction:"direction",itemHeight:"itemHeight",itemWidth:"itemWidth",topOffset:"topOffset",bottomOffset:"bottomOffset",maxScrollDifference:"maxScrollDifference",scrollOffsetSize:"scrollOffsetSize",scrollDuration:"scrollDuration",skip:"skip",take:"take",total:"total"},outputs:{activeIndexChange:"activeIndexChange",pageChange:"pageChange",scrollChange:"scrollChange"},standalone:!0,features:[e.Jv_([{provide:yg,useValue:ak}]),e.OA$,e.aNF],ngContentSelectors:qr,decls:2,vars:3,consts:[[1,"k-scrollable-placeholder",3,"ngStyle"]],template:function(i,s){1&i&&(e.NAR(),e.SdG(0),e.nrm(1,"div",0)),2&i&&(e.R7$(),e.AVh("k-scrollable-horizontal-placeholder","horizontal"===s.direction),e.Y8G("ngStyle",s.totalVertexLength))},dependencies:[w.B3],encapsulation:2})}return n})(),Ng=(()=>{class n{bus;dom;intl;cdr;renderer;activeView;min=new Date(jn);max=new Date(Hn);focusedDate=new Date;templateRef;valueChange=new e.bkB;pageChange=new e.bkB;virtualization;list;get getComponentClass(){return!0}activeViewValue;service;dates=[];style;take=30;skip;total;itemHeight;topOffset;bottomOffset;maxViewHeight;indexToScroll=-1;intlSubscription;constructor(t,i,s,r,l){this.bus=t,this.dom=i,this.intl=s,this.cdr=r,this.renderer=l}ngOnInit(){this.dom.ensureHeights();const t=this.dom.calendarHeight;this.itemHeight=this.dom.navigationItemHeight,this.maxViewHeight=this.dom.monthViewHeight,this.topOffset=(t-this.itemHeight)/2,this.bottomOffset=t-this.itemHeight,this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}ngOnChanges(t){if(this.service=this.bus.service(this.activeView),!this.service)return;this.activeViewValue=lt[this.activeView];const i=Ss(this.focusedDate,this.min,this.max),s=this.service.total(this.min,this.max),r=this.total&&this.total!==s;this.skip=this.service.skip(i,this.min),this.total=s,(r||!this.service.isInArray(i,this.dates))&&(this.dates=this.service.datesList(i,this.getTake(this.skip))),(t.focusedDate||r)&&(this.indexToScroll=this.service.skip(this.focusedDate,this.min))}ngOnDestroy(){this.intlSubscription&&this.intlSubscription.unsubscribe()}ngAfterViewInit(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}ngAfterViewChecked(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}onPageChange({skip:t}){this.dates=this.service.datesList(this.service.addToDate(this.min,t),this.getTake(t)),this.pageChange.emit()}scrollChange({offset:t}){const i=this.list.nativeElement,s=`translateY(${t}px)`;this.renderer.setStyle(i,"transform",s),this.renderer.setStyle(i,"-ms-transform",s)}handleDateChange(t){const i=Lc(t.target,s=>s.hasAttribute("data-date-index"),this.list.nativeElement);if(i){const s=parseInt(i.getAttribute("data-date-index"),10);this.valueChange.emit(W(this.dates[s]))}}getTake(t){return Math.min(this.total-t,this.take)}intlChange(){this.activeView===lt.month&&this.cdr.markForCheck()}static \u0275fac=function(i){return new(i||n)(e.rXU(ko),e.rXU(Xd),e.rXU(Bi.Bs),e.rXU(e.gRc),e.rXU(e.sFG))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-calendar-navigation"]],viewQuery:function(i,s){if(1&i&&(e.GBs(ec,5),e.GBs(vr,7)),2&i){let r;e.mGM(r=e.lsd())&&(s.virtualization=r.first),e.mGM(r=e.lsd())&&(s.list=r.first)}},hostVars:2,hostBindings:function(i,s){2&i&&e.AVh("k-calendar-navigation",s.getComponentClass)},inputs:{activeView:"activeView",min:"min",max:"max",focusedDate:"focusedDate",templateRef:"templateRef"},outputs:{valueChange:"valueChange",pageChange:"pageChange"},standalone:!0,features:[e.OA$,e.aNF],decls:5,vars:12,consts:[["list",""],[1,"k-calendar-navigation-highlight"],[3,"pageChange","scrollChange","skip","take","total","itemHeight","topOffset","bottomOffset","maxScrollDifference"],[1,"k-reset",3,"kendoEventsOutsideAngular","scope"],[4,"kFor","kForOf"],[3,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,s){if(1&i){const r=e.RV6();e.nrm(0,"span",1),e.j41(1,"kendo-virtualization",2),e.bIt("pageChange",function(u){return e.eBV(r),e.Njj(s.onPageChange(u))})("scrollChange",function(u){return e.eBV(r),e.Njj(s.scrollChange(u))}),e.j41(2,"ul",3,0),e.DNE(4,Ea,4,11,"li",4),e.k0s()()}2&i&&(e.R7$(),e.Y8G("skip",s.skip)("take",s.take)("total",s.total)("itemHeight",s.itemHeight)("topOffset",s.topOffset)("bottomOffset",s.bottomOffset)("maxScrollDifference",s.maxViewHeight),e.R7$(),e.Y8G("kendoEventsOutsideAngular",e.eq3(10,m,s.handleDateChange))("scope",s),e.R7$(2),e.Y8G("kForOf",s.dates))},dependencies:[ec,E.Uj,ql,w.bT,w.T3],encapsulation:2,changeDetection:0})}return n})(),Gg=(()=>{class n{bus;cdr;intl;dom;renderer;allowReverse;cellTemplateRef;weekNumberTemplateRef;headerTitleTemplateRef;headerTemplateRef;footerTemplateRef;showOtherMonthDays;activeView;cellUID;focusedDate;isActive=!0;min=new Date(jn);max=new Date(Hn);selectedDates=[];tabIndex=0;disabled=!1;id;showFooter=!1;weekDaysFormat="short";activeRangeEnd;selectionRange;size;get weekNumber(){return this.showWeekNumbers&&this.isMonthView()}set weekNumber(t){this.showWeekNumbers=t}cellEnter=new e.bkB;cellClick=new e.bkB;weekNumberCellClick=new e.bkB;activeDateChange=new e.bkB;todayButtonClick=new e.bkB;pageChange=new e.bkB;focusCalendar=new e.bkB;blurCalendar=new e.bkB;focusedCellChange=new e.bkB;virtualization;headerComponent;get headerTitle(){return this.headerComponent?.title}list;getComponentClass=!0;get getComponentMonthClass(){return this.activeView===lt.month}get getComponentYearClass(){return this.activeView===lt.year}get getComponentDecadeClass(){return this.activeView===lt.decade}get getComponentCenturyClass(){return this.activeView===lt.century}get activeViewValue(){return lt[this.activeView]}service;activeDate;dates=[];cols=[];weekNames=[];wideWeekNames=[];take=5;skip;total;bottomOffset;viewHeight;viewOffset;animateToIndex=!0;indexToScroll=-1;showWeekNumbers;minViewsToRender=1;intlSubscription;constructor(t,i,s,r,l){this.bus=t,this.cdr=i,this.intl=s,this.dom=r,this.renderer=l}ngOnInit(){this.weekNames=this.getWeekNames(this.weekDaysFormat),this.wideWeekNames=this.getWeekNames("wide"),this.bottomOffset=this.getBottomOffset(),this.viewOffset=-1*this.dom.headerHeight,this.viewHeight=this.dom.viewHeight(this.activeView),this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}ngOnChanges(t){if(this.service=this.bus.service(this.activeView),!this.service)return;this.cols=new Array(this.service.rowLength({prependCell:this.weekNumber})).fill(""),this.weekNames=js(t,"weekNumber")&&this.weekNumber?this.getWeekNames(this.weekDaysFormat):this.weekNames,js(t,"weekDaysFormat")&&!js(t,"weekNumber")&&(this.weekNames=this.getWeekNames(this.weekDaysFormat)),this.wideWeekNames=js(t,"weekNumber")&&this.weekNumber?this.getWeekNames("wide"):this.weekNames;const i=js(t,"activeView"),s=this.focusedDate,r=Ss(this.service.viewDate(s,this.max,this.minViewsToRender),this.min,this.max),l=this.service.total(this.min,this.max),f=this.total&&this.total!==l||!this.service.isInArray(s,this.dates);this.skip=this.service.skip(r,this.min),this.total=l,this.animateToIndex=!i,this.bottomOffset=this.getBottomOffset(),this.viewHeight=this.dom.viewHeight(this.activeView),f&&(this.dates=this.service.datesList(r,this.getTake(this.skip))),((n,o)=>n&&o&&n.getFullYear()===o.getFullYear()&&n.getMonth()===o.getMonth())(this.activeDate,s)||(this.activeDate=W(s));const C=js(t,"focusedDate")||i;(f||C||this.virtualization.isIndexVisible(this.skip))&&(this.indexToScroll=this.service.skip(s,this.min))}ngOnDestroy(){this.intlSubscription&&this.intlSubscription.unsubscribe()}ngAfterViewInit(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}ngAfterViewChecked(){-1!==this.indexToScroll&&(this.virtualization[this.animateToIndex?"animateToIndex":"scrollToIndex"](this.indexToScroll),this.animateToIndex=!0,this.indexToScroll=-1)}onPageChange({skip:t}){this.dates=this.service.datesList(this.service.addToDate(this.min,t),this.getTake(t)),this.pageChange.emit()}scrollChange({offset:t}){const i=this.list.nativeElement,s=`translateY(${t}px)`;this.renderer.setStyle(i,"transform",s),this.renderer.setStyle(i,"-ms-transform",s)}setActiveDate(t){const i=this.service.addToDate(this.min,t);this.activeDate=i,this.activeDateChange.emit(i),this.cdr.detectChanges()}isMonthView(){return this.activeView===lt.month}isScrolled(){return this.virtualization.isListScrolled(this.service.skip(this.focusedDate,this.min))}getTabIndex(){return this.disabled?null:this.tabIndex}getBottomOffset(){return this.getScrollableHeight()-this.dom.viewHeight(this.activeView)}getScrollableHeight(){return this.activeView===lt.month?this.dom.scrollableContentHeight:this.dom.scrollableYearContentHeight}getTake(t){return Math.min(this.total-t,this.take)}getWeekNames(t){const i=Nd(this.intl.dateFormatNames({nameType:t,type:"days"}),this.intl.firstDay());return this.weekNumber?[""].concat(i):i}intlChange(){this.weekNames=this.getWeekNames(this.weekDaysFormat),this.wideWeekNames=this.getWeekNames("wide"),this.isMonthView()&&this.cdr.markForCheck()}static \u0275fac=function(i){return new(i||n)(e.rXU(ko),e.rXU(e.gRc),e.rXU(Bi.Bs),e.rXU(Xd),e.rXU(e.sFG))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-calendar-viewlist"]],viewQuery:function(i,s){if(1&i&&(e.GBs(ec,5),e.GBs(Jl,5),e.GBs(vr,7)),2&i){let r;e.mGM(r=e.lsd())&&(s.virtualization=r.first),e.mGM(r=e.lsd())&&(s.headerComponent=r.first),e.mGM(r=e.lsd())&&(s.list=r.first)}},hostVars:12,hostBindings:function(i,s){2&i&&e.AVh("k-vstack",s.getComponentClass)("k-calendar-view",s.getComponentClass)("k-calendar-monthview",s.getComponentMonthClass)("k-calendar-yearview",s.getComponentYearClass)("k-calendar-decadeview",s.getComponentDecadeClass)("k-calendar-centuryview",s.getComponentCenturyClass)},inputs:{allowReverse:"allowReverse",cellTemplateRef:"cellTemplateRef",weekNumberTemplateRef:"weekNumberTemplateRef",headerTitleTemplateRef:"headerTitleTemplateRef",headerTemplateRef:"headerTemplateRef",footerTemplateRef:"footerTemplateRef",showOtherMonthDays:"showOtherMonthDays",activeView:"activeView",cellUID:"cellUID",focusedDate:"focusedDate",isActive:"isActive",min:"min",max:"max",selectedDates:"selectedDates",tabIndex:"tabIndex",disabled:"disabled",id:"id",showFooter:"showFooter",weekDaysFormat:"weekDaysFormat",activeRangeEnd:"activeRangeEnd",selectionRange:"selectionRange",size:"size",weekNumber:"weekNumber"},outputs:{cellEnter:"cellEnter",cellClick:"cellClick",weekNumberCellClick:"weekNumberCellClick",activeDateChange:"activeDateChange",todayButtonClick:"todayButtonClick",pageChange:"pageChange",focusCalendar:"focusCalendar",blurCalendar:"blurCalendar",focusedCellChange:"focusedCellChange"},standalone:!0,features:[e.OA$,e.aNF],decls:9,vars:23,consts:[["list",""],[3,"todayButtonClick","currentDate","size","min","max","id","activeView","titleTemplateRef","headerTemplateRef"],["class","k-calendar-weekdays k-calendar-table",3,"table-layout",4,"ngIf"],[3,"pageChange","scrollChange","activeIndexChange","tabindex","skip","take","total","itemHeight","topOffset","bottomOffset","scrollOffsetSize","maxScrollDifference"],["role","grid",1,"k-calendar-table",3,"focus","blur"],[4,"ngFor","ngForOf"],["class","k-calendar-tbody","kendoCalendarView","","role","rowgroup",3,"allowReverse","activeRangeEnd","selectionRange","showOtherMonthDays","headerTitle","activeView","isActive","min","max","cellUID","focusedDate","selectedDates","weekNumber","templateRef","weekNumberTemplateRef","viewDate","cellClick","weekNumberCellClick","focusedCellId","cellEnter",4,"kFor","kForOf"],[3,"footerTemplateRef","activeViewValue","currentDate",4,"ngIf"],[1,"k-calendar-weekdays","k-calendar-table"],[1,"k-calendar-thead"],[1,"k-calendar-tr"],["class","k-calendar-th","scope","col","role","columnheader",4,"ngFor","ngForOf"],["scope","col","role","columnheader",1,"k-calendar-th"],["kendoCalendarView","","role","rowgroup",1,"k-calendar-tbody",3,"cellClick","weekNumberCellClick","focusedCellId","cellEnter","allowReverse","activeRangeEnd","selectionRange","showOtherMonthDays","headerTitle","activeView","isActive","min","max","cellUID","focusedDate","selectedDates","weekNumber","templateRef","weekNumberTemplateRef","viewDate"],[3,"footerTemplateRef","activeViewValue","currentDate"]],template:function(i,s){if(1&i){const r=e.RV6();e.j41(0,"kendo-calendar-header",1),e.bIt("todayButtonClick",function(u){return e.eBV(r),e.Njj(s.todayButtonClick.emit(u))}),e.k0s(),e.DNE(1,g,4,3,"table",2),e.j41(2,"kendo-virtualization",3),e.bIt("pageChange",function(u){return e.eBV(r),e.Njj(s.onPageChange(u))})("scrollChange",function(u){return e.eBV(r),e.Njj(s.scrollChange(u))})("activeIndexChange",function(u){return e.eBV(r),e.Njj(s.setActiveDate(u))}),e.j41(3,"table",4,0),e.bIt("focus",function(){return e.eBV(r),e.Njj(s.focusCalendar.emit())})("blur",function(u){return e.eBV(r),e.Njj(s.blurCalendar.emit(u))}),e.j41(5,"colgroup"),e.DNE(6,b,1,0,"col",5),e.k0s(),e.DNE(7,D,1,16,"tbody",6),e.k0s()(),e.DNE(8,F,1,3,"kendo-calendar-footer",7)}2&i&&(e.Y8G("currentDate",s.activeDate)("size",s.size)("min",s.min)("max",s.max)("id",s.id)("activeView",s.activeView)("titleTemplateRef",s.headerTitleTemplateRef)("headerTemplateRef",s.headerTemplateRef),e.R7$(),e.Y8G("ngIf",s.isMonthView()),e.R7$(),e.Y8G("tabindex",-1)("skip",s.skip)("take",s.take)("total",s.total)("itemHeight",s.viewHeight)("topOffset",s.viewOffset)("bottomOffset",s.bottomOffset)("scrollOffsetSize",s.viewOffset)("maxScrollDifference",s.viewHeight),e.R7$(),e.BMQ("tabindex",s.getTabIndex())("aria-labelledby",s.id),e.R7$(3),e.Y8G("ngForOf",s.cols),e.R7$(),e.Y8G("kForOf",s.dates),e.R7$(),e.Y8G("ngIf",s.showFooter))},dependencies:[Jl,w.bT,w.pM,ec,ql,ta,d],encapsulation:2,changeDetection:0})}return n})(),Ag=(()=>{class n{dom;zone;divideByMagnitude;powerByMagnitude;navSubscription;viewSubscription;navigator;view;constructor(t,i){this.dom=t,this.zone=i}configure(t){const i=Math.max(this.dom.viewHeight(t)/this.dom.navigationItemHeight,1);this.divideByMagnitude=(n=>o=>Math.floor(o/n))(i),this.powerByMagnitude=(n=>o=>o*n)(i)}sync(t,i){this.unsubscribe(),t&&i&&(this.navigator=t,this.view=i,this.zone.runOutsideAngular(()=>{let s,r;this.navSubscription=t.scroll$().subscribe(l=>{r?r=!1:(s=!0,this.scrollSiblingOf(l.target))}),this.viewSubscription=i.scroll$().subscribe(l=>{s?s=!1:(r=!0,this.scrollSiblingOf(l.target))})}))}scrollSiblingOf(t){const i=this.siblingComponent(t),s=this.calculateScroll(i,t.scrollTop);i.scrollTo(s)}siblingComponent(t){return this.navigator.container.nativeElement===t?this.view:this.navigator}calculateScroll(t,i){return(t===this.navigator?this.divideByMagnitude:this.powerByMagnitude)(i)}destroy(){this.unsubscribe()}unsubscribe(){this.navSubscription&&this.navSubscription.unsubscribe(),this.viewSubscription&&this.viewSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(e.KVO(Xd),e.KVO(e.SKi))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),qa=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoCalendarNavigationItemTemplate",""]],standalone:!0})}return n})();class Ma{onFocus=new e.bkB;onBlur=new e.bkB;sameDateSelected=new e.bkB;dateCompletenessChange=new e.bkB;calendar;input;timeSelector}let Pg=(()=>{class n extends v{service;constructor(t){super(),this.service=t}get override(){return!0}static \u0275fac=function(i){return new(i||n)(e.rXU(ve.Pi))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-multiviewcalendar-messages"]],standalone:!0,features:[e.Jv_([{provide:v,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),qd=(()=>{class n extends ve.EX{today;prevButtonTitle;nextButtonTitle;parentViewButtonTitle;static \u0275fac=(()=>{let t;return function(s){return(t||(t=e.xGo(n)))(s||n)}})();static \u0275dir=e.FsC({type:n,selectors:[["kendo-calendar-messages-base"]],inputs:{today:"today",prevButtonTitle:"prevButtonTitle",nextButtonTitle:"nextButtonTitle",parentViewButtonTitle:"parentViewButtonTitle"},features:[e.Vt3]})}return n})(),vk=(()=>{class n extends qd{service;constructor(t){super(),this.service=t}static \u0275fac=function(i){return new(i||n)(e.rXU(ve.Pi))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoCalendarLocalizedMessages",""]],standalone:!0,features:[e.Jv_([{provide:qd,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3]})}return n})();const Jd="https://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/#toc-using-with-json",Fg=n=>n?n.virtualization:null,kk={multi:!0,provide:Ne.kq,useExisting:(0,e.Rfq)(()=>tc)},Rk={multi:!0,provide:Ne.cz,useExisting:(0,e.Rfq)(()=>tc)},wk={provide:E.eW,useExisting:(0,e.Rfq)(()=>tc)};let tc=(()=>{class n{bus;dom;element;navigator;renderer;cdr;ngZone;injector;scrollSyncService;disabledDatesService;localization;selectionService;pickerService;set showOtherMonthDays(t){this._showOtherMonthDays=t}get showOtherMonthDays(){return void 0===this._showOtherMonthDays?"classic"===this.type:this._showOtherMonthDays}_showOtherMonthDays;id;get popupId(){return`kendo-popup-${this.bus.calendarId}`}set focusedDate(t){if(this.activeViewDate&&!Gt(this._focusedDate,t)){const i=this.bus.service(this.activeViewEnum),s=i.lastDayOfPeriod(this.activeViewDate);i.isInRange(t,this.activeViewDate,s)||this.emitNavigate(t)}this._focusedDate=t||rs(),this.setAriaActivedescendant()}get focusedDate(){return this._focusedDate>this.max?this.max:this._focusedDate<this.min?this.min:this._focusedDate}get headerId(){return this.id+"-header"}set min(t){this._min=t||new Date(jn)}get min(){return this._min}set max(t){this._max=t||new Date(Hn)}get max(){return this._max}rangeValidation=!1;weekDaysFormat="short";footer=!1;set selection(t){this._selection=t,this.selectionSetter=!0}get selection(){return this._selection}_selection="single";allowReverse=!1;set value(t){this.valueSetter=!0,this._value=t}get value(){return this._value}disabled=!1;tabindex=0;set tabIndex(t){this.tabindex=t}get tabIndex(){return this.tabindex}set disabledDates(t){this.disabledDatesService.initialize(t),this._disabledDates=t}get disabledDates(){return this._disabledDates}navigation=!0;activeView=lt[lt.month];bottomView=lt[lt.month];topView=lt[lt.century];set type(t){this.renderer.removeClass(this.element.nativeElement,`k-calendar-${this.type}`),"infinite"===t&&this.renderer.addClass(this.element.nativeElement,`k-calendar-${t}`),this._type=t}get type(){return this._type}animateNavigation=!1;weekNumber=!1;closePopup=new e.bkB;activeViewChange=new e.bkB;navigate=new e.bkB;activeViewDateChange=new e.bkB;onBlur=new e.bkB;onFocus=new e.bkB;valueChange=new e.bkB;cellTemplate;set cellTemplateRef(t){this._cellTemplateRef=t}get cellTemplateRef(){return this._cellTemplateRef||this.cellTemplate}monthCellTemplate;set monthCellTemplateRef(t){this._monthCellTemplateRef=t}get monthCellTemplateRef(){return this._monthCellTemplateRef||this.monthCellTemplate}yearCellTemplate;set yearCellTemplateRef(t){this._yearCellTemplateRef=t}get yearCellTemplateRef(){return this._yearCellTemplateRef||this.yearCellTemplate}decadeCellTemplate;set decadeCellTemplateRef(t){this._decadeCellTemplateRef=t}get decadeCellTemplateRef(){return this._decadeCellTemplateRef||this.decadeCellTemplate}centuryCellTemplate;set centuryCellTemplateRef(t){this._centuryCellTemplateRef=t}get centuryCellTemplateRef(){return this._centuryCellTemplateRef||this.centuryCellTemplate}weekNumberTemplate;set weekNumberTemplateRef(t){this._weekNumberTemplateRef=t}get weekNumberTemplateRef(){return this._weekNumberTemplateRef||this.weekNumberTemplate}headerTitleTemplate;headerTemplate;footerTemplate;set headerTitleTemplateRef(t){this._headerTitleTemplateRef=t}get headerTitleTemplateRef(){return this._headerTitleTemplateRef||this.headerTitleTemplate}set headerTemplateRef(t){this._headerTemplateRef=t}get headerTemplateRef(){return this._headerTemplateRef||this.headerTemplate}set footerTemplateRef(t){this._footerTemplateRef=t}get footerTemplateRef(){return this._footerTemplateRef||this.footerTemplate}navigationItemTemplate;set navigationItemTemplateRef(t){this._navigationItemTemplateRef=t}get navigationItemTemplateRef(){return this._navigationItemTemplateRef||this.navigationItemTemplate}set size(t){this._size=t}get size(){return this._size}_size=Eo;set activeRangeEnd(t){this._activeRangeEnd=t}get activeRangeEnd(){return this._activeRangeEnd}_activeRangeEnd="start";navigationView;monthView;multiViewCalendar;isActive=!1;cellUID=(0,E.Os)();selectionRange={start:null,end:null};selectedDates=[];rangePivot;_disabledDates;_min=new Date(jn);_max=new Date(Hn);_focusedDate=rs();_value;onControlChange=Rt;onControlTouched=Rt;onValidatorChange=Rt;minValidateFn=Rt;maxValidateFn=Rt;changes={};valueSetter=!1;selectionSetter=!1;syncNavigation=!0;viewChangeSubscription;_type="infinite";_cellTemplateRef;_monthCellTemplateRef;_yearCellTemplateRef;_decadeCellTemplateRef;_centuryCellTemplateRef;_weekNumberTemplateRef;_headerTitleTemplateRef;_headerTemplateRef;_footerTemplateRef;_navigationItemTemplateRef;get activeViewEnum(){const t=lt[this.activeView];return t<this.bottomViewEnum?this.bottomViewEnum:t}get bottomViewEnum(){return lt[this.bottomView]}get topViewEnum(){return lt[this.topView]}get widgetId(){return this.id}get ariaDisabled(){return"classic"===this.type?void 0:this.disabled}domEvents=[];control;pageChangeSubscription;resolvedPromise=Promise.resolve(null);destroyed=!1;localizationChangeSubscription;activeViewDate;currentlyFocusedElement;canHover=!1;constructor(t,i,s,r,l,u,f,C,T,O,G,P,Q){this.bus=t,this.dom=i,this.element=s,this.navigator=r,this.renderer=l,this.cdr=u,this.ngZone=f,this.injector=C,this.scrollSyncService=T,this.disabledDatesService=O,this.localization=G,this.selectionService=P,this.pickerService=Q,(0,Vt.$j)(Bo),this.id=`kendo-calendarid-${this.bus.calendarId}`,this.pickerService&&(this.pickerService.calendar=this)}ngOnInit(){this.setClasses(this.element.nativeElement),"infinite"===this.type&&(this.dom.calculateHeights(this.element.nativeElement),this.scrollSyncService.configure(this.activeViewEnum)),this.localizationChangeSubscription=this.localization.changes.subscribe(()=>this.cdr.markForCheck()),this.viewChangeSubscription=this.bus.viewChanged.subscribe(({view:t})=>this.handleActiveViewChange(lt[t])),this.control=this.injector.get(Ne.vO,null),this.element&&this.ngZone.runOutsideAngular(()=>{this.bindEvents()})}ngOnChanges(t){this.changes=t,this.verifyChanges(),this.bus.configure(this.bottomViewEnum,this.topViewEnum),this.scrollSyncService.configure(this.activeViewEnum)}ngDoCheck(){(this.valueSetter||this.selectionSetter)&&("range"===this.selection&&(this.value?.start||this.value?.end)&&this.focusedDate.getTime()!==this.value.start?.getTime()&&this.focusedDate.getTime()!==this.value.end?.getTime()&&(this.focusedDate=this.value.start||this.value.end||rs()),this.setValue(this.value),this.valueSetter=!1,this.selectionSetter=!1),$l(this.changes,"focusedDate")&&(this.focusedDate=Ss(this.changes.focusedDate.currentValue,this.min,this.max)),this.changes.navigation&&(this.syncNavigation=!0),(this.changes.min||this.changes.max||this.changes.rangeValidation)&&(this.minValidateFn=this.rangeValidation?xa(this.min):Rt,this.maxValidateFn=this.rangeValidation?Oa(this.max):Rt,this.onValidatorChange()),this.changes={}}ngAfterViewInit(){if(this.setAriaActivedescendant(),"none"!==this.size){const t="infinite"===this.type?this.element:this.multiViewCalendar.element;this.renderer.removeClass(t.nativeElement,hn("calendar",this.size)),this.renderer.addClass(t.nativeElement,hn("calendar",this.size))}}ngAfterViewChecked(){this.syncNavigation&&(this.syncNavigation=!1,this.scrollSyncService.sync(Fg(this.navigationView),Fg(this.monthView)))}ngOnDestroy(){this.scrollSyncService.destroy(),this.domEvents.forEach(t=>t()),this.pickerService&&(this.pickerService.calendar=null),this.viewChangeSubscription&&this.viewChangeSubscription.unsubscribe(),this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.destroyed=!0}onCellEnter(t){"range"===this.selection&&this.canHover&&this.ngZone.run(()=>{this.allowReverse?("end"===this.activeRangeEnd&&this.selectionRange.start&&(this.selectionRange={start:this.selectionRange.start,end:t}),"start"===this.activeRangeEnd&&this.selectionRange.end&&(this.selectionRange={start:t,end:this.selectionRange.end})):("end"===this.activeRangeEnd&&this.selectionRange.start&&t>=this.selectionRange.start&&(this.selectionRange={start:this.selectionRange.start,end:t}),this.selectionRange.start&&t<this.selectionRange.start&&(this.selectionRange={start:this.selectionRange.start,end:null}))})}onResize(){this.focusedDate=new Date(this.focusedDate),this.cdr.detectChanges()}focus(){this.currentlyFocusedElement="infinite"===this.type?this.element?.nativeElement.querySelector(".k-content .k-calendar-table"):this.element?.nativeElement.querySelector(".k-calendar-table"),this.currentlyFocusedElement?.focus()}blur(){const t="infinite"===this.type?this.currentlyFocusedElement:this.multiViewCalendar;kt(t)&&t.blur()}containsElement(t){return!!Ia(t,i=>i===this.element.nativeElement)}handleNavigation(t){if(this.disabled)return;const i=t?new Date(W(t).setDate(1)):this.focusedDate;this.focusedDate=Ss(i,this.min,this.max),this.detectChanges()}onPageChange(){e.SKi.isInAngularZone()||(this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.pageChangeSubscription=(0,Ze.H)(this.resolvedPromise).subscribe(()=>{this.detectChanges()}))}handleMultiViewCalendarValueChange(t,i){if("range"===this.selection)this.valueChange.emit(t);else{const s=Array.isArray(t)?t:[t];this.handleDateChange({selectedDates:s,focusedDate:i})}}handleDateChange(t){const i=Array.isArray(t.selectedDates)?t.selectedDates:[t.selectedDates],s=this.bus.canMoveDown(this.activeViewEnum),r=i.filter(l=>!this.disabledDatesService.isDateDisabled(l));if(this.focusedDate=t.focusedDate||this.focusedDate,!this.disabled){if(!s&&wa(r,this.selectedDates))return void this.emitSameDate();if(s)return void this.bus.moveDown(this.activeViewEnum);this.disabledDatesService.isDateDisabled(this.focusedDate)||"range"!==this.selection&&this.ngZone.run(()=>{this.selectedDates=r.map(l=>W(l)),this.value=this.parseSelectionToValue(r),this.onControlChange(this.parseSelectionToValue(r)),this.valueChange.emit(this.parseSelectionToValue(r)),this.cdr.markForCheck()})}}writeValue(t){this.verifyValue(t),this.value=t,this.cdr.markForCheck()}registerOnChange(t){this.onControlChange=t}registerOnTouched(t){this.onControlTouched=t}setDisabledState(t){this.disabled=t,this.cdr.markForCheck()}validate(t){return this.minValidateFn(t)||this.maxValidateFn(t)}registerOnValidatorChange(t){this.onValidatorChange=t}activeCellTemplate(){switch(this.activeViewEnum){case lt.month:return this.monthCellTemplateRef||this.cellTemplateRef;case lt.year:return this.yearCellTemplateRef;case lt.decade:return this.decadeCellTemplateRef;case lt.century:return this.centuryCellTemplateRef;default:return null}}handleNavigate(t){this.focusedDate=t.focusedDate,this.activeView=t.activeView,this.emitNavigate(this.focusedDate)}emitNavigate(t){this.navigate.emit({activeView:lt[this.activeViewEnum],focusedDate:t})}emitEvent(t,i){(0,E.SF)(t)&&this.ngZone.run(()=>{t.emit(i)})}handleActiveDateChange(t){this.activeViewDate=t,this.emitEvent(this.activeViewDateChange,t)}handleActiveViewChange(t){this.activeView=t,this.emitEvent(this.activeViewChange,t),"infinite"===this.type&&this.scrollSyncService.configure(this.activeViewEnum),this.detectChanges()}handleCellClick({date:t,modifiers:i}){this.focus(),"range"===this.selection&&this.activeViewEnum===lt[this.bottomView]?this.performRangeSelection(t):(this.selectionService.lastClicked=t,this.performSelection(t,i))}handleWeekNumberClick(t){"single"!==this.selection&&this.ngZone.run(()=>{if("multiple"===this.selection&&this.handleDateChange({selectedDates:t,focusedDate:Vo(t)}),"range"===this.selection){this.canHover=!1,this.activeRangeEnd="start";const i=this.selectionRange.start?.getTime()!==t[0].getTime()||this.selectionRange.end?.getTime()!==Vo(t).getTime();this.value={start:t[0],end:Vo(t)},i&&this.valueChange.emit(this.value)}})}handleBlur(t){this.element.nativeElement.contains(t.relatedTarget)||(this.isActive=!1,!this.pickerService&&Cs(this.control)?this.ngZone.run(()=>{this.onControlTouched(),this.emitBlur(t),this.cdr.markForCheck()}):(this.emitBlur(t),this.detectChanges()))}handleFocus(){this.isActive=!0,e.SKi.isInAngularZone()||this.detectChanges(),this.emitFocus()}handleMultiViewCalendarKeydown(t){kt(this.pickerService)&&(t.code===E.D$.Enter||t.code===E.D$.NumpadEnter)&&t.preventDefault()}setClasses(t){this.renderer.removeClass(t,`k-calendar-${this.type}`),"infinite"===this.type&&(this.renderer.addClass(t,"k-calendar"),this.renderer.addClass(t,`k-calendar-${this.type}`))}verifyChanges(){if((0,e.naY)()){if(this.min>this.max)throw new Error("The max value should be bigger than the min. See https://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-min and https://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-max.");if(this.bottomViewEnum>this.topViewEnum)throw new Error("The topView should be greater than bottomView. See https://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-bottomview and https://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-topview.")}}verifyValue(t){if((0,e.naY)()){if("single"===this.selection&&t&&!os(t))throw new Error(`When using 'single' selection the 'value' should be a valid JavaScript Date instance. Check ${Jd} for possible resolution.`);if("multiple"===this.selection&&t){if(Array.isArray(t)&&!t.every(s=>s instanceof Date))throw new Error(`When using 'multiple' selection the 'value' should be an array of valid JavaScript Date instances. Check ${Jd} for possible resolution.`);if(Object.keys(t).find(i=>"start"===i)&&Object.keys(t).find(i=>"end"===i))throw new Error(`When using 'multiple' selection the 'value' should be an array of valid JavaScript Date instances. Check ${Jd} for possible resolution.`)}else if("range"===this.selection&&t&&(!os(t.start)||!os(t.end)))throw new Error(`The 'value' should be an object with start and end dates. Check ${Jd} for possible resolution.`)}}bindEvents(){const t=this.element.nativeElement;this.domEvents.push(this.renderer.listen(t,"focus",this.handleFocus.bind(this)),this.renderer.listen(t,"mousedown",mt),this.renderer.listen(t,"click",this.handleComponentClick.bind(this)),this.renderer.listen(t,"keydown",this.handleKeydown.bind(this)),this.renderer.listen(t,"mouseleave",this.setRangeSelectionToValue.bind(this)))}setRangeSelectionToValue(){"range"===this.selection&&"infinite"===this.type&&this.value&&this.ngZone.run(()=>{this.selectionRange=this.value,this.cdr.markForCheck()})}emitBlur(t){this.pickerService&&this.pickerService.onBlur.emit(t),this.onBlur.emit()}emitFocus(){this.pickerService&&this.pickerService.onFocus.emit(),this.onFocus.emit()}handleComponentClick(){this.isActive||("infinite"===this.type&&this.monthView.isScrolled()&&(this.focusedDate=W(this.focusedDate),this.detectChanges()),this.focus())}handleKeydown(t){if("infinite"===this.type){const i=t.ctrlKey||t.metaKey,s=(0,E.tq)(t),r=-1!==[E.D$.ArrowUp,E.D$.ArrowRight,E.D$.ArrowDown,E.D$.ArrowLeft].indexOf(s);if(kt(this.pickerService)&&r&&t.altKey)return;i&&r&&t.preventDefault(),kt(this.pickerService)&&s===E.D$.Enter&&t.preventDefault();const f=Ss(this.navigator.move(this.focusedDate,this.navigator.action(t),this.activeViewEnum),this.min,this.max);Gt(this.focusedDate,f)||(this.focusedDate=f,this.detectChanges(),t.preventDefault()),s===E.D$.Enter&&(this.selectionService.lastClicked=this.focusedDate,"range"!==this.selection?this.performSelection(this.focusedDate,t):this.performRangeSelection(this.focusedDate)),s===E.D$.KeyT&&this.focusToday(),yc(t)&&"range"!==this.selection&&(t.anyArrow=!0,this.performSelection(this.focusedDate,t))}}focusToday(){this.focusedDate=rs(),this.bus.moveToBottom(this.activeViewEnum),this.cdr.detectChanges()}detectChanges(){this.destroyed||this.cdr.detectChanges()}emitSameDate(){this.pickerService&&this.pickerService.sameDateSelected.emit()}setAriaActivedescendant(){const t=this.element.nativeElement?.querySelector(".k-content .k-calendar-table");if(!kt(t)||"classic"===this.type&&!t.hasAttribute("aria-activedescendant"))return;if("classic"===this.type)return void this.renderer.removeAttribute(t,"aria-activedescendant");const s=this.cellUID+this.focusedDate.getTime();this.renderer.setAttribute(t,"aria-activedescendant",s)}parseSelectionToValue(t){return t=t||[],"single"===this.selection?W(Vo(t)):t.map(i=>W(i))}setValue(t){if(this.verifyValue(t),null===t?(this._value=null,this.selectedDates=[],this.selectionRange={start:null,end:null}):Array.isArray(t)?(this.selectionRange={start:null,end:null},this._value=t.filter(i=>kt(i)).map(i=>W(i))):(0,E.Gv)(t)&&Object.keys(t).find(i=>"start"===i)&&Object.keys(t).find(i=>"end"===i)?(this.selectedDates=[],this.selectionRange={start:null,end:null},this._value={start:null,end:null},this._value.start=t.start instanceof Date?W(t.start):null,this._value.end=t.end instanceof Date?W(t.end):null,this.selectionRange=Object.assign({},this._value),this._value?.start&&!this._value?.end&&(this.activeRangeEnd="end",this.canHover=!0),this._value?.end&&!this._value?.start&&(this.activeRangeEnd="start",this.canHover=!0),this._value?.end&&this._value?.start&&(this.canHover=!1)):(this.selectionRange={start:null,end:null},this._value=W(t)),"range"!==this.selection){const i=[].concat(t).filter(s=>kt(s)).map(s=>W(s));if(!wa(i,this.selectedDates)){const s=Vo(i);this.rangePivot=W(s),this.focusedDate=W(s)||this.focusedDate,this.selectedDates=i}}}performRangeSelection(t){this.focusedDate=t;const i=Object.assign({},this.selectionRange),s="start"===this.activeRangeEnd&&this.value?.start?.getTime()!==t?.getTime()||"end"===this.activeRangeEnd&&this.value?.end?.getTime()!==t?.getTime();this.ngZone.run(()=>{const r=Gh(t,i,this.activeRangeEnd,this.allowReverse);this.activeRangeEnd=r.activeRangeEnd,this.canHover&&"end"===r.activeRangeEnd&&r.selectionRange.end?.getTime()===t.getTime()&&(this.activeRangeEnd="start",r.activeRangeEnd="start"),this.canHover="end"===this.activeRangeEnd&&r.selectionRange.start&&!r.selectionRange.end,s&&(this.value?.start?.getTime()!==r.selectionRange?.start?.getTime()||this.value?.end?.getTime()!==r.selectionRange?.end?.getTime())&&(this.value=r.selectionRange,this.valueChange.emit(this.value)),this.cdr.markForCheck()})}performSelection(t,i){const s=this.selectionService.performSelection({date:t,modifiers:i,selectionMode:this.selection,activeViewEnum:this.activeViewEnum,rangePivot:this.rangePivot,selectedDates:this.selectedDates});this.rangePivot=s.rangePivot,this.handleDateChange({selectedDates:s.selectedDates,focusedDate:t})}static \u0275fac=function(i){return new(i||n)(e.rXU(ko),e.rXU(Xd),e.rXU(e.aKT),e.rXU(B),e.rXU(e.sFG),e.rXU(e.gRc),e.rXU(e.SKi),e.rXU(e.zZn),e.rXU(Ag),e.rXU(tr),e.rXU(ve.Pi),e.rXU(Ql),e.rXU(Ma,8))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-calendar"]],contentQueries:function(i,s,r){if(1&i&&(e.wni(r,ia,5),e.wni(r,na,5),e.wni(r,sa,5),e.wni(r,oa,5),e.wni(r,ra,5),e.wni(r,Da,5),e.wni(r,Ta,5),e.wni(r,a,5),e.wni(r,c,5),e.wni(r,qa,5)),2&i){let l;e.mGM(l=e.lsd())&&(s.cellTemplate=l.first),e.mGM(l=e.lsd())&&(s.monthCellTemplate=l.first),e.mGM(l=e.lsd())&&(s.yearCellTemplate=l.first),e.mGM(l=e.lsd())&&(s.decadeCellTemplate=l.first),e.mGM(l=e.lsd())&&(s.centuryCellTemplate=l.first),e.mGM(l=e.lsd())&&(s.weekNumberTemplate=l.first),e.mGM(l=e.lsd())&&(s.headerTitleTemplate=l.first),e.mGM(l=e.lsd())&&(s.headerTemplate=l.first),e.mGM(l=e.lsd())&&(s.footerTemplate=l.first),e.mGM(l=e.lsd())&&(s.navigationItemTemplate=l.first)}},viewQuery:function(i,s){if(1&i&&(e.GBs(Ng,5),e.GBs(Gg,5),e.GBs(Ps,5)),2&i){let r;e.mGM(r=e.lsd())&&(s.navigationView=r.first),e.mGM(r=e.lsd())&&(s.monthView=r.first),e.mGM(r=e.lsd())&&(s.multiViewCalendar=r.first)}},hostVars:6,hostBindings:function(i,s){2&i&&(e.BMQ("id",s.widgetId)("aria-disabled",s.ariaDisabled),e.AVh("k-week-number",s.weekNumber)("k-disabled",s.ariaDisabled))},inputs:{showOtherMonthDays:"showOtherMonthDays",id:"id",focusedDate:"focusedDate",min:"min",max:"max",rangeValidation:"rangeValidation",weekDaysFormat:"weekDaysFormat",footer:"footer",selection:"selection",allowReverse:"allowReverse",value:"value",disabled:"disabled",tabindex:"tabindex",tabIndex:"tabIndex",disabledDates:"disabledDates",navigation:"navigation",activeView:"activeView",bottomView:"bottomView",topView:"topView",type:"type",animateNavigation:"animateNavigation",weekNumber:"weekNumber",cellTemplateRef:[e.Mj6.None,"cellTemplate","cellTemplateRef"],monthCellTemplateRef:[e.Mj6.None,"monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:[e.Mj6.None,"yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:[e.Mj6.None,"decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:[e.Mj6.None,"centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:[e.Mj6.None,"weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:[e.Mj6.None,"headerTitleTemplate","headerTitleTemplateRef"],headerTemplateRef:[e.Mj6.None,"headerTemplate","headerTemplateRef"],footerTemplateRef:[e.Mj6.None,"footerTemplate","footerTemplateRef"],navigationItemTemplateRef:[e.Mj6.None,"navigationItemTemplate","navigationItemTemplateRef"],size:"size",activeRangeEnd:"activeRangeEnd"},outputs:{closePopup:"closePopup",activeViewChange:"activeViewChange",navigate:"navigate",activeViewDateChange:"activeViewDateChange",onBlur:"blur",onFocus:"focus",valueChange:"valueChange"},exportAs:["kendo-calendar"],standalone:!0,features:[e.Jv_([ko,kk,Rk,wk,ve.Pi,tr,{provide:ve.$R,useValue:"kendo.calendar"},B,Ag,Ql]),e.OA$,e.aNF],decls:3,vars:2,consts:()=>{let t,i,s,r;return t=$localize`:kendo.calendar.today|The label for the today button in the calendar header:Today`,i=$localize`:kendo.calendar.prevButtonTitle|The title of the previous button in the Classic calendar:Navigate to previous view`,s=$localize`:kendo.calendar.nextButtonTitle|The title of the next button in the Classic calendar:Navigate to next view`,r=$localize`:kendo.calendar.parentViewButtonTitle|The title of the parent view button in the calendar header:Navigate to parent view`,[["multiviewcalendar",""],["kendoCalendarLocalizedMessages","","today",t,"prevButtonTitle",i,"nextButtonTitle",s,"parentViewButtonTitle",r],[4,"ngIf"],[3,"activeView","focusedDate","min","max","templateRef","valueChange","pageChange",4,"ngIf"],[3,"todayButtonClick","cellClick","weekNumberCellClick","activeDateChange","pageChange","focusCalendar","blurCalendar","cellEnter","activeView","allowReverse","showOtherMonthDays","activeRangeEnd","selectionRange","size","isActive","id","weekDaysFormat","cellTemplateRef","headerTitleTemplateRef","headerTemplateRef","showFooter","footerTemplateRef","weekNumberTemplateRef","cellUID","min","max","focusedDate","weekNumber","selectedDates","tabIndex","disabled"],[3,"resize"],[3,"valueChange","pageChange","activeView","focusedDate","min","max","templateRef"],[3,"onClosePopup","activeViewChange","navigate","valueChange","focusCalendar","blur","blurEvent","keydown","views","min","max","size","id","activeRangeEnd","selectionRange","allowReverse","disabled","isActive","showOtherMonthDays","tabIndex","activeView","bottomView","topView","weekDaysFormat","weekNumber","animateNavigation","cellTemplate","monthCellTemplate","yearCellTemplate","decadeCellTemplate","centuryCellTemplate","headerTitleTemplate","headerTemplate","footerTemplate","footer","weekNumberTemplate","focusedDate","selection","value","disabledDates"],[3,"today","prevButtonTitle","nextButtonTitle","parentViewButtonTitle"]]},template:function(i,s){1&i&&(e.eu8(0,1),e.DNE(1,ee,4,24,"ng-container",2)(2,ze,4,36,"ng-container",2)),2&i&&(e.R7$(),e.Y8G("ngIf","infinite"===s.type),e.R7$(),e.Y8G("ngIf","classic"===s.type))},dependencies:[vk,w.bT,Ng,Gg,E.M0,Ps,Pg],encapsulation:2,changeDetection:0})}return n})();const Qd=()=>(n,o)=>!kt(n.value)&&o?{incompleteDate:!0}:null;var Zd=function(n){return n[n.Up=0]="Up",n[n.Down=1]="Down",n[n.None=2]="None",n}(Zd||{});let eu=(()=>{class n extends ve.EX{decrement;increment;clearTitle;static \u0275fac=(()=>{let t;return function(s){return(t||(t=e.xGo(n)))(s||n)}})();static \u0275dir=e.FsC({type:n,selectors:[["kendo-dateinput-messages-base"]],inputs:{decrement:"decrement",increment:"increment",clearTitle:"clearTitle"},features:[e.Vt3]})}return n})(),Ik=(()=>{class n extends eu{service;constructor(t){super(),this.service=t}static \u0275fac=function(i){return new(i||n)(e.rXU(ve.Pi))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoDateInputLocalizedMessages",""]],standalone:!0,features:[e.Jv_([{provide:eu,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3]})}return n})(),Bg=0;const yk=/year|month|<day>/,Nk=/hour|minute|second|millisecond/;class Gk{service;format;toString;formatDate;parseDate;parseNumber;formatNumber;splitDateFormat;numberSymbols;firstDay;weekendRange;dateFieldName;dateFormatNames;cldr={};localeId;constructor(o){this.service=o,this.localeId=o.localeId,this.format=o.format,this.toString=o.toString,this.formatDate=o.formatDate,this.parseDate=o.parseDate,this.parseNumber=o.parseNumber,this.formatNumber=o.formatNumber,this.splitDateFormat=o.splitDateFormat,this.numberSymbols=o.numberSymbols,this.firstDay=o.firstDay,this.weekendRange=o.weekendRange,this.dateFieldName=o.dateFieldName,this.dateFormatNames=(i,s)=>this.service.dateFormatNames(s,i||this.localeId);const t=(0,Bi.fK)(this.localeId);this.cldr[t.name]=t}}let ic=(()=>{class n{cdr;intl;renderer;wrapper;ngZone;injector;localization;pickerService;caretAltUpIcon=ne.hdA;xIcon=ne.i3N;caretAltDownIcon=ne.Y8K;set focusableId(t){t&&(this._focusableId=t)}get focusableId(){return this._focusableId}set pickerType(t){t&&(this.focusableId=`${t}-${Bg}`)}clearButton=!1;disabled=!1;readonly=!1;title="";tabindex=0;role="textbox";ariaReadOnly=!1;set tabIndex(t){this.tabindex=t}get tabIndex(){return this.tabindex}isRequired=!1;format="d";set formatPlaceholder(t){this._formatPlaceholder=t||"wide"}get formatPlaceholder(){return this._formatPlaceholder}placeholder;steps={};max=W(Hn);min=W(jn);rangeValidation=!0;autoCorrectParts=!0;autoSwitchParts=!0;autoSwitchKeys=[];allowCaretMode=!1;autoFill=!1;incompleteDateValidation=!1;twoDigitYearMax=68;enableMouseWheel=!0;set value(t){this.verifyValue(t),this.showClearButton=!!(t||!t&&this.isDateIncomplete),this._value=W(t),this.valueUpdate.emit(W(t))}get value(){return this._value}spinners=!1;isPopupOpen;hasPopup;set size(t){this.renderer.removeClass(this.wrapper.nativeElement,hn("input",this.size));const i=t||Eo;"none"!==i&&this.renderer.addClass(this.wrapper.nativeElement,hn("input",i)),this._size=i}get size(){return this._size}set rounded(t){this.renderer.removeClass(this.wrapper.nativeElement,bo(this.rounded));const i=t||br;"none"!==i&&this.renderer.addClass(this.wrapper.nativeElement,bo(i)),this._rounded=i}get rounded(){return this._rounded}set fillMode(t){this.renderer.removeClass(this.wrapper.nativeElement,Fn("input",this.fillMode));const i=t||ea;"none"!==i&&(this.renderer.addClass(this.wrapper.nativeElement,Fn("input",i)),this.spinners&&this.spinup&&this.spindown&&(this.setSpinnerFill(this.spinup.nativeElement,i,this.fillMode),this.setSpinnerFill(this.spindown.nativeElement,i,this.fillMode))),this._fillMode=i}get fillMode(){return this._fillMode}set inputAttributes(t){(0,E.Xn)(this.parsedAttributes)&&(0,E.kr)(this.parsedAttributes,this.renderer,this.dateInput.nativeElement),this._inputAttributes=t,this.parsedAttributes=this.inputAttributes?(0,E.vB)(this.inputAttributes,this.defaultAttributes):this.inputAttributes,this.setInputAttributes()}get inputAttributes(){return this._inputAttributes}valueChange=new e.bkB;valueUpdate=new e.bkB;onFocus=new e.bkB;onBlur=new e.bkB;dateInput;get wrapperClass(){return!0}get disabledClass(){return this.disabled}get inputElement(){return this.dateInput?this.dateInput.nativeElement:null}get inputValue(){return(this.inputElement||{}).value||""}get isActive(){return this._active}set isActive(t){if(this._active=t,this.wrapper&&!kt(this.pickerService)){const i=this.wrapper.nativeElement;t?this.renderer.addClass(i,"k-focus"):this.renderer.removeClass(i,"k-focus")}}get formControl(){return this.injector.get(Ne.vO,null)?.control||null}get options(){return{format:this.format,steps:this.steps,readonly:this.readonly,formatPlaceholder:this.formatPlaceholder,placeholder:this.placeholder,autoCorrectParts:this.autoCorrectParts,autoSwitchParts:this.autoSwitchParts,selectPreviousSegmentOnBackspace:!0,autoSwitchKeys:this.autoSwitchKeys,twoDigitYearMax:this.twoDigitYearMax,enableMouseWheel:this.enableMouseWheel,selectNearestSegmentOnFocus:!0,allowCaretMode:this.allowCaretMode,autoFill:this.autoFill,value:this.value,intlService:new Gk(this.intl)}}arrow=Zd;arrowDirection=Zd.None;formatSections={date:!1,time:!1};hasMousedown=!1;focusedPriorToMousedown=!1;showClearButton=!1;isDateIncomplete=!1;currentFormat="";spinup;spindown;minValidator=Rt;maxValidator=Rt;incompleteValidator=Rt;_value=null;_active=!1;_focusableId="dateinput-"+Bg++;_formatPlaceholder="wide";kendoDate=null;kendoDateObject=null;domEvents=[];ngControl;onControlChange=Rt;onControlTouched=Rt;onValidatorChange=Rt;_size=Eo;_rounded=br;_fillMode=ea;control;subs=new He.yU;_inputAttributes;parsedAttributes={};get defaultAttributes(){return{"aria-readonly":this.ariaReadOnly,id:this.focusableId,title:this.title,tabindex:this.tabindex,disabled:this.disabled?"":null,readonly:this.readonly?"":null,placeholder:this.placeholder,"aria-expanded":this.isPopupOpen,"aria-haspopup":this.hasPopup,required:this.isControlRequired?"":null}}get mutableAttributes(){return{autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:this.role}}constructor(t,i,s,r,l,u,f,C){this.cdr=t,this.intl=i,this.renderer=s,this.wrapper=r,this.ngZone=l,this.injector=u,this.localization=f,this.pickerService=C,(0,Vt.$j)(Bo),this.pickerService?this.pickerService.input=this:this.ariaReadOnly=null}isEmpty(){const t=this.dateInput.nativeElement.value;return!t||!String(t).trim()}handleDragAndDrop(t){t.preventDefault()}containsElement(t){return!!Ia(t,i=>i===this.wrapper.nativeElement)}ngOnInit(){this.kendoDate&&this.kendoDate.destroy(),this.kendoDate=this.initKendoDate(),this.kendoDateObject=this.kendoDate.dateObject,this.updateFormatSections(),this.subs.add(this.intl.changes.subscribe(this.intlChange.bind(this))),this.ngControl=this.injector.get(Ne.vO,null),this.wrapper&&this.renderer.removeAttribute(this.wrapper.nativeElement,"tabindex"),this.minValidator=this.rangeValidation?xa(this.min):Rt,this.maxValidator=this.rangeValidation?Oa(this.max):Rt}ngOnChanges(t){if(this.verifyRange(),(0,E.TI)(["min","max","rangeValidation","incompleteDateValidation"],t,!1)&&(this.minValidator=this.rangeValidation?xa(this.min):Rt,this.maxValidator=this.rangeValidation?Oa(this.max):Rt,this.incompleteValidator=this.incompleteDateValidation?Qd():Rt,this.onValidatorChange()),t.clearButton&&(this.showClearButton=this.clearButton&&(kt(this.value)||this.isDateIncomplete)),!this.kendoDate||!Gt(this.value,this.kendoDate.value)){if(!this.kendoDate)return;this.kendoDate.writeValue(this.value)}if(t.format||t.placeholder){if(!this.kendoDate)return;this.kendoDate?.setOptions(this.options,!0),this.updateFormatSections()}if((0,E.TI)(["enableMouseWheel","autoFill","autoSwitchParts","autoSwitchKeys","twoDigitYearMax","allowCaretMode","autoCorrectParts","readonly","steps","formatPlaceholder"],t)){if(!this.kendoDate)return;this.kendoDate?.setOptions(this.options,!0)}}updateFormatSections(){this.formatSections=this.intl.splitDateFormat(this.kendoDate.inputFormat).reduce(({date:t,time:i},s)=>({date:t||yk.test(s.type),time:i||Nk.test(s.type)}),{date:!1,time:!1})}updateIncompleteValidationStatus(){const t=this.isDateIncomplete;this.isDateIncomplete=this.kendoDateObject.hasValue()&&null===this.value,t!==this.isDateIncomplete&&this.incompleteDateValidation&&(kt(this.ngControl)&&!kt(this.pickerService)?(this.cdr.markForCheck(),this.ngZone.run(()=>this.onValidatorChange())):kt(this.pickerService)&&this.pickerService.dateCompletenessChange.emit())}ngAfterViewInit(){this.setComponentClasses();const t=this.injector.get(Ne.vO,null)?.control;this.control=t,this.subs.add(this.formControl?.statusChanges.subscribe(()=>this.setAriaInvalid())),this.setAriaInvalid(),this.subs.add(this.renderer.listen(this.dateInput?.nativeElement,"keydown",this.handleKeyDown))}ngOnDestroy(){this.subs.unsubscribe(),this.pickerService&&(this.pickerService.input=null),this.domEvents.forEach(t=>t())}setAriaInvalid(){this.control&&this.renderer.setAttribute(this.inputElement,"aria-invalid",this.control.invalid?"true":"false")}get isControlRequired(){return(0,E.Ps)(this.formControl)||this.isRequired}validate(t){return this.minValidator(t)||this.maxValidator(t)||this.incompleteValidator(t,this.isDateIncomplete)}registerOnValidatorChange(t){this.onValidatorChange=t}setDisabledState(t){this.disabled=t,this.cdr.markForCheck()}writeValue(t){this.verifyValue(t),this.value=W(t),this.kendoDate?.setOptions(this.options,!0),this.kendoDateObject?.setValue(this.value),this.kendoDate?.refreshElementValue()}resetInput(){this.isDateIncomplete=!1,this.writeValue(null),this.notify(),this.showClearButton=!1}triggerChange(){const t=this.kendoDate.value,i=kt(t)!==kt(this.value);(+t!=+this.value||i)&&(this.value=W(t),this.notify())}notify(){this.ngZone.run(()=>{this.showClearButton=!!this.value,this.onControlChange(W(this.value)),this.valueChange.emit(W(this.value))})}registerOnChange(t){this.onControlChange=t}registerOnTouched(t){this.onControlTouched=t}focus(){this.kendoDate?.focus()}blur(){const t=this.inputElement;t&&t.blur()}handleButtonClick(t){this.showClearButton=!0,this.arrowDirection=Zd.None,this.isActive||this.kendoDate.focus(),this.kendoDate.modifyDateSegmentValue(t)}initKendoDate(){return new eo(this.dateInput.nativeElement,{...this.options,events:{valueChange:this.onWidgetValueChange.bind(this),inputEnd:this.onWidgetInputEnd.bind(this),focusEnd:this.onWidgetFocus.bind(this),blurEnd:this.onWidgetBlur.bind(this),keydown:this.onWidgetKeyDown.bind(this)}})}onWidgetValueChange(){this.triggerChange()}onWidgetKeyDown(){this.kendoDateObject=this.kendoDate.dateObject}onWidgetInputEnd(){this.updateIncompleteValidationStatus(),this.clearButton&&(this.showClearButton=!(!this.value&&!this.isDateIncomplete),this.cdr.markForCheck())}onWidgetFocus(t){this.isActive=!0,(0,E.SF)(this.onFocus)?this.ngZone.run(()=>{this.emitFocus(t.event)}):this.emitFocus(t.event)}onWidgetBlur(t){this.isActive=!1,(0,E.SF)(this.onBlur)||Cs(this.ngControl)?this.ngZone.run(()=>{this.onControlTouched(),this.emitBlur(t.event),this.cdr.markForCheck()}):this.emitBlur(t.event)}handleKeyDown(t){kt(t.keyCode)||t.stopImmediatePropagation()}verifyRange(){if((0,e.naY)()&&!Wa(this.min,this.max))throw new Error("The max value should be bigger than the min. See https://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-min and https://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-max.")}verifyValue(t){if((0,e.naY)()&&t&&!(t instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance or null. Check https://www.telerik.com/kendo-angular-ui/components/dateinputs/dateinput/#toc-using-with-json for possible resolution.")}intlChange(){this.kendoDate.setOptions(this.options,!0),this.updateFormatSections()}emitFocus(t){this.onFocus.emit(),this.pickerService&&this.pickerService.onFocus.emit(t)}emitBlur(t){this.onBlur.emit(),this.pickerService&&this.pickerService.onBlur.emit(t)}setSpinnerFill(t,i,s){"none"!==s&&(this.renderer.removeClass(t,`k-button-${s}`),this.renderer.removeClass(t,`k-button-${s}-base`)),this.renderer.addClass(t,`k-button-${i}`),this.renderer.addClass(t,`k-button-${i}-base`)}setComponentClasses(){"none"!==this.size&&this.renderer.addClass(this.wrapper.nativeElement,hn("input",this.size)),"none"!==this.rounded&&this.renderer.addClass(this.wrapper.nativeElement,bo(this.rounded)),"none"!==this.fillMode&&this.renderer.addClass(this.wrapper.nativeElement,Fn("input",this.fillMode)),this.spinners&&"none"!==this.fillMode&&(this.setSpinnerFill(this.spinup.nativeElement,this.fillMode),this.setSpinnerFill(this.spindown.nativeElement,this.fillMode))}setInputAttributes(){const t={...this.mutableAttributes,...this.parsedAttributes};(0,E.Fd)(t,this.renderer,this.dateInput.nativeElement,this.ngZone)}static \u0275fac=function(i){return new(i||n)(e.rXU(e.gRc),e.rXU(Bi.Bs),e.rXU(e.sFG),e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(e.zZn),e.rXU(ve.Pi),e.rXU(Ma,8))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-dateinput"]],viewQuery:function(i,s){if(1&i&&(e.GBs(Ke,7),e.GBs(Qe,5),e.GBs(rt,5)),2&i){let r;e.mGM(r=e.lsd())&&(s.dateInput=r.first),e.mGM(r=e.lsd())&&(s.spinup=r.first),e.mGM(r=e.lsd())&&(s.spindown=r.first)}},hostVars:8,hostBindings:function(i,s){2&i&&e.AVh("k-readonly",s.readonly)("k-input",s.wrapperClass)("k-dateinput",s.wrapperClass)("k-disabled",s.disabledClass)},inputs:{focusableId:"focusableId",pickerType:"pickerType",clearButton:"clearButton",disabled:"disabled",readonly:"readonly",title:"title",tabindex:"tabindex",role:"role",ariaReadOnly:"ariaReadOnly",tabIndex:"tabIndex",isRequired:"isRequired",format:"format",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder",steps:"steps",max:"max",min:"min",rangeValidation:"rangeValidation",autoCorrectParts:"autoCorrectParts",autoSwitchParts:"autoSwitchParts",autoSwitchKeys:"autoSwitchKeys",allowCaretMode:"allowCaretMode",autoFill:"autoFill",incompleteDateValidation:"incompleteDateValidation",twoDigitYearMax:"twoDigitYearMax",enableMouseWheel:"enableMouseWheel",value:"value",spinners:"spinners",isPopupOpen:"isPopupOpen",hasPopup:"hasPopup",size:"size",rounded:"rounded",fillMode:"fillMode",inputAttributes:"inputAttributes"},outputs:{valueChange:"valueChange",valueUpdate:"valueUpdate",onFocus:"focus",onBlur:"blur"},exportAs:["kendo-dateinput"],standalone:!0,features:[e.Jv_([{provide:Ne.kq,useExisting:(0,e.Rfq)(()=>n),multi:!0},{provide:Ne.cz,useExisting:(0,e.Rfq)(()=>n),multi:!0},{provide:ve.$R,useValue:"kendo.dateinput"},{provide:E.eW,useExisting:(0,e.Rfq)(()=>n)},ve.Pi]),e.OA$,e.aNF],decls:5,vars:18,consts:()=>{let t,i,s;return t=$localize`:kendo.dateinput.increment|The label for the **Increment** button in the DateInput:Increase value`,i=$localize`:kendo.dateinput.decrement|The label for the **Decrement** button in the DateInput:Decrease value`,s=$localize`:kendo.dateinput.clearTitle|The title of the clear button:clear`,[["dateInput",""],["spinup",""],["spindown",""],["kendoDateInputLocalizedMessages","","increment",t,"decrement",i,"clearTitle",s],["autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"k-input-inner",3,"id","title","tabindex","disabled","readonly","kendoEventsOutsideAngular","scope"],["class","k-clear-value","role","button","tabindex","-1",3,"click","mousedown",4,"ngIf"],["class","k-input-spinner k-spin-button",3,"mousedown",4,"ngIf"],["role","button","tabindex","-1",1,"k-clear-value",3,"click","mousedown"],["name","x",3,"svgIcon"],[1,"k-input-spinner","k-spin-button",3,"mousedown"],["tabindex","-1",1,"k-spinner-increase","k-button","k-icon-button",3,"mousedown","mouseleave","click","title"],["name","caret-alt-up","innerCssClass","k-button-icon",3,"svgIcon"],["tabindex","-1",1,"k-spinner-decrease","k-button","k-icon-button",3,"click","mousedown","mouseleave","title"],["name","caret-alt-down","innerCssClass","k-button-icon",3,"svgIcon"]]},template:function(i,s){1&i&&(e.eu8(0,3),e.nrm(1,"input",4,0),e.DNE(3,Ye,2,2,"span",5)(4,Ht,7,10,"span",6)),2&i&&(e.R7$(),e.Y8G("id",s.focusableId)("title",s.title)("tabindex",s.tabindex)("disabled",s.disabled)("readonly",s.readonly)("kendoEventsOutsideAngular",e.l_i(15,Jt,s.handleDragAndDrop,s.handleDragAndDrop))("scope",s),e.BMQ("required",s.isControlRequired?"":null)("role",s.role)("aria-readonly",s.ariaReadOnly)("placeholder",s.placeholder)("aria-expanded",s.isPopupOpen)("aria-haspopup",s.hasPopup),e.R7$(2),e.Y8G("ngIf",s.clearButton&&s.showClearButton),e.R7$(),e.Y8G("ngIf",s.spinners))},dependencies:[Ik,E.Uj,w.bT,ct.QK],encapsulation:2,changeDetection:0})}return n})();class tu{prevented=!1;constructor(){}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}const Ug=n=>o=>n&&o.value&&n(o.value)?{disabledDate:!0}:null;let Uh=(()=>{class n extends qd{service;constructor(t){super(),this.service=t}get override(){return!0}static \u0275fac=function(i){return new(i||n)(e.rXU(ve.Pi))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-calendar-messages"]],standalone:!0,features:[e.Jv_([{provide:qd,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),iu=(()=>{class n extends eu{service;constructor(t){super(),this.service=t}get override(){return!0}static \u0275fac=function(i){return new(i||n)(e.rXU(ve.Pi))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-dateinput-messages"]],standalone:!0,features:[e.Jv_([{provide:eu,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),nu=(()=>{class n extends ve.EX{today;toggle;prevButtonTitle;nextButtonTitle;parentViewButtonTitle;clearTitle;adaptiveCloseButtonTitle;static \u0275fac=(()=>{let t;return function(s){return(t||(t=e.xGo(n)))(s||n)}})();static \u0275dir=e.FsC({type:n,selectors:[["kendo-datepicker-messages-base"]],inputs:{today:"today",toggle:"toggle",prevButtonTitle:"prevButtonTitle",nextButtonTitle:"nextButtonTitle",parentViewButtonTitle:"parentViewButtonTitle",clearTitle:"clearTitle",adaptiveCloseButtonTitle:"adaptiveCloseButtonTitle"},features:[e.Vt3]})}return n})(),Ak=(()=>{class n extends nu{service;constructor(t){super(),this.service=t}static \u0275fac=function(i){return new(i||n)(e.rXU(ve.Pi))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoDatePickerLocalizedMessages",""]],standalone:!0,features:[e.Jv_([{provide:nu,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3]})}return n})(),nc=(()=>{class n extends E.xk{zone;localization;cdr;popupService;wrapper;renderer;injector;pickerService;disabledDatesService;adaptiveService;calendarIcon=ne.ki9;container;popupTemplate;toggleButton;actionSheet;focusableId;cellTemplate;set cellTemplateRef(t){this.cellTemplate=t}clearButton=!1;inputAttributes;monthCellTemplate;set monthCellTemplateRef(t){this.monthCellTemplate=t}yearCellTemplate;set yearCellTemplateRef(t){this.yearCellTemplate=t}decadeCellTemplate;set decadeCellTemplateRef(t){this.decadeCellTemplate=t}centuryCellTemplate;set centuryCellTemplateRef(t){this.centuryCellTemplate=t}weekNumberTemplate;set weekNumberTemplateRef(t){this.weekNumberTemplate=t}headerTitleTemplate;set headerTitleTemplateRef(t){this.headerTitleTemplate=t}headerTemplate;set headerTemplateRef(t){this.headerTemplate=t}footerTemplate;set footerTemplateRef(t){this.footerTemplate=t}footer=!1;navigationItemTemplate;set navigationItemTemplateRef(t){this.navigationItemTemplate=t}weekDaysFormat="short";showOtherMonthDays;activeView=lt[lt.month];bottomView=lt[lt.month];topView=lt[lt.century];calendarType="infinite";animateCalendarNavigation=!1;disabled=!1;readonly=!1;readOnlyInput=!1;set popupSettings(t){this._popupSettings={animate:!0,...t}}get popupSettings(){return this._popupSettings}set navigation(t){this._navigation=t}get navigation(){if(!this.isAdaptive)return this._navigation}_navigation=!0;min=W(jn);max=W(Hn);incompleteDateValidation=!1;autoCorrectParts=!0;autoSwitchParts=!0;autoSwitchKeys=[];enableMouseWheel=!0;allowCaretMode=!1;autoFill=!1;focusedDate=null;set value(t){this.verifyValue(t),this._value=W(t)}get value(){return this._value}format="d";twoDigitYearMax=68;formatPlaceholder;placeholder;tabindex=0;set tabIndex(t){this.tabindex=t}get tabIndex(){return this.tabindex}set disabledDates(t){this._disabledDates=t,this.disabledDatesService.initialize(t)}get disabledDates(){return this._disabledDates}adaptiveTitle="";adaptiveSubtitle="";rangeValidation=!0;disabledDatesValidation=!0;weekNumber=!1;set size(t){this.renderer.removeClass(this.wrapper.nativeElement,hn("input",this.size)),this.renderer.removeClass(this.toggleButton.nativeElement,hn("button",this.size));const i=t||Eo;"none"!==i&&(this.renderer.addClass(this.wrapper.nativeElement,hn("input",i)),this.renderer.addClass(this.toggleButton.nativeElement,hn("button",i))),this._size=i}get size(){return this._size}set rounded(t){this.renderer.removeClass(this.wrapper.nativeElement,bo(this.rounded));const i=t||br;"none"!==i&&this.renderer.addClass(this.wrapper.nativeElement,bo(i)),this._rounded=i}get rounded(){return this._rounded}set fillMode(t){this.renderer.removeClass(this.wrapper.nativeElement,Fn("input",this.fillMode)),this.renderer.removeClass(this.toggleButton.nativeElement,Fn("button",this.fillMode)),this.renderer.removeClass(this.toggleButton.nativeElement,`k-button-${this.fillMode}-base`);const i=t||ea;"none"!==i&&(this.renderer.addClass(this.toggleButton.nativeElement,Fn("button",i)),this.renderer.addClass(this.toggleButton.nativeElement,`k-button-${i}-base`),this.renderer.addClass(this.wrapper.nativeElement,Fn("input",i))),this._fillMode=i}get fillMode(){return this._fillMode}adaptiveMode="none";valueChange=new e.bkB;onFocus=new e.bkB;onBlur=new e.bkB;open=new e.bkB;close=new e.bkB;escape=new e.bkB;wrapperClasses=!0;get disabledClass(){return this.disabled}get popupUID(){return this.calendar?.popupId}popupRef;get isActive(){return this._active}set isActive(t){if(this._active=t,!this.wrapper)return;const i=this.wrapper.nativeElement;t?this.renderer.addClass(i,"k-focus"):this.renderer.removeClass(i,"k-focus")}get show(){return this._show}set show(t){t&&(this.disabled||this.readonly)||(t||this._show&&((0,E.SF)(this.close)||(0,E.SF)(this.open))?this.zone.run(()=>{const s=new tu;!this._show&&t?this.open.emit(s):this._show&&!t&&this.close.emit(s),!s.isDefaultPrevented()&&this.toggleCalendar(t)}):this.toggleCalendar(t))}checkIcon=ne.oEo;windowSize;get isControlRequired(){return(0,E.Ps)(this.control)}_popupSettings={animate:!0};_show=!1;_value=null;_active=!1;_disabledDates;onControlChange=Rt;onControlTouched=Rt;onValidatorChange=Rt;minValidateFn=Rt;maxValidateFn=Rt;disabledDatesValidateFn=Rt;incompleteValidator=Rt;resolvedPromise=Promise.resolve(null);subscription;pickerSubscriptions;localizationChangeSubscription;windowBlurSubscription;ariaActiveDescendantSubscription;control;domEvents=[];_size=Eo;_rounded=br;_fillMode=ea;constructor(t,i,s,r,l,u,f,C,T,O){super(),this.zone=t,this.localization=i,this.cdr=s,this.popupService=r,this.wrapper=l,this.renderer=u,this.injector=f,this.pickerService=C,this.disabledDatesService=T,this.adaptiveService=O,(0,Vt.$j)(Bo),this.pickerSubscriptions=this.pickerService.onFocus.subscribe(this.handleFocus.bind(this)),this.pickerSubscriptions.add(this.pickerService.onBlur.subscribe(this.handleBlur.bind(this))),this.pickerSubscriptions.add(this.pickerService.sameDateSelected.subscribe(this.handleSameSelection.bind(this))),this.pickerSubscriptions.add(this.pickerService.dateCompletenessChange.subscribe(this.handleDateCompletenessChange.bind(this)))}isEmpty(){return!this.value&&this.dateInput.isEmpty()}ngOnInit(){this.localizationChangeSubscription=this.localization.changes.subscribe(()=>this.cdr.markForCheck()),this.control=this.injector.get(Ne.vO,null),this.wrapper&&(this.renderer.removeAttribute(this.wrapper.nativeElement,"tabindex"),this.zone.runOutsideAngular(()=>{this.bindEvents()})),this.focusableId=this.dateInput?.focusableId,this.minValidateFn=this.rangeValidation?xa(this.min):Rt,this.maxValidateFn=this.rangeValidation?Oa(this.max):Rt}ngAfterViewInit(){this.setComponentClasses(),this.windowSize=this.adaptiveService.size}ngOnChanges(t){this.verifySettings(),(t.min||t.max||t.rangeValidation||t.disabledDatesValidation||t.disabledDates||t.incompleteDateValidation)&&(this.minValidateFn=this.rangeValidation?xa(this.min):Rt,this.maxValidateFn=this.rangeValidation?Oa(this.max):Rt,this.disabledDatesValidateFn=this.disabledDatesValidation?Ug(this.disabledDatesService.isDateDisabled):Rt,this.incompleteValidator=this.incompleteDateValidation?Qd():Rt,this.onValidatorChange()),(!this.focusableId||t.focusableId)&&(this.focusableId=this.dateInput?.focusableId)}ngOnDestroy(){this.isAdaptive&&this.isOpen&&this.toggleActionSheet(!1),this.isActive=!1,this.show=!1,this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.windowBlurSubscription&&this.windowBlurSubscription.unsubscribe(),this.domEvents.forEach(t=>t()),this.pickerSubscriptions.unsubscribe()}get isOpen(){return this.show}writeValue(t){this.verifyValue(t),this.value=W(t),this.cdr.markForCheck(),!t&&this.dateInput&&(this.dateInput.placeholder=this.placeholder,this.dateInput.writeValue(t))}registerOnChange(t){this.onControlChange=t}registerOnTouched(t){this.onControlTouched=t}setDisabledState(t){this.disabled=t,this.cdr.markForCheck()}validate(t){return this.minValidateFn(t)||this.maxValidateFn(t)||this.disabledDatesValidateFn(t)||this.incompleteValidator(t,this.dateInput&&this.dateInput.isDateIncomplete)}registerOnValidatorChange(t){this.onValidatorChange=t}handleActionSheetCollapse(){this.cdr.markForCheck()}handleActionSheetClick(t){t.preventDefault()}focus(){this.dateInput.focus()}blur(){(this.calendar||this.dateInput).blur()}toggle(t){this.disabled||this.readonly||this.resolvedPromise.then(()=>{this.toggleCalendar(void 0===t?!this.show:t)})}handleIconClick(t){this.disabled||this.readonly||(t.preventDefault(),this.focusInput(),this.handleFocus(),this.show=!this.show,this.cdr.markForCheck())}handleDateInputClick(){this.windowSize=this.adaptiveService.size,this.isAdaptive&&(this.show=!0)}handleMousedown(t){t.preventDefault()}handleChange(t,i){this.value=t,this.show&&(i||this.focusInput(),this.show=!1),this.onControlChange(W(t)),this.valueChange.emit(W(t))}handleInputChange(t){this.handleChange(this.dateInput.formatSections.time?t:this.mergeTime(t),!0)}get popupClasses(){return["k-datepicker-popup","k-calendar-container"].concat(this.popupSettings.popupClass||[])}get appendTo(){const{appendTo:t}=this.popupSettings;if(t&&"root"!==t)return"component"===t?this.container:t}get dateInput(){return this.pickerService.input}get calendar(){return this.pickerService.calendar}get isAdaptiveModeEnabled(){return"auto"===this.adaptiveMode}get isAdaptive(){return this.isAdaptiveModeEnabled&&"large"!==this.windowSize}onResize(){const t=this.adaptiveService.size;!this.isOpen||this.windowSize===t||(this.actionSheet.expanded?this.toggleActionSheet(!1):this.togglePopup(!1),this.windowSize=t)}mergeTime(t){return this.value&&t?Uo(t,this.value):t}handleKeydown(t){const{altKey:i,shiftKey:s,target:r}=t,l=(0,E.tq)(t);l===E.D$.Escape&&(this.dateInput.focus(),this.show=!1,(0,E.SF)(this.escape)&&this.escape.emit()),i&&(l===E.D$.ArrowDown&&!this.show&&(this.show=!0),l===E.D$.ArrowUp&&(this.dateInput.focus(),this.show=!1)),l===E.D$.Tab&&this.show&&this.calendar.isActive&&((n,o,t)=>!!kt(o)&&("infinite"===n||"classic"===n&&t&&o.classList.contains("k-calendar-table")||!t&&o.classList.contains("k-calendar-table")))(this.calendarType,r,s)&&(this.dateInput.focus(),this.show=!1)}toggleCalendar(t){const i=this.windowSize;this.windowSize=this.adaptiveService.size,i===this.windowSize||t?this.isAdaptive?this.toggleActionSheet(t):this.togglePopup(t):"large"!==i?this.toggleActionSheet(t):this.togglePopup(t),this.toggleFocus()}togglePopup(t){if(t!==this._show)if(this._show=t,t){const i=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{vertical:"bottom",horizontal:i},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{vertical:"top",horizontal:i},popupClass:this.popupClasses,positionMode:"string"==typeof this.popupSettings.appendTo&&"component"===this.popupSettings.appendTo?"fixed":"absolute"}),this.setAriaActiveDescendant(),this.popupRef.popupElement.setAttribute("id",this.popupUID),this.renderer.setAttribute(this.dateInput?.inputElement,"aria-controls",this.popupUID),this.subscription=this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.show=!1)}else this.popupRef.close(),this.popupRef=null,this.subscription.unsubscribe(),this.ariaActiveDescendantSubscription.unsubscribe(),this.dateInput&&(this.renderer.removeAttribute(this.dateInput.inputElement,"aria-controls"),this.renderer.removeAttribute(this.dateInput.inputElement,"aria-activedescendant")),this.cdr.detectChanges()}toggleActionSheet(t){t!==this._show&&(t&&!this.isOpen?(this.actionSheet.toggle(),this.setAriaActiveDescendant(),this.actionSheet.element.nativeElement.setAttribute("id",this.popupUID),this.renderer.setAttribute(this.dateInput?.inputElement,"aria-controls",this.popupUID)):!t&&this.isOpen&&(this.actionSheet.toggle(),this.ariaActiveDescendantSubscription.unsubscribe(),this.dateInput&&(this.renderer.removeAttribute(this.dateInput.inputElement,"aria-activedescendant"),this.renderer.removeAttribute(this.dateInput.inputElement,"aria-controls"),this.dateInput.focus())),this._show=t)}setAriaActiveDescendant(){this.ariaActiveDescendantSubscription=("infinite"===this.calendar.type?this.calendar.monthView.focusedCellChange:this.calendar.multiViewCalendar.viewList.focusedCellChange).subscribe(i=>this.renderer.setAttribute(this.dateInput?.inputElement,"aria-activedescendant",i))}focusInput(){sn.jl||this.dateInput.focus()}toggleFocus(){this.isActive&&(this.show?(this.calendar||this.cdr.detectChanges(),this.calendar&&this.calendar.focus()):sn.jl?this.dateInput.isActive||this.handleBlur():this.dateInput.focus())}verifySettings(){if((0,e.naY)()&&!Wa(this.min,this.max))throw new Error("The max value should be bigger than the min. See https://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-min and https://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-max.")}verifyValue(t){if((0,e.naY)()&&t&&!(t instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance or null. Check https://www.telerik.com/kendo-angular-ui/components/dateinputs/datepicker/#toc-using-with-json for possible resolution.")}bindEvents(){this.domEvents.push(this.renderer.listen(this.wrapper.nativeElement,"keydown",this.handleKeydown.bind(this))),Kl()&&(this.windowBlurSubscription=(0,Ot.R)(window,"blur").subscribe(this.handleWindowBlur.bind(this)))}handleFocus(){this.isActive||(this.isActive=!0,(0,E.SF)(this.onFocus)&&this.zone.run(()=>{this.onFocus.emit()}))}handleWindowBlur(){!this.isOpen||this.actionSheet.expanded||(this.show=!1)}handleBlur(t){const i=t&&Fl(t),r=this.actionSheet&&(this.actionSheet.element.nativeElement.contains(t&&t.target)||this.actionSheet.element.nativeElement.contains(i));i&&(this.dateInput.containsElement(i)||this.calendar&&this.calendar.containsElement(i)||r)||((0,E.SF)(this.onBlur)||this.show&&(0,E.SF)(this.close)||Cs(this.control)?this.zone.run(()=>{this.blurComponent(),this.cdr.markForCheck()}):this.blurComponent())}blurComponent(){this.isActive=!1,this.show=!1,this.cdr.detectChanges(),this.onControlTouched(),this.onBlur.emit()}handleSameSelection(){this.show&&(this.focusInput(),this.show=!1)}handleDateCompletenessChange(){this.cdr.markForCheck(),this.zone.run(()=>this.onValidatorChange())}setComponentClasses(){this.size&&(this.renderer.addClass(this.wrapper.nativeElement,hn("input",this.size)),this.renderer.addClass(this.toggleButton.nativeElement,hn("button",this.size))),this.rounded&&this.renderer.addClass(this.wrapper.nativeElement,bo(this.rounded)),this.fillMode&&(this.renderer.addClass(this.wrapper.nativeElement,Fn("input",this.fillMode)),this.renderer.addClass(this.toggleButton.nativeElement,Fn("button",this.fillMode)),this.renderer.addClass(this.toggleButton.nativeElement,`k-button-${this.fillMode}-base`))}static \u0275fac=function(i){return new(i||n)(e.rXU(e.SKi),e.rXU(ve.Pi),e.rXU(e.gRc),e.rXU(pe.OQ),e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(e.zZn),e.rXU(Ma),e.rXU(tr),e.rXU(ae.k))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-datepicker"]],contentQueries:function(i,s,r){if(1&i&&(e.wni(r,ia,5),e.wni(r,na,5),e.wni(r,sa,5),e.wni(r,oa,5),e.wni(r,ra,5),e.wni(r,Da,5),e.wni(r,Ta,5),e.wni(r,a,5),e.wni(r,c,5),e.wni(r,qa,5)),2&i){let l;e.mGM(l=e.lsd())&&(s.cellTemplate=l.first),e.mGM(l=e.lsd())&&(s.monthCellTemplate=l.first),e.mGM(l=e.lsd())&&(s.yearCellTemplate=l.first),e.mGM(l=e.lsd())&&(s.decadeCellTemplate=l.first),e.mGM(l=e.lsd())&&(s.centuryCellTemplate=l.first),e.mGM(l=e.lsd())&&(s.weekNumberTemplate=l.first),e.mGM(l=e.lsd())&&(s.headerTitleTemplate=l.first),e.mGM(l=e.lsd())&&(s.headerTemplate=l.first),e.mGM(l=e.lsd())&&(s.footerTemplate=l.first),e.mGM(l=e.lsd())&&(s.navigationItemTemplate=l.first)}},viewQuery:function(i,s){if(1&i&&(e.GBs(cn,7,e.c1b),e.GBs(So,7),e.GBs(gn,7),e.GBs(Qi,5)),2&i){let r;e.mGM(r=e.lsd())&&(s.container=r.first),e.mGM(r=e.lsd())&&(s.popupTemplate=r.first),e.mGM(r=e.lsd())&&(s.toggleButton=r.first),e.mGM(r=e.lsd())&&(s.actionSheet=r.first)}},hostVars:8,hostBindings:function(i,s){2&i&&e.AVh("k-readonly",s.readonly)("k-datepicker",s.wrapperClasses)("k-input",s.wrapperClasses)("k-disabled",s.disabledClass)},inputs:{focusableId:"focusableId",cellTemplateRef:[e.Mj6.None,"cellTemplate","cellTemplateRef"],clearButton:"clearButton",inputAttributes:"inputAttributes",monthCellTemplateRef:[e.Mj6.None,"monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:[e.Mj6.None,"yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:[e.Mj6.None,"decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:[e.Mj6.None,"centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:[e.Mj6.None,"weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:[e.Mj6.None,"headerTitleTemplate","headerTitleTemplateRef"],headerTemplateRef:[e.Mj6.None,"headerTemplate","headerTemplateRef"],footerTemplateRef:[e.Mj6.None,"footerTemplate","footerTemplateRef"],footer:"footer",navigationItemTemplateRef:[e.Mj6.None,"navigationItemTemplate","navigationItemTemplateRef"],weekDaysFormat:"weekDaysFormat",showOtherMonthDays:"showOtherMonthDays",activeView:"activeView",bottomView:"bottomView",topView:"topView",calendarType:"calendarType",animateCalendarNavigation:"animateCalendarNavigation",disabled:"disabled",readonly:"readonly",readOnlyInput:"readOnlyInput",popupSettings:"popupSettings",navigation:"navigation",min:"min",max:"max",incompleteDateValidation:"incompleteDateValidation",autoCorrectParts:"autoCorrectParts",autoSwitchParts:"autoSwitchParts",autoSwitchKeys:"autoSwitchKeys",enableMouseWheel:"enableMouseWheel",allowCaretMode:"allowCaretMode",autoFill:"autoFill",focusedDate:"focusedDate",value:"value",format:"format",twoDigitYearMax:"twoDigitYearMax",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder",tabindex:"tabindex",tabIndex:"tabIndex",disabledDates:"disabledDates",adaptiveTitle:"adaptiveTitle",adaptiveSubtitle:"adaptiveSubtitle",rangeValidation:"rangeValidation",disabledDatesValidation:"disabledDatesValidation",weekNumber:"weekNumber",size:"size",rounded:"rounded",fillMode:"fillMode",adaptiveMode:"adaptiveMode"},outputs:{valueChange:"valueChange",onFocus:"focus",onBlur:"blur",open:"open",close:"close",escape:"escape"},exportAs:["kendo-datepicker"],standalone:!0,features:[e.Jv_([{provide:Ne.kq,useExisting:(0,e.Rfq)(()=>n),multi:!0},{provide:Ne.cz,useExisting:(0,e.Rfq)(()=>n),multi:!0},{provide:E.eW,useExisting:(0,e.Rfq)(()=>n)},{provide:E.xk,useExisting:(0,e.Rfq)(()=>n)},ve.Pi,Ma,tr,{provide:ve.$R,useValue:"kendo.datepicker"}]),e.Vt3,e.OA$,e.aNF],decls:17,vars:49,consts:()=>{let t,i,s,r,l,u,f;return t=$localize`:kendo.datepicker.today|The label for the today button in the calendar header:Today`,i=$localize`:kendo.datepicker.toggle|The title of the toggle button in the datepicker component:Toggle calendar`,s=$localize`:kendo.datepicker.prevButtonTitle|The title of the previous button in the Classic calendar:Navigate to previous view`,r=$localize`:kendo.datepicker.nextButtonTitle|The title of the next button in the Classic calendar:Navigate to next view`,l=$localize`:kendo.datepicker.parentViewButtonTitle|The title of the parent view button in the calendar header:Navigate to parent view`,u=$localize`:kendo.datepicker.clearTitle|The title of the clear button:clear`,f=$localize`:kendo.datepicker.adaptiveCloseButtonTitle|The title of the Close button of the ActionSheet that is rendered instead of the Popup when using small screen devices in adaptive mode:Close`,[["input",""],["toggleButton",""],["container",""],["popupTemplate",""],["actionSheet",""],["calendarTemplate",""],["calendar",""],["kendoDatePickerLocalizedMessages","","today",t,"toggle",i,"prevButtonTitle",s,"nextButtonTitle",r,"parentViewButtonTitle",l,"clearTitle",u,"adaptiveCloseButtonTitle",f],["pickerType","datepicker","hasPopup","grid","fillMode","none","rounded","none","size","none",3,"valueChange","click","role","isPopupOpen","clearButton","disabled","readonly","ariaReadOnly","tabindex","isRequired","title","focusableId","format","twoDigitYearMax","formatPlaceholder","placeholder","min","max","incompleteDateValidation","autoCorrectParts","autoSwitchParts","autoSwitchKeys","enableMouseWheel","allowCaretMode","autoFill","inputAttributes","value"],[3,"clearTitle"],["type","button",1,"k-input-button","k-button","k-icon-button",3,"tabindex","kendoEventsOutsideAngular","scope"],["name","calendar","innerCssClass","k-button-icon",3,"svgIcon"],[3,"resize",4,"ngIf"],[3,"overlayClick","collapse","kendoEventsOutsideAngular","scope","titleId","cssClass","cssStyle"],["kendoActionSheetTemplate",""],[4,"ngTemplateOutlet"],[3,"resize"],[1,"k-actionsheet-titlebar"],[1,"k-actionsheet-titlebar-group"],[1,"k-actionsheet-title"],["class","k-text-center",4,"ngIf"],["class","k-actionsheet-subtitle k-text-center",4,"ngIf"],[1,"k-actionsheet-actions"],["kendoButton","","type","button","icon","check","themeColor","primary","fillMode","flat","aria-hidden","true","size","large","innerCssClass","k-button-icon",3,"click","svgIcon","tabIndex"],[1,"k-actionsheet-content"],[1,"k-text-center"],[1,"k-actionsheet-subtitle","k-text-center"],[3,"closePopup","valueChange","type","size","min","max","weekDaysFormat","navigation","animateNavigation","activeView","bottomView","showOtherMonthDays","topView","weekNumber","cellTemplate","monthCellTemplate","yearCellTemplate","decadeCellTemplate","centuryCellTemplate","weekNumberTemplate","headerTitleTemplate","headerTemplate","footerTemplate","footer","navigationItemTemplate","focusedDate","value","kendoEventsOutsideAngular","scope","disabledDates"],[3,"today","prevButtonTitle","nextButtonTitle","parentViewButtonTitle"]]},template:function(i,s){if(1&i){const r=e.RV6();e.eu8(0,7),e.j41(1,"kendo-dateinput",8,0),e.bIt("valueChange",function(u){return e.eBV(r),e.Njj(s.handleInputChange(u))})("click",function(){return e.eBV(r),e.Njj(s.handleDateInputClick())}),e.nrm(3,"kendo-dateinput-messages",9),e.k0s(),e.j41(4,"button",10,1),e.nrm(6,"kendo-icon-wrapper",11),e.k0s(),e.eu8(7,null,2),e.DNE(9,Xt,1,1,"ng-template",null,3,e.C5r)(11,fn,1,0,"kendo-resize-sensor",12),e.j41(12,"kendo-actionsheet",13,4),e.bIt("overlayClick",function(){return e.eBV(r),e.Njj(s.show=!1)})("collapse",function(){return e.eBV(r),e.Njj(s.handleActionSheetCollapse())}),e.DNE(14,Qo,9,6,"ng-template",14),e.k0s(),e.DNE(15,Fo,3,34,"ng-template",null,5,e.C5r)}2&i&&(e.R7$(),e.Y8G("role","combobox")("isPopupOpen",s.show)("clearButton",s.clearButton)("disabled",s.disabled)("readonly",s.readonly||s.readOnlyInput)("ariaReadOnly",s.readonly)("tabindex",s.tabindex)("isRequired",s.isControlRequired)("title",s.adaptiveTitle)("focusableId",s.focusableId)("format",s.format)("twoDigitYearMax",s.twoDigitYearMax)("formatPlaceholder",s.formatPlaceholder)("placeholder",s.placeholder)("min",s.min)("max",s.max)("incompleteDateValidation",s.incompleteDateValidation)("autoCorrectParts",s.autoCorrectParts)("autoSwitchParts",s.autoSwitchParts)("autoSwitchKeys",s.autoSwitchKeys)("enableMouseWheel",s.enableMouseWheel)("allowCaretMode",s.allowCaretMode)("autoFill",s.autoFill)("inputAttributes",s.inputAttributes)("value",s.value),e.R7$(2),e.Y8G("clearTitle",s.localization.get("clearTitle")),e.R7$(),e.Y8G("tabindex",-1)("kendoEventsOutsideAngular",e.l_i(39,oo,s.handleIconClick,s.handleMousedown))("scope",s),e.BMQ("title",s.localization.get("toggle"))("aria-label",s.localization.get("toggle"))("disabled",s.disabled?"":null),e.R7$(2),e.Y8G("svgIcon",s.calendarIcon),e.R7$(5),e.Y8G("ngIf",s.isAdaptiveModeEnabled),e.R7$(),e.Y8G("kendoEventsOutsideAngular",e.eq3(42,m,s.handleActionSheetClick))("scope",s)("titleId",null==s.calendar?null:s.calendar.headerId)("cssClass",e.l_i(44,zt,"small"===s.windowSize,"medium"===s.windowSize))("cssStyle",e.eq3(47,Gn,"small"===s.windowSize?"100vh":"60vh")))},dependencies:[Ak,ic,iu,E.Uj,ct.QK,w.T3,w.bT,E.M0,In.vL,In.PN,Te.Qp,tc,Uh],encapsulation:2,changeDetection:0})}return n})();$s("div"),$s("ul"),$s("li"),$s("span");const Wg=n=>(o,t)=>t&&At(o).getTime()!==At(t).getTime()?Sr(o,n):o;Wg(0),Wg(23);const Jg=n=>(o,t)=>t&&o.getHours()!==t.getHours()?Ra(o,n):o;Jg(0),Jg(59);const ef=n=>(o,t)=>!t||o.getHours()===t.getHours()&&o.getMinutes()===t.getMinutes()?o:Bl(o,n);ef(0),ef(59);const sf=n=>(o,t)=>!t||o.getHours()===t.getHours()&&o.getMinutes()===t.getMinutes()&&o.getSeconds()===t.getSeconds()?o:Ll(o,n);sf(0),sf(999);const af=(n,o)=>n.getHours()===o.getHours()&&n.getMinutes()===o.getMinutes(),lf=(n,o)=>af(n,o)&&n.getSeconds()===o.getSeconds(),cf=[{type:"hour",getter:n=>n.getHours(),minGetter:(n,o)=>o.getHours()},{type:"minute",getter:n=>n.getMinutes(),minGetter:(n,o)=>af(n,o)?o.getMinutes():0},{type:"second",getter:n=>n.getSeconds(),minGetter:(n,o)=>lf(n,o)?o.getSeconds():0},{type:"millisecond",getter:n=>n.getMilliseconds(),minGetter:(n,o)=>((n,o)=>lf(n,o)&&n.getMilliseconds()===o.getMilliseconds())(n,o)?o.getMilliseconds():0}];new RegExp("hour|minute|second|millisecond|dayperiod|literal");new RegExp("hour|minute|second|dayperiod|literal");let Ef=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoDateRangePopupTemplate",""]],standalone:!0})}return n})();const Yh=n=>n&&n.isActive||!1;let pl=(()=>{class n{renderer;activeRangeEnd$=new Wt.t(null);focusedDate$=new Wt.t(null);endInput$=new Wt.t(null);startInput$=new Wt.t(null);dateRangePopup$=new Wt.t(null);range$=new Wt.t(un);get activeRangeEnd(){return this.activeRangeEnd$.value}get focusedDate(){return this.focusedDate$.value}get min(){return(this.startInput$.value||{}).min||null}get max(){return(this.endInput$.value||{}).max||null}get selectionRange(){return this.range$.value}get inputStartElement(){return this.startInput$.value.inputElement}get inputEndElement(){return this.endInput$.value.inputElement}constructor(t){this.renderer=t}activatePopup(){const t=this.dateRangePopup$.value;t&&(this.startInput$.value&&(this.renderer.setAttribute(this.inputStartElement,"aria-controls",t.popupUID),this.renderer.setAttribute(this.inputStartElement,"aria-expanded","true"),this.renderer.setAttribute(this.inputEndElement,"aria-controls",t.popupUID),this.renderer.setAttribute(this.inputEndElement,"aria-expanded","true")),t.activate())}deactivatePopup(){const t=this.dateRangePopup$.value;this.startInput$.value&&(this.renderer.removeAttribute(this.inputStartElement,"aria-controls"),this.renderer.setAttribute(this.inputStartElement,"aria-expanded","false"),this.renderer.removeAttribute(this.inputStartElement,"aria-activedescendant"),this.renderer.removeAttribute(this.inputEndElement,"aria-controls"),this.renderer.setAttribute(this.inputEndElement,"aria-expanded","false"),this.renderer.removeAttribute(this.inputEndElement,"aria-activedescendant")),t&&t.show&&(t.show=!1)}setActiveDescendent(t){this.renderer.setAttribute(this.inputStartElement,"aria-activedescendant",t),this.renderer.setAttribute(this.inputEndElement,"aria-activedescendant",t)}cancelPopup(){const t=this.dateRangePopup$.value;t&&t.show&&t.cancelPopup()}destroy(){this.activeRangeEnd$.complete(),this.dateRangePopup$.complete(),this.focusedDate$.complete(),this.endInput$.complete(),this.startInput$.complete(),this.range$.complete()}hasActiveComponent(){const t=this.dateRangePopup$.value,i=Yh(t),s=Yh(this.startInput$.value),r=Yh(this.endInput$.value);return i||s||r||(n=>n&&n.hasActiveContent())(t)||!1}registerStartInput(t){this.startInput$.next(t)}registerEndInput(t){this.endInput$.next(t)}registerPopup(t){this.dateRangePopup$.next(t)}setActiveRangeEnd(t){!t||this.activeRangeEnd===t||this.activeRangeEnd$.next(t)}setFocusedDate(t){Gt(this.focusedDate$.value,t)||this.focusedDate$.next(t)}setRange(t=un){this.range$.next(t)}static \u0275fac=function(i){return new(i||n)(e.KVO(e.sFG,8))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),kf=(()=>{class n{calendar;cdr;element;dateRangeService;autoCorrectOn="change";get selectionRange(){return this.calendar?this.calendar.selectionRange:null}set selectionRange(t){this.isEqualCalendarRange(t)||this.setSelectionRange(t),ul(this.dateRangeService.selectionRange,t)||this.dateRangeService.setRange(t),this.updateFocusedDate(t)}get activeRangeEnd(){return this.calendar.activeRangeEnd}set activeRangeEnd(t){this.dateRangeService.activeRangeEnd!==t&&(this.calendar.activeRangeEnd=t,this.dateRangeService.setActiveRangeEnd(t))}shouldSetRange=!0;activeRangeEndChange=new e.bkB;selectionRangeChange=new e.bkB;get calendarRange(){return this.selectionRange||un}calendarSubscriptions=new He.yU;range;constructor(t,i,s,r,l){this.calendar=t,this.cdr=i,this.element=s,this.dateRangeService=l,this.dateRangeService=this.dateRangeService||new pl(r),r.setAttribute(s.nativeElement,"aria-multiselectable","true")}ngOnInit(){const t=this.calendar,i=this.dateRangeService;t.min=Gd(i.min,t.min),t.max=Gd(i.max,t.max),this.addSubscriptions(t.cellEnter.subscribe(s=>this.handleHover(s)),t.valueChange.subscribe(s=>this.handleChange(s)),i.focusedDate$.subscribe(s=>{Gt(t.focusedDate,s)||(t.focusedDate=s)}),i.activeRangeEnd$.subscribe(s=>{t.activeRangeEnd!==s&&(t.activeRangeEnd=s,this.activeRangeEndChange.emit(s),this.cdr.markForCheck())}),i.range$.subscribe(s=>{this.isEqualCalendarRange(s)||this.acceptAndEmit(s),this.updateFocusedDate(s)}),(0,Ot.R)(this.element.nativeElement,"blur").subscribe(()=>this.handleBlur()))}ngOnDestroy(){this.calendarSubscriptions.unsubscribe()}handleChange(t){const i=this.dateRangeService,s="change"===this.autoCorrectOn&&this.shouldAutoCorrect(t),r="end"!==this.calendar.activeRangeEnd||s?"end":"start";this.range=s?jl(t):this.updateRange(t),ul(i.selectionRange,this.range)||(this.acceptAndEmit(this.range),i.setActiveRangeEnd(r),this.shouldSetRange&&this.setRange())}setRange(t){this.dateRangeService.setRange(this.range?this.range:t)}addSubscriptions(...t){t.map(i=>this.calendarSubscriptions.add(i))}isEqualCalendarRange(t){return ul(this.calendar.selectionRange,t)}handleBlur(){const{start:t,end:i}=this.calendarRange;"blur"===this.autoCorrectOn&&null!==t&&null!==i&&i<t&&this.dateRangeService.setRange(jl(t))}handleHover(t){if(this.hasCompleteRange())return;const{start:i,end:s}=this.calendarRange,r=this.calendar.activeRangeEnd;(i&&"end"===r||s&&"start"===r)&&this.setSelectionRange(this.updateRange(t))}hasCompleteRange(){const{start:t,end:i}=this.dateRangeService.selectionRange||un;return!!t&&!!i}shouldAutoCorrect(t){const{end:i,start:s}=this.calendarRange;return"end"!==this.calendar.activeRangeEnd?null!==i&&t>i:null!==s&&t<s}updateFocusedDate(t){!t||this.dateRangeService.focusedDate||this.dateRangeService.setFocusedDate(t.start||t.end)}updateRange(t){const{end:i,start:s}=this.calendarRange;return"end"!==this.calendar.activeRangeEnd?{start:t,end:i}:{start:s,end:t}}setSelectionRange(t){this.calendar.selectionRange=t,this.calendar.writeValue(null)}acceptAndEmit(t){this.setSelectionRange(t),this.selectionRangeChange.emit(t)}static \u0275fac=function(i){return new(i||n)(e.rXU(Ps),e.rXU(e.gRc),e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(pl,8))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoDateRangeSelection",""]],inputs:{autoCorrectOn:"autoCorrectOn",selectionRange:"selectionRange",activeRangeEnd:"activeRangeEnd",shouldSetRange:"shouldSetRange"},outputs:{activeRangeEndChange:"activeRangeEndChange",selectionRangeChange:"selectionRangeChange"},standalone:!0})}return n})(),ru=(()=>{class n extends ve.EX{accept;acceptLabel;cancel;cancelLabel;adaptiveCloseButtonTitle;static \u0275fac=(()=>{let t;return function(s){return(t||(t=e.xGo(n)))(s||n)}})();static \u0275dir=e.FsC({type:n,selectors:[["kendo-daterangepopup-messages-base"]],inputs:{accept:"accept",acceptLabel:"acceptLabel",cancel:"cancel",cancelLabel:"cancelLabel",adaptiveCloseButtonTitle:"adaptiveCloseButtonTitle"},features:[e.Vt3]})}return n})(),VR=(()=>{class n extends ru{service;constructor(t){super(),this.service=t}static \u0275fac=function(i){return new(i||n)(e.rXU(ve.Pi))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoDateRangePopupLocalizedMessages",""]],standalone:!0,features:[e.Jv_([{provide:ru,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3]})}return n})(),qh=(()=>{class n{popupService;dateRangeService;zone;renderer;localization;cdr;rtl;adaptiveService;container;actionSheet;defaultTemplate;contentTemplate;dateRangeSelectionDirective;viewCalendar;contentCalendar;showCalendarHeader=!0;focusedDate;disabledDates;activeView=lt[lt.month];bottomView=lt[lt.month];topView=lt[lt.century];min;max;allowReverse=!1;animateNavigation=!1;disabled=!1;views=2;weekNumber=!1;animate=!0;anchor;anchorAlign;showViewHeader=!1;showOtherMonthDays=!1;appendTo;collision={horizontal:"fit",vertical:"flip"};popupAlign;margin;adaptiveMode="none";adaptiveTitle="";adaptiveSubtitle="";size;open=new e.bkB;close=new e.bkB;onBlur=new e.bkB;onFocus=new e.bkB;cancel=new e.bkB;get calendar(){return this._calendar}set calendar(t){this._calendar=t,this.subscribeFocusBlur(t)}get isActive(){return this.calendar&&this.calendar.isActive||this.actionSheet&&this.actionSheet.expanded}get isAdaptiveModeEnabled(){return"auto"===this.adaptiveMode}get isAdaptive(){return this.isAdaptiveModeEnabled&&"large"!==this.windowSize}popupRef;popupUID=(0,E.Os)();checkIcon=ne.oEo;windowSize;set show(t){if(this._show===t)return;const i=new tu;t?this.open.emit(i):this.close.emit(i),!i.isDefaultPrevented()&&this.toggleDateRange(t)}get show(){return this._show}handleAccept(){this.dateRangeService.setRange(this._rangeSelection),this.show=!1}activateSubscription;blurSubscription;focusSubscription;calendarSubscriptions=new He.yU;popupSubscriptions=new He.yU;windowBlurSubscription;localizationSubscriptions=new He.yU;resolvedPromise=Promise.resolve();_calendar;_show;_rangeSelection;constructor(t,i,s,r,l,u,f,C){this.popupService=t,this.dateRangeService=i,this.zone=s,this.renderer=r,this.localization=l,this.cdr=u,this.rtl=f,this.adaptiveService=C}ngOnInit(){this.dateRangeService.registerPopup(this),this.localization&&this.localizationSubscriptions.add(this.localization.changes.subscribe(()=>this.cdr.markForCheck()))}ngAfterViewInit(){this.calendarSubscriptions.add(this.contentCalendar.changes.subscribe(t=>{this.calendar=t.first,this.actionSheet.titleId=t.first?.headerId,this.cdr.detectChanges()})),this.calendarSubscriptions.add(this.viewCalendar.changes.subscribe(t=>{this.calendar=t.first,this.actionSheet.titleId=t.first?.headerId,this.cdr.detectChanges()})),this.calendarSubscriptions.add(this.dateRangeService.startInput$?.value?.valueChange.subscribe(t=>{this.calendar&&(this.calendar.shouldHoverWhenNoStart=!(t||!this.dateRangeService.selectionRange.end))})),Kl()&&this.zone.runOutsideAngular(()=>this.windowBlurSubscription=(0,Ot.R)(window,"blur").subscribe(this.handleWindowBlur.bind(this)))}ngOnDestroy(){this.destroyPopup(),this.calendarSubscriptions.unsubscribe(),this.activateSubscription&&this.activateSubscription.unsubscribe(),this.blurSubscription&&(this.blurSubscription.unsubscribe(),this.focusSubscription.unsubscribe()),this.windowBlurSubscription&&this.windowBlurSubscription.unsubscribe()}onRangeSelectionChange(t){this.dateRangeService.setActiveRangeEnd(t.activeRangeEnd),this.isAdaptive?this._rangeSelection=t.selectionRange:this.dateRangeService.setRange(t.selectionRange)}activate(){!0!==this.show&&(this.activateSubscription&&this.activateSubscription.unsubscribe(),this.show=!0,this.cdr.markForCheck(),this.zone.runOutsideAngular(()=>{this.activateSubscription=(0,qe.h)(this.contentCalendar.changes,this.viewCalendar.changes).pipe((0,We.p)(t=>t&&t.first),(0,tt.T)(t=>t.first)).subscribe(t=>setTimeout(()=>{t.focus(),this.addCalendarSubscription(t)}))}))}focus(){this.calendar&&this.calendar.focus()}hasActiveContent(){return!(!(0,E.nm)()||!this.popupRef)&&this.popupRef.popupElement.contains(document.activeElement)}toggle(t){this.resolvedPromise.then(()=>{this.toggleDateRange(void 0===t?!this.show:t)})}cancelPopup(){this.show=!1,this.cancel.emit()}onResize(){const t=this.adaptiveService.size;!this.show||this.windowSize===t||(this.actionSheet.expanded?this.toggleActionSheet(!1):this.togglePopup(!1),this.windowSize=t)}closePopup(t){t.preventDefault(),t.stopPropagation(),this.toggle(!1),"start"!==this.dateRangeService.activeRangeEnd&&this.dateRangeService.activeRangeEnd?this.dateRangeService.endInput$.value.focus():this.dateRangeService.startInput$.value.focus()}handleTab(t){t.preventDefault(),t.stopPropagation(),"start"!==this.dateRangeService.activeRangeEnd&&this.dateRangeService.activeRangeEnd?this.dateRangeService.endInput$.value.focus():this.dateRangeService.setActiveRangeEnd("end")}handleShiftTab(t){t.preventDefault(),t.stopPropagation(),"end"===this.dateRangeService.activeRangeEnd?this.dateRangeService.setActiveRangeEnd("start"):this.dateRangeService.startInput$.value.focus()}handleWindowBlur(){!this.show||this.actionSheet.expanded||((0,E.SF)(this.close)?this.zone.run(()=>this.show=!1):this.show=!1)}handleMouseLeave(){this.dateRangeService.setRange(this.dateRangeService.selectionRange)}handleKeydown(t){const{altKey:i}=t,s=(0,E.tq)(t);(s===E.D$.Escape||i&&s===E.D$.ArrowUp)&&this.zone.run(()=>this.cancelPopup())}subscribeFocusBlur(t){if(this.blurSubscription&&(this.blurSubscription.unsubscribe(),this.focusSubscription.unsubscribe()),!t)return;const i=t.element.nativeElement.querySelector(".k-calendar-view");this.blurSubscription=(0,Ot.R)(i,"blur").subscribe(()=>this.onBlur.emit()),this.focusSubscription=(0,Ot.R)(i,"focus").subscribe(()=>this.onFocus.emit())}addPopupSubscriptions(...t){kt(this.popupSubscriptions)||(this.popupSubscriptions=new He.yU),t.map(i=>this.popupSubscriptions.add(i))}get _appendTo(){const t=this.appendTo;if(t&&"root"!==t)return"component"===t?this.container:t}togglePopup(t){if(this._show=t,this.popupRef&&this.destroyPopup(),this._show){const i=this.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:this.anchor,anchorAlign:this.anchorAlign||{vertical:"bottom",horizontal:i},animate:this.animate,appendTo:this._appendTo,collision:this.collision,content:(this.contentTemplate||{}).templateRef||this.defaultTemplate,margin:this.margin,popupClass:"k-calendar-container k-daterangepicker-popup",popupAlign:this.popupAlign||{vertical:"top",horizontal:i},positionMode:"absolute"});const{popupElement:s,popupAnchorViewportLeave:r}=this.popupRef;this.renderer.setAttribute(s.querySelector(".k-popup"),"id",this.popupUID),this.addPopupSubscriptions(this.zone.runOutsideAngular(()=>(0,Ot.R)(s,"keydown").subscribe(this.handleKeydown.bind(this))),(0,Ot.R)(s,"mouseleave").subscribe(this.handleMouseLeave.bind(this)),r.subscribe(()=>this.cancelPopup()))}}destroyPopup(){kt(this.popupRef)&&(this.popupRef.close(),this.popupRef=null),kt(this.popupSubscriptions)&&this.popupSubscriptions.unsubscribe()}toggleDateRange(t){this.windowSize=this.adaptiveService.size,this.isAdaptive?this.toggleActionSheet(t):this.togglePopup(t)}toggleActionSheet(t){t!==this._show&&(t&&!this.actionSheet.expanded?(this.actionSheet.toggle(),this.renderer.setAttribute(this.actionSheet.element.nativeElement,"id",this.popupUID)):!t&&this.actionSheet.expanded&&this.actionSheet.toggle(),this._show=t)}addCalendarSubscription=t=>{this.calendarSubscriptions.add(t.viewList.focusedCellChange.subscribe(i=>{this.dateRangeService.setActiveDescendent(i)}))};static \u0275fac=function(i){return new(i||n)(e.rXU(pe.OQ),e.rXU(pl),e.rXU(e.SKi),e.rXU(e.sFG),e.rXU(ve.Pi),e.rXU(e.gRc),e.rXU(ve.rX,8),e.rXU(ae.k))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-daterange-popup"]],contentQueries:function(i,s,r){if(1&i&&(e.wni(r,Ef,5),e.wni(r,Ps,4)),2&i){let l;e.mGM(l=e.lsd())&&(s.contentTemplate=l.first),e.mGM(l=e.lsd())&&(s.contentCalendar=l)}},viewQuery:function(i,s){if(1&i&&(e.GBs(cn,5,e.c1b),e.GBs(Qi,5),e.GBs(yd,5),e.GBs(kf,5),e.GBs(Ps,5)),2&i){let r;e.mGM(r=e.lsd())&&(s.container=r.first),e.mGM(r=e.lsd())&&(s.actionSheet=r.first),e.mGM(r=e.lsd())&&(s.defaultTemplate=r.first),e.mGM(r=e.lsd())&&(s.dateRangeSelectionDirective=r.first),e.mGM(r=e.lsd())&&(s.viewCalendar=r)}},inputs:{showCalendarHeader:"showCalendarHeader",focusedDate:"focusedDate",disabledDates:"disabledDates",activeView:"activeView",bottomView:"bottomView",topView:"topView",min:"min",max:"max",allowReverse:"allowReverse",animateNavigation:"animateNavigation",disabled:"disabled",views:"views",weekNumber:"weekNumber",animate:"animate",anchor:"anchor",anchorAlign:"anchorAlign",showViewHeader:"showViewHeader",showOtherMonthDays:"showOtherMonthDays",appendTo:"appendTo",collision:"collision",popupAlign:"popupAlign",margin:"margin",adaptiveMode:"adaptiveMode",adaptiveTitle:"adaptiveTitle",adaptiveSubtitle:"adaptiveSubtitle",size:"size"},outputs:{open:"open",close:"close",onBlur:"blur",onFocus:"focus",cancel:"cancel"},exportAs:["kendo-daterange-popup"],standalone:!0,features:[e.Jv_([ve.Pi,{provide:ve.$R,useValue:"kendo.daterangepopup"}]),e.aNF],decls:8,vars:7,consts:()=>{let t,i,s,r,l;return t=$localize`:kendo.daterangepopup.accept|The Accept button text in the timepicker component:Set`,i=$localize`:kendo.daterangepopup.acceptLabel|The label for the Accept button in the timepicker component:Set time`,s=$localize`:kendo.daterangepopup.cancel|The Cancel button text in the timepicker component:Cancel`,r=$localize`:kendo.daterangepopup.cancelLabel|The label for the Cancel button in the timepicker component:Cancel changes`,l=$localize`:kendo.daterangepopup.adaptiveCloseButtonTitle|The title of the Close button of the ActionSheet that is rendered instead of the Popup when using small screen devices in adaptive mode:Close`,[["container",""],["defaultTemplate",""],["actionSheet",""],["kendoDateRangePopupLocalizedMessages","","accept",t,"acceptLabel",i,"cancel",s,"cancelLabel",r,"adaptiveCloseButtonTitle",l],[3,"overlayClick","collapse","cssClass","cssStyle"],["kendoActionSheetTemplate",""],["orientation","horizontal","selection","range",3,"onClosePopup","onTabPress","onShiftTabPress","rangeSelectionChange","activeView","bottomView","animateNavigation","disabled","views","weekNumber","topView","disabledDates","min","max","showCalendarHeader","focusedDate","allowReverse","showViewHeader","showOtherMonthDays","size","value"],[3,"resize",4,"ngIf"],[1,"k-actionsheet-titlebar"],[1,"k-actionsheet-titlebar-group"],[1,"k-actionsheet-title"],["class","k-text-center",4,"ngIf"],["class","k-actionsheet-subtitle k-text-center",4,"ngIf"],[1,"k-actionsheet-actions"],["kendoButton","","type","button","icon","check","fillMode","flat","themeColor","primary","aria-hidden","true","size","large","innerCssClass","k-button-icon",3,"click","svgIcon","tabIndex"],[1,"k-actionsheet-content"],[1,"k-scrollable-wrap"],["size","large","orientation","vertical","selection","range",3,"rangeSelectionChange","animateNavigation","disabled","views","weekNumber","disabledDates","activeView","bottomView","topView","min","max","showCalendarHeader","focusedDate","allowReverse","showViewHeader","showOtherMonthDays","value"],[1,"k-actions","k-actions-stretched","k-actions-horizontal","k-actionsheet-footer"],["kendoButton","","type","button","size","large",1,"k-time-cancel",3,"click"],["kendoButton","","type","button","size","large","themeColor","primary",1,"k-time-accept",3,"click"],[3,"resize"],[1,"k-text-center"],[1,"k-actionsheet-subtitle","k-text-center"]]},template:function(i,s){if(1&i){const r=e.RV6();e.eu8(0,3)(1,null,0),e.DNE(3,fg,1,17,"ng-template",null,1,e.C5r),e.j41(5,"kendo-actionsheet",4,2),e.bIt("overlayClick",function(){return e.eBV(r),e.Njj(s.show=!1)})("collapse",function(){return e.eBV(r),e.Njj(s.onBlur.emit())}),e.DNE(7,Ka,16,29,"ng-template",5),e.k0s()}2&i&&(e.R7$(5),e.Y8G("cssClass",e.l_i(2,zt,"small"===s.windowSize,"medium"===s.windowSize))("cssStyle",e.eq3(5,Gn,"small"===s.windowSize?"100vh":"60vh")))},dependencies:[VR,Ps,In.vL,In.PN,w.bT,E.M0,Te.Qp],encapsulation:2})}return n})(),zR=(()=>{class n{dateRangeService;size;keydown(t){const i=(0,E.tq)(t);i===E.D$.ArrowDown&&t.altKey&&this.dateRangeService.activatePopup(),(i===E.D$.ArrowUp&&t.altKey||i===E.D$.Escape)&&this.dateRangeService.deactivatePopup()}wrapperClass=!0;showDefault=!1;contentPopup;get hasContentPopup(){return this.contentPopup.length>0}subscription;constructor(t){this.dateRangeService=t,(0,Vt.$j)(Bo)}ngAfterContentInit(){this.showDefault=!this.hasContentPopup,this.subscription=this.contentPopup.changes.subscribe(()=>{this.showDefault=!this.hasContentPopup})}ngOnDestroy(){this.subscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)(e.rXU(pl))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-daterange"]],contentQueries:function(i,s,r){if(1&i&&e.wni(r,qh,4),2&i){let l;e.mGM(l=e.lsd())&&(s.contentPopup=l)}},hostVars:2,hostBindings:function(i,s){1&i&&e.bIt("keydown",function(l){return s.keydown(l)}),2&i&&e.AVh("k-daterangepicker",s.wrapperClass)},inputs:{size:"size"},standalone:!0,features:[e.Jv_([pl]),e.aNF],ngContentSelectors:qr,decls:2,vars:1,consts:[[3,"size",4,"ngIf"],[3,"size"]],template:function(i,s){1&i&&(e.NAR(),e.SdG(0),e.DNE(1,Zr,1,1,"kendo-daterange-popup",0)),2&i&&(e.R7$(),e.Y8G("ngIf",s.showDefault))},dependencies:[w.bT,qh],encapsulation:2})}return n})(),Rf=(()=>{class n{activeRangeEnd;dateRangeService;input;element;renderer;zone;navigateCalendarOnFocus=!1;get isActiveEnd(){return this.dateRangeService.activeRangeEnd===this.activeRangeEnd}popupSubscriptions=new He.yU;subscriptions=new He.yU;get popupCalendarActivated(){const t=this.dateRangeService.dateRangePopup$.value;return kt(t)&&kt(t.calendar)}constructor(t,i,s,r,l,u){this.activeRangeEnd=t,this.dateRangeService=i,this.input=s,this.element=r,this.renderer=l,this.zone=u}init(){this.input.role="combobox",this.input.hasPopup="grid",this.input.value&&this.dateRangeService.setRange(this.getRange(this.input.value)),[this.input.onBlur.subscribe(()=>this.deactivate()),this.input.valueUpdate.subscribe(t=>this.updateRange(t,"change")),this.dateRangeService.activeRangeEnd$.subscribe(()=>{this.navigateCalendarOnFocus&&this.focusActiveDate(),this.toggleActiveClass(this.isActiveEnd)}),this.dateRangeService.dateRangePopup$.subscribe(t=>this.initPopup(t)),this.dateRangeService.range$.subscribe(t=>this.updateInputValue(t)),(0,Ot.R)(this.element.nativeElement,"click").subscribe(()=>this.activate()),(0,Ot.R)(this.element.nativeElement,"keydown").subscribe(t=>this.togglePopup(t||{}))].forEach(t=>this.subscriptions.add(t))}destroy(){this.subscriptions.unsubscribe(),this.unsubscribePopup()}initPopup(t){t?(t.anchor||(t.anchor=this.element.nativeElement),[t.cancel.subscribe(()=>this.isActiveEnd&&this.input.focus()),t.onFocus.subscribe(()=>this.toggleActiveClass(this.isActiveEnd)),t.onBlur.subscribe(()=>this.deactivate()),t.close?.subscribe(()=>this.isActiveEnd&&this.input.focus())].forEach(i=>this.popupSubscriptions.add(i))):this.unsubscribePopup()}unsubscribePopup(){this.popupSubscriptions.unsubscribe(),this.popupSubscriptions=new He.yU}activate(){this.dateRangeService.setActiveRangeEnd(this.activeRangeEnd),this.dateRangeService.activatePopup()}deactivate(){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.updateRange(this.input.value,"blur"),!this.dateRangeService.hasActiveComponent()&&(this.toggleActiveClass(!1),this.zone.run(()=>this.dateRangeService.deactivatePopup()))})})}updateRange(t,i){const s=this.getRange(t,i);s&&(this.focusActiveDate(),this.dateRangeService.setRange(s))}togglePopup(t){const i=(0,E.tq)(t),s=t.altKey;i===E.D$.Escape?this.dateRangeService.cancelPopup():s&&i===E.D$.ArrowDown&&this.dateRangeService.activatePopup()}focusActiveDate(){this.input.value&&this.isActiveEnd&&this.dateRangeService.setFocusedDate(W(this.input.value))}toggleActiveClass(t){const s=this.element.nativeElement;s&&s.querySelector&&this.renderer[t?"addClass":"removeClass"](s,"k-focus")}static \u0275fac=function(i){e.QTQ()};static \u0275dir=e.FsC({type:n})}return n})(),KR=(()=>{class n extends Rf{rangeService;dateInput;autoCorrectOn;navigateCalendarOnFocus=!1;constructor(t,i,s,r,l){super("end",t,i,s,r,l),this.rangeService=t,this.dateInput=i}ngOnInit(){this.rangeService.registerEndInput(this.dateInput),super.init(),this.dateInput.pickerType="daterangeend"}ngAfterViewInit(){this.renderer.setAttribute(this.dateInput.inputElement,"aria-expanded","false")}ngOnDestroy(){super.destroy()}getRange(t,i){const{min:s,max:r}=this.dateInput;if(!Xa(t,s,r))return null;const{start:l}=this.rangeService.selectionRange||un;return this.autoCorrectOn===i&&kt(t)&&t<l?jl(t):{start:l,end:W(t)}}updateInputValue(t){const{end:i}=t||un,{min:s,max:r}=this.dateInput;Gt(this.dateInput.value,i)||!Xa(i,s,r)||(this.dateInput.writeValue(W(i)),this.dateInput.notify())}static \u0275fac=function(i){return new(i||n)(e.rXU(pl),e.rXU(ic),e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(e.SKi))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoDateRangeEndInput",""]],inputs:{autoCorrectOn:"autoCorrectOn",navigateCalendarOnFocus:"navigateCalendarOnFocus"},standalone:!0,features:[e.Vt3]})}return n})(),$R=(()=>{class n extends Rf{rangeService;dateInput;renderer;autoCorrectOn;navigateCalendarOnFocus=!1;constructor(t,i,s,r,l){super("start",t,i,s,r,l),this.rangeService=t,this.dateInput=i,this.renderer=r}ngOnInit(){this.rangeService.registerStartInput(this.dateInput),super.init(),this.dateInput.pickerType="daterangestart"}ngAfterViewInit(){this.renderer.setAttribute(this.dateInput.inputElement,"aria-expanded","false")}ngOnDestroy(){super.destroy()}getRange(t,i){const{min:s,max:r}=this.dateInput;if(!Xa(t,s,r))return null;const{end:l}=this.rangeService.selectionRange||un;return this.autoCorrectOn===i&&l&&t>l?jl(t):{start:W(t),end:l}}updateInputValue(t){const{start:i}=t||un,{min:s,max:r}=this.dateInput;Gt(this.dateInput.value,i)||!Xa(i,s,r)||(this.dateInput.writeValue(W(i)),this.dateInput.notify())}static \u0275fac=function(i){return new(i||n)(e.rXU(pl),e.rXU(ic),e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(e.SKi))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoDateRangeStartInput",""]],inputs:{autoCorrectOn:"autoCorrectOn",navigateCalendarOnFocus:"navigateCalendarOnFocus"},standalone:!0,features:[e.Vt3]})}return n})(),Jh=(()=>{class n extends nu{service;constructor(t){super(),this.service=t}get override(){return!0}static \u0275fac=function(i){return new(i||n)(e.rXU(ve.Pi))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-datepicker-messages"]],standalone:!0,features:[e.Jv_([{provide:nu,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),jR=(()=>{class n extends ru{service;constructor(t){super(),this.service=t}get override(){return!0}static \u0275fac=function(i){return new(i||n)(e.rXU(ve.Pi))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-daterange-popup-messages"]],standalone:!0,features:[e.Jv_([{provide:ru,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})();const If=["*"];let Df=(()=>{class n{localizationService;hostClass=!0;direction;dynamicRTLSubscription;rtl=!1;constructor(t){this.localizationService=t,this.dynamicRTLSubscription=this.localizationService.changes.subscribe(({rtl:i})=>{this.rtl=i,this.direction=this.rtl?"rtl":"ltr"})}ngOnDestroy(){this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(e.rXU(ve.Pi))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-badge-container"]],hostVars:3,hostBindings:function(i,s){2&i&&(e.BMQ("dir",s.direction),e.AVh("k-badge-container",s.hostClass))},standalone:!0,features:[e.Jv_([ve.Pi,{provide:ve.$R,useValue:"kendo.badge.component"}]),e.aNF],ngContentSelectors:If,decls:1,vars:0,template:function(i,s){1&i&&(e.NAR(),e.SdG(0))},encapsulation:2})}return n})();const Tf={name:"@progress/kendo-angular-indicators",productName:"Kendo UI for Angular",productCode:"KENDOUIANGULAR",productCodes:["KENDOUIANGULAR"],publishDate:1755030398,version:"19.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"},tw={small:"k-badge-sm",medium:"k-badge-md",large:"k-badge-lg"},iw={small:"k-rounded-sm",medium:"k-rounded-md",large:"k-rounded-lg",full:"k-rounded-full"};let Qh=(()=>{class n{element;renderer;localizationService;hostClass=!0;get cutoutBorderClass(){return this.cutoutBorder}direction;get align(){return this.badgeAlign}set align(t){this.badgeAlign=Object.assign(this.badgeAlign,t)}size="medium";fill="solid";themeColor="primary";rounded="medium";position="edge";cutoutBorder=!1;badgeClasses=[];badgeAlign={vertical:"top",horizontal:"end"};dynamicRTLSubscription;rtl=!1;constructor(t,i,s){this.element=t,this.renderer=i,this.localizationService=s,(0,Vt.$j)(Tf),this.dynamicRTLSubscription=this.localizationService.changes.subscribe(({rtl:r})=>{this.rtl=r,this.direction=this.rtl?"rtl":"ltr"})}ngAfterViewInit(){this.badgeClasses.length||this.setBadgeClasses()}ngOnChanges(){this.setBadgeClasses()}ngOnDestroy(){this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe()}alignClass(){return`k-${this.badgeAlign.vertical}-${this.badgeAlign.horizontal}`}positionClass(){return`k-badge-${this.position}`}sizeClass(){return"none"!==this.size?tw[this.size]:""}roundedClass(){return"none"!==this.rounded?iw[this.rounded]:""}themeColorClass(){return"none"!==this.themeColor&&"none"!==this.fill?`k-badge-${this.fill}-${this.themeColor}`:""}fillClass(){return"none"!==this.fill?`k-badge-${this.fill}`:""}setBadgeClasses(){const t=this.element.nativeElement;this.badgeClasses.forEach(i=>{this.renderer.removeClass(t,i)}),this.badgeClasses=[this.themeColorClass(),this.fillClass(),this.sizeClass(),this.roundedClass(),this.alignClass(),this.positionClass()],this.badgeClasses.forEach(i=>{i&&this.renderer.addClass(t,i)})}static \u0275fac=function(i){return new(i||n)(e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(ve.Pi))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-badge"]],hostVars:5,hostBindings:function(i,s){2&i&&(e.BMQ("dir",s.direction),e.AVh("k-badge",s.hostClass)("k-badge-border-cutout",s.cutoutBorderClass))},inputs:{align:"align",size:"size",fill:"fill",themeColor:"themeColor",rounded:"rounded",position:"position",cutoutBorder:"cutoutBorder"},standalone:!0,features:[e.Jv_([ve.Pi,{provide:ve.$R,useValue:"kendo.badge.component"}]),e.OA$,e.aNF],ngContentSelectors:If,decls:1,vars:0,template:function(i,s){1&i&&(e.NAR(),e.SdG(0))},encapsulation:2})}return n})();const hw=["toolbarTemplate"],pw=["sectionTemplate"],Of=["popupTemplate"],mw=["kendoToolbarScrollableButton",""],Mf=["overflowButton"],gw=["popupSectionTemplate"],fw=["scrollContainer"],_w=["resizeSensor"],vw=["container"],Cw=["prevScrollButton"],Sw=["nextScrollButton"],bw=["startButtonGroup"],Ew=["endButtonGroup"],kw=["scrollSeparator"],sc=(n,o,t)=>({"k-button-sm":n,"k-button-md":o,"k-button-lg":t});function Rw(n,o){if(1&n){const t=e.RV6();e.j41(0,"span",22,5),e.bIt("onClick",function(s){e.eBV(t);const r=e.XpG(2);return e.Njj(r.scrollTools(s))}),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("prev",!0)("overflow",t.normalizedOverflow)("title",t.getScrollButtonTitle("prev"))("ngClass",e.sMw(4,sc,"small"===t.size,"medium"===t.size||!t.size,"large"===t.size))}}function ww(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",23,6)(2,"span",22,5),e.bIt("onClick",function(s){e.eBV(t);const r=e.XpG(2);return e.Njj(r.scrollTools(s))}),e.k0s(),e.j41(4,"span",24,7),e.bIt("onClick",function(s){e.eBV(t);const r=e.XpG(2);return e.Njj(r.scrollTools(s))}),e.k0s()()}if(2&n){const t=e.XpG(2);e.R7$(2),e.Y8G("prev",!0)("overflow",t.normalizedOverflow)("title",t.getScrollButtonTitle("prev"))("ngClass",e.sMw(8,sc,"small"===t.size,"medium"===t.size||!t.size,"large"===t.size)),e.R7$(2),e.Y8G("prev",!1)("overflow",t.normalizedOverflow)("title",t.getScrollButtonTitle("next"))("ngClass",e.sMw(12,sc,"small"===t.size,"medium"===t.size||!t.size,"large"===t.size))}}function Iw(n,o){if(1&n&&(e.qex(0),e.DNE(1,Rw,2,8,"span",19)(2,ww,6,16,"div",20),e.nrm(3,"div",21,4),e.bVm()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf","split"===t.hasScrollButtons.position),e.R7$(),e.Y8G("ngIf","start"===t.hasScrollButtons.position)}}function Dw(n,o){if(1&n&&(e.j41(0,"div",28),e.eu8(1,29),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.Y8G("ngTemplateOutlet",t.toolbarTemplate)}}function Tw(n,o){if(1&n){const t=e.RV6();e.qex(0,27),e.bIt("rendererClick",function(s){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onRendererClick(s))}),e.DNE(1,Dw,2,1,"ng-template",null,9,e.C5r),e.bVm()}if(2&n){const t=o.$implicit,i=e.sdS(2),s=e.XpG(2);e.Y8G("tool",t)("resizable",s.resizable)("ngTemplateOutlet",t.isBuiltInTool?t.toolbarTemplate:i)}}function xw(n,o){if(1&n&&(e.j41(0,"div",25,8),e.DNE(2,Tw,3,3,"ng-container",26),e.k0s()),2&n){const t=e.XpG();e.R7$(2),e.Y8G("ngForOf",t.allTools)}}function Ow(n,o){if(1&n&&(e.j41(0,"div",28),e.eu8(1,29),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.Y8G("ngTemplateOutlet",t.toolbarTemplate)}}function Mw(n,o){if(1&n){const t=e.RV6();e.qex(0,27),e.bIt("rendererClick",function(s){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onRendererClick(s))}),e.DNE(1,Ow,2,1,"ng-template",null,9,e.C5r),e.bVm()}if(2&n){const t=o.$implicit,i=e.sdS(2),s=e.XpG(2);e.Y8G("tool",t)("resizable",s.resizable)("ngTemplateOutlet",t.isBuiltInTool?t.toolbarTemplate:i)}}function yw(n,o){if(1&n&&e.DNE(0,Mw,3,3,"ng-container",26),2&n){const t=e.XpG();e.Y8G("ngForOf",t.allTools)}}function Nw(n,o){1&n&&e.nrm(0,"div",21)}function Gw(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",30,10),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.showPopup())}),e.k0s()}if(2&n){const t=e.XpG();e.xc7("visibility","hidden")("position","relative"),e.Y8G("icon",t.overflowButtonIcon("font"))("svgIcon",t.overflowButtonIcon("svg"))("title",t.moreToolsTitle)("id",t.overflowBtnId)("ngClass",t.overflowClass),e.BMQ("aria-label",t.moreToolsTitle)("aria-expanded",t.popupOpen)("aria-haspopup","section"===t.normalizedOverflow.mode?null:"menu")}}function Aw(n,o){if(1&n){const t=e.RV6();e.j41(0,"span",24,7),e.bIt("onClick",function(s){e.eBV(t);const r=e.XpG(2);return e.Njj(r.scrollTools(s))}),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("prev",!1)("overflow",t.normalizedOverflow)("title",t.getScrollButtonTitle("next"))("ngClass",e.sMw(4,sc,"small"===t.size,"medium"===t.size||!t.size,"large"===t.size))}}function Pw(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",23,11)(2,"span",22,5),e.bIt("onClick",function(s){e.eBV(t);const r=e.XpG(2);return e.Njj(r.scrollTools(s))}),e.k0s(),e.j41(4,"span",24,7),e.bIt("onClick",function(s){e.eBV(t);const r=e.XpG(2);return e.Njj(r.scrollTools(s))}),e.k0s()()}if(2&n){const t=e.XpG(2);e.R7$(2),e.Y8G("prev",!0)("overflow",t.normalizedOverflow)("title",t.getScrollButtonTitle("prev"))("ngClass",e.sMw(8,sc,"small"===t.size,"medium"===t.size||!t.size,"large"===t.size)),e.R7$(2),e.Y8G("prev",!1)("overflow",t.normalizedOverflow)("title",t.getScrollButtonTitle("next"))("ngClass",e.sMw(12,sc,"small"===t.size,"medium"===t.size||!t.size,"large"===t.size))}}function Fw(n,o){if(1&n&&(e.qex(0),e.nrm(1,"div",21,4),e.DNE(3,Aw,2,8,"span",31)(4,Pw,6,16,"div",20),e.bVm()),2&n){const t=e.XpG();e.R7$(3),e.Y8G("ngIf","split"===t.hasScrollButtons.position),e.R7$(),e.Y8G("ngIf","end"===t.hasScrollButtons.position)}}function Bw(n,o){}function Lw(n,o){if(1&n){const t=e.RV6();e.DNE(0,Bw,0,0,"ng-template",34),e.bIt("rendererClick",function(s){e.eBV(t);const r=e.XpG(3);return e.Njj(r.onRendererClick(s))})}if(2&n){const t=e.XpG().$implicit,i=e.sdS(3),s=e.XpG(2);e.Y8G("tool",t)("resizable",s.resizable)("ngTemplateOutlet",t.isBuiltInTool?t.popupTemplate:i)}}function Uw(n,o){if(1&n&&(e.j41(0,"div",35),e.eu8(1,29),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.Y8G("ngTemplateOutlet",t.popupTemplate)}}function Vw(n,o){if(1&n&&(e.qex(0),e.DNE(1,Lw,1,3,null,15)(2,Uw,2,1,"ng-template",null,12,e.C5r),e.bVm()),2&n){const t=o.$implicit;e.R7$(),e.Y8G("ngIf",t.popupTemplate)}}function zw(n,o){if(1&n&&(e.j41(0,"div",32),e.DNE(1,Vw,4,1,"ng-container",33),e.k0s()),2&n){const t=e.XpG();e.Y8G("id",t.popupId),e.BMQ("dir","rtl"===t.direction?"rtl":null)("aria-labelledby",t.overflowBtnId),e.R7$(),e.Y8G("ngForOf",t.overflowTools)}}function Kw(n,o){if(1&n&&e.eu8(0,29),2&n){const t=e.XpG().$implicit;e.Y8G("ngTemplateOutlet",t.sectionTemplate)}}function $w(n,o){if(1&n){const t=e.RV6();e.qex(0,38),e.bIt("rendererClick",function(s){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onRendererClick(s))}),e.DNE(1,Kw,1,1,"ng-template",null,9,e.C5r),e.bVm()}if(2&n){const t=o.$implicit,i=e.sdS(2),s=e.XpG(2);e.Y8G("tool",t)("resizable",s.resizable)("ngTemplateOutlet",t.isBuiltInTool?t.sectionTemplate:i)}}function jw(n,o){if(1&n&&(e.j41(0,"span",36),e.DNE(1,$w,3,3,"ng-container",37),e.k0s()),2&n){const t=e.XpG();e.Y8G("ngClass",t.sectionSizeClass)("id",t.popupId),e.BMQ("dir","rtl"===t.direction?"rtl":null)("aria-labelledby",t.overflowBtnId),e.R7$(),e.Y8G("ngForOf",t.overflowTools)}}function Hw(n,o){1&n&&e.nrm(0,"kendo-resize-sensor",null,13)}const Xw=["toolbarButton"],Ww=["sectionButton"];function Yw(n,o){1&n&&e.nrm(0,"kendo-badge",10),2&n&&e.Y8G("cutoutBorder",!0)}function qw(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-badge-container")(1,"button",8,3),e.bIt("click",function(s){e.eBV(t);const r=e.XpG(2);return e.Njj(r.click.emit(s))})("pointerdown",function(s){e.eBV(t);const r=e.XpG(2);return e.Njj(r.pointerdown.emit(s))})("selectedChange",function(s){e.eBV(t);const r=e.XpG(2);return e.Njj(r.selectedChangeHandler(s))})("blur",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onBlur())}),e.EFF(3),e.k0s(),e.DNE(4,Yw,1,1,"kendo-badge",9),e.k0s()}if(2&n){const t=e.XpG(2);e.R7$(),e.AVh("k-toolbar-button",!t.toggleable)("k-toolbar-toggle-button",t.toggleable),e.Y8G("tabindex",t.tabIndex)("size",t.size)("ngStyle",t.style)("ngClass",t.className)("disabled",t.disabled)("toggleable",t.toggleable)("fillMode",t.fillMode)("themeColor",t.fillMode?t.themeColor:null)("rounded",t.rounded)("selected",t.selected)("icon",t.toolbarOptions.icon)("iconClass",t.toolbarOptions.iconClass)("svgIcon",t.toolbarOptions.svgIcon)("imageUrl",t.toolbarOptions.imageUrl),e.BMQ("title",t.title),e.R7$(2),e.SpI(" ",t.toolbarOptions.text," "),e.R7$(),e.Y8G("ngIf",t.showBadge)}}function Jw(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",8,3),e.bIt("click",function(s){e.eBV(t);const r=e.XpG(2);return e.Njj(r.click.emit(s))})("pointerdown",function(s){e.eBV(t);const r=e.XpG(2);return e.Njj(r.pointerdown.emit(s))})("selectedChange",function(s){e.eBV(t);const r=e.XpG(2);return e.Njj(r.selectedChangeHandler(s))})("blur",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onBlur())}),e.EFF(2),e.k0s()}if(2&n){const t=e.XpG(2);e.AVh("k-toolbar-button",!t.toggleable)("k-toolbar-toggle-button",t.toggleable),e.Y8G("tabindex",t.tabIndex)("size",t.size)("ngStyle",t.style)("ngClass",t.className)("disabled",t.disabled)("toggleable",t.toggleable)("fillMode",t.fillMode)("themeColor",t.fillMode?t.themeColor:null)("rounded",t.rounded)("selected",t.selected)("icon",t.toolbarOptions.icon)("iconClass",t.toolbarOptions.iconClass)("svgIcon",t.toolbarOptions.svgIcon)("imageUrl",t.toolbarOptions.imageUrl),e.BMQ("title",t.title),e.R7$(2),e.SpI(" ",t.toolbarOptions.text," ")}}function Qw(n,o){if(1&n&&e.DNE(0,qw,5,21,"kendo-badge-container",6)(1,Jw,3,20,"button",7),2&n){const t=e.XpG();e.Y8G("ngIf",t.hasBadgeContainer),e.R7$(),e.Y8G("ngIf",!t.hasBadgeContainer)}}function Zw(n,o){if(1&n&&e.nrm(0,"kendo-icon-wrapper",15),2&n){const t=e.XpG(2);e.Y8G("name",t.overflowOptions.icon)("customFontClass",t.overflowOptions.iconClass)("svgIcon",t.overflowOptions.svgIcon)}}function eI(n,o){if(1&n&&(e.j41(0,"span",16),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.JRh(t.overflowOptions.text)}}function tI(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",11,4),e.bIt("click",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.handleClick(s))}),e.j41(2,"span",12),e.DNE(3,Zw,1,3,"kendo-icon-wrapper",13)(4,eI,2,1,"span",14),e.k0s()()}if(2&n){const t=e.XpG();e.AVh("k-disabled",t.disabled),e.Y8G("ngClass",t.className)("ngStyle",t.style),e.R7$(2),e.AVh("k-selected",t.selected),e.R7$(),e.Y8G("ngIf",t.overflowOptions.icon||t.overflowOptions.iconClass||t.overflowOptions.svgIcon),e.R7$(),e.Y8G("ngIf",t.overflowOptions.text)}}function iI(n,o){1&n&&e.nrm(0,"kendo-badge",10),2&n&&e.Y8G("cutoutBorder",!0)}function nI(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-badge-container")(1,"button",8,5),e.bIt("click",function(s){e.eBV(t);const r=e.XpG(2);return e.Njj(r.click.emit(s))})("pointerdown",function(s){e.eBV(t);const r=e.XpG(2);return e.Njj(r.pointerdown.emit(s))})("selectedChange",function(s){e.eBV(t);const r=e.XpG(2);return e.Njj(r.selectedChangeHandler(s))})("blur",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onBlur())}),e.EFF(3),e.k0s(),e.DNE(4,iI,1,1,"kendo-badge",9),e.k0s()}if(2&n){const t=e.XpG(2);e.R7$(),e.AVh("k-toolbar-button",!t.toggleable)("k-toolbar-toggle-button",t.toggleable),e.Y8G("tabindex",t.tabIndex)("size",t.size)("ngStyle",t.style)("ngClass",t.className)("disabled",t.disabled)("toggleable",t.toggleable)("fillMode",t.fillMode)("themeColor",t.fillMode?t.themeColor:null)("rounded",t.rounded)("selected",t.selected)("icon",t.toolbarOptions.icon)("iconClass",t.toolbarOptions.iconClass)("svgIcon",t.toolbarOptions.svgIcon)("imageUrl",t.toolbarOptions.imageUrl),e.BMQ("title",t.title),e.R7$(2),e.SpI(" ",t.toolbarOptions.text," "),e.R7$(),e.Y8G("ngIf",t.showBadge)}}function sI(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",8,5),e.bIt("click",function(s){e.eBV(t);const r=e.XpG(2);return e.Njj(r.click.emit(s))})("pointerdown",function(s){e.eBV(t);const r=e.XpG(2);return e.Njj(r.pointerdown.emit(s))})("selectedChange",function(s){e.eBV(t);const r=e.XpG(2);return e.Njj(r.selectedChangeHandler(s))})("blur",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onBlur())}),e.EFF(2),e.k0s()}if(2&n){const t=e.XpG(2);e.AVh("k-toolbar-button",!t.toggleable)("k-toolbar-toggle-button",t.toggleable),e.Y8G("tabindex",t.tabIndex)("size",t.size)("ngStyle",t.style)("ngClass",t.className)("disabled",t.disabled)("toggleable",t.toggleable)("fillMode",t.fillMode)("themeColor",t.fillMode?t.themeColor:null)("rounded",t.rounded)("selected",t.selected)("icon",t.toolbarOptions.icon)("iconClass",t.toolbarOptions.iconClass)("svgIcon",t.toolbarOptions.svgIcon)("imageUrl",t.toolbarOptions.imageUrl),e.BMQ("title",t.title),e.R7$(2),e.SpI(" ",t.toolbarOptions.text," ")}}function oI(n,o){if(1&n&&e.DNE(0,nI,5,21,"kendo-badge-container",6)(1,sI,3,20,"button",7),2&n){const t=e.XpG();e.Y8G("ngIf",t.hasBadgeContainer),e.R7$(),e.Y8G("ngIf",!t.hasBadgeContainer)}}const KI={name:"@progress/kendo-angular-toolbar",productName:"Kendo UI for Angular",productCode:"KENDOUIANGULAR",productCodes:["KENDOUIANGULAR"],publishDate:1755030499,version:"19.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};let Vc=(()=>{class n{onRefresh=new e.bkB;refresh(t){this.onRefresh.emit(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();const $I=/^(?:a|input|select|textarea|button|object)$/i;function oc(n){let o=n.offsetWidth;const t=getComputedStyle(n);return o-=parseFloat(t.paddingLeft)||0+parseFloat(t.borderLeftWidth)||0,o-=parseFloat(t.paddingRight)||0+parseFloat(t.borderRightWidth)||0,o}const au=(n,o,t=!0)=>{if(n){if(t&&o(n))return n;for(n=n.firstChild;n;){if(1===n.nodeType){const i=au(n,o);if(i)return i}n=n.nextSibling}}},sp=(n,o=!0)=>{if(n.tagName){const t=n.tagName.toLowerCase();let s=null!==n.getAttribute("tabIndex");return $I.test(t)&&(s=!n.disabled),s&&(!o||(n=>{const o=n.getBoundingClientRect();return(o.width>0&&o.height>0||0!==o.x&&0!==o.y)&&"hidden"!==window.getComputedStyle(n).visibility})(n))}return!1},Gf=(n,o=!0,t)=>{let i=t?n.prevSibling:n.nextSibling;for(;i;){if(1===i.nodeType){const s=au(i,r=>sp(r,o));if(s)return s}i=t?i.prevSibling:i.nextSibling}},zc=n=>null!=n,Ln=(n,o,t)=>{switch(o){case"toolbar":return t?void 0:n;case"menu":return t?n:void 0;case"never":return;default:return n}},lu={small:"sm",medium:"md",large:"lg"},JI=n=>1===n.nodeType||3===n.nodeType;let Af=(()=>{class n{zone;overflowButton;focused={renderedTool:null,index:-1};renderedTools=[];isPopupFocused=!1;isOverflowButtonFocused=!1;constructor(t){this.zone=t}setRenderedTools(t){this.renderedTools=t}click({context:t,event:i}){this.focused.renderedTool!==t&&i&&this.focus(t,i)}moveFocusToToolBar(){this.isPopupFocused=!1,this.focusOverflowButton()}moveFocusToPopup(){this.isPopupFocused=!0,this.resetNavigation(),this.focus()}focusNext(t){if(this.isOverflowButtonFocused){const i=this.getFocusableTools()[0];this.focus(i,t)}else if(!this.isOverflowButtonFocused&&this.focused.renderedTool&&!this.focused.renderedTool.tool.handleKey(t)){const i=this.getFocusableTools().slice(this.focused.index+1)[0];if(i)this.focus(i,t);else if(this.isOverflowButtonVisible()&&!this.isPopupFocused)this.focusOverflowButton();else{const s=this.getFocusableTools()[0];this.focus(s,t)}}}focusPrev(t){if(this.isOverflowButtonFocused){const i=this.getFocusableTools().reverse()[0];this.focus(i,t)}else if(!this.isOverflowButtonFocused&&this.focused.renderedTool&&!this.focused.renderedTool.tool.handleKey(t)){const i=this.getFocusableTools().slice(0,this.focused.index).reverse()[0];if(i)this.focus(i,t);else if(this.isOverflowButtonVisible()&&!this.isPopupFocused)this.focusOverflowButton();else{const s=this.getFocusableTools().reverse()[0];this.focus(s,t)}}}resetNavigation(){this.blurOverflowButton(),this.focused.renderedTool=null,this.focused.index=-1}focusFirst(t){const i=this.getFocusableTools()[0],s=this.overflowButton;i?(this.focused.renderedTool=i,this.focused.index=this.getFocusableTools().findIndex(r=>r===i),this.focus(i,t)):s&&s.nativeElement.focus()}focusLast(t){const i=this.getFocusableTools().reverse()[0],s=this.overflowButton;i?(this.focused.renderedTool=i,this.focused.index=this.getFocusableTools().findIndex(r=>r===i),this.focus(i,t)):s&&s.nativeElement.focus()}getFocusableTools(){return this.renderedTools.filter(t=>t.tool.overflows===this.isPopupFocused&&t.tool.canFocus())}focus(t,i){this.zone.onStable.pipe((0,st.s)(1)).subscribe(()=>{if(t)t.tool.canFocus&&t.tool.canFocus()&&(this.focused.renderedTool=t,this.focused.index=this.getFocusableTools().findIndex(s=>s===t),t.tool.focus(i),this.blurOverflowButton());else{const s=this.getFocusableTools(),r=s.find(l=>l===this.focused.renderedTool)||s[0];r&&(this.focused.renderedTool=r,this.focused.index=this.getFocusableTools().findIndex(l=>l===r),r.tool.focus(i))}})}blurOverflowButton(){this.overflowButton&&(this.isOverflowButtonFocused=!1,this.overflowButton.nativeElement.tabIndex=-1)}focusOverflowButton(){this.overflowButton&&(this.isOverflowButtonFocused=!0,this.overflowButton.nativeElement.tabIndex=0,this.overflowButton.nativeElement.focus())}isOverflowButtonVisible(){return zc(this.overflowButton)&&"visible"===window.getComputedStyle(this.overflowButton.nativeElement).getPropertyValue("visibility")}static \u0275fac=function(i){return new(i||n)(e.KVO(e.SKi))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),ao=(()=>{class n{toolbarTemplate;sectionTemplate;popupTemplate;tabIndex=-1;overflows=!0;visibility;element;isBuiltInTool=!1;isHidden=!1;location;constructor(){this.element=(0,e.WQX)(e.aKT)}responsive=!0;get toolbarDisplay(){return this.overflows?"none":"inline-flex"}get overflowDisplay(){return this.overflows?"block":"none"}canFocus(){return!1}focus(t){}handleKey(t){return!1}static \u0275fac=function(i){return new(i||n)};static \u0275dir=e.FsC({type:n,viewQuery:function(i,s){if(1&i&&(e.GBs(hw,7),e.GBs(pw,7),e.GBs(Of,7)),2&i){let r;e.mGM(r=e.lsd())&&(s.toolbarTemplate=r.first),e.mGM(r=e.lsd())&&(s.sectionTemplate=r.first),e.mGM(r=e.lsd())&&(s.popupTemplate=r.first)}},inputs:{responsive:"responsive"},standalone:!0})}return n})();class up{prevented=!1;preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}let Pf=(()=>{class n{element;renderer;getElement(){return this.element.nativeElement}querySelector(t){return this.element.nativeElement.querySelector(t)}querySelectorAll(t){return this.element.nativeElement.querySelectorAll(t)}findFocusable(){return((n,o=!0)=>au(this.element.nativeElement,t=>sp(t,o)))(0,!1)}findFocusableChild(t){return t||(t=this.findFocusable()),((n,o=!0)=>au(n,t=>sp(t,o),!1))(t,!1)}findNextFocusableSibling(t){return t||(t=this.findFocusable()),Gf(t,!1)}findPrevFocusableSibling(t){return t||(t=this.findFocusable()),Gf(t,!1,!0)}setAttribute(t,i,s){this.renderer.setAttribute(t,i,s)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),hp=(()=>{class n{renderedToolsChange=new me.B;overflowToolsChange=new me.B;renderedTools=[];overflowTools=[];allTools=[];reset(){this.renderedTools=this.overflowTools=this.allTools=[]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),eD=(()=>{class n{renderer;rendererService;refreshService;toolsService;viewContainer;tool;location;resizable;rendererClick=new e.bkB;template;element;get isSpacer(){return this.tool&&this.tool.__isSpacer}refreshSubscription;internalComponentRef;constructor(t,i,s,r,l){this.renderer=t,this.rendererService=i,this.refreshService=s,this.toolsService=r,this.viewContainer=l}ngOnInit(){this.tool.location=this.location,this.element=this.tool.element,this.rendererService.element=this.element,this.rendererService.renderer=this,this.refreshSubscription=this.refreshService.onRefresh.subscribe(t=>{this.tool===t&&this.refresh()})}ngOnDestroy(){this.refreshSubscription?.unsubscribe(),this.internalComponentRef?.removeEventListener("click",this.onClick)}ngAfterViewInit(){const t=this.viewContainer.get(0)?.rootNodes?.filter(JI);!t||0===t.length||(this.internalComponentRef=t[0],this.internalComponentRef.addEventListener("click",this.onClick),this.resizable?"toolbar"===this.location?(this.template=this.tool.toolbarTemplate,this.hideTool()):"section"===this.location?(this.template=this.tool.toolbarTemplate,this.tool.isHidden?this.hideTool():(this.renderer.setStyle(this.internalComponentRef,"visibility","visible"),this.renderer.setStyle(this.internalComponentRef,"display","inline-flex"))):(this.template=this.tool.popupTemplate,this.tool.isHidden?this.hideTool():this.renderer.setStyle(this.internalComponentRef,"display","none")):(this.tool.overflows=!1,this.template=this.tool.toolbarTemplate,this.tool.isHidden?this.hideTool():(this.renderer.setStyle(this.internalComponentRef,"visibility","visible"),this.renderer.setStyle(this.internalComponentRef,"display","inline-flex"))),this.resizable&&this.refresh(),this.updateTools())}get width(){return this.isSpacer?18:this.internalComponentRef?this.tool.overflows?0:function jI(n){let o=n.offsetWidth;const t=getComputedStyle(n);return o+=parseFloat(t.marginLeft)||0+parseFloat(t.marginRight)||0,o}(this.internalComponentRef):void 0}isDisplayed(){return"none"!==this.internalComponentRef?.style?.display}refresh(){this.tool.location=this.location,(0,E.Wo)(this.internalComponentRef)&&(this.tool.isHidden?this.hideTool():this.resizable?"toolbar"===this.location?(this.renderer.setStyle(this.internalComponentRef,"visibility",this.tool.visibility),this.renderer.setStyle(this.internalComponentRef,"display",this.tool.toolbarDisplay)):this.renderer.setStyle(this.internalComponentRef,"display",this.tool.overflowDisplay):(this.renderer.setStyle(this.internalComponentRef,"visibility","visible"),this.renderer.setStyle(this.internalComponentRef,"display","inline-flex")),this.updateTools())}setAttribute(t,i,s){this.renderer.setAttribute(t,i,s)}onClick=t=>{this.rendererClick.emit({context:this,event:t})};updateTools(){this.tool.location=this.location;const t=this.toolsService.renderedTools.some(s=>s.tool===this.tool),i=this.toolsService.overflowTools.some(s=>s.tool===this.tool);"toolbar"===this.location?(i&&(this.toolsService.overflowTools=this.toolsService.overflowTools.filter(s=>s.tool!==this.tool)),!t&&this.toolsService.renderedTools.push(this)):i||(this.toolsService.overflowTools.push(this),this.toolsService.overflowTools.sort((s,r)=>this.toolsService.allTools.indexOf(s.tool)-this.toolsService.allTools.indexOf(r.tool)))}hideTool(){this.renderer.setStyle(this.internalComponentRef,"visibility","hidden"),this.renderer.setStyle(this.internalComponentRef,"display","none")}static \u0275fac=function(i){return new(i||n)(e.rXU(e.sFG),e.rXU(Pf),e.rXU(Vc),e.rXU(hp),e.rXU(e.c1b))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoToolbarRenderer",""]],inputs:{tool:"tool",location:"location",resizable:"resizable"},outputs:{rendererClick:"rendererClick"},standalone:!0,features:[e.Jv_([Pf])]})}return n})(),cu=(()=>{class n extends ve.EX{moreToolsTitle;previousToolButton;nextToolButton;static \u0275fac=(()=>{let t;return function(s){return(t||(t=e.xGo(n)))(s||n)}})();static \u0275dir=e.FsC({type:n,selectors:[["kendo-toolbar-messages-base"]],inputs:{moreToolsTitle:"moreToolsTitle",previousToolButton:"previousToolButton",nextToolButton:"nextToolButton"},features:[e.Vt3]})}return n})(),tD=(()=>{class n extends cu{service;constructor(t){super(),this.service=t}static \u0275fac=function(i){return new(i||n)(e.rXU(ve.Pi))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoToolbarLocalizedMessages",""]],standalone:!0,features:[e.Jv_([{provide:cu,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3]})}return n})(),Ff=(()=>{class n{ngZone;localization;owner;position=0;scrollButtonActiveStateChange=new me.B;get scrollElement(){return this.owner.scrollContainer?.nativeElement}get scrollContainerOverflowSize(){if(!(0,E.nm)()||!this.scrollElement)return 0;const t=Math.floor(this.scrollElement.scrollWidth-this.scrollElement.getBoundingClientRect().width);return t<0?0:t}get toolsOverflow(){return this.scrollContainerOverflowSize>0}constructor(t,i){this.ngZone=t,this.localization=i}toggleScrollButtonsState(){if(!this.owner.hasScrollButtons)return;const i=!this.isDisabled("prev"),s=!this.isDisabled("next"),l=this.localization.rtl?-1:1,u=this.position*l>0&&this.scrollContainerOverflowSize>0,f=this.position*l<this.scrollContainerOverflowSize-1&&this.scrollContainerOverflowSize>0;u!==i&&this.ngZone.run(()=>this.toggleButtonActiveState("prev",u)),f!==s&&this.ngZone.run(()=>this.toggleButtonActiveState("next",f))}onScroll(t){this.position=t.target.scrollLeft,this.toggleScrollButtonsState()}scrollTools(t){this.calculateListPosition(t,100),this.scrollElement&&this.scrollElement.scrollTo({left:this.position,behavior:"smooth"}),this.toggleScrollButtonsState()}updateScrollPosition(t){this.position=t.scrollLeft}calculateListPosition(t,i){if("prev"===t)this.position=this.localization.rtl?this.position+i>=0?0:this.position+i:this.position-i<=0?0:this.position-i;else if("next"===t&&this.position<this.scrollContainerOverflowSize){if(this.position+i>this.scrollContainerOverflowSize)return void(this.position=this.localization.rtl?-this.scrollContainerOverflowSize:this.scrollContainerOverflowSize);this.localization.rtl?this.position-=i:this.position+=i}}toggleButtonActiveState(t,i){this.scrollButtonActiveStateChange.next({buttonType:t,active:i})}isDisabled=t=>this.owner[`${t}ScrollButton`]?.nativeElement.classList.contains("k-disabled");static \u0275fac=function(i){return new(i||n)(e.KVO(e.SKi),e.KVO(ve.Pi))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();let sD=(()=>{class n{host;renderer;ngZone;localization;get prevClass(){return this.prev}get nextClass(){return!this.prev}role="button";prev=!1;overflow;onClick=new e.bkB;get iconClass(){return this.scrollButtonIconClass}get customIconClass(){return this.customScrollButtonIconClass}get svgIcon(){return this.scrollButtonSVGIcon}caretAltLeftIcon=ne.ner;caretAltRightIcon=ne.yVr;subs=new He.yU;constructor(t,i,s,r){this.host=t,this.renderer=i,this.ngZone=s,this.localization=r}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{this.subs.add(this.renderer.listen(this.host.nativeElement,"click",this.clickHandler))})}ngOnDestroy(){this.subs.unsubscribe()}clickHandler=()=>{this.onClick.emit(this.prev?"prev":"next")};get scrollButtonIconClass(){if("object"==typeof this.overflow){const s=typeof this.overflow.prevButtonIcon>"u"?this.localization.rtl?"caret-alt-right":"caret-alt-left":"",r=typeof this.overflow.nextButtonIcon>"u"?this.localization.rtl?"caret-alt-left":"caret-alt-right":"";if(s&&this.prev)return s;if(r&&!this.prev)return r}}get customScrollButtonIconClass(){if("object"==typeof this.overflow){const t=this.overflow.prevButtonIcon,i=this.overflow.nextButtonIcon;if(t&&this.prev)return`k-icon ${t}`;if(i&&!this.prev)return`k-icon ${i}`}}get scrollButtonSVGIcon(){if("object"==typeof this.overflow){const s=void 0!==this.overflow.prevSVGButtonIcon?this.overflow.prevSVGButtonIcon:this.localization.rtl?this.caretAltRightIcon:this.caretAltLeftIcon,r=void 0!==this.overflow.nextSVGButtonIcon?this.overflow.nextSVGButtonIcon:this.localization.rtl?this.caretAltLeftIcon:this.caretAltRightIcon;if(s||r)return this.prev?s:r}}static \u0275fac=function(i){return new(i||n)(e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(e.SKi),e.rXU(ve.Pi))};static \u0275cmp=e.VBU({type:n,selectors:[["","kendoToolbarScrollableButton",""]],hostVars:5,hostBindings:function(i,s){2&i&&(e.BMQ("role",s.role),e.AVh("k-toolbar-prev",s.prevClass)("k-toolbar-next",s.nextClass))},inputs:{prev:"prev",overflow:"overflow"},outputs:{onClick:"onClick"},standalone:!0,features:[e.aNF],attrs:mw,decls:1,vars:3,consts:[["innerCssClass","k-button-icon",3,"name","customFontClass","svgIcon"]],template:function(i,s){1&i&&e.nrm(0,"kendo-icon-wrapper",0),2&i&&e.Y8G("name",s.iconClass)("customFontClass",s.customIconClass)("svgIcon",s.svgIcon)},dependencies:[ct.QK],encapsulation:2})}return n})();const Uf=n=>({animate:!0,anchorAlign:{horizontal:n?"left":"right",vertical:"bottom"},popupAlign:{horizontal:n?"left":"right",vertical:"top"}});let Kc=(()=>{class n{localization;popupService;refreshService;navigationService;element;zone;renderer;_cdr;toolsService;scrollService;get overflowClass(){return`k-button-${lu[this.size]}`}set overflow(t){this.isScrollMode&&this.removeSubscriptions(["scrollButtonStateChangeSub","scrollContainerScrollSub"]),this._overflow=t,this.isScrollMode&&this.handleScrollModeUpdates(),this.setScrollableOverlayClasses(),this.zone.onStable.pipe((0,st.s)(1)).subscribe(()=>this.onResize())}get overflow(){return this._overflow}get showScrollButtons(){const t=this.normalizedOverflow.scrollButtons;return this.isScrollMode&&("auto"===t&&this.showAutoButtons||"visible"===t)}set resizable(t){this.overflow=t}get resizable(){return this.showMenu}get hasScrollButtons(){return{visible:"scroll"===this.normalizedOverflow.mode&&"hidden"!==this.normalizedOverflow.scrollButtons,position:this.normalizedOverflow.scrollButtonsPosition}}get isScrollMode(){return"scroll"===this.normalizedOverflow.mode}get showMenu(){return"menu"===this.normalizedOverflow.mode||"section"===this.normalizedOverflow.mode}get overflowEnabled(){return"none"!==this.normalizedOverflow.mode}set popupSettings(t){this._popupSettings=Object.assign({},Uf(this.localization.rtl),t)}get popupSettings(){return this._popupSettings||Uf(this.localization.rtl)}set fillMode(t){const i=t||"solid";this.handleClasses(i,"fillMode"),this._fillMode=i}get fillMode(){return this._fillMode}tabindex=0;set size(t){const i=t||"medium";this.handleClasses(i,"size"),this._size=i}get size(){return this._size}set tabIndex(t){this.tabindex=t}get tabIndex(){return this.tabindex}set showIcon(t){if(this._showIcon===t)return;const i=this.normalizeDisplayValue(t);this._showIcon=t,this.propertyChange.emit({property:"showIcon",value:i})}set showText(t){if(this._showText===t)return;const i=this.normalizeDisplayValue(t);this._showText=t,this.propertyChange.emit({property:"showText",value:i})}open=new e.bkB;close=new e.bkB;allTools;overflowButton;popupTemplate;popupSectionTemplate;scrollContainer;resizeSensor;container;prevScrollButton;nextScrollButton;startButtonGroup;endButtonGroup;scrollSeparator;popupRef;direction;get appendTo(){const{appendTo:t}=this.popupSettings;if(t&&"root"!==t)return"component"===t?this.container:t}set popupOpen(t){if(this.popupOpen===t)return;const i=new up;t?this.open.emit(i):this.close.emit(i),!i.isDefaultPrevented()&&this.toggle(t)}get popupOpen(){return this._open}prevButtonIcon=ne.ner;nextButtonIcon=ne.yVr;propertyChange=new e.bkB;hostClass=!0;get scrollableClass(){return this.isScrollMode}get sectionClass(){return"section"===this.normalizedOverflow.mode}_overflow=!1;_popupSettings;cachedOverflowAnchorWidth;_open;toolbarKeydownListener;overflowKeydownListener;sectionKeydownListener;cancelRenderedToolsSubscription$=new me.B;cachedGap;_size="medium";_fillMode="solid";_showText="always";_showIcon="always";overflowButtonClickedTime=null;showAutoButtons=!1;scrollButtonStateChangeSub;scrollContainerScrollSub;get normalizedOverflow(){return(n=>{const o={mode:"none",scrollButtons:"auto",scrollButtonsPosition:"split"};let t={};return t="object"==typeof n?Object.assign(o,n):"boolean"==typeof n?n?Object.assign(o,{mode:"menu"}):o:Object.assign(o,{mode:n}),t})(this.overflow)}subscriptions=new He.yU;popupSubs=new He.yU;focusedByPointer=!1;onFocus(t){this.focusedByPointer?this.focusedByPointer=!1:(this.navigationService.resetNavigation(),this.navigationService.focusFirst(t),this.element.nativeElement.setAttribute("tabindex","-1"))}onFocusOut(t){((n,o)=>{for(;n&&!o(n);)n=n.parentNode;return n})(t.relatedTarget,i=>i===this.element.nativeElement)?this.element.nativeElement.setAttribute("tabindex","-1"):this.element.nativeElement.setAttribute("tabindex",this.tabindex.toString())}role="toolbar";get getDir(){return this.direction}get resizableClass(){return this.resizable}constructor(t,i,s,r,l,u,f,C,T,O){this.localization=t,this.popupService=i,this.refreshService=s,this.navigationService=r,this.element=l,this.zone=u,this.renderer=f,this._cdr=C,this.toolsService=T,this.scrollService=O,(0,Vt.$j)(KI),this.direction=t.rtl?"rtl":"ltr",this.scrollService.owner=this}ngAfterContentInit(){this.toolsService.allTools=this.allTools.toArray(),this.subscriptions.add(this.allTools.changes.subscribe(()=>{this.toolsService.reset(),this.toolsService.allTools=this.allTools.toArray(),this.allTools.forEach(t=>{this.refreshService.refresh(t)}),this.zone.onStable.pipe((0,st.s)(1)).subscribe(()=>this.onResize())}))}ngAfterViewInit(){this.toolsService.renderedToolsChange.next(this.toolsService.renderedTools),this.toolsService.overflowToolsChange.next(this.toolsService.overflowTools),this.element.nativeElement.getAttribute("tabindex")||this.element.nativeElement.setAttribute("tabindex","0"),this.zone.runOutsideAngular(()=>{this.toolbarKeydownListener=this.renderer.listen(this.element.nativeElement,"keydown",s=>{switch((0,E.tq)(s)){case E.D$.ArrowLeft:this.zone.run(()=>{s.preventDefault(),"ltr"===this.direction?this.navigationService.focusPrev(s):this.navigationService.focusNext(s),this.element.nativeElement.setAttribute("tabindex","-1")});break;case E.D$.ArrowRight:this.zone.run(()=>{s.preventDefault(),"ltr"===this.direction?this.navigationService.focusNext(s):this.navigationService.focusPrev(s),this.element.nativeElement.setAttribute("tabindex","-1")});break;case E.D$.Tab:this.zone.run(()=>this.navigationService.resetNavigation());break;case E.D$.Escape:this.zone.run(()=>this.toggle(!1));break;case E.D$.Home:this.zone.run(()=>this.navigationService.focusFirst(s));break;case E.D$.End:this.zone.run(()=>this.navigationService.focusLast(s))}})}),this.overflowEnabled&&(this.subscriptions.add((0,qe.h)(this.resizeSensor.resize,this.toolsService.renderedToolsChange).subscribe(()=>this.onResize())),this.showMenu&&(this.navigationService.overflowButton=this.overflowButton),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.onResize()})})})),this.isScrollMode&&this.handleScrollModeUpdates(),this.subscriptions.add(this.renderer.listen(this.element.nativeElement,"pointerdown",s=>{s.target.closest(".k-toolbar-items")||(this.focusedByPointer=!0)})),this.navigationService.setRenderedTools(this.toolsService.renderedTools),["size","fillMode"].forEach(s=>{this.handleClasses(this[s],s)})}ngOnInit(){this.subscriptions.add(this.localization.changes.subscribe(({rtl:t})=>this.direction=t?"rtl":"ltr")),this.zone.onStable.pipe((0,st.s)(1)).subscribe(()=>this.onResize()),(0,E.nm)()&&this.zone.runOutsideAngular(()=>this.subscriptions.add((0,Ot.R)(document,"click").pipe((0,We.p)(()=>!!this.popupRef),(0,We.p)(t=>!this.popupRef.popup.instance.container.nativeElement.contains(t.target)),(0,We.p)(t=>!this.overflowButton.nativeElement.contains(t.target))).subscribe(()=>{this.zone.run(()=>{this.popupOpen=!1})})))}ngOnChanges(t){t.tabindex&&this.element.nativeElement.setAttribute("tabindex",t.tabindex.currentValue.toString())}ngOnDestroy(){this.destroyPopup(),this.toolbarKeydownListener&&this.toolbarKeydownListener(),this.cancelRenderedToolsSubscription$.next(),this.subscriptions.unsubscribe()}showOverflowSeparator=!1;get moreToolsTitle(){return this.localization.get("moreToolsTitle")}get cdr(){return this._cdr}get sectionSizeClass(){return"none"===this.size?"":`k-toolbar-items-list-${lu[this.size]}`}getScrollButtonTitle(t){let i;return i=this.localization.rtl?"prev"===t?"nextToolButton":"previousToolButton":"prev"===t?"previousToolButton":"nextToolButton",this.localization.get(i)}scrollTools(t){this.scrollService.scrollTools(t)}onRendererClick(t){this.navigationService.click(t),this.element.nativeElement.setAttribute("tabindex","-1")}overflowButtonIcon(t){return"svg"===t?"section"===this.normalizedOverflow.mode?ne.hkS:ne.DeK:"section"===this.normalizedOverflow.mode?"more-horizontal":"more-vertical"}showPopup(){this.popupOpen=!this.popupOpen,this.navigationService.click({context:void 0,event:void 0}),this.overflowButtonClickedTime=Date.now()}toggle(t){if(this._open=void 0!==t?t:!this.popupOpen,this.popupRef&&(this.popupRef.close(),this.popupRef=null),this.popupOpen){let i;const s="section"===this.normalizedOverflow.mode;i=s?{anchor:this.element.nativeElement,content:this.popupSectionTemplate,popupClass:this.normalizePopupClasses(),positionMode:"absolute"}:{anchor:this.overflowButton,anchorAlign:this.popupSettings.anchorAlign,popupAlign:this.popupSettings.popupAlign,content:this.popupTemplate,appendTo:this.appendTo,animate:this.popupSettings.animate,popupClass:this.normalizePopupClasses(this.popupSettings.popupClass),positionMode:"absolute"},this.popupRef=this.popupService.open(i),this.setPopupContentDimensions(s),this.popupSubs.add(this.popupRef.popupOpen.subscribe(this.onPopupOpen.bind(this))),this.popupSubs.add(this.popupRef.popupClose.subscribe(this.onPopupClose.bind(this)))}}onResize(){if((0,E.nm)()){if(this.showMenu){const t=oc(this.element.nativeElement)-this.overflowAnchorWidth;this.shrink(t,this.childrenWidth),this.stretch(t,this.childrenWidth),this.displayAnchor();const i=Date.now()-this.overflowButtonClickedTime<300;this.popupOpen&&!i&&this.toggle()}else if(this.isScrollMode)if("auto"===this.normalizedOverflow.scrollButtons){const t=oc(this.element.nativeElement);let i=0;if(this.showAutoButtons){const r=this.scrollSeparator.nativeElement.getBoundingClientRect().width+2*this.gap;i="split"===this.hasScrollButtons.position?oc(this.prevScrollButton.nativeElement)+oc(this.nextScrollButton.nativeElement)+2*r:"end"===this.hasScrollButtons.position?oc(this.endButtonGroup.nativeElement)+r:oc(this.startButtonGroup.nativeElement)+r}const s=this.childrenWidth+i>t;s!==this.showAutoButtons&&(this.showAutoButtons=s,this.cdr.detectChanges()),this.scrollService.toggleScrollButtonsState()}else this.hasScrollButtons.visible?this.scrollService.toolsOverflow?this.scrollService.toggleScrollButtonsState():(this.renderer.addClass(this.nextScrollButton.nativeElement,"k-disabled"),this.renderer.addClass(this.prevScrollButton.nativeElement,"k-disabled")):this.setScrollableOverlayClasses();this.resizeSensor?.acceptSize()}}onPopupOpen(){this.zone.runOutsideAngular(()=>{"section"===this.normalizedOverflow.mode?this.sectionKeydownListener=this.renderer.listen(this.popupRef.popupElement,"keydown",t=>{switch((0,E.tq)(t)){case E.D$.ArrowLeft:this.zone.run(()=>{t.preventDefault(),"ltr"===this.direction?this.navigationService.focusPrev(t):this.navigationService.focusNext(t),this.element.nativeElement.setAttribute("tabindex","-1")});break;case E.D$.ArrowRight:this.zone.run(()=>{t.preventDefault(),"ltr"===this.direction?this.navigationService.focusNext(t):this.navigationService.focusPrev(t),this.element.nativeElement.setAttribute("tabindex","-1")});break;case E.D$.Escape:{this.zone.run(()=>this.toggle(!1));const s=new up;this.close.emit(s);break}case E.D$.Tab:this.zone.run(()=>{this.toggle(!1),this.navigationService.resetNavigation()})}}):this.overflowKeydownListener=this.renderer.listen(this.popupRef.popupElement,"keydown",t=>{switch((0,E.tq)(t)){case E.D$.ArrowUp:this.zone.run(()=>{t.preventDefault(),this.navigationService.focusPrev(t)});break;case E.D$.ArrowDown:this.zone.run(()=>{t.preventDefault(),this.navigationService.focusNext(t)});break;case E.D$.Escape:{this.zone.run(()=>this.toggle(!1));const s=new up;this.close.emit(s);break}case E.D$.Tab:this.zone.run(()=>{this.toggle(!1),this.navigationService.resetNavigation()});break;case E.D$.NumpadEnter:case E.D$.Enter:case E.D$.Space:this.zone.run(()=>{t.target.closest(".k-menu-item")&&(t.preventDefault(),t.target.click(),t.target.focus())})}})}),this.cancelRenderedToolsSubscription$.next(),this.navigationService.setRenderedTools(this.toolsService.overflowTools),this.navigationService.moveFocusToPopup(),this.toolsService.overflowToolsChange.pipe((0,ii.Q)(this.cancelRenderedToolsSubscription$)).subscribe(t=>this.navigationService.setRenderedTools(t)),this.renderer.setAttribute(this.overflowButton.nativeElement,"aria-controls",this.popupId)}onPopupClose(){this.cancelRenderedToolsSubscription$.next(),this.navigationService.setRenderedTools(this.toolsService.renderedTools),this.toolsService.renderedToolsChange.pipe((0,ii.Q)(this.cancelRenderedToolsSubscription$)).subscribe(t=>this.navigationService.setRenderedTools(t)),this.navigationService.moveFocusToToolBar(),this.overflowKeydownListener&&this.overflowKeydownListener(),this.sectionKeydownListener&&this.sectionKeydownListener(),this.renderer.removeAttribute(this.overflowButton.nativeElement,"aria-controls")}overflowBtnId=(0,E.Os)();popupId=(0,E.Os)();displayAnchor(){const t=this.allTools.filter(s=>s.overflows&&s.responsive).length>0?"visible":"hidden";this.overflowButton&&this.renderer.setStyle(this.overflowButton.nativeElement,"visibility",t);const i="visible"===t;i!==this.showOverflowSeparator&&(this.showOverflowSeparator=i,this.cdr.detectChanges())}get popupWidth(){return this.popupSettings&&this.popupSettings.width?isNaN(this.popupSettings.width)?this.popupSettings.width:`${this.popupSettings.width}px`:"auto"}get popupHeight(){if(this.popupSettings&&this.popupSettings.height)return isNaN(this.popupSettings.height)?this.popupSettings.height:`${this.popupSettings.height}px`}get overflowAnchorWidth(){return this.showMenu?(this.cachedOverflowAnchorWidth||(this.cachedOverflowAnchorWidth=this.overflowButton.nativeElement.offsetWidth),this.cachedOverflowAnchorWidth):0}get gap(){if(zc(this.cachedGap))return this.cachedGap;const t=getComputedStyle(this.element.nativeElement).gap;return this.cachedGap=zc(t)?parseInt(t,10):0,this.cachedGap}get childrenWidth(){const t=this.toolsService.renderedTools.reduce((i,s)=>s.width+i+(s.isDisplayed()?this.gap:0),0);return Math.ceil(t)}get visibleTools(){return this.allTools.filter(t=>!1===t.overflows)}get overflowTools(){return this.allTools.filter(t=>!0===t.overflows)}shrink(t,i){let s;if(t<i)for(let r=this.visibleTools.length-1;r>=0&&!(t>i);r--)s=this.hideLastVisibleTool(),i-=s}stretch(t,i){let s;if(t>i)for(let r=this.overflowTools.length-1;r>=0;r--)if(s=this.showFirstHiddenTool(t,i),s>0)i+=s+this.gap;else if(0===s)break}hideLastVisibleTool(){const t=this.visibleTools[this.visibleTools.length-1];if(!t)return null;const s=this.toolsService.renderedTools.find(r=>r.tool===t).width;return t.overflows=this.showMenu,this.refreshService.refresh(t),s}showFirstHiddenTool(t,i){const s=this.overflowTools[0];if(!s)return null;const r=this.toolsService.renderedTools.find(l=>l.tool===s);return s.overflows=!1,s.visibility="hidden",this.refreshService.refresh(s),t>i+r.width?s.visibility="visible":s.overflows=!0,this.refreshService.refresh(s),s.isHidden?-1:r.width}setPopupContentDimensions(t){const i=this.popupRef.popup.instance.contentContainer.nativeElement;if(t){const s=this.element.nativeElement.getBoundingClientRect().width;i.style.width=`${s}px`}else i.style.width=this.popupWidth,i.style.height=this.popupHeight,i.style.overflow="auto"}destroyPopup(){this.popupRef&&(this.popupSubs.unsubscribe(),this.popupRef.close(),this.popupRef=null)}handleClasses(t,i){const s=this.element.nativeElement,r=((n,o,t,i)=>{switch(o){case"size":return{toRemove:`k-${n}-${lu[t]}`,toAdd:"none"!==i?`k-${n}-${lu[i]}`:""};case"fillMode":return{toRemove:`k-${n}-${t}`,toAdd:"none"!==i?`k-${n}-${i}`:""}}})("toolbar",i,this[i],t);r.toRemove&&this.renderer.removeClass(s,r.toRemove),r.toAdd&&this.renderer.addClass(s,r.toAdd)}normalizePopupClasses(t){let i=["k-toolbar-popup"];if("menu"===this.normalizedOverflow.mode&&i.push("k-menu-popup"),!t)return i;if("string"==typeof t)i.push(...t.split(" "));else if(Array.isArray(t))i=[...i,...t];else for(const s in t)i.push(t[s]);return i}setScrollableOverlayClasses(){const t=this.element.nativeElement,i=this.scrollContainer?.nativeElement;if(!i)return;const s=i.scrollLeft;this.scrollService.toolsOverflow&&!this.hasScrollButtons.visible?(this.renderer.addClass(t,"k-toolbar-scrollable-overlay"),0===s?(this.renderer.removeClass(t,"k-toolbar-scrollable-end"),this.renderer.addClass(t,"k-toolbar-scrollable-start")):s>0&&s<this.scrollService.scrollContainerOverflowSize-1||s<0&&Math.abs(s)<this.scrollService.scrollContainerOverflowSize-1?(this.renderer.removeClass(t,"k-toolbar-scrollable-end"),this.renderer.removeClass(t,"k-toolbar-scrollable-start")):(this.renderer.removeClass(t,"k-toolbar-scrollable-start"),this.renderer.addClass(t,"k-toolbar-scrollable-end"))):(this.renderer.removeClass(t,"k-toolbar-scrollable-overlay"),this.renderer.removeClass(t,"k-toolbar-scrollable-end"),this.renderer.removeClass(t,"k-toolbar-scrollable-start"))}handleScrollModeUpdates(){zc(this.scrollContainer)&&(this.scrollService.updateScrollPosition(this.scrollContainer.nativeElement),this.zone.runOutsideAngular(()=>{this.scrollContainerScrollSub=this.renderer.listen(this.scrollContainer.nativeElement,"scroll",t=>{this.hasScrollButtons.visible?this.scrollService.onScroll(t):this.setScrollableOverlayClasses()}),this.subscriptions.add(this.scrollContainerScrollSub)})),this.showScrollButtons&&this.nextScrollButton&&this.prevScrollButton&&("visible"!==this.normalizedOverflow.scrollButtons||this.scrollService.toolsOverflow?this.renderer.addClass(("rtl"===this.direction?this.nextScrollButton:this.prevScrollButton).nativeElement,"k-disabled"):(this.renderer.addClass(this.nextScrollButton.nativeElement,"k-disabled"),this.renderer.addClass(this.prevScrollButton.nativeElement,"k-disabled"))),this.hasScrollButtons.visible&&(this.scrollButtonStateChangeSub=this.scrollService.scrollButtonActiveStateChange.subscribe(t=>{if(this.showScrollButtons){const i=t.active?"remove":"add",s=this[`${t.buttonType}ScrollButton`]?.nativeElement;s&&this.renderer[`${i}Class`](s,"k-disabled")}}),this.subscriptions.add(this.scrollButtonStateChangeSub),this.scrollService.toggleScrollButtonsState())}removeSubscriptions(t){t.forEach(i=>{this[i]&&(this.subscriptions.remove(this[i]),this[i]=null)})}normalizeDisplayValue(t){return"boolean"==typeof t?t?"always":"never":t}static \u0275fac=function(i){return new(i||n)(e.rXU(ve.Pi),e.rXU(pe.OQ),e.rXU(Vc),e.rXU(Af),e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(e.sFG),e.rXU(e.gRc),e.rXU(hp),e.rXU(Ff))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-toolbar"]],contentQueries:function(i,s,r){if(1&i&&e.wni(r,ao,4),2&i){let l;e.mGM(l=e.lsd())&&(s.allTools=l)}},viewQuery:function(i,s){if(1&i&&(e.GBs(Mf,5,e.aKT),e.GBs(Of,7),e.GBs(gw,7),e.GBs(fw,5,e.aKT),e.GBs(_w,5),e.GBs(vw,7,e.c1b),e.GBs(Cw,5,e.aKT),e.GBs(Sw,5,e.aKT),e.GBs(bw,5,e.aKT),e.GBs(Ew,5,e.aKT),e.GBs(kw,5,e.aKT)),2&i){let r;e.mGM(r=e.lsd())&&(s.overflowButton=r.first),e.mGM(r=e.lsd())&&(s.popupTemplate=r.first),e.mGM(r=e.lsd())&&(s.popupSectionTemplate=r.first),e.mGM(r=e.lsd())&&(s.scrollContainer=r.first),e.mGM(r=e.lsd())&&(s.resizeSensor=r.first),e.mGM(r=e.lsd())&&(s.container=r.first),e.mGM(r=e.lsd())&&(s.prevScrollButton=r.first),e.mGM(r=e.lsd())&&(s.nextScrollButton=r.first),e.mGM(r=e.lsd())&&(s.startButtonGroup=r.first),e.mGM(r=e.lsd())&&(s.endButtonGroup=r.first),e.mGM(r=e.lsd())&&(s.scrollSeparator=r.first)}},hostVars:10,hostBindings:function(i,s){1&i&&e.bIt("focus",function(l){return s.onFocus(l)})("focusout",function(l){return s.onFocusOut(l)}),2&i&&(e.BMQ("role",s.role)("dir",s.getDir),e.AVh("k-toolbar",s.hostClass)("k-toolbar-scrollable",s.scrollableClass)("k-toolbar-section",s.sectionClass)("k-toolbar-resizable",s.resizableClass))},inputs:{overflow:"overflow",resizable:"resizable",popupSettings:"popupSettings",fillMode:"fillMode",tabindex:"tabindex",size:"size",tabIndex:"tabIndex",showIcon:"showIcon",showText:"showText"},outputs:{open:"open",close:"close"},exportAs:["kendoToolBar"],standalone:!0,features:[e.Jv_([Vc,Af,ve.Pi,hp,Ff,{provide:ve.$R,useValue:"kendo.toolbar"}]),e.OA$,e.aNF],decls:15,vars:7,consts:()=>{let t,i,s;return t=$localize`:kendo.toolbar.moreToolsTitle|The title of the **more tools** button in a responsive ToolBar:More tools`,i=$localize`:kendo.toolbar.previousToolButton|The title for the **Previous Tool** button when the Toolbar is scrollable.:Scroll left`,s=$localize`:kendo.toolbar.nextToolButton|The title for the **Next Tool** button when the Toolbar is scrollable.:Scroll right`,[["noScroll",""],["popupTemplate",""],["popupSectionTemplate",""],["container",""],["scrollSeparator",""],["prevScrollButton",""],["startButtonGroup",""],["nextScrollButton",""],["scrollContainer",""],["wrapper",""],["overflowButton",""],["endButtonGroup",""],["popupWrapper",""],["resizeSensor",""],["kendoToolbarLocalizedMessages","","moreToolsTitle",t,"previousToolButton",i,"nextToolButton",s],[4,"ngIf"],["class","k-toolbar-items k-toolbar-items-scroll","tabindex","-1",4,"ngIf","ngIfElse"],["class","k-toolbar-separator k-toolbar-button-separator k-separator",4,"ngIf"],["kendoButton","","fillMode","flat","type","button","tabindex","-1","class","k-toolbar-overflow-button",3,"icon","svgIcon","title","id","visibility","position","ngClass","click",4,"ngIf"],["kendoToolbarScrollableButton","","class","k-toolbar-prev k-icon-button k-button k-button-solid k-button-solid-base k-rounded-md",3,"prev","overflow","title","ngClass","onClick",4,"ngIf"],["class","k-button-group k-button-group-solid",4,"ngIf"],[1,"k-toolbar-separator","k-toolbar-button-separator","k-separator"],["kendoToolbarScrollableButton","",1,"k-toolbar-prev","k-icon-button","k-button","k-button-solid","k-button-solid-base","k-rounded-md",3,"onClick","prev","overflow","title","ngClass"],[1,"k-button-group","k-button-group-solid"],["kendoToolbarScrollableButton","",1,"k-toolbar-next","k-icon-button","k-button","k-button-solid","k-button-solid-base","k-rounded-md",3,"onClick","prev","overflow","title","ngClass"],["tabindex","-1",1,"k-toolbar-items","k-toolbar-items-scroll"],["kendoToolbarRenderer","","location","toolbar",3,"tool","resizable","ngTemplateOutlet","rendererClick",4,"ngFor","ngForOf"],["kendoToolbarRenderer","","location","toolbar",3,"rendererClick","tool","resizable","ngTemplateOutlet"],[1,"k-toolbar-item"],[3,"ngTemplateOutlet"],["kendoButton","","fillMode","flat","type","button","tabindex","-1",1,"k-toolbar-overflow-button",3,"click","icon","svgIcon","title","id","ngClass"],["kendoToolbarScrollableButton","","class","k-toolbar-next k-icon-button k-button k-button-solid k-button-solid-base k-rounded-md",3,"prev","overflow","title","ngClass","onClick",4,"ngIf"],["role","menu",1,"k-menu-group","k-menu-group-md",3,"id"],[4,"ngFor","ngForOf"],["kendoToolbarRenderer","","location","overflow",3,"rendererClick","tool","resizable","ngTemplateOutlet"],["role","menuitem","tabindex","-1",1,"k-item","k-menu-item"],["role","toolbar",1,"k-toolbar-items-list","k-toolbar-items-list-solid",3,"ngClass","id"],["kendoToolbarRenderer","","location","section",3,"tool","resizable","ngTemplateOutlet","rendererClick",4,"ngFor","ngForOf"],["kendoToolbarRenderer","","location","section",3,"rendererClick","tool","resizable","ngTemplateOutlet"]]},template:function(i,s){if(1&i&&(e.eu8(0,14),e.DNE(1,Iw,5,2,"ng-container",15)(2,xw,3,1,"div",16)(3,yw,1,1,"ng-template",null,0,e.C5r)(5,Nw,1,0,"div",17)(6,Gw,2,12,"button",18)(7,Fw,5,2,"ng-container",15)(8,zw,2,4,"ng-template",null,1,e.C5r)(10,jw,2,5,"ng-template",null,2,e.C5r),e.eu8(12,null,3),e.DNE(14,Hw,2,0,"kendo-resize-sensor",15)),2&i){const r=e.sdS(4);e.R7$(),e.Y8G("ngIf",s.showScrollButtons&&("split"===s.hasScrollButtons.position||"start"===s.hasScrollButtons.position)),e.R7$(),e.Y8G("ngIf",s.isScrollMode)("ngIfElse",r),e.R7$(3),e.Y8G("ngIf",s.showOverflowSeparator),e.R7$(),e.Y8G("ngIf",s.showMenu),e.R7$(),e.Y8G("ngIf",s.showScrollButtons&&("split"===s.hasScrollButtons.position||"end"===s.hasScrollButtons.position)),e.R7$(7),e.Y8G("ngIf",s.overflowEnabled)}},dependencies:[w.T3,tD,w.pM,eD,w.bT,Te.Qp,w.YU,E.M0,sD],encapsulation:2})}return n})(),Ls=(()=>{class n extends ao{element;zone;host;set showText(t){this._showText=t,this.setTextDisplayMode()}get showText(){return this._showText}set showIcon(t){this._showIcon=t,this.setTextDisplayMode()}get showIcon(){return this._showIcon}set text(t){this._text=t,this.setTextDisplayMode()}get text(){return this._text}get size(){return this.host.size}style;className;title;disabled;toggleable=!1;set look(t){t&&(this.fillMode="default"===t?"solid":t)}get togglable(){return this.toggleable}set togglable(t){this.toggleable=t}selected=!1;fillMode="solid";rounded="medium";themeColor="base";set icon(t){this.toolbarOptions.icon=Ln(t,this.showIcon,!1),this.overflowOptions.icon=Ln(t,this.showIcon,!0)}set iconClass(t){this.toolbarOptions.iconClass=Ln(t,this.showIcon,!1),this.overflowOptions.iconClass=Ln(t,this.showIcon,!0)}set svgIcon(t){const i=this.toolbarOptions.icon||this.overflowOptions.icon,s=this.toolbarOptions.iconClass||this.overflowOptions.iconClass;if((0,e.naY)()&&t&&i&&s)throw new Error("Setting both icon/svgIcon and iconClass options at the same time is not supported.");this.toolbarOptions.svgIcon=Ln(t,this.showIcon,!1),this.overflowOptions.svgIcon=Ln(t,this.showIcon,!0)}set imageUrl(t){this.toolbarOptions.imageUrl=Ln(t,this.showIcon,!1),this.overflowOptions.imageUrl=Ln(t,this.showIcon,!0)}click=new e.bkB;pointerdown=new e.bkB;selectedChange=new e.bkB;toolbarOptions={text:"",icon:"",iconClass:"",svgIcon:null,imageUrl:""};overflowOptions={text:"",icon:"",iconClass:"",svgIcon:null,imageUrl:""};hasBadgeContainer=!1;showBadge=!1;toolbarButtonElement;sectionButtonElement;overflowButtonElement;_showText;_showIcon;_text;propertyChangeSub;constructor(t,i,s){super(),this.element=t,this.zone=i,this.host=s,this.isBuiltInTool=!0,this.propertyChangeSub=this.host.propertyChange.subscribe(r=>{("showText"===r.property||"showIcon"===r.property)&&(this[r.property]=r.value)})}ngOnInit(){this.setTextDisplayMode()}ngOnDestroy(){this.propertyChangeSub.unsubscribe(),this.propertyChangeSub=null}ngOnChanges(t){t.rounded&&(this.rounded=t.rounded.currentValue),t.themeColor&&(this.themeColor=t.themeColor.currentValue),t.showText&&(this.showText=t.showText.currentValue)}onBlur(){this.getButton().tabIndex=-1}canFocus(){return!this.disabled}focus(t){(!t||"focus"===t.type||"keydown"===t.type)&&this.getButton().focus(),this.getButton().tabIndex=0}handleKey(){return this.getButton().tabIndex=-1,!1}handleClick(t){this.click.emit(t),this.toggleable&&(this.selected=!this.selected,this.selectedChange.emit(this.selected))}selectedChangeHandler(t){this.selected=t,this.selectedChange.emit(t)}getButton(){return this[`${this.location}ButtonElement`]?.nativeElement}setTextDisplayMode(){this.toolbarOptions.text="menu"===this.showText||"never"===this.showText?void 0:this.text,this.zone.onStable.pipe((0,st.s)(1)).subscribe(()=>{this.overflowOptions.text="toolbar"===this.showText||"never"===this.showText?void 0:this.text})}static \u0275fac=function(i){return new(i||n)(e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(Kc))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-toolbar-button"]],viewQuery:function(i,s){if(1&i&&(e.GBs(Xw,5,e.aKT),e.GBs(Ww,5,e.aKT),e.GBs(Mf,5,e.aKT)),2&i){let r;e.mGM(r=e.lsd())&&(s.toolbarButtonElement=r.first),e.mGM(r=e.lsd())&&(s.sectionButtonElement=r.first),e.mGM(r=e.lsd())&&(s.overflowButtonElement=r.first)}},inputs:{showText:"showText",showIcon:"showIcon",text:"text",style:"style",className:"className",title:"title",disabled:"disabled",toggleable:"toggleable",look:"look",togglable:"togglable",selected:"selected",fillMode:"fillMode",rounded:"rounded",themeColor:"themeColor",icon:"icon",iconClass:"iconClass",svgIcon:"svgIcon",imageUrl:"imageUrl"},outputs:{click:"click",pointerdown:"pointerdown",selectedChange:"selectedChange"},exportAs:["kendoToolBarButton"],standalone:!0,features:[e.Jv_([{provide:ao,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.OA$,e.aNF],decls:6,vars:0,consts:[["toolbarTemplate",""],["popupTemplate",""],["sectionTemplate",""],["toolbarButton",""],["overflowButton",""],["sectionButton",""],[4,"ngIf"],["type","button","kendoButton","",3,"k-toolbar-button","k-toolbar-toggle-button","tabindex","size","ngStyle","ngClass","disabled","toggleable","fillMode","themeColor","rounded","selected","icon","iconClass","svgIcon","imageUrl","click","pointerdown","selectedChange","blur",4,"ngIf"],["type","button","kendoButton","",3,"click","pointerdown","selectedChange","blur","tabindex","size","ngStyle","ngClass","disabled","toggleable","fillMode","themeColor","rounded","selected","icon","iconClass","svgIcon","imageUrl"],["rounded","full",3,"cutoutBorder",4,"ngIf"],["rounded","full",3,"cutoutBorder"],["tabindex","-1","role","menuitem",1,"k-item","k-menu-item",3,"click","ngClass","ngStyle"],[1,"k-link","k-menu-link"],[3,"name","customFontClass","svgIcon",4,"ngIf"],["class","k-menu-link-text",4,"ngIf"],[3,"name","customFontClass","svgIcon"],[1,"k-menu-link-text"]],template:function(i,s){1&i&&e.DNE(0,Qw,2,2,"ng-template",null,0,e.C5r)(2,tI,5,8,"ng-template",null,1,e.C5r)(4,oI,2,2,"ng-template",null,2,e.C5r)},dependencies:[Te.Qp,w.B3,w.YU,w.bT,ct.QK,Qh,Df],encapsulation:2})}return n})();var ir=$(9969),la=$(8406),$c=($(9257),$(2605),$(1042),$(7577),$(9928),$(291),$(2907),$(3105));const Qa=typeof Uint8Array<"u"&&$c.A.browser&&(!$c.A.browser.msie||$c.A.browser.version>9),mp=function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{decode:function(o){for(var t=o.replace(/[^A-Za-z0-9\+\/\=]/g,""),i=0,s=t.length,r=[];i<s;){var l=n.indexOf(t.charAt(i++)),u=n.indexOf(t.charAt(i++)),f=n.indexOf(t.charAt(i++)),C=n.indexOf(t.charAt(i++)),O=(15&u)<<4|f>>>2,G=(3&f)<<6|C;r.push(l<<2|u>>>4),64!=f&&r.push(O),64!=C&&r.push(G)}return r},encode:function(o){for(var t=0,i=o.length,s="";t<i;){var r=o[t++],l=o[t++],u=o[t++],C=(3&r)<<4|l>>>4,T=(15&l)<<2|u>>>6,O=63&u;t-i==2?T=O=64:t-i==1&&(O=64),s+=n.charAt(r>>>2)+n.charAt(C)+n.charAt(T)+n.charAt(O)}return s}}}();function Sn(n){var o=0,t=0;null==n?n=Qa?new Uint8Array(256):[]:t=n.length;var i=Qa?function(Le){if(Le>=n.length){var jt=new Uint8Array(Math.max(Le+256,2*n.length));jt.set(n,0),n=jt}}:function(){},s=Qa?function(){return new Uint8Array(n.buffer,0,t)}:function(){return n},r=Qa?function(Le){if("string"==typeof Le)return ke(Le);var jt=Le.length;i(o+jt),n.set(Le,o),(o+=jt)>t&&(t=o)}:function(Le){if("string"==typeof Le)return ke(Le);for(var jt=0;jt<Le.length;++jt)C(Le[jt])};function f(){return o<t?n[o++]:0}function C(Le){i(o),n[o++]=255&Le,o>t&&(t=o)}function T(){return f()<<8|f()}function O(Le){C(Le>>8),C(Le)}function Q(){return 65536*T()+T()}function z(Le){O(Le>>>16&65535),O(65535&Le)}function de(){var Le=Q();return Le>=2147483648?Le-4294967296:Le}function le(Le){z(Le<0?Le+4294967296:Le)}function $e(Le){return Kt(Le,f)}function ke(Le){for(var jt=0;jt<Le.length;++jt)C(Le.charCodeAt(jt))}function Kt(Le,jt){for(var Ie=new Array(Le),Xe=0;Xe<Le;++Xe)Ie[Xe]=jt();return Ie}var $t={eof:function u(){return o>=t},readByte:f,writeByte:C,readShort:T,writeShort:O,readLong:Q,writeLong:z,readFixed:function Ce(){return Q()/65536},writeFixed:function _e(Le){z(Math.round(65536*Le))},readShort_:function G(){var Le=T();return Le>=32768?Le-65536:Le},writeShort_:function P(Le){O(Le<0?Le+65536:Le)},readLong_:de,writeLong_:le,readFixed_:function Ge(){return de()/65536},writeFixed_:function ge(Le){le(Math.round(65536*Le))},read:$e,write:r,readString:function ft(Le){return String.fromCharCode.apply(String,$e(Le))},writeString:ke,times:Kt,get:s,slice:Qa?function(Le,jt){if(n.buffer.slice)return new Uint8Array(n.buffer.slice(Le,Le+jt));var Ie=new Uint8Array(jt);return Ie.set(new Uint8Array(n.buffer,Le,jt)),Ie}:function(Le,jt){return n.slice(Le,Le+jt)},offset:function(Le){return null!=Le?(o=Le,$t):o},skip:function(Le){o+=Le},toString:function(){throw new Error("FIX CALLER.  BinaryStream is no longer convertible to string!")},length:function(){return t},saveExcursion:function(Le){var jt=o;try{return Le()}finally{o=jt}},writeBase64:function(Le){window.atob?ke(window.atob(Le)):r(mp.decode(Le))},base64:function(){return mp.encode(s())}};return $t}function jc(n,o){return Object.prototype.hasOwnProperty.call(n,o)}function gp(n){return Object.keys(n).sort(function(o,t){return o-t}).map(parseFloat)}class pD{constructor(o){this.raw=o,this.scalerType=o.readLong(),this.tableCount=o.readShort(),this.searchRange=o.readShort(),this.entrySelector=o.readShort(),this.rangeShift=o.readShort();for(var t=this.tables={},i=0;i<this.tableCount;++i){var s={tag:o.readString(4),checksum:o.readLong(),offset:o.readLong(),length:o.readLong()};t[s.tag]=s}}readTable(o,t){var i=this.tables[o];if(!i)throw new Error("Table "+o+" not found in directory");return this[o]=i.table=new t(this,i)}render(o){var t=Object.keys(o).length,i=Math.pow(2,Math.floor(Math.log(t)/Math.LN2)),s=16*i,r=Math.floor(Math.log(i)/Math.LN2),l=16*t-s,u=Sn();u.writeLong(this.scalerType),u.writeShort(t),u.writeShort(s),u.writeShort(r),u.writeShort(l);var f=16*t,C=u.offset()+f,T=null,O=Sn();for(var G in o)if(jc(o,G)){var P=o[G];for(u.writeString(G),u.writeLong(this.checksum(P)),u.writeLong(C),u.writeLong(P.length),O.write(P),"head"==G&&(T=C),C+=P.length;C%4;)O.writeByte(0),C++}u.write(O.get());var z=2981146554-this.checksum(u.get());return u.offset(T+8),u.writeLong(z),u.get()}checksum(o){o=Sn(o);for(var t=0;!o.eof();)t+=o.readLong();return 4294967295&t}}class ca{constructor(o,t){this.definition=t,this.length=t.length,this.offset=t.offset,this.file=o,this.rawData=o.raw,this.parse(o.raw)}raw(){return this.rawData.slice(this.offset,this.length)}parse(){}}class mD extends ca{parse(o){o.offset(this.offset),this.version=o.readLong(),this.revision=o.readLong(),this.checkSumAdjustment=o.readLong(),this.magicNumber=o.readLong(),this.flags=o.readShort(),this.unitsPerEm=o.readShort(),this.created=o.read(8),this.modified=o.read(8),this.xMin=o.readShort_(),this.yMin=o.readShort_(),this.xMax=o.readShort_(),this.yMax=o.readShort_(),this.macStyle=o.readShort(),this.lowestRecPPEM=o.readShort(),this.fontDirectionHint=o.readShort_(),this.indexToLocFormat=o.readShort_(),this.glyphDataFormat=o.readShort_()}render(o){var t=Sn();return t.writeLong(this.version),t.writeLong(this.revision),t.writeLong(0),t.writeLong(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.write(this.created),t.write(this.modified),t.writeShort_(this.xMin),t.writeShort_(this.yMin),t.writeShort_(this.xMax),t.writeShort_(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort_(this.fontDirectionHint),t.writeShort_(o),t.writeShort_(this.glyphDataFormat),t.get()}}class gD extends ca{parse(o){o.offset(this.offset),this.offsets=0===this.file.head.indexToLocFormat?o.times(this.length/2,function(){return 2*o.readShort()}):o.times(this.length/4,o.readLong)}offsetOf(o){return this.offsets[o]}lengthOf(o){return this.offsets[o+1]-this.offsets[o]}render(o){for(var t=Sn(),i=o[o.length-1]>65535,s=0;s<o.length;++s)i?t.writeLong(o[s]):t.writeShort(o[s]/2);return{format:i?1:0,table:t.get()}}}class fD extends ca{parse(o){o.offset(this.offset),this.version=o.readLong(),this.ascent=o.readShort_(),this.descent=o.readShort_(),this.lineGap=o.readShort_(),this.advanceWidthMax=o.readShort(),this.minLeftSideBearing=o.readShort_(),this.minRightSideBearing=o.readShort_(),this.xMaxExtent=o.readShort_(),this.caretSlopeRise=o.readShort_(),this.caretSlopeRun=o.readShort_(),this.caretOffset=o.readShort_(),o.skip(8),this.metricDataFormat=o.readShort_(),this.numOfLongHorMetrics=o.readShort()}render(o){var t=Sn();return t.writeLong(this.version),t.writeShort_(this.ascent),t.writeShort_(this.descent),t.writeShort_(this.lineGap),t.writeShort(this.advanceWidthMax),t.writeShort_(this.minLeftSideBearing),t.writeShort_(this.minRightSideBearing),t.writeShort_(this.xMaxExtent),t.writeShort_(this.caretSlopeRise),t.writeShort_(this.caretSlopeRun),t.writeShort_(this.caretOffset),t.write([0,0,0,0,0,0,0,0]),t.writeShort_(this.metricDataFormat),t.writeShort(o.length),t.get()}}class _D extends ca{parse(o){o.offset(this.offset),this.version=o.readLong(),this.numGlyphs=o.readShort(),this.maxPoints=o.readShort(),this.maxContours=o.readShort(),this.maxComponentPoints=o.readShort(),this.maxComponentContours=o.readShort(),this.maxZones=o.readShort(),this.maxTwilightPoints=o.readShort(),this.maxStorage=o.readShort(),this.maxFunctionDefs=o.readShort(),this.maxInstructionDefs=o.readShort(),this.maxStackElements=o.readShort(),this.maxSizeOfInstructions=o.readShort(),this.maxComponentElements=o.readShort(),this.maxComponentDepth=o.readShort()}render(o){var t=Sn();return t.writeLong(this.version),t.writeShort(o.length),t.writeShort(this.maxPoints),t.writeShort(this.maxContours),t.writeShort(this.maxComponentPoints),t.writeShort(this.maxComponentContours),t.writeShort(this.maxZones),t.writeShort(this.maxTwilightPoints),t.writeShort(this.maxStorage),t.writeShort(this.maxFunctionDefs),t.writeShort(this.maxInstructionDefs),t.writeShort(this.maxStackElements),t.writeShort(this.maxSizeOfInstructions),t.writeShort(this.maxComponentElements),t.writeShort(this.maxComponentDepth),t.get()}}class vD extends ca{parse(o){o.offset(this.offset);var t=this.file;this.metrics=o.times(t.hhea.numOfLongHorMetrics,function(){return{advance:o.readShort(),lsb:o.readShort_()}}),this.leftSideBearings=o.times(t.maxp.numGlyphs-t.hhea.numOfLongHorMetrics,o.readShort_)}forGlyph(o){var t=this.metrics,i=t.length;return o<i?t[o]:{advance:t[i-1].advance,lsb:this.leftSideBearings[o-i]}}render(o){for(var t=Sn(),i=0;i<o.length;++i){var s=this.forGlyph(o[i]);t.writeShort(s.advance),t.writeShort_(s.lsb)}return t.get()}}var CD=function(){class n{get compound(){return!1}constructor(f){this.raw=f}render(){return this.raw.get()}}class l{get compound(){return!0}constructor(f){this.raw=f;for(var C=this.glyphIds=[],T=this.idOffsets=[];;){var O=f.readShort();if(T.push(f.offset()),C.push(f.readShort()),!(32&O))break;f.skip(1&O?4:2),128&O?f.skip(8):64&O?f.skip(4):8&O&&f.skip(2)}}render(f){for(var C=Sn(this.raw.get()),T=0;T<this.glyphIds.length;++T){var O=this.glyphIds[T];C.offset(this.idOffsets[T]),C.writeShort(f[O])}return C.get()}}return class extends ca{parse(){this.cache={}}glyphFor(u){var f=this.cache;if(jc(f,u))return f[u];var C=this.file.loca,T=C.lengthOf(u);if(0===T)return f[u]=null;var O=this.rawData,G=this.offset+C.offsetOf(u),P=Sn(O.slice(G,T)),Q=P.readShort_(),z=P.readShort_(),de=P.readShort_(),le=P.readShort_(),Ce=P.readShort_(),_e=f[u]=Q<0?new l(P):new n(P);return _e.numberOfContours=Q,_e.xMin=z,_e.yMin=de,_e.xMax=le,_e.yMax=Ce,_e}render(u,f,C){for(var T=Sn(),O=[],G=0;G<f.length;++G){var Q=u[f[G]];T.offset()%2&&T.writeByte(0),O.push(T.offset()),Q&&T.write(Q.render(C))}return T.offset()%2&&T.writeByte(0),O.push(T.offset()),{table:T.get(),offsets:O}}}}(),SD=function(){class n{constructor(t,i){this.text=t,this.length=t.length,this.platformID=i.platformID,this.platformSpecificID=i.platformSpecificID,this.languageID=i.languageID,this.nameID=i.nameID}}return class extends ca{parse(o){o.offset(this.offset),o.readShort();for(var t=o.readShort(),i=this.offset+o.readShort(),s=o.times(t,function(){return{platformID:o.readShort(),platformSpecificID:o.readShort(),languageID:o.readShort(),nameID:o.readShort(),length:o.readShort(),offset:o.readShort()+i}}),r=this.strings={},l=0;l<s.length;++l){var u=s[l];o.offset(u.offset);var f=o.readString(u.length);r[u.nameID]||(r[u.nameID]=[]),r[u.nameID].push(new n(f,u))}this.postscriptEntry=r[6][0],this.postscriptName=this.postscriptEntry.text.replace(/[^\x20-\x7F]/g,"")}render(o){var t=this.strings,i=0;for(var s in t)jc(t,s)&&(i+=t[s].length);var r=Sn(),l=Sn();for(s in r.writeShort(0),r.writeShort(i),r.writeShort(6+12*i),t)if(jc(t,s))for(var u=6==s?[new n(o,this.postscriptEntry)]:t[s],f=0;f<u.length;++f){var C=u[f];r.writeShort(C.platformID),r.writeShort(C.platformSpecificID),r.writeShort(C.languageID),r.writeShort(C.nameID),r.writeShort(C.length),r.writeShort(l.offset()),l.writeString(C.text)}return r.write(l.get()),r.get()}}}(),bD=function(){var n=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g);return class extends ca{parse(o){var t;switch(o.offset(this.offset),this.format=o.readLong(),this.italicAngle=o.readFixed_(),this.underlinePosition=o.readShort_(),this.underlineThickness=o.readShort_(),this.isFixedPitch=o.readLong(),this.minMemType42=o.readLong(),this.maxMemType42=o.readLong(),this.minMemType1=o.readLong(),this.maxMemType1=o.readLong(),this.format){case 65536:case 196608:break;case 131072:t=o.readShort(),this.glyphNameIndex=o.times(t,o.readShort),this.names=[];for(var i=this.offset+this.length;o.offset()<i;)this.names.push(o.readString(o.readByte()));break;case 151552:t=o.readShort(),this.offsets=o.read(t);break;case 262144:this.map=o.times(this.file.maxp.numGlyphs,o.readShort)}}glyphFor(o){switch(this.format){case 65536:return n[o]||".notdef";case 131072:var t=this.glyphNameIndex[o];return t<n.length?n[t]:this.names[t-n.length]||".notdef";case 151552:case 196608:return".notdef";case 262144:return this.map[o]||65535}}render(o){if(196608==this.format)return this.raw();var t=Sn(this.rawData.slice(this.offset,32));t.writeLong(131072),t.offset(32);for(var i=[],s=[],r=0;r<o.length;++r){var u=this.glyphFor(o[r]),f=n.indexOf(u);f>=0?i.push(f):(i.push(n.length+s.length),s.push(u))}for(t.writeShort(o.length),r=0;r<i.length;++r)t.writeShort(i[r]);for(r=0;r<s.length;++r)t.writeByte(s[r].length),t.writeString(s[r]);return t.get()}}}(),zf=function(){class n{constructor(i,s,r){var l=this;l.platformID=i.readShort(),l.platformSpecificID=i.readShort(),l.offset=s+i.readLong(),i.saveExcursion(function(){var u;switch(i.offset(l.offset),l.format=i.readShort(),l.format){case 0:l.length=i.readShort(),l.language=i.readShort();for(var f=0;f<256;++f)r[f]=i.readByte();break;case 4:l.length=i.readShort(),l.language=i.readShort();var C=i.readShort()/2;i.skip(6);var T=i.times(C,i.readShort);i.skip(2);var O=i.times(C,i.readShort),G=i.times(C,i.readShort_),P=i.times(C,i.readShort),Q=(l.length+l.offset-i.offset())/2,z=i.times(Q,i.readShort);for(f=0;f<C;++f){var de=O[f],le=T[f];for(u=de;u<=le;++u){var Ce;0===P[f]?Ce=u+G[f]:0!==(Ce=z[P[f]/2-(C-f)+(u-de)]||0)&&(Ce+=G[f]),r[u]=65535&Ce}}break;case 6:l.length=i.readShort(),l.language=i.readShort(),u=i.readShort();for(var Ge=i.readShort();Ge-- >0;)r[u++]=i.readShort();break;case 12:i.readShort(),l.length=i.readLong(),l.language=i.readLong();for(var ge=i.readLong();ge-- >0;){u=i.readLong();for(var $e=i.readLong(),ft=i.readLong();u<=$e;)r[u++]=ft++}break;default:window.console&&window.console.error("Unhandled CMAP format: "+l.format)}})}}return class extends ca{parse(t){var i=this,s=i.offset;t.offset(s),i.codeMap={},i.version=t.readShort();var r=t.readShort();i.tables=t.times(r,function(){return new n(t,s,i.codeMap)})}static render(t,i){var s=Sn();return s.writeShort(0),s.writeShort(1),s.write(function o(t,i){var s=gp(t),r=[],l=[],u=null,f=null;function C(Le){return i[t[Le]]}for(var T=0;T<s.length;++T){var O=s[T],P=C(O)-O;(null==u||P!==f)&&(u&&l.push(u),r.push(O),f=P),u=O}u&&l.push(u),l.push(65535),r.push(65535);var Q=r.length,z=2*Q,de=2*Math.pow(2,Math.floor(Math.log(Q)/Math.LN2)),le=Math.log(de/2)/Math.LN2,Ce=z-de,_e=[],Ge=[],ge=[];for(T=0;T<Q;++T){var $e=r[T],ft=l[T];if(65535==$e){_e.push(0),Ge.push(0);break}var ke=C($e);if($e-ke>=32768){_e.push(0),Ge.push(2*(ge.length+Q-T));for(var Kt=$e;Kt<=ft;++Kt)ge.push(C(Kt))}else _e.push(ke-$e),Ge.push(0)}var $t=Sn();return $t.writeShort(3),$t.writeShort(1),$t.writeLong(12),$t.writeShort(4),$t.writeShort(16+8*Q+2*ge.length),$t.writeShort(0),$t.writeShort(z),$t.writeShort(de),$t.writeShort(le),$t.writeShort(Ce),l.forEach($t.writeShort),$t.writeShort(0),r.forEach($t.writeShort),_e.forEach($t.writeShort_),Ge.forEach($t.writeShort),ge.forEach($t.writeShort),$t.get()}(t,i)),s.get()}}}();class ED extends ca{parse(o){o.offset(this.offset),this.version=o.readShort(),this.averageCharWidth=o.readShort_(),this.weightClass=o.readShort(),this.widthClass=o.readShort(),this.type=o.readShort(),this.ySubscriptXSize=o.readShort_(),this.ySubscriptYSize=o.readShort_(),this.ySubscriptXOffset=o.readShort_(),this.ySubscriptYOffset=o.readShort_(),this.ySuperscriptXSize=o.readShort_(),this.ySuperscriptYSize=o.readShort_(),this.ySuperscriptXOffset=o.readShort_(),this.ySuperscriptYOffset=o.readShort_(),this.yStrikeoutSize=o.readShort_(),this.yStrikeoutPosition=o.readShort_(),this.familyClass=o.readShort_(),this.panose=o.times(10,o.readByte),this.charRange=o.times(4,o.readLong),this.vendorID=o.readString(4),this.selection=o.readShort(),this.firstCharIndex=o.readShort(),this.lastCharIndex=o.readShort(),this.version>0&&(this.ascent=o.readShort_(),this.descent=o.readShort_(),this.lineGap=o.readShort_(),this.winAscent=o.readShort(),this.winDescent=o.readShort(),this.codePageRange=o.times(2,o.readLong),this.version>1&&(this.xHeight=o.readShort(),this.capHeight=o.readShort(),this.defaultChar=o.readShort(),this.breakChar=o.readShort(),this.maxContext=o.readShort()))}render(){return this.raw()}}var Kf=1e5;class RD{constructor(o){this.font=o,this.subset={},this.unicodes={},this.ogid2ngid={0:0},this.ngid2ogid={0:0},this.ncid2ogid={},this.next=this.firstChar=1,this.nextGid=1,this.psName=function kD(){for(var n="",o=String(Kf),t=0;t<o.length;++t)n+=String.fromCharCode(o.charCodeAt(t)-48+65);return++Kf,n}()+"+"+this.font.psName}use(o){var t=this;if("string"==typeof o)return function lD(n){for(var s,r,o=[],t=0,i=n.length;t<i;)(s=n.charCodeAt(t++))>=55296&&s<=56319&&t<i?56320==(64512&(r=n.charCodeAt(t++)))?o.push(((1023&s)<<10)+(1023&r)+65536):(o.push(s),t--):o.push(s);return o}(o).reduce(function(l,u){return l+String.fromCharCode(t.use(u))},"");var i=t.unicodes[o];if(!i){i=t.next++,t.subset[i]=o,t.unicodes[o]=i;var s=t.font.cmap.codeMap[o];if(s&&(t.ncid2ogid[i]=s,null==t.ogid2ngid[s])){var r=t.nextGid++;t.ogid2ngid[s]=r,t.ngid2ogid[r]=s}}return i}encodeText(o){return this.use(o)}glyphIds(){return gp(this.ogid2ngid)}glyphsFor(o,t){t||(t={});for(var i=0;i<o.length;++i){var s=o[i];if(!t[s]){var r=t[s]=this.font.glyf.glyphFor(s);r&&r.compound&&this.glyphsFor(r.glyphIds,t)}}return t}render(){var o=this.glyphsFor(this.glyphIds());for(var t in o)if(jc(o,t)&&(t=parseInt(t,10),null==this.ogid2ngid[t])){var i=this.nextGid++;this.ogid2ngid[t]=i,this.ngid2ogid[i]=t}var r=gp(this.ngid2ogid).map(function(T){return this.ngid2ogid[T]},this),l=this.font,u=l.glyf.render(o,r,this.ogid2ngid),f=l.loca.render(u.offsets);this.lastChar=this.next-1;var C={cmap:zf.render(this.ncid2ogid,this.ogid2ngid),glyf:u.table,loca:f.table,hmtx:l.hmtx.render(r),hhea:l.hhea.render(r),maxp:l.maxp.render(r),post:l.post.render(r),name:l.name.render(this.psName),head:l.head.render(f.format),"OS/2":l.os2.render()};return this.font.directory.render(C)}cidToGidMap(){for(var o=Sn(),t=0,i=this.firstChar;i<this.next;++i){for(;t<i;)o.writeShort(0),t++;var s=this.ncid2ogid[i];o.writeShort(s?this.ogid2ngid[s]:0),t++}return o.get()}}class wD{constructor(o,t){var i=this,s=i.contents=Sn(o);if("ttcf"==s.readString(4)){var r;const f=function(){s.offset(r),i.parse()};if(!t)throw new Error("Must specify a name for TTC files");s.readLong();for(var l=s.readLong(),u=0;u<l;++u)if(r=s.readLong(),s.saveExcursion(f),i.psName==t)return;throw new Error("Font "+t+" not found in collection")}s.offset(0),i.parse()}parse(){var o=this.directory=new pD(this.contents);this.head=o.readTable("head",mD),this.loca=o.readTable("loca",gD),this.hhea=o.readTable("hhea",fD),this.maxp=o.readTable("maxp",_D),this.hmtx=o.readTable("hmtx",vD),this.glyf=o.readTable("glyf",CD),this.name=o.readTable("name",SD),this.post=o.readTable("post",bD),this.cmap=o.readTable("cmap",zf),this.os2=o.readTable("OS/2",ED),this.psName=this.name.postscriptName,this.ascent=this.os2.ascent||this.hhea.ascent,this.descent=this.os2.descent||this.hhea.descent,this.lineGap=this.os2.lineGap||this.hhea.lineGap,this.scale=1e3/this.head.unitsPerEm}widthOfGlyph(o){return this.hmtx.forGlyph(o).advance*this.scale}makeSubset(){return new RD(this)}}$(6965);$(9021),$(7793);const fp=$c.A.browser;var _p={"Times-Roman":!0,"Times-Bold":!0,"Times-Italic":!0,"Times-BoldItalic":!0,Helvetica:!0,"Helvetica-Bold":!0,"Helvetica-Oblique":!0,"Helvetica-BoldOblique":!0,Courier:!0,"Courier-Bold":!0,"Courier-Oblique":!0,"Courier-BoldOblique":!0,Symbol:!0,ZapfDingbats:!0};var Wn={serif:"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique",monospace:"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique",zapfdingbats:"ZapfDingbats","zapfdingbats|bold":"ZapfDingbats","zapfdingbats|italic":"ZapfDingbats","zapfdingbats|bold|italic":"ZapfDingbats"};function Ga(n,o){n=n.toLowerCase(),Wn[n]=function(){return Wn[o]},Wn[n+"|bold"]=function(){return Wn[o+"|bold"]},Wn[n+"|italic"]=function(){return Wn[o+"|italic"]},Wn[n+"|bold|italic"]=function(){return Wn[o+"|bold|italic"]}}Ga("Times New Roman","serif"),Ga("Courier New","monospace"),Ga("Arial","sans-serif"),Ga("Helvetica","sans-serif"),Ga("Verdana","sans-serif"),Ga("Tahoma","sans-serif"),Ga("Georgia","sans-serif"),Ga("Monaco","monospace"),Ga("Andale Mono","monospace");$(4059),$(2821);$(5503),$(786),$(2542),$(3039),$(3244),$(5344),$(4391),$(8309),$(4235);const sr=$c.A.browser||{};function Aa(n){return Array.prototype.slice.call(n)}var si={};si._root=si;typeof Element<"u"&&Element.prototype&&Element;typeof window<"u"&&window.kendo&&window;$(6702),$(5289),$(3010);var Bp=$(8834),vl=$(982);const l1=["kendoMenuList",""];function c1(n,o){if(1&n&&e.nrm(0,"li",3),2&n){const t=e.XpG(),i=t.$implicit,s=t.index,r=e.XpG();e.AVh("k-first",0===s)("k-last",s===r.items.length-1)("k-disabled",i.disabled),e.Y8G("appendTo",r.appendTo)("item",i)("level",r.level)("size",r.size)("vertical",r.vertical)("animate",r.animate)("rtl",r.rtl)("itemTemplate",r.itemTemplate)("itemLinkTemplate",r.itemLinkTemplate)("openOnClick",r.openOnClick)("index",r.hierarchyIndex(s))("siblingIndex",s)("ngClass",i.cssClass)("ngStyle",i.cssStyle),e.BMQ("data-kendo-menu-index",r.hierarchyIndex(s))}}function d1(n,o){if(1&n&&(e.j41(0,"li",4),e.EFF(1," \xa0 "),e.k0s()),2&n){const t=e.XpG().$implicit;e.Y8G("ngClass",t.cssClass)("ngStyle",t.cssStyle)}}function u1(n,o){if(1&n&&(e.qex(0),e.DNE(1,c1,1,21,"li",1)(2,d1,2,2,"li",2),e.bVm()),2&n){const t=o.$implicit;e.R7$(),e.Y8G("ngIf",!t.separator),e.R7$(),e.Y8G("ngIf",t.separator)}}const h1=["link"],p1=["popupTemplate"],m1=["kendoMenuItem",""],Lp=(n,o)=>({item:n,index:o});function g1(n,o){}function f1(n,o){if(1&n&&(e.j41(0,"span",7,2),e.DNE(2,g1,0,0,"ng-template",8),e.k0s()),2&n){const t=e.XpG(),i=e.sdS(7);e.AVh("k-active",t.opened),e.R7$(2),e.Y8G("ngTemplateOutlet",i)}}function _1(n,o){}function v1(n,o){if(1&n&&(e.j41(0,"a",9,2),e.DNE(2,_1,0,0,"ng-template",8),e.k0s()),2&n){const t=e.XpG(),i=e.sdS(7);e.AVh("k-active",t.opened),e.BMQ("href",t.item.url,e.B4B),e.R7$(2),e.Y8G("ngTemplateOutlet",i)}}function C1(n,o){}function S1(n,o){if(1&n&&e.DNE(0,C1,0,0,"ng-template",10),2&n){const t=e.XpG();e.Y8G("ngTemplateOutlet",t.linkTemplate)("ngTemplateOutletContext",e.l_i(2,Lp,t.item,t.index))}}function b1(n,o){}function E1(n,o){if(1&n&&(e.j41(0,"div",11),e.DNE(1,b1,0,0,"ng-template",10),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",t.item.content)("ngTemplateOutletContext",e.l_i(2,Lp,t.item.owner,t.item.ownerIndex))}}function k1(n,o){if(1&n&&e.nrm(0,"ul",12),2&n){const t=e.XpG();e.Y8G("appendTo",t.appendTo)("animate",t.animate)("rtl",t.rtl)("vertical",t.vertical)("size",t.size)("openOnClick",t.openOnClick)("items",t.children)("level",t.level+1)("index",t.index)("itemTemplate",t.itemTemplate)("itemLinkTemplate",t.itemLinkTemplate)("ngClass",t.menuListClasses),e.BMQ("id",t.childId)}}function R1(n,o){if(1&n&&e.nrm(0,"kendo-icon-wrapper",15),2&n){const t=e.XpG(2);e.Y8G("name",t.item.icon)("svgIcon",t.item.svgIcon)}}function w1(n,o){if(1&n&&(e.qex(0),e.j41(1,"span",16),e.EFF(2),e.k0s(),e.bVm()),2&n){const t=e.XpG(2);e.R7$(2),e.JRh(t.item.text)}}function I1(n,o){}function D1(n,o){if(1&n&&e.DNE(0,I1,0,0,"ng-template",10),2&n){const t=e.XpG(2);e.Y8G("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.l_i(2,Lp,t.item,t.index))}}function T1(n,o){if(1&n&&e.nrm(0,"kendo-icon-wrapper",17),2&n){const t=e.XpG(2);e.Y8G("name",t.fontIcon(t.horizontal,t.rtl))("svgIcon",t.SVGIcon(t.horizontal,t.rtl))}}function x1(n,o){if(1&n&&e.DNE(0,R1,1,2,"kendo-icon-wrapper",13)(1,w1,3,1,"ng-container",5)(2,D1,1,5,null,5)(3,T1,1,2,"kendo-icon-wrapper",14),2&n){const t=e.XpG();e.Y8G("ngIf",t.item.icon||t.item.svgIcon),e.R7$(),e.Y8G("ngIf",!t.template),e.R7$(),e.Y8G("ngIf",t.template),e.R7$(),e.Y8G("ngIf",t.hasContent)}}const O1=["kendoMenuExpandArrow",""],M1=["default"];function y1(n,o){if(1&n&&e.nrm(0,"kendo-menu",1),2&n){const t=e.XpG();e.Y8G("items",t.rootItems)("appendTo",t.appendTo)("size",t.size)("vertical",t.vertical)("openOnClick",t.openOnClick)("hoverDelay",t.hoverDelay)("animate",t.animate)("menuItemTemplate",null==t.itemTemplate.first?null:t.itemTemplate.first.templateRef)("menuItemLinkTemplate",null==t.itemLinkTemplate.first?null:t.itemLinkTemplate.first.templateRef)}}const N1={name:"@progress/kendo-angular-menu",productName:"Kendo UI for Angular",productCode:"KENDOUIANGULAR",productCodes:["KENDOUIANGULAR"],publishDate:1755030520,version:"19.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"},G1=/_?\d+$/;let A1=0;const P1=(n,o)=>n.siblingIndex-o.siblingIndex,A_=(n,o,t)=>{let i=o[n+t];for(;!i;)n<0?n=o.length-1:n>=o.length?n=0:n+=t,i=o[n];return i};let ua=(()=>{class n{items={};lists=[];idPrefix="k-menu"+A1++;get hasItems(){return Object.keys(this.items).length>0}childId(t){return`${this.idPrefix}-child${t}`}itemIndex(t,i){return(t?t+"_":"")+i}get(t){return this.items[t]}add(t){this.items[t.index]=t}remove(t){this.items[t.index]===t&&delete this.items[t.index]}addList(t){this.lists.push(t)}removeList(t){const i=this.lists.indexOf(t);i>=0&&this.lists.splice(i,1)}containsList(t){return!!this.lists.find(i=>i.element.nativeElement===t)}siblings(t){const i=this.parentIndex(t.index);return this.filter(s=>this.parentIndex(s)===i)}otherSiblings(t){const i=this.parentIndex(t.index);return this.filter(s=>this.parentIndex(s)===i&&s!==t.index)}children(t){return this.filter(i=>this.parentIndex(i)===t.index)}parent(t){return this.items[this.parentIndex(t.index)]}root(t){return this.items[this.indices(t.index)[0]]}indices(t){return t.split("_")}filter(t){const i=[],s=this.items;for(const r in s)t(r,s[r])&&i.push(s[r]);return i.sort(P1)}previous(t){const i=this.siblings(t),s=i.indexOf(t);return A_(s,i,-1)}next(t){const i=this.siblings(t),s=i.indexOf(t);return A_(s,i,1)}hasParent(t,i){return t.index.startsWith(i.index)}areSiblings(t,i){return t!==i&&this.parent(t)===this.parent(i)}forEach(t){const i=this.items;for(const s in i)i.hasOwnProperty(s)&&t(i[s])}parentIndex(t){return t.replace(G1,"")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();const F1=(n,o)=>!("open"===o&&n.opened||"close"===o&&!n.opened);class B1 extends E.PM{sender;item;index;constructor(o){super(),Object.assign(this,o)}}let nd=(()=>{class n{ngZone;items;owner;actions=[];constructor(t,i){this.ngZone=t,this.items=i}open(t,i){t.disabled||(t.hasContent&&!t.opened?this.actions.push({name:"open",requiresZone:t.hasContentTemplates(),item:t,finished:i}):i&&i())}close(t){this.closeChildren(t),this.closeItem(t)}closeItem(t){t.opened&&this.actions.push({name:"close",item:t})}closeToRoot(t){this.closeChildren(t);let i=t;do{this.closeItem(i),i=this.items.parent(i)}while(i)}closeOthers(t){this.closeChildren(t);let i=t;for(;i;){const s=this.items.otherSiblings(i);this.closeItems(s),i=this.items.parent(i)}}closeAll(){this.items.forEach(t=>{t.opened&&0===t.level&&this.close(t)})}select(t,i,s,r){this.actions.push({name:"select",item:t,prevented:s,finished:r,domEvent:i})}emit(t,i,s){const r=this.owner,l=new B1({sender:r,item:i.item,index:i.index,originalEvent:s,hasContent:i.hasContent});return r[t].emit(l),r.contextService&&r.contextService.emit(t,l),l.isDefaultPrevented()}get hasPending(){return this.actions.length>0}execute(t){if(!this.hasPending&&!t)return;const i=t||this.clear();!e.SKi.isInAngularZone()&&this.requiresZone(i)?this.ngZone.run(()=>{this.executeActions(i)}):this.executeActions(i)}clear(){const t=this.actions;return this.actions=[],t}executeActions(t){for(let i=0;i<t.length;i++){const{item:s,name:r,prevented:l,finished:u,domEvent:f}=t[i];F1(s,r)&&(this.emit(r,s,f)?l&&l():(s[r]&&s[r](),u&&u()))}}requiresZone(t){const i=t||this.actions,s=this.owner,r=s.contextService;for(let l=0;l<i.length;l++){const u=i[l],f=u.name;if(u.requiresZone||f&&((0,E.SF)(s[f])||r&&r.hasObservers(f)))return!0}return!1}closeChildren(t){if(!t.opened)return;const i=this.items.children(t);this.closeItems(i)}closeItems(t){for(let i=0;i<t.length;i++)this.close(t[i])}static \u0275fac=function(i){return new(i||n)(e.KVO(e.SKi),e.KVO(ua))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();const L1=/\S/,Ko={};Ko[E.D$.ArrowLeft]="left",Ko[E.D$.ArrowRight]="right",Ko[E.D$.ArrowUp]="up",Ko[E.D$.ArrowDown]="down",Ko[E.D$.Home]="home",Ko[E.D$.End]="end",Ko[E.D$.Space]="enter",Ko[E.D$.Enter]="enter",Ko[E.D$.NumpadEnter]="enter",Ko[E.D$.KeyN]="enter",Ko[E.D$.Escape]="esc",Ko[E.D$.Tab]="tab";const U1=Object.assign({},Ko,{ArrowLeft:"right",ArrowRight:"left"}),z1=Promise.resolve(null);let vu=(()=>{class n{items;actions;localization;ngZone;vertical=!1;activeIndex="0";focusedIdx;get focusedItem(){return this.items.get(this.focusedIdx)}get activeItem(){return this.items.get(this.activeIndex)}get handlers(){return this.localization.rtl?U1:Ko}constructor(t,i,s,r){this.items=t,this.actions=i,this.localization=s,this.ngZone=r}focus(t){t.index!==this.focusedIdx&&((!this.activeItem||!this.items.hasParent(t,this.activeItem))&&this.setActive(t),this.setFocus(t))}setFocus(t){this.focusedIdx=t.index,t.focus()}focusLeave(){const t=this.focusedItem;t&&(this.actions.closeToRoot(t),this.actions.execute()),this.focusedIdx=null}updateActive(){!this.activeItem&&this.items.hasItems&&(this.items.get("0").toggleActive(!0),this.ngZone.runOutsideAngular(()=>{z1.then(()=>{this.activeIndex="0"})}))}keydown(t){const i=this.focusedItem||this.activeItem;if(!i)return;const s=(0,E.tq)(t),r=this.handlers[s];r?("tab"!==r&&t.preventDefault(),this[r](i,t)):function V1(n){return 1===n.length&&L1.test(n)}(t.key)&&this.search(i,t.key),this.actions.execute()}focusIndex(t){if(!t&&this.activeItem)this.setFocus(this.activeItem);else if("first"===t)this.focusFirst();else if("last"===t)this.focusLast();else{const i=this.items.get(t);i&&this.focus(i)}}focusFirst(){const t=this.items.siblings(this.items.get("0"));this.focus(t[0])}focusLast(){const t=this.items.siblings(this.items.get("0"));this.focus(t[t.length-1])}search(t,i){const s=this.items.siblings(t),r=s.indexOf(t),l=s.slice(r+1).concat(s.slice(0,r));for(let u=0;u<l.length;u++){const f=l[u];if((f.item.text||"").toLowerCase().startsWith(i.toLowerCase())){this.focus(f);break}}}down(t){0!==t.level||this.vertical?this.focus(this.items.next(t)):t.hasContent&&this.actions.open(t,this.focusChild(t,0))}up(t){0!==t.level||this.vertical?this.focus(this.items.previous(t)):t.hasContent&&this.actions.open(t,this.focusChild(t,t.children.length-1))}left(t){if(!this.vertical||0!==t.level||!t.disabled)if(t.level>1||this.vertical&&t.level>0){const i=this.items.parent(t);this.focus(i),this.actions.close(i)}else this.vertical&&0===t.level&&!t.disabled?t.hasContent&&this.actions.open(t,this.focusChild(t,t.children.length-1)):this.focus(this.items.previous(this.activeItem))}right(t){this.vertical&&0===t.level&&t.disabled||(t.horizontal&&!t.disabled?t.hasContent?this.actions.open(t,this.focusChild(t,0)):(!this.vertical||t.level>0)&&this.focus(this.items.next(this.activeItem)):this.focus(this.items.next(this.activeItem)))}home(t){const i=this.items.siblings(t);this.focus(i[0])}end(t){const i=this.items.siblings(t);this.focus(i[i.length-1])}enter(t,i){const s=this.actions;t.disabled||(t.hasContent?(s.select(t,i),s.open(t,this.focusChild(t,0))):(s.select(t,i,null,()=>{t.navigate()}),this.focus(this.items.root(t)),s.closeToRoot(t)))}esc(t){if(t.level>0){const i=this.items.parent(t);this.actions.close(i),this.focus(i)}}tab(t){t.level>0&&this.activeItem.focus()}focusChild(t,i){return()=>{const s=this.items.children(t)[i];this.setFocus(s)}}setActive(t){const i=this.focusedItem,s=this.items.root(t);this.activeItem&&this.activeItem.toggleActive(!1),this.activeIndex=s.index,s.toggleActive(!0),i&&(this.actions.closeToRoot(i),i.level>0&&this.actions.open(s))}static \u0275fac=function(i){return new(i||n)(e.KVO(ua),e.KVO(nd),e.KVO(ve.Pi),e.KVO(e.SKi))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),Vp=(()=>{class n{actions;items;delay=100;get openOnOver(){return this._openOnOver}set openOnOver(t){this.cancelActions(),this._openOnOver=t}_openOnOver=!0;hoveredIdx;get hovered(){return this.items.get(this.hoveredIdx)}set hovered(t){this.hoveredIdx=t?t.index:null}scheduled=[];constructor(t,i){this.actions=t,this.items=i}ngOnDestroy(){this.cancelActions()}over(t){this.cancelActions(i=>"openOnOver"===i.name),(!this.hovered||this.hovered!==t)&&(this.actions.closeOthers(t),this.hovered=t,(t.level>0||this.openOnOver)&&!t.disabled&&(this.actions.open(t),this.cancelActions(i=>"close"===i.name&&(t===i.item||this.items.hasParent(t,i.item))||"open"===i.name&&!this.items.hasParent(t,i.item))),this.scheduleActions())}leave(t){const i=this.hovered;i&&(this.actions.closeToRoot(i),this.cancelActions(s=>"open"===s.name),this.scheduleActions()),t&&this._openOnOver&&this.scheduleDisableOpenOnOver(),this.hovered=null}closeCurrent(){const t=this.hovered;t&&(this.actions.closeToRoot(t),this.hovered=null)}scheduleActions(){if(this.actions.hasPending){const t={};t.actions=this.actions.clear(),t.id=setTimeout(()=>{this.actions.execute(t.actions),this.removeScheduled(t)},this.delay),this.scheduled.push(t)}}scheduleDisableOpenOnOver(){const t={actions:[{name:"openOnOver"}]};t.id=setTimeout(()=>{this._openOnOver=!1,this.removeScheduled(t)},Math.max(this.delay,500)),this.scheduled.push(t)}removeScheduled(t){const i=this.scheduled;for(let s=0;s<i.length;s++)if(i[s]===t)return void i.splice(s,1)}cancelActions(t){const i=this.scheduled;for(let s=i.length-1;s>=0;s--){const r=i[s],l=r.actions;if(t)for(let u=l.length-1;u>=0;u--)t(l[u])&&l.splice(u,1);(!t||0===l.length)&&(clearTimeout(r.id),i.splice(s,1))}}static \u0275fac=function(i){return new(i||n)(e.KVO(nd),e.KVO(ua))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();const P_="kendo-matches-container",H1=/^(?:a|input|select|option|textarea|button|object)$/i,zp=(n,o)=>{for(;n&&!o(n);)n=n.parentNode;return n},F_=(n,o,t)=>{for(;n&&n!==t&&!o(n);)n=n.parentNode;if(n!==t)return n},B_=n=>{if(n.tagName){const o=n.tagName.toLowerCase(),t=n.getAttribute("tabIndex"),i="-1"===t;let s=null!==t&&!i;return H1.test(o)&&(s=!n.disabled&&!i),s}return!1},Kp=n=>String(n).trim().split(" "),sd=(n,o)=>Kp(n.className).indexOf(o)>=0,L_=n=>n.getAttribute("data-kendo-menu-index"),Cu=(n,o)=>{if(n===o.lists[0].element.nativeElement)return!1;const t=(n=>{let o=zp(n,(n=>{const o=Kp("k-menu-popup k-menu k-menu-group");return t=>{const i=Kp(t.className);return!!o.find(s=>i.indexOf(s)>=0)}})());return o&&sd(o,"k-menu-popup")&&(o=o.querySelector(".k-menu-group")),o})(n);return t&&o.containsList(t)};let od=(()=>{class n{keydown=new e.bkB;owner;items;emit(t,i){this.owner.emitMenuEvent(t,i)}hasObservers(t){return this.owner&&(0,E.SF)(this.owner[t])}leaveMenu(t){return!this.items||!Cu(t.target,this.items)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),$p=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoMenuItemTemplate",""]],standalone:!0})}return n})(),jp=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoMenuItemLinkTemplate",""]],standalone:!0})}return n})(),U_=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoMenuItemContentTemplate",""]],standalone:!0})}return n})(),V_=(()=>{class n{text;url;disabled;cssClass;cssStyle;icon;svgIcon;data;separator;itemTemplate;itemLinkTemplate;itemContentTemplate;children;get template(){if(this.itemTemplate&&this.itemTemplate.length)return this.itemTemplate.first.templateRef}get linkTemplate(){if(this.itemLinkTemplate&&this.itemLinkTemplate.length)return this.itemLinkTemplate.first.templateRef}get contentTemplate(){if(this.itemContentTemplate&&this.itemContentTemplate.length)return this.itemContentTemplate.first.templateRef}get items(){if(this.children.length)return this.children.toArray().filter(t=>t!==this)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-menu-item"]],contentQueries:function(i,s,r){if(1&i&&(e.wni(r,$p,4),e.wni(r,jp,4),e.wni(r,U_,4),e.wni(r,n,4)),2&i){let l;e.mGM(l=e.lsd())&&(s.itemTemplate=l),e.mGM(l=e.lsd())&&(s.itemLinkTemplate=l),e.mGM(l=e.lsd())&&(s.itemContentTemplate=l),e.mGM(l=e.lsd())&&(s.children=l)}},inputs:{text:"text",url:"url",disabled:"disabled",cssClass:"cssClass",cssStyle:"cssStyle",icon:"icon",svgIcon:"svgIcon",data:"data",separator:"separator"},standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),Cl=(()=>{class n{items;vertical=!1;openOnClick=!1;hoverDelay=100;animate=!0;size="medium";itemTemplate;itemLinkTemplate;children;get rootItems(){return this.items||(this.children?this.children.toArray():[])}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-menu-base"]],contentQueries:function(i,s,r){if(1&i&&(e.wni(r,$p,4),e.wni(r,jp,4),e.wni(r,V_,4)),2&i){let l;e.mGM(l=e.lsd())&&(s.itemTemplate=l),e.mGM(l=e.lsd())&&(s.itemLinkTemplate=l),e.mGM(l=e.lsd())&&(s.children=l)}},inputs:{items:"items",vertical:"vertical",openOnClick:"openOnClick",hoverDelay:"hoverDelay",animate:"animate",size:"size"},decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})();const Hp=n=>typeof n<"u",z_=()=>{if((0,E.nm)())return new e.aKT(document.body)},K_=n=>({small:"k-menu-group-sm",medium:"k-menu-group-md",large:"k-menu-group-lg"}[n]),$_=(n,o)=>n?o?"caret-alt-left":"caret-alt-right":"caret-alt-down",j_=(n,o)=>n?o?ne.ner:ne.yVr:ne.Y8K,H_={vertical:"top",horizontal:"left"},X_={vertical:"top",horizontal:"right"},W_={vertical:"flip",horizontal:"fit"},Y_={vertical:"fit",horizontal:"flip"},Q1={vertical:{anchor:{vertical:"bottom",horizontal:"right"},popup:X_,collision:W_,animate:"down"},horizontal:{anchor:{vertical:"top",horizontal:"left"},popup:X_,collision:Y_,animate:"left"}},Z1={vertical:{anchor:{vertical:"bottom",horizontal:"left"},popup:H_,collision:W_,animate:"down"},horizontal:{anchor:{vertical:"top",horizontal:"right"},popup:H_,collision:Y_,animate:"right"}};let q_=(()=>{class n{itemsService;hover;actions;navigation;renderer;ngZone;element;appendTo;items;level;index;animate=!0;size="medium";vertical;rtl;openOnClick;itemTemplate;itemLinkTemplate;domSubscriptions;constructor(t,i,s,r,l,u,f){this.itemsService=t,this.hover=i,this.actions=s,this.navigation=r,this.renderer=l,this.ngZone=u,this.element=f}hierarchyIndex(t){return this.itemsService.itemIndex(this.index,t)}ngOnInit(){this.itemsService.addList(this),this.initDomEvents()}ngOnDestroy(){this.itemsService.removeList(this),this.domSubscriptions&&this.domSubscriptions()}initDomEvents(){!(0,E.nm)()||!this.element||this.ngZone.runOutsideAngular(()=>{const t=this.element.nativeElement,i=this.level>0?zp(t,T=>sd(T,"k-popup")):t,s=this.renderer.listen(t,"mouseover",T=>{if(T.target===t&&0===this.level)this.onLeave();else{const O=this.nodeItem(T.target)||this.itemsService.get(this.index);O&&(!this.openOnClick||"click"!==this.openOnClick.toggle||0!==O.level||O.hasContent)&&this.hover.over(O)}}),r=this.renderer.listen(i,"mouseleave",T=>{this.leavesMenu(T)&&this.onLeave()}),l=this.renderer.listen(t,"keydown",T=>{sd(T.target,"k-menu-item")&&this.navigation.keydown(T)}),u=this.renderer.listen(t,"focusout",T=>{this.leavesMenu(T)&&this.navigation.focusLeave()}),f=this.renderer.listen(document,"touchstart",T=>{if(Cu(T.target,this.itemsService)){const O=this.nodeItem(T.target);this.navigation.focus(O),O.opened||this.hover.over(O)}else if(this.navigation.focusedIdx){const O=this.itemsService.get(this.navigation.activeIndex);this.onLeave(),O.blur()}}),C=this.renderer.listen(t,"click",this.clickHandler.bind(this));this.domSubscriptions=()=>{s(),r(),l(),u(),C(),f()}})}leavesMenu(t){return!t.relatedTarget||!Cu(t.relatedTarget,this.itemsService)}onLeave(){const t=this.openOnClick;(!t||"click"!==t.toggle)&&this.hover.leave(t&&"leave"===t.toggle)}nodeItem(t){const i=((n,o)=>F_(n,L_,this.element.nativeElement))(t);if(i){const s=L_(i);return this.itemsService.get(s)}}clickHandler(t){if(B_(t.target)&&!sd(t.target,"k-menu-item"))return;const i=this.nodeItem(t.target);if(i&&!i.isContent&&!i.navigating){if(i.disabled)return void t.preventDefault();if(this.actions.select(i,t,()=>{t.preventDefault()}),this.navigation.focus(i),i.level>0&&!i.hasContent&&this.actions.closeToRoot(i),this.openOnClick){const s=this.hover;i.opened?0===i.level&&(s.openOnOver=!1,this.actions.close(i)):i.hasContent?(s.openOnOver=!0,this.actions.closeOthers(i),this.actions.open(i)):(s.openOnOver=!1,0===i.level&&"click"===this.openOnClick.toggle&&this.hover.closeCurrent())}this.actions.execute()}}static \u0275fac=function(i){return new(i||n)(e.rXU(ua),e.rXU(Vp),e.rXU(nd),e.rXU(vu),e.rXU(e.sFG),e.rXU(e.SKi),e.rXU(e.aKT))};static \u0275cmp=e.VBU({type:n,selectors:[["","kendoMenuList",""]],inputs:{appendTo:"appendTo",items:"items",level:"level",index:"index",animate:"animate",size:"size",vertical:"vertical",rtl:"rtl",openOnClick:"openOnClick",itemTemplate:"itemTemplate",itemLinkTemplate:"itemLinkTemplate"},standalone:!0,features:[e.aNF],attrs:l1,decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["kendoMenuItem","","role","menuitem","class","k-item k-menu-item",3,"appendTo","item","level","size","vertical","animate","rtl","itemTemplate","itemLinkTemplate","openOnClick","index","siblingIndex","ngClass","ngStyle","k-first","k-last","k-disabled",4,"ngIf"],["class","k-separator k-item","aria-hidden","true",3,"ngClass","ngStyle",4,"ngIf"],["kendoMenuItem","","role","menuitem",1,"k-item","k-menu-item",3,"appendTo","item","level","size","vertical","animate","rtl","itemTemplate","itemLinkTemplate","openOnClick","index","siblingIndex","ngClass","ngStyle"],["aria-hidden","true",1,"k-separator","k-item",3,"ngClass","ngStyle"]],template:function(i,s){1&i&&e.DNE(0,u1,3,2,"ng-container",0),2&i&&e.Y8G("ngForOf",s.items)},dependencies:()=>[w.pM,w.bT,ex,w.YU,w.B3],encapsulation:2})}return n})(),ex=(()=>{class n{itemsService;navigation;changeDetector;renderer;popupService;element;contextService;appendTo;item;level;set index(t){this._index&&this._index!==t?(this.itemsService.remove(this),this._index=t,this.itemsService.add(this)):this._index=t,this.childId=this.itemsService.childId(t)}get index(){return this._index}siblingIndex;animate=!0;size="medium";vertical;rtl;openOnClick=!1;itemTemplate;itemLinkTemplate;link;popupTemplate;get disabled(){return this.item.disabled}get hasPopup(){return!!this.hasContent||null}get label(){return this.item.text?this.item.text:null}get popupSettings(){const t=this.rtl?Q1:Z1;return this.horizontal?t.horizontal:t.vertical}get horizontal(){return this.vertical||this.level>0}get hasLink(){return!!this.item.url}get linkTemplate(){return this.item.linkTemplate||this.itemLinkTemplate}get hasContent(){const t=this.item.items;return t&&t.length||this.item.contentTemplate}get isContent(){return!!this.item.content}get iconClass(){return`k-i-${this.item.icon}`}get isContextMenu(){return!!this.contextService}get menuListClasses(){const t=K_(this.size);return this.isContextMenu?`k-context-menu k-menu-group ${t}`:`k-menu-group ${t}`}get children(){const t=this.item;return t.contentTemplate?(this.contentItems||(this.contentItems=[{content:t.contentTemplate,owner:t,ownerIndex:this.index}]),this.contentItems):t.items}get template(){return this.item.template||this.itemTemplate}fontIcon=$_;SVGIcon=j_;opened=!1;navigating=!1;childId;contentItems;popupRef;_index;destroyed=!1;constructor(t,i,s,r,l,u,f){this.itemsService=t,this.navigation=i,this.changeDetector=s,this.renderer=r,this.popupService=l,this.element=u,this.contextService=f}hasContentTemplates(){const t=this.item;return this.itemTemplate||t.contentTemplate||this.itemLinkTemplate||t.items&&t.items.find(i=>i.template||i.linkTemplate)}ngOnInit(){this.itemsService.add(this)}ngAfterViewInit(){this.hasContent&&this.setAttribute("aria-expanded",this.opened.toString()),this.setAttribute("tabindex",this.index===this.navigation.activeIndex?"0":"-1")}ngOnDestroy(){this.itemsService.remove(this),this.destroyed=!0,this.popupRef&&(this.popupRef.close(),this.popupRef=null)}focus(){this.element.nativeElement.focus()}blur(){this.element.nativeElement.blur()}toggleActive(t){this.setAttribute("tabindex",t?"0":"-1")}open(){if(!this.destroyed&&this.hasContent&&!this.opened){const t=this.popupSettings,i=!!this.animate&&Object.assign({},this.animate,{direction:t.animate});this.opened=!0,this.popupRef=this.popupService.open({appendTo:this.appendTo,popupAlign:t.popup,anchorAlign:t.anchor,collision:t.collision,anchor:this.element,positionMode:"absolute",content:this.popupTemplate,popupClass:{"k-rtl":this.rtl,"k-menu-popup":!0},animate:i}),this.setAttribute("aria-expanded","true"),this.setAttribute("aria-controls",this.childId),this.changeDetector.detectChanges()}}close(){!this.destroyed&&this.opened&&(this.opened=!1,this.popupRef&&(this.popupRef.close(),this.popupRef=null),this.changeDetector.detectChanges(),this.setAttribute("aria-expanded","false"),this.renderer.removeAttribute(this.element.nativeElement,"aria-controls"))}navigate(){let t;this.linkTemplate?t=this.element.nativeElement.querySelector("a.k-menu-link"):this.hasLink&&(t=this.link.nativeElement),t&&(this.navigating=!0,t.click(),this.navigating=!1)}setAttribute(t,i){this.renderer.setAttribute(this.element.nativeElement,t,i)}static \u0275fac=function(i){return new(i||n)(e.rXU(ua),e.rXU(vu),e.rXU(e.gRc),e.rXU(e.sFG),e.rXU(pe.OQ),e.rXU(e.aKT),e.rXU(od,8))};static \u0275cmp=e.VBU({type:n,selectors:[["","kendoMenuItem",""]],viewQuery:function(i,s){if(1&i&&(e.GBs(h1,5),e.GBs(p1,7)),2&i){let r;e.mGM(r=e.lsd())&&(s.link=r.first),e.mGM(r=e.lsd())&&(s.popupTemplate=r.first)}},hostVars:3,hostBindings:function(i,s){2&i&&e.BMQ("aria-disabled",s.disabled)("aria-haspopup",s.hasPopup)("aria-label",s.label)},inputs:{appendTo:"appendTo",item:"item",level:"level",index:"index",siblingIndex:"siblingIndex",animate:"animate",size:"size",vertical:"vertical",rtl:"rtl",openOnClick:"openOnClick",itemTemplate:"itemTemplate",itemLinkTemplate:"itemLinkTemplate"},standalone:!0,features:[e.Jv_([pe.OQ,{provide:pe.Fy,useFactory:z_}]),e.aNF],attrs:m1,decls:8,vars:4,consts:[["popupTemplate",""],["itemcontent",""],["link",""],["class","k-link k-menu-link","role","presentation",3,"k-active",4,"ngIf"],["class","k-link k-menu-link","tabindex","-1","role","presentation",3,"k-active",4,"ngIf"],[4,"ngIf"],["class","k-content","role","presentation",4,"ngIf"],["role","presentation",1,"k-link","k-menu-link"],[3,"ngTemplateOutlet"],["tabindex","-1","role","presentation",1,"k-link","k-menu-link"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","presentation",1,"k-content"],["kendoMenuList","","role","menu",3,"appendTo","animate","rtl","vertical","size","openOnClick","items","level","index","itemTemplate","itemLinkTemplate","ngClass"],["role","presentation",3,"name","svgIcon",4,"ngIf"],["class","k-menu-expand-arrow","aria-hidden","true",3,"name","svgIcon",4,"ngIf"],["role","presentation",3,"name","svgIcon"],[1,"k-menu-link-text"],["aria-hidden","true",1,"k-menu-expand-arrow",3,"name","svgIcon"]],template:function(i,s){1&i&&e.DNE(0,f1,3,3,"span",3)(1,v1,3,4,"a",4)(2,S1,1,5,null,5)(3,E1,2,5,"div",6)(4,k1,1,13,"ng-template",null,0,e.C5r)(6,x1,4,4,"ng-template",null,1,e.C5r),2&i&&(e.Y8G("ngIf",!s.hasLink&&!s.item.content&&!s.linkTemplate),e.R7$(),e.Y8G("ngIf",s.item.url&&!s.linkTemplate),e.R7$(),e.Y8G("ngIf",s.linkTemplate&&!s.item.content),e.R7$(),e.Y8G("ngIf",s.item.content))},dependencies:[w.bT,w.T3,q_,w.YU,ct.QK],encapsulation:2})}return n})(),J_=(()=>{class n extends Cl{itemsService;hover;actions;navigation;localization;ngZone;renderer;contextService;appendTo;menuItemTemplate;ariaRole="menubar";menuItemLinkTemplate;select=new e.bkB;open=new e.bkB;close=new e.bkB;get ariaOrientation(){if(this.vertical)return"vertical"}get isContextMenu(){return!!this.contextService}get direction(){return this.rtl}get rtl(){return this.localization.rtl}get menuClasses(){const t=K_(this.size);return this.isContextMenu?`k-context-menu k-menu-group ${t}`:"k-reset k-header k-menu k-menu-"+(this.vertical?"vertical":"horizontal")}closeClickSubscription;contextKeyDownSubscription;constructor(t,i,s,r,l,u,f,C){super(),this.itemsService=t,this.hover=i,this.actions=s,this.navigation=r,this.localization=l,this.ngZone=u,this.renderer=f,this.contextService=C,(0,Vt.$j)(N1),this.actions.owner=this,C&&(C.items=this.itemsService,this.contextKeyDownSubscription=C.keydown.subscribe(this.contextKeyDown.bind(this)))}toggle(t,...i){for(let s=0;s<i.length;s++){const r=this.itemsService.get(i[s]);r&&!r.disabled&&(t?r.open():r.close())}}focus(t){this.navigation.focusIndex(t)}ngOnChanges(t){if(this.navigation.vertical=this.vertical,this.hover.delay=this.hoverDelay,t.openOnClick){const i=this.openOnClick=(n=>n&&Object.assign({toggle:"select"},n))(this.openOnClick);this.hover.openOnOver=!i,i&&"click"===i.toggle?this.attachCloseClick():this.unsubscribeClick()}}ngAfterViewChecked(){this.navigation.updateActive()}ngOnDestroy(){this.unsubscribeClick(),this.contextService&&(this.contextService.items=null,this.contextKeyDownSubscription.unsubscribe())}attachCloseClick(){!this.closeClickSubscription&&(0,E.nm)()&&this.ngZone.runOutsideAngular(()=>{this.closeClickSubscription=this.renderer.listen("document","click",t=>{Cu(t.target,this.itemsService)||(this.hover.openOnOver=!1,this.actions.closeAll(),this.actions.execute())})})}unsubscribeClick(){this.closeClickSubscription&&this.closeClickSubscription()}contextKeyDown(t){if(!this.itemsService.hasItems)return;const i=(0,E.tq)(t),s=this.localization.rtl,r=i===E.D$.ArrowDown||i===E.D$.ArrowRight,l=i===E.D$.ArrowUp||i===E.D$.ArrowLeft;let u;r&&!s||l&&s?u="first":(r&&s||l&&!s)&&(u="last"),u&&(t.preventDefault(),this.focus(u))}static \u0275fac=function(i){return new(i||n)(e.rXU(ua),e.rXU(Vp),e.rXU(nd),e.rXU(vu),e.rXU(ve.Pi),e.rXU(e.SKi),e.rXU(e.sFG),e.rXU(od,8))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-menu"]],hostVars:2,hostBindings:function(i,s){2&i&&e.AVh("k-rtl",s.direction)},inputs:{appendTo:"appendTo",menuItemTemplate:"menuItemTemplate",ariaRole:"ariaRole",menuItemLinkTemplate:"menuItemLinkTemplate"},outputs:{select:"select",open:"open",close:"close"},exportAs:["kendoMenu"],standalone:!0,features:[e.Jv_([ua,nd,vu,Vp,ve.Pi,{provide:ve.$R,useValue:"kendo.menu"},{provide:Cl,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.OA$,e.aNF],decls:1,vars:13,consts:[["kendoMenuList","",3,"items","level","appendTo","size","vertical","rtl","animate","openOnClick","itemTemplate","itemLinkTemplate","ngClass"]],template:function(i,s){1&i&&e.nrm(0,"ul",0),2&i&&(e.Y8G("items",s.rootItems)("level",0)("appendTo",s.appendTo)("size",s.size)("vertical",s.vertical)("rtl",s.rtl)("animate",s.animate)("openOnClick",s.openOnClick)("itemTemplate",(null==s.itemTemplate.first?null:s.itemTemplate.first.templateRef)||s.menuItemTemplate)("itemLinkTemplate",(null==s.itemLinkTemplate.first?null:s.itemLinkTemplate.first.templateRef)||s.menuItemLinkTemplate)("ngClass",s.menuClasses),e.BMQ("role",s.ariaRole)("aria-orientation",s.ariaOrientation))},dependencies:[q_,w.YU],encapsulation:2})}return n})(),tx=(()=>{class n{itemsService;index;hostClasses=!0;role="presentation";tabindex="-1";get activeClass(){return this.item.opened}item;constructor(t){this.itemsService=t}ngOnInit(){if((0,e.naY)()&&!this.index)throw new Error("The kendoMenuItemLink directive requires the item index to be set.");this.item=this.itemsService.get(this.index)||{}}static \u0275fac=function(i){return new(i||n)(e.rXU(ua))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoMenuItemLink",""]],hostVars:8,hostBindings:function(i,s){2&i&&(e.BMQ("role",s.role)("tabindex",s.tabindex),e.AVh("k-link",s.hostClasses)("k-menu-link",s.hostClasses)("k-active",s.activeClass))},inputs:{index:[e.Mj6.None,"kendoMenuItemLink","index"]},standalone:!0})}return n})(),ix=(()=>{class n{itemsService;index;hostClasses=!0;ariaHidden="true";item;fontIcon;SVGIcon;constructor(t){this.itemsService=t}ngOnInit(){if((0,e.naY)()&&!this.index)throw new Error("The kendoMenuExpandArrow component requires the item index to be set.");this.item=this.itemsService.get(this.index)||{},this.fontIcon=$_(this.item.horizontal,this.item.rtl),this.SVGIcon=j_(this.item.horizontal,this.item.rtl)}static \u0275fac=function(i){return new(i||n)(e.rXU(ua))};static \u0275cmp=e.VBU({type:n,selectors:[["","kendoMenuExpandArrow",""]],hostVars:3,hostBindings:function(i,s){2&i&&(e.BMQ("aria-hidden",s.ariaHidden),e.AVh("k-menu-expand-arrow",s.hostClasses))},inputs:{index:[e.Mj6.None,"kendoMenuExpandArrow","index"]},standalone:!0,features:[e.aNF],attrs:O1,decls:1,vars:2,consts:[[3,"name","svgIcon"]],template:function(i,s){1&i&&e.nrm(0,"kendo-icon-wrapper",0),2&i&&e.Y8G("name",s.fontIcon)("svgIcon",s.SVGIcon)},dependencies:[ct.QK],encapsulation:2})}return n})();class nx{prevented=!1;preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}constructor(o){Object.assign(this,o)}}const Q_=["textField","urlField","iconField","svgIconField","disabledField","cssClassField","cssStyleField","separatorField"];let Z_=(()=>{class n{menu;data;fields;constructor(t){this.menu=t}ngOnChanges(){this.rebind()}rebind(){const t=this.fields=[];for(let i=0;i<Q_.length;i++){const s=Q_[i],r=this[s];r&&t.push({target:s.replace("Field",""),source:r})}this.menu.items=this.data?this.mapItems(this.data):[]}static \u0275fac=function(i){return new(i||n)(e.rXU(Cl))};static \u0275dir=e.FsC({type:n,selectors:[["kendoBindingBase"]],features:[e.OA$]})}return n})();const sx=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,rd={undefined:n=>n},Su=n=>{if(rd[n])return rd[n];const o=[];return n.replace(sx,(t,i,s,r)=>{o.push(void 0!==i?i:s||r)}),rd[n]=t=>{let i=t;for(let s=0;s<o.length&&i;s++)i=i[o[s]];return i},rd[n]},ev=(n,o)=>Array.isArray(n)?n[o]||(n=>n[n.length-1])(n):n;let rx=(()=>{class n extends Z_{data;textField;urlField;iconField;svgIconField;disabledField;cssClassField;cssStyleField;separatorField;childrenField;constructor(t){super(t)}mapItems(t,i=0){return t.map(s=>{const r=this.createItem(s,i),l=this.getChildren(s,i);return l&&(r.items=this.mapItems(l,i+1)),r})}createItem(t,i){const s={data:t},r=this.fields;for(let l=0;l<r.length;l++){const{target:u,source:f}=r[l];s[u]=Su(ev(f,i))(t)}return s}getChildren(t,i){if(this.childrenField)return t[ev(this.childrenField,i)]}static \u0275fac=function(i){return new(i||n)(e.rXU(Cl))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoMenuHierarchyBinding",""]],inputs:{data:[e.Mj6.None,"kendoMenuHierarchyBinding","data"],textField:"textField",urlField:"urlField",iconField:"iconField",svgIconField:"svgIconField",disabledField:"disabledField",cssClassField:"cssClassField",cssStyleField:"cssStyleField",separatorField:"separatorField",childrenField:"childrenField"},exportAs:["kendoMenuHierarchyBinding"],standalone:!0,features:[e.Vt3]})}return n})(),ax=(()=>{class n extends Z_{data;textField;urlField;iconField;svgIconField;disabledField;cssClassField;cssStyleField;separatorField;idField;parentIdField;constructor(t){super(t)}mapItems(t){if(!this.idField||!this.parentIdField)return t.map(r=>this.createItem(r));const i=[],s={};for(let r=0;r<t.length;r++){const l=t[r],u=this.createItem(l),f=Su(this.idField)(l),C=Su(this.parentIdField)(l);if(null==C)i.push(u);else{const T=s[C]=s[C]||{};T.items=T.items||[],T.items.push(u)}s[f]&&(u.items=s[f].items),s[f]=u}return i}createItem(t){const i={data:t},s=this.fields;for(let r=0;r<s.length;r++){const{source:l,target:u}=s[r];i[u]=Su(l)(t)}return i}static \u0275fac=function(i){return new(i||n)(e.rXU(Cl))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoMenuFlatBinding",""]],inputs:{data:[e.Mj6.None,"kendoMenuFlatBinding","data"],textField:"textField",urlField:"urlField",iconField:"iconField",svgIconField:"svgIconField",disabledField:"disabledField",cssClassField:"cssClassField",cssStyleField:"cssStyleField",separatorField:"separatorField",idField:"idField",parentIdField:"parentIdField"},exportAs:["kendoMenuFlatBinding"],standalone:!0,features:[e.Vt3]})}return n})();class lx extends nx{target;originalEvent;sender;constructor(o){super(),Object.assign(this,o)}}let cx=(()=>{class n{contextService;constructor(t){this.contextService=t}get(t){if(this.contextService.items)return this.contextService.items.get(t)}static \u0275fac=function(i){return new(i||n)(e.KVO(od))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),tv=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoContextMenuTemplate",""]],standalone:!0})}return n})(),Xp=(()=>{class n{targets=[];add(t){this.targets.push(t)}remove(t){const i=this.targets.indexOf(t);this.targets.splice(i,1)}find(t){return this.targets.find(i=>i.element===t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),iv=(()=>{class n{targetService;element;constructor(t,i){this.targetService=i,t&&(this.element=t.nativeElement)}static \u0275fac=function(i){return new(i||n)(e.rXU(e.aKT),e.rXU(Xp))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoContextMenuTargetContainer",""]],exportAs:["kendoContextMenuTargetContainer"],standalone:!0,features:[e.Jv_([Xp])]})}return n})(),ux=(()=>{class n{targetService;data;element;hostClass=!0;constructor(t,i){this.targetService=i,t&&(this.element=t.nativeElement),i.add(this)}ngOnDestroy(){this.targetService.remove(this)}static \u0275fac=function(i){return new(i||n)(e.rXU(e.aKT),e.rXU(Xp))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoContextMenuTarget",""]],hostVars:2,hostBindings:function(i,s){2&i&&e.AVh("k-contextmenu-target",s.hostClass)},inputs:{data:[e.Mj6.None,"kendoContextMenuTarget","data"]},exportAs:["kendoContextMenuTarget"],standalone:!0})}return n})();const bu="contextmenu",hx={horizontal:"left",vertical:"bottom"},px={horizontal:"left",vertical:"top"},mx={horizontal:"fit",vertical:"flip"},gx=n=>n.preventDefault();let nv=(()=>{class n extends Cl{popupService;service;ngZone;renderer;showOn=bu;target;filter;alignToAnchor=!1;vertical=!0;popupAnimate;popupAlign;anchorAlign;collision;appendTo;ariaLabel;popupOpen=new e.bkB;popupClose=new e.bkB;select=new e.bkB;open=new e.bkB;close=new e.bkB;contentTemplate;defaultContentTemplate;closeSubscription;showSubscription;keydownSubscription;popupSubscriptions;popupRef;currentTarget;directiveTarget;activeTarget;constructor(t,i,s,r){super(),this.popupService=t,this.service=i,this.ngZone=s,this.renderer=r,this.service.owner=this,this.popupKeyDownHandler=this.popupKeyDownHandler.bind(this)}hide(){this.removePopup()}show(t){if(!t)return;const i=t;this.removePopup(),Hp(i.left)&&Hp(i.top)?this.createPopup({offset:i}):(this.currentTarget=i.nativeElement||i,this.createPopup({anchor:this.currentTarget}))}ngOnChanges(t){(t.target||t.showOn)&&this.bindShowHandler()}ngOnInit(){this.ngZone.runOutsideAngular(()=>{const t=this.renderer.listen("document","mousedown",s=>{this.popupRef&&!zp(s.target,r=>r===this.popupRef.popupElement)&&this.service.leaveMenu(s)&&this.closePopup(s)}),i=this.renderer.listen("window","blur",s=>{this.popupRef&&this.closePopup(s)});this.closeSubscription=()=>{t(),i()}})}ngOnDestroy(){this.closeSubscription&&(this.closeSubscription(),this.closeSubscription=null),this.unbindShowHandler(),this.removePopup()}emitMenuEvent(t,i){i.target=this.currentTarget,i.sender=this,this[t].emit(i),"select"===t&&!i.hasContent&&this.closeAndFocus(i.originalEvent)}bindShowHandler(){this.unbindShowHandler(),this.ngZone.runOutsideAngular(()=>{const t=this.targetElement();if(!t)return;const i=this.showOn||bu;this.showSubscription=this.renderer.listen(t,this.showOn||bu,s=>{this.showContextMenu(s,t)}),i===bu&&(this.keydownSubscription=this.renderer.listen(t,"keydown",s=>{s.shiftKey&&s.code===E.D$.F10&&this.showContextMenu(s,t)}))})}showContextMenu(t,i){const s=this.targetFilter();let r=i;if(s){if(r=((n,o,t)=>{const i=t.getAttribute("id");i||t.setAttribute("id",P_);const s=`#${i||P_} ${o}`,r=F_(n,l=>((n,o)=>(n.matches||n.msMatchesSelector).call(n,o))(l,s),t);return i||t.removeAttribute("id"),r})(t.target,s,i),r&&r!==t.target&&B_(t.target))return;r&&this.directiveTarget&&(r=this.target.targetService.find(r))}r?this.ngZone.run(()=>{this.closePopup(t)||(this.currentTarget=r,this.openPopup(t))}):this.closePopup(t)}unbindShowHandler(){this.showSubscription&&(this.showSubscription(),this.showSubscription=null),this.keydownSubscription&&(this.keydownSubscription(),this.keydownSubscription=null)}targetElement(){if(!(0,E.nm)())return;this.directiveTarget=!1;let t=this.target;return"string"==typeof t?t=document.querySelector(t):t&&t.nativeElement?t=t.nativeElement:t instanceof iv&&(t=t.element,this.directiveTarget=!0),t}targetFilter(){return this.directiveTarget?".k-contextmenu-target":this.filter}closePopup(t){if(this.popupRef)return this.popupAction("popupClose",t,()=>{this.removePopup()})}removePopup(){this.popupRef&&(this.popupRef.close(),this.popupRef=null,this.currentTarget=null),this.popupSubscriptions&&(this.popupSubscriptions(),this.popupSubscriptions=null)}openPopup(t){this.popupAction("popupOpen",t,()=>{let i,s;t.preventDefault(),this.alignToAnchor||"keydown"===t.type?i=this.currentTargetElement:s={left:t.pageX,top:t.pageY},this.createPopup({anchor:i,offset:s})})}createPopup(t){this.popupRef=this.popupService.open(Object.assign({animate:!Hp(this.popupAnimate)||this.popupAnimate,appendTo:this.appendTo,collision:this.collision||mx,popupAlign:this.popupAlign||px,anchorAlign:this.anchorAlign||hx,content:this.contentTemplate?this.contentTemplate.templateRef:this.defaultContentTemplate,popupClass:"k-menu-popup",positionMode:"absolute"},t));const i=this.popupRef.popupElement;this.renderer.addClass(i,"k-context-menu-popup"),this.renderer.setAttribute(i,"tabindex","-1"),this.renderer.setStyle(i,"outline","0"),this.ariaLabel&&this.renderer.setAttribute(i,"aria-label",this.ariaLabel),this.activeTarget=this.currentTargetElement===document.activeElement,this.ngZone.runOutsideAngular(()=>{const s=this.renderer.listen(i,"keydown",this.popupKeyDownHandler),r=this.renderer.listen(i,"contextmenu",gx);this.popupSubscriptions=()=>{s(),r()}}),i.focus()}closeAndFocus(t){const i=this.currentTargetElement;!this.closePopup(t)&&this.activeTarget&&i.focus()}popupKeyDownHandler(t){const i=this.popupRef.popupElement;t.code!==E.D$.Escape||!sd(t.target,"k-menu-item")&&t.target!==i?t.target===i&&this.service.keydown.emit(t):this.closeAndFocus(t)}popupAction(t,i,s){const r=this[t];let l=!1;return(0,E.SF)(r)?this.ngZone.run(()=>{const u=new lx({originalEvent:i,sender:this,target:this.currentTarget});r.emit(u),u.isDefaultPrevented()||s(),l=u.isDefaultPrevented()}):s(),l}get currentTargetElement(){return this.directiveTarget&&this.currentTarget?this.currentTarget.element:this.currentTarget}static \u0275fac=function(i){return new(i||n)(e.rXU(pe.OQ),e.rXU(od),e.rXU(e.SKi),e.rXU(e.sFG))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-contextmenu"]],contentQueries:function(i,s,r){if(1&i&&e.wni(r,tv,5),2&i){let l;e.mGM(l=e.lsd())&&(s.contentTemplate=l.first)}},viewQuery:function(i,s){if(1&i&&e.GBs(M1,5),2&i){let r;e.mGM(r=e.lsd())&&(s.defaultContentTemplate=r.first)}},inputs:{showOn:"showOn",target:"target",filter:"filter",alignToAnchor:"alignToAnchor",vertical:"vertical",popupAnimate:"popupAnimate",popupAlign:"popupAlign",anchorAlign:"anchorAlign",collision:"collision",appendTo:"appendTo",ariaLabel:"ariaLabel"},outputs:{popupOpen:"popupOpen",popupClose:"popupClose",select:"select",open:"open",close:"close"},exportAs:["kendoContextMenu"],standalone:!0,features:[e.Jv_([od,ve.Pi,{provide:ve.$R,useValue:"kendo.contextmenu"},{provide:ua,useClass:cx},{provide:Cl,useExisting:(0,e.Rfq)(()=>n)},pe.OQ,{provide:pe.Fy,useFactory:z_}]),e.Vt3,e.OA$,e.aNF],decls:2,vars:0,consts:[["default",""],["ariaRole","menu",3,"items","appendTo","size","vertical","openOnClick","hoverDelay","animate","menuItemTemplate","menuItemLinkTemplate"]],template:function(i,s){1&i&&e.DNE(0,y1,1,9,"ng-template",null,0,e.C5r)},dependencies:[J_],encapsulation:2})}return n})();const Eu=n=>({$implicit:n});const t0=["content"],n0=["fabButton"];function s0(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",11),e.bIt("click",function(){const s=e.eBV(t).index,r=e.XpG();return e.Njj(r.viewChange(s))}),e.EFF(1),e.k0s()}if(2&n){const t=o.$implicit,i=o.index,s=e.XpG();e.Y8G("svgIcon",t.svgIcon)("icon",t.icon)("selected",i===s.activeView),e.R7$(),e.SpI(" ",t.buttonText," ")}}function o0(n,o){}function r0(n,o){if(1&n&&e.DNE(0,o0,0,0,"ng-template",12),2&n){const t=e.XpG();e.Y8G("ngTemplateOutlet",null==t.toolbarActionsTemplate?null:t.toolbarActionsTemplate.templateRef)}}function a0(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-floatingactionbutton",13,0),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.promptRequestCancel.emit())}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("positionMode",t.fabPositionMode)("align",t.fabAlignment)("svgIcon",t.fabStopGenerationSVGIcon)}}function l0(n,o){1&n&&e.eu8(0)}function c0(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",14)(1,"div",15)(2,"button",16),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.handleGenerateOutput())}),e.EFF(3),e.k0s()()()}if(2&n){const t=e.XpG();e.R7$(2),e.Y8G("svgIcon",t.generateButtonSVGIcon)("icon",t.generateButtonIcon)("disabled",t.disabledGenerateButton),e.BMQ("title",t.messageFor("generateOutput"))("aria-label",t.messageFor("generateOutput"))("aria-disabled",t.disabledGenerateButton),e.R7$(),e.JRh(t.messageFor("generateOutput"))}}const u0=["kendoAIPromptOutputCard",""];function h0(n,o){1&n&&e.eu8(0)}function p0(n,o){if(1&n&&(e.qex(0),e.DNE(1,h0,1,0,"ng-container",10),e.bVm()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",t.customBodyTemplate)("ngTemplateOutletContext",e.eq3(2,Eu,t.promptOutput))}}function m0(n,o){if(1&n&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.JRh(t.promptOutput.output)}}function g0(n,o){if(1&n){const t=e.RV6();e.qex(0),e.nrm(1,"span",11),e.j41(2,"button",12),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.handleRating("positive"))}),e.k0s(),e.j41(3,"button",13),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.handleRating("negative"))}),e.k0s(),e.bVm()}if(2&n){const t=e.XpG();e.R7$(2),e.Y8G("svgIcon",t.positiveRatingIcon),e.R7$(),e.Y8G("svgIcon",t.negativeRatingIcon)}}function f0(n,o){1&n&&e.eu8(0)}function _0(n,o){if(1&n&&(e.qex(0),e.DNE(1,f0,1,0,"ng-container",5),e.bVm()),2&n){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(),e.Y8G("ngTemplateOutlet",i.customTemplate)("ngTemplateOutletContext",e.eq3(2,Eu,t))}}function v0(n,o){if(1&n&&e.nrm(0,"div",6),2&n){const t=e.XpG().$implicit;e.Y8G("promptOutput",t)}}function C0(n,o){if(1&n&&(e.qex(0),e.DNE(1,_0,2,4,"ng-container",4)(2,v0,1,1,"ng-template",null,1,e.C5r),e.bVm()),2&n){const t=e.sdS(3),i=e.XpG(2);e.R7$(),e.Y8G("ngIf",i.customTemplate)("ngIfElse",t)}}function S0(n,o){if(1&n&&(e.j41(0,"div",2),e.DNE(1,C0,4,2,"ng-container",3),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.promptOutputs)}}function b0(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-textarea-suffix")(1,"button",4),e.bIt("error",function(s){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onSpeechToTextError(s))})("result",function(s){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onSpeechToTextResult(s))}),e.k0s()()}if(2&n){let t,i;const s=e.XpG(2);e.R7$(),e.Y8G("continuous",null==s.speechToTextButtonSettings?null:s.speechToTextButtonSettings.continuous)("disabled",null==s.speechToTextButtonSettings?null:s.speechToTextButtonSettings.disabled)("fillMode",null!==(t=null==s.speechToTextButtonSettings?null:s.speechToTextButtonSettings.fillMode)&&void 0!==t?t:"flat")("integrationMode",null!==(i=null==s.speechToTextButtonSettings?null:s.speechToTextButtonSettings.integrationMode)&&void 0!==i?i:"webSpeech")("interimResults",null==s.speechToTextButtonSettings?null:s.speechToTextButtonSettings.interimResults)("lang",null==s.speechToTextButtonSettings?null:s.speechToTextButtonSettings.lang)("maxAlternatives",null==s.speechToTextButtonSettings?null:s.speechToTextButtonSettings.maxAlternatives)("rounded",null==s.speechToTextButtonSettings?null:s.speechToTextButtonSettings.rounded)("size",null==s.speechToTextButtonSettings?null:s.speechToTextButtonSettings.size)("themeColor",null==s.speechToTextButtonSettings?null:s.speechToTextButtonSettings.themeColor),e.BMQ("aria-label",s.messageFor("speechToTextButton"))("title",s.messageFor("speechToTextButton"))("aria-disabled",null==s.speechToTextButtonSettings?null:s.speechToTextButtonSettings.disabled)}}function E0(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",11),e.bIt("click",function(){const s=e.eBV(t).$implicit,r=e.XpG(4);return e.Njj(r.suggestionClick(s))})("keydown",function(s){const r=e.eBV(t).$implicit,l=e.XpG(4);return e.Njj(l.suggestionKeydown(s,r))}),e.EFF(1),e.k0s()}if(2&n){const t=o.$implicit;e.BMQ("tabindex",0)("aria-label",t)("title",t),e.R7$(),e.SpI(" ",t," ")}}function k0(n,o){if(1&n&&(e.j41(0,"div",8)(1,"div",9),e.DNE(2,E0,2,4,"div",10),e.k0s()()),2&n){const t=e.XpG(3);e.BMQ("id",t.contentId),e.R7$(2),e.Y8G("ngForOf",t.promptSuggestions)}}function R0(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",5)(1,"button",6),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.showSuggestions=!s.showSuggestions)}),e.EFF(2),e.k0s(),e.DNE(3,k0,3,2,"div",7),e.k0s()}if(2&n){const t=e.XpG(2);e.R7$(),e.Y8G("icon",t.suggestionsIcons.font)("svgIcon",t.suggestionsIcons.svg),e.BMQ("aria-controls",t.contentId)("aria-expanded",t.showSuggestions),e.R7$(),e.SpI(" ",t.messageFor("promptSuggestions")," "),e.R7$(),e.Y8G("ngIf",t.showSuggestions)}}function w0(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-textarea",1),e.mxI("valueChange",function(s){e.eBV(t);const r=e.XpG();return e.DH7(r.textAreaValue,s)||(r.textAreaValue=s),e.Njj(s)}),e.DNE(1,b0,2,13,"kendo-textarea-suffix",2),e.k0s(),e.DNE(2,R0,4,6,"div",3)}if(2&n){let t,i,s,r,l;const u=e.XpG();e.Y8G("cols",null==u.textareaSettings?null:u.textareaSettings.cols)("disabled",null==u.textareaSettings?null:u.textareaSettings.disabled)("fillMode",null==u.textareaSettings?null:u.textareaSettings.fillMode)("flow",null!==(t=null==u.textareaSettings?null:u.textareaSettings.flow)&&void 0!==t?t:"vertical")("inputAttributes",null==u.textareaSettings?null:u.textareaSettings.inputAttributes)("maxlength",null==u.textareaSettings?null:u.textareaSettings.maxlength)("placeholder",null!==(i=null==u.textareaSettings?null:u.textareaSettings.placeholder)&&void 0!==i?i:u.messageFor("promptPlaceholder"))("readonly",null==u.textareaSettings?null:u.textareaSettings.readonly)("resizable",null!==(s=null==u.textareaSettings?null:u.textareaSettings.resizable)&&void 0!==s?s:"vertical")("rounded",null==u.textareaSettings?null:u.textareaSettings.rounded)("rows",null!==(r=null==u.textareaSettings?null:u.textareaSettings.rows)&&void 0!==r?r:1)("selectOnFocus",null==u.textareaSettings?null:u.textareaSettings.selectOnFocus)("showSuffixSeparator",null===(l=null==u.textareaSettings?null:u.textareaSettings.showSuffixSeparator)||void 0===l||l)("size",null==u.textareaSettings?null:u.textareaSettings.size)("tabIndex",null==u.textareaSettings?null:u.textareaSettings.tabindex)("title",null==u.textareaSettings?null:u.textareaSettings.title),e.R50("value",u.textAreaValue),e.R7$(),e.Y8G("ngIf",u.speechToTextButtonSettings),e.R7$(),e.Y8G("ngIf",u.promptSuggestions)}}const ku={name:"@progress/kendo-angular-conversational-ui",productName:"Kendo UI for Angular",productCode:"KENDOUIANGULAR",productCodes:["KENDOUIANGULAR"],publishDate:1755030560,version:"19.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};let Ru=class dh extends ve.EX{messagePlaceholder;send;messageListLabel;messageBoxInputLabel;messageAttachmentLeftArrow;messageAttachmentRightArrow;messageAvatarAlt;static \u0275fac=(()=>{let o;return function(i){return(o||(o=e.xGo(dh)))(i||dh)}})();static \u0275dir=e.FsC({type:dh,selectors:[["kendoConversationalUIMessages"]],inputs:{messagePlaceholder:"messagePlaceholder",send:"send",messageListLabel:"messageListLabel",messageBoxInputLabel:"messageBoxInputLabel",messageAttachmentLeftArrow:"messageAttachmentLeftArrow",messageAttachmentRightArrow:"messageAttachmentRightArrow",messageAvatarAlt:"messageAvatarAlt"},features:[e.Vt3]})};e.Jv_([{provide:Ru,useExisting:(0,e.Rfq)(()=>uh)}]);const oO=new e.nKC("COMMAND_TOKEN"),mv={prompt:ne.XsT,output:ne.LsV,command:ne.hkS},gv={prompt:"sparkles",output:"comment",command:"more-horizontal"};let Pa=(()=>{class n{viewType;localization;hostClasses=!0;template;constructor(t,i){this.viewType=t,this.localization=i,"custom"!==this.viewType&&(this.icon=gv[this.viewType],this.svgIcon=mv[this.viewType])}set buttonText(t){this._buttonText=t}get buttonText(){return(0,E.Wo)(this._buttonText)?this._buttonText:this.messageFor(`${this.viewType}View`)}set icon(t){(0,E.Wo)(t)?this._icon=t:this.icon=gv[this.viewType]}get icon(){return this._icon}set svgIcon(t){(0,E.Wo)(t)?this._svgIcon=t:this.svgIcon=mv[this.viewType]}get svgIcon(){return this._svgIcon}messageFor(t){return this.localization.get(t)}_buttonText;_icon;_svgIcon;static \u0275fac=function(i){return new(i||n)(e.rXU(oO),e.rXU(ve.Pi))};static \u0275dir=e.FsC({type:n,viewQuery:function(i,s){if(1&i&&e.GBs(t0,7),2&i){let r;e.mGM(r=e.lsd())&&(s.template=r.first)}},hostVars:2,hostBindings:function(i,s){2&i&&e.AVh("k-prompt-view",s.hostClasses)},inputs:{buttonText:"buttonText",icon:"icon",svgIcon:"svgIcon"}})}return n})();const rO={continuous:!1,disabled:!1,fillMode:"flat",integrationMode:"webSpeech",interimResults:!1,lang:"en-US",maxAlternatives:1,rounded:"medium",size:"medium",themeColor:"base"};let dc=(()=>{class n{aiPrompt;promptValue="";showOutputRating=!1;requestEvent=new me.B;executeEvent=new me.B;outputCopyEvent=new me.B;outputRatingChangeEvent=new me.B;promptCommands;promptOutputs;promptSuggestions;textAreaSettings;outputTemplate;outputBodyTemplate;_speechToTextButton;get speechToTextButton(){return this._speechToTextButton}set speechToTextButton(t){this._speechToTextButton=!0===t?rO:!1===t?null:{...t}}getFlattenPromptCommands(t=this.promptCommands){let i=[];return t.forEach(s=>{if(s.hasOwnProperty("children")){const r=s.children;i=i.concat(r),r.length>0&&this.getFlattenPromptCommands(r)}}),i.concat(this.promptCommands)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),fv=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoAIPromptToolbarActionsTemplate",""]],standalone:!0})}return n})(),qp=(()=>{class n{localizationService;focusableElements=[];currentFocusedIndex=0;constructor(t){this.localizationService=t}register(t){this.focusableElements.some(i=>i===t)||this.focusableElements.push(t)}unregister(t){this.currentFocusedIndex=0,this.focusableElements=this.focusableElements.filter(i=>i!==t)}isActive(t){return this.focusableElements[this.currentFocusedIndex]===t}setActiveIndex(t){this.currentFocusedIndex=Math.max(this.focusableElements.indexOf(t),0)}move(t){let i="right"===t?1:-1;this.localizationService.rtl&&(i=-i),this.currentFocusedIndex+=i,this.currentFocusedIndex<0?this.currentFocusedIndex=this.focusableElements.length-1:this.currentFocusedIndex>=this.focusableElements.length&&(this.currentFocusedIndex=0),this.focusableElements[this.currentFocusedIndex].activate()}focusFirst(){this.focusableElements[this.currentFocusedIndex].activate()}static \u0275fac=function(i){return new(i||n)(e.KVO(ve.Pi))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),_v=(()=>{class n{host;navigationService;renderer;constructor(t,i,s){this.host=t,this.navigationService=i,this.renderer=s,i.register(this)}get element(){return this.host.nativeElement}ngAfterViewInit(){this.renderer.setAttribute(this.element,"tabindex",this.navigationService.isActive(this)?"0":"-1"),this.element.addEventListener("keydown",this.keyDownHandler,{capture:!0}),this.element.addEventListener("click",this.clickHandler,{capture:!0})}ngOnDestroy(){this.navigationService.unregister(this),this.element.removeEventListener("keydown",this.keyDownHandler,{capture:!0}),this.element.removeEventListener("click",this.clickHandler,{capture:!0})}activate(){this.renderer.setAttribute(this.element,"tabindex","0"),this.element.focus()}keyDownHandler=t=>{const i=(0,E.tq)(t),r=i===E.D$.ArrowLeft,l=i===E.D$.ArrowRight;t.target!==this.element||!r&&!l||(this.renderer.setAttribute(this.element,"tabindex","-1"),this.element.querySelectorAll(E.Uo).forEach(f=>{this.renderer.setAttribute(f,"tabindex","-1")}),l?this.navigationService.move("right"):r&&this.navigationService.move("left"))};clickHandler=()=>{this.navigationService.setActiveIndex(this)};static \u0275fac=function(i){return new(i||n)(e.rXU(e.aKT),e.rXU(qp),e.rXU(e.sFG))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoAIPromptToolbarFocusable",""]],standalone:!0})}return n})(),wu=class hh extends ve.EX{promptView;outputView;generateOutput;promptPlaceholder;copyOutput;retryGeneration;outputTitle;outputRetryTitle;promptSuggestions;speechToTextButton;static \u0275fac=(()=>{let o;return function(i){return(o||(o=e.xGo(hh)))(i||hh)}})();static \u0275dir=e.FsC({type:hh,inputs:{promptView:"promptView",outputView:"outputView",generateOutput:"generateOutput",promptPlaceholder:"promptPlaceholder",copyOutput:"copyOutput",retryGeneration:"retryGeneration",outputTitle:"outputTitle",outputRetryTitle:"outputRetryTitle",promptSuggestions:"promptSuggestions",speechToTextButton:"speechToTextButton"},features:[e.Vt3]})},aO=class ph extends wu{service;constructor(o){super(),this.service=o}static \u0275fac=function(t){return new(t||ph)(e.rXU(ve.Pi))};static \u0275dir=e.FsC({type:ph,selectors:[["","kendoAIPromptLocalizedMessages",""]],standalone:!0,features:[e.Jv_([{provide:wu,useExisting:(0,e.Rfq)(()=>ph)}]),e.Vt3]})},Jp=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoAIPromptOutputTemplate",""]],standalone:!0})}return n})(),Qp=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoAIPromptOutputBodyTemplate",""]],standalone:!0})}return n})(),Zp=(()=>{class n{localization;service;navigationService;ngZone;element;renderer;hostClasses=!0;get dirAttr(){return this.direction}constructor(t,i,s,r,l,u){this.localization=t,this.service=i,this.navigationService=s,this.ngZone=r,this.element=l,this.renderer=u,(0,Vt.$j)(ku),this.direction=t.rtl?"rtl":"ltr",this.subs.add(t.changes.subscribe(({rtl:f})=>{this.direction=f?"rtl":"ltr"}))}fabButton;views;toolbarActionsTemplate;outputTemplate;outputBodyTemplate;set activeView(t){this._activeView!==t&&(this._activeView=t,this.service.promptValue&&(this.service.promptValue=""))}get activeView(){return this._activeView}set promptCommands(t){this.service.promptCommands=t}set promptSuggestions(t){this.service.promptSuggestions=t}set promptOutputs(t){this.service.promptOutputs=t}set showOutputRating(t){this.service.showOutputRating=t}streaming=!1;set speechToTextButton(t){this.service.speechToTextButton=t||!1}set textAreaSettings(t){this.service.textAreaSettings=t}generateButtonSVGIcon=ne.XsT;generateButtonIcon="sparkles";disabledGenerateButton=!1;activeViewChange=new e.bkB;promptRequest=new e.bkB;commandExecute=new e.bkB;outputCopy=new e.bkB;outputRatingChange=new e.bkB;promptRequestCancel=new e.bkB;ngOnInit(){this.subs.add(this.renderer.listen(this.element.nativeElement,"keydown",i=>{"Escape"===i.key&&this.promptRequestCancel.emit()}))}ngOnChanges(t){t.streaming&&!0===t.streaming.currentValue&&this.ngZone.onStable.pipe((0,st.s)(1)).subscribe(()=>{this.fabButton?.focus()})}ngAfterContentChecked(){this.outputTemplate!==this.service.outputTemplate&&(this.service.outputTemplate=this.outputTemplate),this.outputBodyTemplate!==this.service.outputBodyTemplate&&(this.service.outputBodyTemplate=this.outputBodyTemplate)}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{this.service.aiPrompt=this,this.subs.add(this.service.requestEvent.subscribe(t=>this.promptRequest.emit(t))),this.subs.add(this.service.executeEvent.subscribe(t=>this.commandExecute.emit(t))),this.subs.add(this.service.outputCopyEvent.subscribe(t=>this.outputCopy.emit(t))),this.subs.add(this.service.outputRatingChangeEvent.subscribe(t=>this.outputRatingChange.emit(t)))})}ngOnDestroy(){this.subs.unsubscribe()}focus(){this.navigationService.focusFirst()}subs=new He.yU;get selectedView(){return this.viewsArray[this.activeView]}sparklesIcon=ne.XsT;outputIcon=ne.LsV;fabStopGenerationSVGIcon=ne.gBg;get viewsArray(){return this.views?.toArray()}fabPositionMode="absolute";fabAlignment={vertical:"bottom",horizontal:"end"};direction;_activeView=0;viewChange(t){t!==this.activeView&&(this.activeView=t,this.activeViewChange.emit(t))}messageFor(t){return this.localization.get(t)}get viewTemplate(){return"custom"===this.selectedView?.viewType?this.selectedView?.viewTemplate:this.selectedView?.template}handleGenerateOutput(){this.promptRequest.emit({prompt:this.service.promptValue,sender:this,isRetry:!1})}static \u0275fac=function(i){return new(i||n)(e.rXU(ve.Pi),e.rXU(dc),e.rXU(qp),e.rXU(e.SKi),e.rXU(e.aKT),e.rXU(e.sFG))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-aiprompt"]],contentQueries:function(i,s,r){if(1&i&&(e.wni(r,fv,5),e.wni(r,Jp,5),e.wni(r,Qp,5),e.wni(r,Pa,4)),2&i){let l;e.mGM(l=e.lsd())&&(s.toolbarActionsTemplate=l.first),e.mGM(l=e.lsd())&&(s.outputTemplate=l.first),e.mGM(l=e.lsd())&&(s.outputBodyTemplate=l.first),e.mGM(l=e.lsd())&&(s.views=l)}},viewQuery:function(i,s){if(1&i&&e.GBs(n0,5),2&i){let r;e.mGM(r=e.lsd())&&(s.fabButton=r.first)}},hostVars:3,hostBindings:function(i,s){2&i&&(e.BMQ("dir",s.dirAttr),e.AVh("k-prompt",s.hostClasses))},inputs:{activeView:"activeView",promptCommands:"promptCommands",promptSuggestions:"promptSuggestions",promptOutputs:"promptOutputs",showOutputRating:"showOutputRating",streaming:"streaming",speechToTextButton:"speechToTextButton",textAreaSettings:"textAreaSettings",generateButtonSVGIcon:"generateButtonSVGIcon",generateButtonIcon:"generateButtonIcon",disabledGenerateButton:"disabledGenerateButton"},outputs:{activeViewChange:"activeViewChange",promptRequest:"promptRequest",commandExecute:"commandExecute",outputCopy:"outputCopy",outputRatingChange:"outputRatingChange",promptRequestCancel:"promptRequestCancel"},exportAs:["kendoAIPrompt"],standalone:!0,features:[e.Jv_([ve.Pi,dc,qp,{provide:ve.$R,useValue:"kendo.aiprompt"}]),e.OA$,e.aNF],decls:10,vars:5,consts:()=>{let t,i,s,r,l,u,f,C,T,O;return t=$localize`:kendo.aiprompt.promptView|The Toolbar button text for the Prompt view.:Ask AI`,i=$localize`:kendo.aiprompt.outputView|The Toolbar button text for the Output view.:Output`,s=$localize`:kendo.aiprompt.generateOutput|The text for the Generate button in the Prompt view.:Generate`,r=$localize`:kendo.aiprompt.promptPlaceholder|The placeholder text for the Prompt View text area.:Ask or generate content with AI`,l=$localize`:kendo.aiprompt.copyOutput|The Copy button text in each Output view card.:Copy`,u=$localize`:kendo.aiprompt.retryGeneration|The Retry button text in each Output view card.:Retry`,f=$localize`:kendo.aiprompt.outputTitle|The title of each Output view card.:Generated with AI`,C=$localize`:kendo.aiprompt.outputRetryTitle|The title of each Output view retry card.:Generated with AI`,T=$localize`:kendo.aiprompt.promptSuggestions|The title of the Prompt suggestions button.:Prompt suggestions`,O=$localize`:kendo.aiprompt.speechToTextButton|The aria-label for the Speech to Text button.:Voice input`,[["fabButton",""],["kendoAIPromptLocalizedMessages","","promptView",t,"outputView",i,"generateOutput",s,"promptPlaceholder",r,"copyOutput",l,"retryGeneration",u,"outputTitle",f,"outputRetryTitle",C,"promptSuggestions",T,"speechToTextButton",O],[1,"k-prompt-header"],["role","toolbar",1,"k-toolbar-flat","k-toolbar","k-toolbar-md"],["kendoButton","","kendoAIPromptToolbarFocusable","","type","button","fillMode","flat","rounded","full","themeColor","primary",3,"svgIcon","icon","selected","click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"k-prompt-content"],["class","k-prompt-stop-fab","buttonClass","k-generating k-active","icon","stop",3,"positionMode","align","svgIcon","click",4,"ngIf"],[1,"k-prompt-view"],[4,"ngTemplateOutlet"],["class","k-prompt-footer",4,"ngIf"],["kendoButton","","kendoAIPromptToolbarFocusable","","type","button","fillMode","flat","rounded","full","themeColor","primary",3,"click","svgIcon","icon","selected"],[3,"ngTemplateOutlet"],["buttonClass","k-generating k-active","icon","stop",1,"k-prompt-stop-fab",3,"click","positionMode","align","svgIcon"],[1,"k-prompt-footer"],[1,"k-actions","k-actions-start","k-actions-horizontal","k-prompt-actions"],["kendoButton","","type","button","themeColor","primary","rounded","full",3,"click","svgIcon","icon","disabled"]]},template:function(i,s){1&i&&(e.eu8(0,1),e.j41(1,"div",2)(2,"div",3),e.DNE(3,s0,2,4,"button",4)(4,r0,1,1,null,5),e.k0s()(),e.j41(5,"div",6),e.DNE(6,a0,2,3,"kendo-floatingactionbutton",7),e.j41(7,"div",8),e.DNE(8,l0,1,0,"ng-container",9),e.k0s()(),e.DNE(9,c0,4,7,"div",10)),2&i&&(e.R7$(3),e.Y8G("ngForOf",s.viewsArray),e.R7$(),e.Y8G("ngIf",s.toolbarActionsTemplate),e.R7$(2),e.Y8G("ngIf",s.streaming&&"output"===(null==s.selectedView?null:s.selectedView.viewType)),e.R7$(2),e.Y8G("ngTemplateOutlet",s.viewTemplate),e.R7$(),e.Y8G("ngIf","prompt"===(null==s.selectedView?null:s.selectedView.viewType)))},dependencies:[aO,w.pM,Te.Qp,_v,w.bT,w.T3,Te.OG],encapsulation:2})}return n})(),vv=(()=>{class n extends wu{service;constructor(t){super(),this.service=t}get override(){return!0}static \u0275fac=function(i){return new(i||n)(e.rXU(ve.Pi))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-aiprompt-messages"]],standalone:!0,features:[e.Jv_([{provide:wu,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),dO=(()=>{class n{localization;service;hostClass=!0;listItemRole="listitem";tabIndex=0;get ariaDescribedBy(){return this.titleId}ariaKeyShortcuts="Enter";promptOutput;constructor(t,i){this.localization=t,this.service=i}ngOnInit(){"positive"===this.promptOutput?.rating?(this.positiveRatingIcon=ne.xBY,this.negativeRatingIcon=ne.WL5):"negative"===this.promptOutput?.rating&&(this.negativeRatingIcon=ne.Q4G,this.positiveRatingIcon=ne.deC)}copyIcon=ne.nJH;retryIcon=ne.o6i;positiveRatingIcon=ne.deC;negativeRatingIcon=ne.WL5;titleId=`k-output-card-${(0,E.Os)()}`;messageFor(t){return this.localization.get(t)}get showRating(){return this.service.showOutputRating}get outputTitle(){return(0,E.Wo)(this.promptOutput.title)?this.promptOutput.title:this.messageFor(this.promptOutput.isRetry?"outputRetryTitle":"outputTitle")}handleRetry(){if(this.promptOutput.commandId){const t={command:this.service.getFlattenPromptCommands().find(i=>i.id===this.promptOutput.commandId),sender:this.service.aiPrompt,isRetry:!0};this.service.executeEvent.next(t)}else this.service.requestEvent.next({prompt:this.promptOutput.prompt,sender:this.service.aiPrompt,isRetry:!0})}handleCopy(){navigator.clipboard.writeText(this.promptOutput.output),this.service.outputCopyEvent.next(this.promptOutput)}handleRating(t){this.service.outputRatingChangeEvent.next({promptOutput:this.promptOutput,rating:t}),"positive"===t?(this.positiveRatingIcon=ne.xBY,this.negativeRatingIcon=ne.WL5):(this.negativeRatingIcon=ne.Q4G,this.positiveRatingIcon=ne.deC)}get customBodyTemplate(){return this.service.outputBodyTemplate?.templateRef}static \u0275fac=function(i){return new(i||n)(e.rXU(ve.Pi),e.rXU(dc))};static \u0275cmp=e.VBU({type:n,selectors:[["","kendoAIPromptOutputCard",""]],hostVars:6,hostBindings:function(i,s){2&i&&(e.BMQ("role",s.listItemRole)("tabindex",s.tabIndex)("aria-describedby",s.ariaDescribedBy)("aria-keyshortcuts",s.ariaKeyShortcuts),e.AVh("k-card",s.hostClass))},inputs:{promptOutput:"promptOutput"},standalone:!0,features:[e.aNF],attrs:u0,decls:15,vars:10,consts:[["defaultTemplate",""],[1,"k-card-header"],[1,"k-card-title"],[1,"k-card-subtitle"],[1,"k-card-body"],[4,"ngIf","ngIfElse"],[1,"k-actions","k-actions-start","k-actions-horizontal","k-card-actions"],["kendoButton","","fillMode","flat","themeColor","primary","rounded","full","icon","copy",3,"click","svgIcon"],["kendoButton","","fillMode","flat","rounded","full","icon","arrow-rotate-cw",3,"click","svgIcon"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-spacer"],["kendoButton","","fillMode","flat","icon","thumb-up-outline",3,"click","svgIcon"],["kendoButton","","fillMode","flat","icon","thumb-down-outline",3,"click","svgIcon"]],template:function(i,s){if(1&i){const r=e.RV6();e.j41(0,"div",1)(1,"div",2),e.EFF(2),e.k0s(),e.j41(3,"div",3),e.EFF(4),e.k0s()(),e.j41(5,"div",4),e.DNE(6,p0,2,4,"ng-container",5)(7,m0,2,1,"ng-template",null,0,e.C5r),e.k0s(),e.j41(9,"div",6)(10,"button",7),e.bIt("click",function(){return e.eBV(r),e.Njj(s.handleCopy())}),e.EFF(11),e.k0s(),e.j41(12,"button",8),e.bIt("click",function(){return e.eBV(r),e.Njj(s.handleRetry())}),e.EFF(13),e.k0s(),e.DNE(14,g0,4,2,"ng-container",9),e.k0s()}if(2&i){const r=e.sdS(8);e.R7$(),e.BMQ("id",s.titleId),e.R7$(),e.SpI("",s.outputTitle," "),e.R7$(2),e.JRh(s.promptOutput.prompt),e.R7$(2),e.Y8G("ngIf",s.customBodyTemplate)("ngIfElse",r),e.R7$(4),e.Y8G("svgIcon",s.copyIcon),e.R7$(),e.JRh(s.messageFor("copyOutput")),e.R7$(),e.Y8G("svgIcon",s.retryIcon),e.R7$(),e.JRh(s.messageFor("retryGeneration")),e.R7$(),e.Y8G("ngIf",s.showRating)}},dependencies:[Te.Qp,w.bT,w.T3],encapsulation:2})}return n})(),Cv=(()=>{class n extends Pa{service;constructor(t,i){super("output",t),this.service=i}get promptOutputs(){return this.service.promptOutputs}get customTemplate(){return this.service.outputTemplate?.templateRef}static \u0275fac=function(i){return new(i||n)(e.rXU(ve.Pi),e.rXU(dc))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-aiprompt-output-view"]],standalone:!0,features:[e.Jv_([{provide:Pa,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:2,vars:0,consts:[["content",""],["defaultTemplate",""],["role","list",1,"k-card-list"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["kendoAIPromptOutputCard","",3,"promptOutput"]],template:function(i,s){1&i&&e.DNE(0,S0,2,1,"ng-template",null,0,e.C5r)},dependencies:[w.pM,dO,w.bT,w.T3],encapsulation:2})}return n})(),Sv=(()=>{class n extends Pa{service;constructor(t,i){super("prompt",t),this.service=i}get suggestionsIcons(){return this.showSuggestions?{font:"chevron-up",svg:ne.mAq}:{font:"chevron-down",svg:ne.brG}}showSuggestions=!0;contentId=`k-prompt-suggestions-${(0,E.Os)()}`;get promptSuggestions(){return this.service.promptSuggestions}set textAreaValue(t){this.service.promptValue=t}get textAreaValue(){return this.service.promptValue}suggestionClick(t){this.textAreaValue=this.service.promptValue=t}suggestionKeydown(t,i){("Enter"===t.key||" "===t.key)&&this.suggestionClick(i)}get speechToTextButtonSettings(){return this.service.speechToTextButton}get textareaSettings(){return this.service.textAreaSettings}onSpeechToTextResult(t){t.alternatives&&t.alternatives.length>0&&(this.textAreaValue+=t.alternatives[0].transcript+" ")}onSpeechToTextError(t){(0,e.naY)()&&console.error("Speech to Text error:",t.errorMessage)}static \u0275fac=function(i){return new(i||n)(e.rXU(ve.Pi),e.rXU(dc))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-aiprompt-prompt-view"]],standalone:!0,features:[e.Jv_([{provide:Pa,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:2,vars:0,consts:[["content",""],[3,"valueChange","cols","disabled","fillMode","flow","inputAttributes","maxlength","placeholder","readonly","resizable","rounded","rows","selectOnFocus","showSuffixSeparator","size","tabIndex","title","value"],[4,"ngIf"],["class","k-prompt-expander",4,"ngIf"],["kendoSpeechToTextButton","","role","button",3,"error","result","continuous","disabled","fillMode","integrationMode","interimResults","lang","maxAlternatives","rounded","size","themeColor"],[1,"k-prompt-expander"],["kendoButton","","fillMode","flat","type","button",3,"click","icon","svgIcon"],["class","k-prompt-expander-content","role","list",4,"ngIf"],["role","list",1,"k-prompt-expander-content"],["role","group",1,"k-suggestion-group"],["class","k-suggestion","role","button",3,"click","keydown",4,"ngFor","ngForOf"],["role","button",1,"k-suggestion",3,"click","keydown"]],template:function(i,s){1&i&&e.DNE(0,w0,3,19,"ng-template",null,0,e.C5r)},dependencies:[re.QS,w.bT,Te.Qp,w.pM,re.Ll,Te.W8],encapsulation:2})}return n})();var em=$(1626);const SO=["kendoGridColGroup",""];function bO(n,o){1&n&&e.nrm(0,"col"),2&n&&e.AVh("k-group-col",!0)}function EO(n,o){1&n&&e.nrm(0,"col"),2&n&&e.AVh("k-hierarchy-col",!0)}function kO(n,o){if(1&n&&e.nrm(0,"col"),2&n){const t=o.$implicit,i=e.XpG();e.xc7("width",i.getColumnWidth(t)),e.AVh("k-sorted",i.isSorted(i.getColumnComponent(t)))}}const RO=["kendoGridLoading",""];function wO(n,o){if(1&n&&(e.qex(0),e.j41(1,"span",1),e.EFF(2),e.k0s(),e.nrm(3,"div",2)(4,"div",3),e.bVm()),2&n){const t=e.XpG();e.R7$(2),e.JRh(t.loadingText)}}function IO(n,o){}function DO(n,o){if(1&n&&e.DNE(0,IO,0,0,"ng-template",4),2&n){const t=e.XpG();e.Y8G("ngTemplateOutlet",null==t.loadingTemplate?null:t.loadingTemplate.templateRef)}}const TO=["kendoGridGroupHeader",""],xO=(n,o,t,i,s,r,l,u)=>({templateRef:n,group:o,aggregates:t,value:i,field:s,index:r,expanded:l,$implicit:u}),Iv=(n,o,t,i,s,r)=>({group:n,aggregates:o,value:t,field:i,index:s,$implicit:r});function OO(n,o){1&n&&e.nrm(0,"td",3)}function MO(n,o){if(1&n&&(e.qex(0),e.DNE(1,OO,1,0,"td",2),e.bVm()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.prefixGroupCell(t.item))}}function yO(n,o){if(1&n&&(e.qex(0),e.EFF(1),e.nI1(2,"valueOf"),e.bVm()),2&n){const t=e.XpG(3);e.R7$(),e.Lme(" ",t.groupTitle(t.item),": ",e.brH(2,2,t.item.data,"value",t.formatForGroup(t.item))," ")}}function NO(n,o){}function GO(n,o){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"a",7),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.toggleGroup(s.item))}),e.nrm(2,"kendo-icon-wrapper",8),e.k0s(),e.DNE(3,yO,3,6,"ng-container",0)(4,NO,0,0,"ng-template",9),e.bVm()}if(2&n){const t=e.XpG(2);e.R7$(),e.BMQ("title",t.groupButtonTitle)("aria-label",t.groupButtonTitle),e.R7$(),e.Y8G("name",t.arrowIcon)("svgIcon",t.arrowSVGIcon),e.R7$(),e.Y8G("ngIf",!t.groupHeaderTemplate(t.item)),e.R7$(),e.Y8G("templateContext",e.lV(6,xO,t.groupHeaderTemplate(t.item),t.item.data,null==t.item.data?null:t.item.data.aggregates,null==t.item.data?null:t.item.data.value,null==t.item.data?null:t.item.data.field,t.item.index,t.isExpanded,t.item.data))}}function AO(n,o){}function PO(n,o){if(1&n&&(e.j41(0,"div",13),e.DNE(1,AO,0,0,"ng-template",14),e.k0s()),2&n){const t=e.XpG().$implicit,i=e.XpG(3);e.R7$(),e.Y8G("ngTemplateOutlet",t.groupHeaderColumnTemplateRef)("ngTemplateOutletContext",e.l4e(2,Iv,i.item.data,null==i.item.data?null:i.item.data.aggregates,null==i.item.data?null:i.item.data.value,null==i.item.data?null:i.item.data.field,i.item.index,i.item.data))}}function FO(n,o){if(1&n&&(e.qex(0),e.DNE(1,PO,2,9,"div",12),e.bVm()),2&n){const t=o.$implicit;e.R7$(),e.Y8G("ngIf",t.groupHeaderColumnTemplateRef)}}function BO(n,o){if(1&n&&(e.j41(0,"div",10),e.DNE(1,FO,2,1,"ng-container",11),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.groupHeaderColumns)}}function LO(n,o){if(1&n&&(e.j41(0,"td",4)(1,"p",5),e.DNE(2,GO,5,15,"ng-container",0),e.k0s(),e.DNE(3,BO,2,1,"div",6),e.k0s()),2&n){const t=e.XpG();e.Y8G("logicalRowIndex",t.logicalRowIndex)("logicalColIndex",0)("logicalSlaveCell",t.skipGroupDecoration)("groupItem",t.item)("colSpan",t.logicalColSpan()),e.BMQ("colspan",t.groupSpan(t.item))("role",t.ariaRole())("aria-expanded",t.isExpanded),e.R7$(2),e.Y8G("ngIf",!t.skipGroupDecoration),e.R7$(),e.Y8G("ngIf",t.isStacked)}}function UO(n,o){}function VO(n,o){if(1&n&&e.DNE(0,UO,0,0,"ng-template",14),2&n){const t=e.XpG().$implicit,i=e.XpG(2);e.Y8G("ngTemplateOutlet",t.groupHeaderColumnTemplateRef)("ngTemplateOutletContext",e.l4e(2,Iv,i.item.data,null==i.item.data?null:i.item.data.aggregates,null==i.item.data?null:i.item.data.value,null==i.item.data?null:i.item.data.field,i.item.index,i.item.data))}}function zO(n,o){if(1&n&&(e.j41(0,"td",16),e.DNE(1,VO,1,9,null,0),e.k0s()),2&n){const t=o.$implicit,i=o.index,s=e.XpG(2);e.Y8G("logicalRowIndex",s.logicalRowIndex)("logicalColIndex",i+1)("logicalSlaveCell",!1)("groupItem",s.item)("colSpan",1),e.R7$(),e.Y8G("ngIf",t.groupHeaderColumnTemplateRef)}}function KO(n,o){if(1&n&&(e.qex(0),e.DNE(1,zO,2,6,"td",15),e.bVm()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.groupHeaderColumns)}}const Dv=["defaultTemplate"],Tv=()=>({lastTarget:!0}),$O=(n,o,t)=>({field:n,type:"groupIndicator",hint:o,target:t}),jO=(n,o)=>({keydown:n,click:o});function HO(n,o){if(1&n&&(e.j41(0,"div",4),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.Y8G("context",e.lJ4(2,Tv)),e.R7$(),e.SpI(" ",t.text," ")}}function XO(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-chip",7,1),e.bIt("contentClick",function(){const s=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.directionChange(s))})("remove",function(){const s=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.remove(s))})("menuToggle",function(){const s=e.eBV(t),r=s.$implicit,l=s.first,u=s.last,f=e.sdS(1),C=e.XpG(2);return e.Njj(C.toggleMenu(f,l,u,r.field))})("keydown.alt.arrowdown",function(s){const r=e.eBV(t),l=r.$implicit,u=r.first,f=r.last,C=e.sdS(1),T=e.XpG(2);return s.preventDefault(),e.Njj(T.toggleMenu(C,u,f,l.field))}),e.k0s()}if(2&n){const t=o.$implicit,i=o.index,s=e.sdS(1),r=e.XpG(2);e.Y8G("title",r.getTitle(t))("enableDrag",!0)("context",e.sMw(11,$O,t.field,r.groupTitles[i],s))("label",r.groupTitles[i])("removable",!0)("hasMenu",!0)("icon",r.getDirectionIcon(t))("svgIcon",r.getDirectionSvgIcon(t)),e.BMQ("aria-haspopup","menu")("aria-expanded",r.isChipMenuOpen)("aria-controls",r.gridId)}}function WO(n,o){if(1&n&&(e.j41(0,"kendo-chiplist",5),e.DNE(1,XO,2,15,"kendo-chip",6),e.k0s()),2&n){const t=e.XpG();e.Y8G("navigable",t.navigable)("orientation",null),e.R7$(),e.Y8G("ngForOf",t.groups)}}function YO(n,o){1&n&&(e.j41(0,"div",4),e.EFF(1,"\xa0"),e.k0s()),2&n&&e.Y8G("context",e.lJ4(1,Tv))}function qO(n,o){if(1&n&&(e.j41(0,"ul",8)(1,"li",9)(2,"span",10),e.nrm(3,"kendo-icon-wrapper",11),e.j41(4,"span",12),e.EFF(5),e.k0s()()(),e.j41(6,"li",9)(7,"span",10),e.nrm(8,"kendo-icon-wrapper",11),e.j41(9,"span",12),e.EFF(10),e.k0s()()()()),2&n){const t=e.XpG();e.Y8G("kendoEventsOutsideAngular",e.l_i(13,jO,t.handleKeyDown,t.handleClick)),e.R7$(),e.BMQ("aria-disabled",t.first),e.R7$(),e.AVh("k-disabled",t.first),e.R7$(),e.Y8G("name",t.rtl?"arrow-right":"arrow-left")("svgIcon",t.rtl?t.arrowRightIcon:t.arrowLeftIcon),e.R7$(2),e.JRh(t.messageFor("groupChipMenuPrevious")),e.R7$(),e.BMQ("aria-disabled",t.last),e.R7$(),e.AVh("k-disabled",t.last),e.R7$(),e.Y8G("name",t.rtl?"arrow-left":"arrow-right")("svgIcon",t.rtl?t.arrowLeftIcon:t.arrowRightIcon),e.R7$(2),e.JRh(t.messageFor("groupChipMenuNext"))}}const JO=["dropdown"],xv=()=>({width:"auto"});function QO(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-dropdownlist",3,0),e.bIt("valueChange",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.onChange(s))})("keydown",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.dropdownKeydown(s))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("data",t.operators)("value",t.value)("svgIcon",t.filterSVGIcon)("valuePrimitive",!0)("popupSettings",e.lJ4(7,xv))("size",t.size),e.BMQ("aria-label",t.column&&t.columnLabel)}}function ZO(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",4),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.clearClick())})("keydown",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.clearKeydown(s))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("svgIcon",t.filterClearIcon)("title",t.clearText)("size",t.size)}}const ha=["*"];function eM(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-dropdownlist",3),e.bIt("valueChange",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.logicChange(s))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("adaptiveTitle",t.ctx.localization.get("adaptiveFilterOperatorsTitle"))("adaptiveMode",null==t.ctx.grid?null:t.ctx.grid.adaptiveMode)("size",null!=t.ctx.grid&&t.ctx.grid.isActionSheetExpanded?"large":null)("filterMenuDropDownLabel",t.filterMenuDropDownLabel)("data",t.logicOperators)("valuePrimitive",!0)("value",null==t.filter?null:t.filter.logic)}}function tM(n,o){if(1&n&&e.nrm(0,"kendo-grid-string-filter-menu-input",4),2&n){const t=e.XpG();e.Y8G("operators",t.operators)("currentFilter",t.secondFilter)("filterService",t.filterService)("column",t.column)("filter",t.filter)("placeholder",t.extraPlaceholder)("menuTabbingService",t.menuTabbingService)}}function iM(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-dropdownlist",3),e.bIt("valueChange",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.logicChange(s))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("adaptiveTitle",t.ctx.localization.get("adaptiveFilterOperatorsTitle"))("adaptiveMode",null==t.ctx.grid?null:t.ctx.grid.adaptiveMode)("size",null!=t.ctx.grid&&t.ctx.grid.isActionSheetExpanded?"large":null)("filterMenuDropDownLabel",t.filterMenuDropDownLabel)("data",t.logicOperators)("valuePrimitive",!0)("value",null==t.filter?null:t.filter.logic)}}function nM(n,o){if(1&n&&e.nrm(0,"kendo-grid-numeric-filter-menu-input",4),2&n){const t=e.XpG();e.Y8G("operators",t.operators)("currentFilter",t.secondFilter)("filterService",t.filterService)("column",t.column)("filter",t.filter)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("step",t.step)("menuTabbingService",t.menuTabbingService)("placeholder",t.extraPlaceholder)}}function sM(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-dropdownlist",3),e.bIt("valueChange",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.logicChange(s))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("adaptiveTitle",t.ctx.localization.get("adaptiveFilterOperatorsTitle"))("adaptiveMode",null==t.ctx.grid?null:t.ctx.grid.adaptiveMode)("size",null!=t.ctx.grid&&t.ctx.grid.isActionSheetExpanded?"large":null)("filterMenuDropDownLabel",t.filterMenuDropDownLabel)("data",t.logicOperators)("valuePrimitive",!0)("value",null==t.filter?null:t.filter.logic)}}function oM(n,o){if(1&n&&e.nrm(0,"kendo-grid-date-filter-menu-input",4),2&n){const t=e.XpG();e.Y8G("operators",t.operators)("currentFilter",t.secondFilter)("filterService",t.filterService)("column",t.column)("filter",t.filter)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("format",t.format)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("min",t.min)("max",t.max)("weekNumber",t.weekNumber)("menuTabbingService",t.menuTabbingService)}}function rM(n,o){if(1&n){const t=e.RV6();e.j41(0,"li")(1,"kendo-radiobutton",3,0),e.bIt("change",function(){const s=e.eBV(t).$implicit,r=e.sdS(2),l=e.XpG();return e.Njj(l.onChange(s.value,r))})("keydown.shift.tab",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.onShiftTab(s))}),e.k0s(),e.j41(3,"label",4),e.EFF(4),e.k0s()()}if(2&n){const t=o.$implicit,i=e.sdS(2),s=e.XpG();e.R7$(),e.Y8G("columnLabel",s.columnLabel)("size",null!=s.ctx.grid&&s.ctx.grid.isActionSheetExpanded?"large":null)("name",s.idPrefix)("checked",s.isSelected(t.value)),e.BMQ("id",s.radioId(t.value)),e.R7$(2),e.BMQ("for",i.focusableId),e.R7$(),e.JRh(t.text)}}const Ov=["resetButton"],aM=["filterButton"];function lM(n,o){if(1&n&&(e.qex(0),e.eu8(1,7),e.bVm()),2&n){const t=e.XpG();e.R7$(),e.Y8G("filterService",t.childService)("column",t.column)("filter",t.childFilter)("menuTabbingService",t.menuTabbingService)}}function cM(n,o){}function dM(n,o){if(1&n&&e.DNE(0,cM,0,0,"ng-template",9),2&n){const t=e.XpG(2);e.Y8G("ngTemplateOutlet",t.column.filterMenuTemplateRef)("ngTemplateOutletContext",t.templateContext)}}function uM(n,o){if(1&n&&(e.qex(0),e.DNE(1,dM,1,2,null,8),e.bVm()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.column.filterMenuTemplateRef)}}function hM(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",10)(1,"button",11,0),e.bIt("keydown.tab",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.onTab(s,"filter"))}),e.EFF(3),e.k0s(),e.j41(4,"button",12,1),e.bIt("keydown.tab",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.onTab(s,"reset"))}),e.EFF(6),e.k0s()()}if(2&n){const t=e.XpG();e.Y8G("ngClass",t.actionsClass),e.R7$(),e.Y8G("disabled",t.disabled),e.R7$(2),e.JRh(t.filterText),e.R7$(3),e.JRh(t.clearText)}}const tm=["anchor"],Mv=["template"];function pM(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-grid-filter-menu-container",4),e.bIt("close",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.close())})("keydown.escape",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.close())})("keydown.enter",function(s){return e.eBV(t),e.Njj(s.stopImmediatePropagation())}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("column",t.column)("filter",t.filter)}}const mM=["kendoGridFilterCell",""];function gM(n,o){if(1&n&&(e.qex(0),e.eu8(1,3),e.bVm()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("column",t.column)("filter",t.filter)}}function fM(n,o){}function _M(n,o){if(1&n&&e.DNE(0,fM,0,0,"ng-template",4),2&n){const t=e.XpG(3);e.Y8G("ngTemplateOutlet",t.column.filterCellTemplateRef)("ngTemplateOutletContext",t.templateContext)}}function vM(n,o){if(1&n&&(e.qex(0),e.DNE(1,_M,1,2,null,0),e.bVm()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.column.filterCellTemplateRef)}}function CM(n,o){if(1&n&&(e.qex(0)(1,1),e.DNE(2,gM,2,2,"ng-container",2)(3,vM,2,1,"ng-container",2),e.bVm()()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngSwitch",t.hasTemplate),e.R7$(),e.Y8G("ngSwitchCase",!1),e.R7$(),e.Y8G("ngSwitchCase",!0)}}const SM=["kendoGridFilterRow",""];function bM(n,o){1&n&&e.nrm(0,"td",3)}function EM(n,o){1&n&&e.nrm(0,"td",4)}function kM(n,o){if(1&n&&e.nrm(0,"td",5),2&n){const t=o.$implicit,i=o.index,s=e.XpG();e.AVh("k-grid-header-sticky",t.sticky),e.Y8G("ngStyle",s.addStickyStyles(t))("ngClass",t.filterClass)("column",t)("filter",s.filter)("logicalRowIndex",s.logicalRowIndex)("logicalColIndex",s.getLogicalColIndex(i)),e.BMQ("aria-label",s.filterLabel(t))}}const RM=["applyButton"],wM=n=>({"data-index":n});function IM(n,o){if(1&n&&(e.j41(0,"label",5),e.nrm(1,"kendo-checkbox",6),e.j41(2,"span",7),e.EFF(3),e.k0s()()),2&n){const t=o.$implicit,i=o.index,s=e.XpG();e.Y8G("kendoColumnMenuChooserItemChecked",!t.hidden),e.R7$(),e.Y8G("inputAttributes",e.eq3(6,wM,i.toString()))("tabindex",-1)("checkedState",!t.hidden)("disabled",s.isDisabled(t)),e.R7$(2),e.JRh(t.displayTitle)}}function DM(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",8)(1,"button",9,0),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.applyChanges())})("keydown.enter",function(s){e.eBV(t);const r=e.XpG();return s.preventDefault(),s.stopPropagation(),e.Njj(r.applyChanges())})("keydown.space",function(s){e.eBV(t);const r=e.XpG();return s.preventDefault(),s.stopPropagation(),e.Njj(r.applyChanges())}),e.EFF(3),e.k0s(),e.j41(4,"button",10,1),e.bIt("keydown.tab",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.onTab(s))})("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.cancelChanges())})("keydown.enter",function(s){e.eBV(t);const r=e.XpG();return s.preventDefault(),s.stopPropagation(),e.Njj(r.cancelChanges())})("keydown.space",function(s){e.eBV(t);const r=e.XpG();return s.preventDefault(),s.stopPropagation(),e.Njj(r.cancelChanges())}),e.EFF(6),e.k0s()()}if(2&n){const t=e.XpG();e.Y8G("ngClass",t.actionsClass),e.R7$(),e.Y8G("svgIcon",t.checkIcon),e.R7$(2),e.JRh(t.applyText),e.R7$(),e.Y8G("svgIcon",t.arrowRotateCcwIcon),e.R7$(2),e.JRh(t.resetText)}}const yv=["columnList"];function xM(n,o){if(1&n&&(e.j41(0,"div",2),e.eu8(1,3),e.k0s()),2&n){e.XpG();const t=e.sdS(2);e.R7$(),e.Y8G("ngTemplateOutlet",t)}}function OM(n,o){if(1&n&&e.nrm(0,"kendo-icon-wrapper",11),2&n){const t=e.XpG(2);e.Y8G("name",t.icon)("svgIcon",t.svgIcon)}}function MM(n,o){if(1&n&&(e.j41(0,"span",14),e.EFF(1),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.JRh(t.sortOrder(t.column.field))}}function yM(n,o){if(1&n&&(e.j41(0,"span",12),e.nrm(1,"kendo-icon-wrapper",11),e.DNE(2,MM,2,1,"span",13),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("name","asc"===t.sortDescriptor(t.column.field).dir?"sort-asc-small":"sort-desc-small")("svgIcon","asc"===t.sortDescriptor(t.column.field).dir?t.sortAscSmallIcon:t.sortDescSmallIcon),e.R7$(),e.Y8G("ngIf",t.showSortNumbering(t.column))}}function NM(n,o){if(1&n&&e.nrm(0,"kendo-icon-wrapper",15),2&n){const t=e.XpG(2);e.Y8G("svgIcon",t.filterIcon)}}function GM(n,o){1&n&&e.nrm(0,"span",16)}function AM(n,o){if(1&n&&(e.j41(0,"span",17),e.nrm(1,"kendo-icon-wrapper",11),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("name",t.expandedIcon)("svgIcon",t.expandedSvgIcon)}}function PM(n,o){if(1&n&&(e.j41(0,"div",18),e.eu8(1,3),e.k0s()),2&n){const t=e.XpG(2);e.xc7("overflow","hidden"),e.Y8G("@state",t.contentState),e.BMQ("id",t.contentId),e.R7$(),e.Y8G("ngTemplateOutlet",t.contentTemplate.templateRef)}}function FM(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",4),e.bIt("click",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.onClick(s))})("keydown.enter",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.onClick(s))}),e.DNE(1,OM,1,2,"kendo-icon-wrapper",5),e.EFF(2),e.DNE(3,yM,3,3,"span",6)(4,NM,1,1,"kendo-icon-wrapper",7)(5,GM,1,0,"span",8)(6,AM,2,2,"span",9),e.k0s(),e.DNE(7,PM,2,5,"div",10)}if(2&n){const t=e.XpG();e.AVh("k-selected",t.selected)("k-disabled",t.disabled)("k-focus",t.focused),e.BMQ("aria-expanded",t.expanded)("aria-controls",t.expanded?t.contentId:void 0),e.R7$(),e.Y8G("ngIf",t.icon||t.svgIcon),e.R7$(),e.SpI(" ",t.text," "),e.R7$(),e.Y8G("ngIf",t.ctx.grid.isActionSheetExpanded&&"sortToolbarTool"===t.adaptiveGridService.viewType&&t.sortDescriptor(t.column.field).dir),e.R7$(),e.Y8G("ngIf",t.ctx.grid.isActionSheetExpanded&&"filterToolbarTool"===t.adaptiveGridService.viewType&&t.hasFilters||t.indicatorIcon),e.R7$(),e.Y8G("ngIf",t.contentTemplate&&"sortToolbarTool"!==t.adaptiveGridService.viewType),e.R7$(),e.Y8G("ngIf",t.contentTemplate&&"sortToolbarTool"!==t.adaptiveGridService.viewType),e.R7$(),e.Y8G("ngIf",t.contentTemplate)}}function BM(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-grid-columnmenu-item",1),e.bIt("itemClick",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.autoSizeAllColumns())}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("text",t.ctx.localization.get("autosizeAllColumns"))("svgIcon",t.displayInlineFlexIcon)}}function LM(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-grid-columnmenu-item",1),e.bIt("itemClick",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.autoSizeColumn())}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("text",t.ctx.localization.get("autosizeThisColumn"))("svgIcon",t.maxWidthIcon)}}function UM(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-grid-columnlist",2),e.bIt("apply",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.onApply(s))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("applyText",t.ctx.localization.get("columnsApply"))("resetText",t.ctx.localization.get("columnsReset"))("ariaLabel",t.ctx.localization.get("columns"))("columns",t.columns)("autoSync",!1)("allowHideAll",!1)("actionsClass",t.actionsClass)("isLast",t.isLast)("isExpanded",t.expanded)("service",t.service)}}function VM(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-grid-columnmenu-lock",3),e.bIt("keydown.tab",function(s){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onTab(s,!r.showStick))}),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("service",t.service)}}function zM(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-grid-columnmenu-stick",3),e.bIt("keydown.tab",function(s){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onTab(s,!0))}),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("service",t.service)}}function KM(n,o){if(1&n&&e.DNE(0,VM,1,1,"kendo-grid-columnmenu-lock",2)(1,zM,1,1,"kendo-grid-columnmenu-stick",2),2&n){const t=e.XpG();e.Y8G("ngIf",t.showLock),e.R7$(),e.Y8G("ngIf",t.showStick)}}function $M(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-grid-filter-menu-container",2),e.bIt("keydown.shift.tab",function(s){return e.eBV(t),e.Njj(s.stopImmediatePropagation())})("close",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.close())}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("column",t.service.column)("menuTabbingService",t.service.menuTabbingService)("filter",t.service.filter)("actionsClass",t.actionsClass)("isLast",t.isLast)("isExpanded",t.expanded)}}const jM=["tabbedInterfaceTemplate"],HM=n=>({"k-active":n}),XM=(n,o)=>({service:n,column:o});function WM(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-grid-columnmenu-container",15),e.bIt("keydown.escape",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.close(!0))})("keydown.enter",function(s){return e.eBV(t),e.Njj(s.stopImmediatePropagation())}),e.eu8(1,16),e.k0s()}if(2&n){const t=e.XpG(),i=e.sdS(6),s=e.sdS(8);e.R7$(),e.Y8G("ngTemplateOutlet",t.column.columnMenuTemplateRef||t.columnMenuTemplate||("tabbed"===t.settings.view?s:i))("ngTemplateOutletContext",e.l_i(2,XM,t.service,t.column))}}function YM(n,o){if(1&n&&e.nrm(0,"kendo-grid-columnmenu-sort",23,4),2&n){const t=e.sdS(1),i=e.XpG(2);e.Y8G("kendoGridColumnMenuItem",t)("service",i.service)}}function qM(n,o){if(1&n&&e.nrm(0,"kendo-grid-columnmenu-lock",23,5),2&n){const t=e.sdS(1),i=e.XpG(2);e.Y8G("kendoGridColumnMenuItem",t)("service",i.service)}}function JM(n,o){if(1&n&&e.nrm(0,"kendo-grid-columnmenu-stick",23,6),2&n){const t=e.sdS(1),i=e.XpG(2);e.Y8G("kendoGridColumnMenuItem",t)("service",i.service)}}function QM(n,o){if(1&n&&e.nrm(0,"kendo-grid-columnmenu-position",24,7),2&n){const t=e.sdS(1),i=e.XpG(2);e.Y8G("showLock",i.hasLock)("showStick",i.hasStick)("kendoGridColumnMenuItem",t)("service",i.service)("expanded",i.expandedPosition)}}function ZM(n,o){1&n&&e.nrm(0,"span",25),2&n&&e.xc7("border-color","rgba(0, 0, 0, 0.08)")}function ey(n,o){if(1&n&&e.nrm(0,"kendo-grid-columnmenu-chooser",26,8),2&n){const t=e.sdS(1),i=e.XpG(2);e.Y8G("kendoGridColumnMenuItem",t)("service",i.service)("expanded",i.expandedColumns)}}function ty(n,o){if(1&n&&e.nrm(0,"kendo-grid-columnmenu-autosize-column",27,9),2&n){const t=e.sdS(1),i=e.XpG(2);e.Y8G("service",i.service)("kendoGridColumnMenuItem",t)("column",i.column)}}function iy(n,o){if(1&n&&e.nrm(0,"kendo-grid-columnmenu-autosize-all-columns",28,10),2&n){const t=e.sdS(1),i=e.XpG(2);e.Y8G("service",i.service)("kendoGridColumnMenuItem",t)}}function ny(n,o){1&n&&e.nrm(0,"span",25),2&n&&e.xc7("border-color","rgba(0, 0, 0, 0.08)")}function sy(n,o){if(1&n&&e.nrm(0,"kendo-grid-columnmenu-filter",26,11),2&n){const t=e.sdS(1),i=e.XpG(2);e.Y8G("kendoGridColumnMenuItem",t)("service",i.service)("expanded",i.expandedFilter)}}function oy(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-grid-columnmenu-container",15),e.bIt("keydown.escape",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.close(!0))})("keydown.enter",function(s){return e.eBV(t),e.Njj(s.stopImmediatePropagation())}),e.DNE(1,YM,2,2,"kendo-grid-columnmenu-sort",17)(2,qM,2,2,"kendo-grid-columnmenu-lock",17)(3,JM,2,2,"kendo-grid-columnmenu-stick",17)(4,QM,2,5,"kendo-grid-columnmenu-position",18)(5,ZM,1,2,"span",19)(6,ey,2,3,"kendo-grid-columnmenu-chooser",20)(7,ty,2,3,"kendo-grid-columnmenu-autosize-column",21)(8,iy,2,2,"kendo-grid-columnmenu-autosize-all-columns",22)(9,ny,1,2,"span",19)(10,sy,2,3,"kendo-grid-columnmenu-filter",20),e.k0s()}if(2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.hasSort),e.R7$(),e.Y8G("ngIf",t.hasLock&&!t.hasPosition),e.R7$(),e.Y8G("ngIf",t.hasStick&&!t.hasPosition),e.R7$(),e.Y8G("ngIf",t.hasPosition),e.R7$(),e.Y8G("ngIf",t.hasColumnChooser||t.hasAutoSizeColumn||t.hasAutoSizeAllColumns),e.R7$(),e.Y8G("ngIf",t.hasColumnChooser),e.R7$(),e.Y8G("ngIf",t.hasAutoSizeColumn),e.R7$(),e.Y8G("ngIf",t.hasAutoSizeAllColumns),e.R7$(),e.Y8G("ngIf",t.hasColumnChooser||t.hasAutoSizeColumn||t.hasAutoSizeAllColumns),e.R7$(),e.Y8G("ngIf",t.hasFilter)}}function ry(n,o){if(1&n&&e.nrm(0,"kendo-icon-wrapper",33),2&n){const t=e.XpG(3);e.Y8G("svgIcon",t.filterIcon),e.BMQ("title",t.ctx.localization.get("columnMenuFilterTabTitle"))}}function ay(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-grid-filter-menu-container",34),e.bIt("keydown.shift.tab",function(s){return e.eBV(t),e.Njj(s.stopImmediatePropagation())})("close",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.close())}),e.k0s()}if(2&n){const t=e.XpG(3);e.Y8G("column",t.service.column)("menuTabbingService",t.service.menuTabbingService)("filter",t.service.filter)("actionsClass",t.actionsClass)}}function ly(n,o){1&n&&(e.j41(0,"kendo-tabstrip-tab"),e.DNE(1,ry,1,2,"ng-template",31)(2,ay,1,4,"ng-template",32),e.k0s())}function cy(n,o){if(1&n&&e.nrm(0,"kendo-icon-wrapper",35),2&n){const t=e.XpG(3);e.Y8G("svgIcon",t.slidersIcon),e.BMQ("title",t.ctx.localization.get("columnMenuGeneralTabTitle"))}}function dy(n,o){if(1&n&&e.nrm(0,"kendo-grid-columnmenu-sort",23,4),2&n){const t=e.sdS(1),i=e.XpG(4);e.Y8G("kendoGridColumnMenuItem",t)("service",i.service)}}function uy(n,o){1&n&&e.nrm(0,"span",25),2&n&&e.xc7("border-color","rgba(0, 0, 0, 0.08)")}function hy(n,o){if(1&n&&e.nrm(0,"kendo-grid-columnmenu-lock",23,5),2&n){const t=e.sdS(1),i=e.XpG(4);e.Y8G("kendoGridColumnMenuItem",t)("service",i.service)}}function py(n,o){if(1&n&&e.nrm(0,"kendo-grid-columnmenu-stick",23,6),2&n){const t=e.sdS(1),i=e.XpG(4);e.Y8G("kendoGridColumnMenuItem",t)("service",i.service)}}function my(n,o){1&n&&e.nrm(0,"span",25),2&n&&e.xc7("border-color","rgba(0, 0, 0, 0.08)")}function gy(n,o){if(1&n&&e.nrm(0,"kendo-grid-columnmenu-position",24,7),2&n){const t=e.sdS(1),i=e.XpG(4);e.Y8G("showLock",i.hasLock)("showStick",i.hasStick)("kendoGridColumnMenuItem",t)("service",i.service)("expanded",i.expandedPosition)}}function fy(n,o){1&n&&e.nrm(0,"span",25),2&n&&e.xc7("border-color","rgba(0, 0, 0, 0.08)")}function _y(n,o){if(1&n&&e.nrm(0,"kendo-grid-columnmenu-autosize-column",27,9),2&n){const t=e.sdS(1),i=e.XpG(4);e.Y8G("service",i.service)("kendoGridColumnMenuItem",t)("column",i.column)}}function vy(n,o){if(1&n&&e.nrm(0,"kendo-grid-columnmenu-autosize-all-columns",28,10),2&n){const t=e.sdS(1),i=e.XpG(4);e.Y8G("service",i.service)("kendoGridColumnMenuItem",t)}}function Cy(n,o){if(1&n&&e.DNE(0,dy,2,2,"kendo-grid-columnmenu-sort",17)(1,uy,1,2,"span",19)(2,hy,2,2,"kendo-grid-columnmenu-lock",17)(3,py,2,2,"kendo-grid-columnmenu-stick",17)(4,my,1,2,"span",19)(5,gy,2,5,"kendo-grid-columnmenu-position",18)(6,fy,1,2,"span",19)(7,_y,2,3,"kendo-grid-columnmenu-autosize-column",21)(8,vy,2,2,"kendo-grid-columnmenu-autosize-all-columns",22),2&n){const t=e.XpG(3);e.Y8G("ngIf",t.hasSort),e.R7$(),e.Y8G("ngIf",t.hasSort&&(t.hasLock||t.hasStick||t.hasPosition||t.hasAutoSizeColumn||t.hasAutoSizeAllColumns)),e.R7$(),e.Y8G("ngIf",t.hasLock&&!t.hasPosition),e.R7$(),e.Y8G("ngIf",t.hasStick&&!t.hasPosition),e.R7$(),e.Y8G("ngIf",(t.hasLock||t.hasStick)&&!t.hasPosition&&(t.hasAutoSizeColumn||t.hasAutoSizeAllColumns)),e.R7$(),e.Y8G("ngIf",t.hasPosition),e.R7$(),e.Y8G("ngIf",t.hasPosition&&(t.hasAutoSizeColumn||t.hasAutoSizeAllColumns)),e.R7$(),e.Y8G("ngIf",t.hasAutoSizeColumn),e.R7$(),e.Y8G("ngIf",t.hasAutoSizeAllColumns)}}function Sy(n,o){1&n&&(e.j41(0,"kendo-tabstrip-tab"),e.DNE(1,cy,1,2,"ng-template",31)(2,Cy,9,9,"ng-template",32),e.k0s())}function by(n,o){if(1&n&&e.nrm(0,"kendo-icon-wrapper",36),2&n){const t=e.XpG(3);e.Y8G("svgIcon",t.columnsIcon),e.BMQ("title",t.ctx.localization.get("columnMenuColumnsTabTitle"))}}function Ey(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-grid-columnlist",37),e.bIt("apply",function(s){e.eBV(t);const r=e.XpG(3);return e.Njj(r.onApply(s))}),e.k0s()}if(2&n){const t=e.XpG(3);e.Y8G("applyText",t.ctx.localization.get("columnsApply"))("resetText",t.ctx.localization.get("columnsReset"))("columns",t.columns)("autoSync",!1)("allowHideAll",!1)("actionsClass",t.actionsClass)("service",t.service)}}function ky(n,o){1&n&&(e.j41(0,"kendo-tabstrip-tab"),e.DNE(1,by,1,2,"ng-template",31)(2,Ey,1,7,"ng-template",32),e.k0s())}function Ry(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-tabstrip",29,12),e.bIt("keydown.escape",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.close(!0))}),e.DNE(2,ly,3,0,"kendo-tabstrip-tab",30)(3,Sy,3,0,"kendo-tabstrip-tab",30)(4,ky,3,0,"kendo-tabstrip-tab",30),e.k0s()}if(2&n){const t=e.XpG();e.R7$(2),e.Y8G("ngIf",t.hasFilter),e.R7$(),e.Y8G("ngIf",t.showGeneralTab),e.R7$(),e.Y8G("ngIf",t.hasColumnChooser)}}const Ny=["kendoGridHeader",""],Gy=(n,o,t,i)=>({field:n,type:"column",column:o,hint:t,lastColumn:i}),uc=(n,o,t,i)=>({templateRef:n,columnIndex:o,column:t,$implicit:i}),hc=n=>({"aria-label":n}),Ay=(n,o,t)=>({type:"columnGroup",column:n,hint:o,lastColumn:t});function Py(n,o){1&n&&e.nrm(0,"th",7)}function Fy(n,o){1&n&&e.nrm(0,"th",8)}function By(n,o){}function Ly(n,o){if(1&n&&(e.qex(0),e.j41(1,"span",19),e.EFF(2),e.k0s(),e.bVm()),2&n){const t=e.XpG(3).$implicit;e.R7$(2),e.JRh(t.displayTitle)}}function Uy(n,o){if(1&n&&e.nrm(0,"kendo-grid-filter-menu",20),2&n){const t=e.XpG(3).$implicit,i=e.XpG(2);e.Y8G("column",i.getColumnComponent(t))("filter",i.filter)("tabIndex",i.tabIndex)}}function Vy(n,o){if(1&n&&e.nrm(0,"kendo-grid-column-menu",21),2&n){const t=e.XpG(3).$implicit,i=e.XpG(2);e.Y8G("standalone",!1)("settings",i.columnMenuSettings)("column",t)("columnMenuTemplate",i.columnMenuTemplate)("sort",i.sort)("filter",i.filter)("sortable",i.sortable)("tabIndex",i.tabIndex)}}function zy(n,o){if(1&n&&(e.qex(0),e.j41(1,"span",14)(2,"span",15),e.DNE(3,By,0,0,"ng-template",16)(4,Ly,3,1,"ng-container",12),e.k0s(),e.DNE(5,Uy,1,3,"kendo-grid-filter-menu",17)(6,Vy,1,8,"kendo-grid-column-menu",18),e.k0s(),e.bVm()),2&n){const t=e.XpG(2).$implicit,i=e.XpG(2);e.R7$(2),e.AVh("!k-cursor-default",!i.isInteractive(i.getColumnComponent(t),"groupable")&&!i.isInteractive(i.getColumnComponent(t),"reorderable")),e.R7$(),e.Y8G("templateContext",e.ziG(6,uc,t.headerTemplateRef,t.leafIndex,t,t)),e.R7$(),e.Y8G("ngIf",!t.headerTemplateRef),e.R7$(),e.Y8G("ngIf",i.showFilterMenu&&i.isFilterable(i.getColumnComponent(t))),e.R7$(),e.Y8G("ngIf",i.showColumnMenu(t))}}function Ky(n,o){}function $y(n,o){if(1&n&&(e.qex(0),e.j41(1,"span",19),e.EFF(2),e.k0s(),e.bVm()),2&n){const t=e.XpG(3).$implicit;e.R7$(2),e.JRh(t.displayTitle)}}function jy(n,o){if(1&n&&e.nrm(0,"kendo-icon-wrapper",25),2&n){const t=e.XpG(3).$implicit,i=e.XpG(2);e.Mz_("name","sort-",i.sortDescriptor(i.getColumnComponent(t).field).dir,"-small"),e.Y8G("svgIcon","asc"===i.sortDescriptor(i.getColumnComponent(t).field).dir?i.sortAscSmallIcon:i.sortDescSmallIcon),e.BMQ("aria-label",i.sortableLabel)}}function Hy(n,o){if(1&n&&(e.j41(0,"span",26),e.EFF(1),e.k0s()),2&n){const t=e.XpG(3).$implicit,i=e.XpG(2);e.R7$(),e.JRh(i.sortOrder(i.getColumnComponent(t).field))}}function Xy(n,o){if(1&n&&e.nrm(0,"kendo-grid-filter-menu",20),2&n){const t=e.XpG(3).$implicit,i=e.XpG(2);e.Y8G("column",i.getColumnComponent(t))("filter",i.filter)("tabIndex",i.tabIndex)}}function Wy(n,o){if(1&n&&e.nrm(0,"kendo-grid-column-menu",21),2&n){const t=e.XpG(3).$implicit,i=e.XpG(2);e.Y8G("standalone",!1)("settings",i.columnMenuSettings)("column",t)("columnMenuTemplate",i.columnMenuTemplate)("sort",i.sort)("filter",i.filter)("sortable",i.sortable)("tabIndex",i.tabIndex)}}function Yy(n,o){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"span",14)(2,"span",22,0),e.bIt("click",function(s){e.eBV(t);const r=e.sdS(3),l=e.XpG(2).$implicit,u=e.XpG(2);return e.Njj(u.onSortClick(u.getColumnComponent(l),s,r))}),e.DNE(4,Ky,0,0,"ng-template",16)(5,$y,3,1,"ng-container",12),e.j41(6,"span"),e.DNE(7,jy,1,4,"kendo-icon-wrapper",23),e.k0s(),e.DNE(8,Hy,2,1,"span",24),e.k0s(),e.DNE(9,Xy,1,3,"kendo-grid-filter-menu",17)(10,Wy,1,8,"kendo-grid-column-menu",18),e.k0s(),e.bVm()}if(2&n){const t=e.XpG(2).$implicit,i=e.XpG(2);e.R7$(4),e.Y8G("templateContext",e.ziG(8,uc,t.headerTemplateRef,t.leafIndex,t,t)),e.R7$(),e.Y8G("ngIf",!t.headerTemplateRef),e.R7$(),e.AVh("k-sort-icon",i.sortDescriptor(i.getColumnComponent(t).field).dir),e.R7$(),e.Y8G("ngIf",i.sortDescriptor(i.getColumnComponent(t).field).dir),e.R7$(),e.Y8G("ngIf",i.showSortNumbering(i.getColumnComponent(t))),e.R7$(),e.Y8G("ngIf",i.showFilterMenu&&i.isFilterable(i.getColumnComponent(t))),e.R7$(),e.Y8G("ngIf",i.showColumnMenu(t))}}function qy(n,o){if(1&n&&(e.qex(0),e.nrm(1,"kendo-checkbox",27),e.bVm()),2&n){const t=e.XpG(4);e.R7$(),e.Y8G("inputAttributes",e.eq3(2,hc,t.selectAllCheckboxLabel)),e.BMQ("id",t.selectAllCheckboxId())}}function Jy(n,o){if(1&n&&e.nrm(0,"span",28),2&n){const t=e.XpG(2),i=t.$implicit,s=t.last,r=e.XpG(2);e.Y8G("isLast",s)("column",i)("columns",r.columns)}}function Qy(n,o){if(1&n){const t=e.RV6();e.j41(0,"th",11),e.bIt("keydown",function(s){e.eBV(t);const r=e.XpG().$implicit,l=e.XpG(2);return e.Njj(l.onHeaderKeydown(l.getColumnComponent(r),s))}),e.DNE(1,zy,7,11,"ng-container",12)(2,Yy,11,13,"ng-container",12)(3,qy,2,4,"ng-container",12)(4,Jy,1,3,"span",13),e.k0s()}if(2&n){const t=e.XpG(),i=t.$implicit,s=t.index,r=t.last,l=e.XpG().index,u=e.XpG();e.AVh("k-sorted",u.sortState(u.getColumnComponent(i)))("k-filterable",u.showFilterMenu&&u.isFilterable(u.getColumnComponent(i))||u.showColumnMenu(i))("k-first",u.isFirstOnRow(u.getColumnComponent(i),s))("k-grid-header-sticky",i.sticky),e.Y8G("logicalRowIndex",l)("logicalColIndex",u.logicalColumnIndex(i))("headerLabelText",i.title||u.getColumnComponent(i).field)("colSpan",i.colspan)("rowSpan",i.rowspan(u.totalColumnLevels))("enableDrag",u.shouldActivate(i))("context",e.ziG(27,Gy,u.getColumnComponent(i).field,i,i.title||u.getColumnComponent(i).field,r&&0===s))("ngClass",i.headerClass)("ngStyle",i.sticky?u.addStickyStyles(i):i.headerStyle),e.BMQ("aria-sort",u.sortState(u.getColumnComponent(i)))("rowspan",i.rowspan(u.totalColumnLevels))("colspan",i.colspan)("aria-haspopup",u.isNavigable&&(u.showFilterMenu||u.showColumnMenu(i))?"dialog":void 0)("aria-expanded",(!u.isNavigable||!u.showFilterMenu&&!u.showColumnMenu(i))&&void 0)("aria-keyshortcuts",u.isNavigable&&(u.showFilterMenu||u.showColumnMenu(i))?"Alt + ArrowDown":void 0),e.R7$(),e.Y8G("ngIf",!u.isInteractive(u.getColumnComponent(i),"sortable")),e.R7$(),e.Y8G("ngIf",u.isInteractive(u.getColumnComponent(i),"sortable")),e.R7$(),e.Y8G("ngIf",u.isCheckboxColumn(i)&&!i.headerTemplateRef&&i.showSelectAll),e.R7$(),e.Y8G("ngIf",u.resizable)}}function Zy(n,o){}function eN(n,o){if(1&n&&(e.qex(0),e.j41(1,"span",19),e.EFF(2),e.k0s(),e.bVm()),2&n){const t=e.XpG(2).$implicit;e.R7$(2),e.JRh(t.displayTitle)}}function tN(n,o){if(1&n&&e.nrm(0,"kendo-grid-column-menu",31),2&n){const t=e.XpG(2).$implicit,i=e.XpG(2);e.Y8G("standalone",!1)("settings",i.columnMenuSettings)("column",t)("columnMenuTemplate",i.columnMenuTemplate)}}function iN(n,o){if(1&n&&e.nrm(0,"span",28),2&n){const t=e.XpG(2),i=t.$implicit,s=t.last,r=e.XpG(2);e.Y8G("isLast",s)("column",i)("columns",r.columns)}}function nN(n,o){if(1&n&&(e.j41(0,"th",29)(1,"span",14)(2,"span",15),e.DNE(3,Zy,0,0,"ng-template",16)(4,eN,3,1,"ng-container",12),e.k0s(),e.DNE(5,tN,1,4,"kendo-grid-column-menu",30),e.k0s(),e.DNE(6,iN,1,3,"span",13),e.k0s()),2&n){const t=e.XpG(),i=t.$implicit,s=t.index,r=t.last,l=e.XpG().index,u=e.XpG();e.AVh("k-first",u.isFirstOnRow(u.getColumnComponent(i),s))("k-filterable",u.showColumnMenu(i))("k-grid-content-sticky",i.sticky),e.Y8G("logicalRowIndex",l)("logicalColIndex",u.logicalColumnIndex(i))("rowSpan",i.rowspan(u.totalColumnLevels))("colSpan",i.colspan)("headerLabelText",i.title||u.getColumnComponent(i).field)("enableDrag",u.shouldActivate(i))("context",e.sMw(26,Ay,i,i.title,r&&0===s))("ngClass",i.headerClass)("ngStyle",i.headerStyle),e.BMQ("aria-haspopup",u.isNavigable&&u.showColumnMenu(i)?"dialog":void 0)("aria-expanded",(!u.isNavigable||!u.showColumnMenu(i))&&void 0)("aria-keyshortcuts",u.isNavigable&&u.showColumnMenu(i)?"Alt + ArrowDown":void 0)("rowspan",i.rowspan(u.totalColumnLevels))("colspan",i.colspan),e.R7$(2),e.AVh("!k-cursor-default",!u.isInteractive(u.getColumnComponent(i),"reorderable")),e.R7$(),e.Y8G("templateContext",e.ziG(30,uc,i.headerTemplateRef,u.lockedColumnsCount+s,i,i)),e.R7$(),e.Y8G("ngIf",!i.headerTemplateRef),e.R7$(),e.Y8G("ngIf",u.showColumnMenu(i)),e.R7$(),e.Y8G("ngIf",u.resizable)}}function sN(n,o){if(1&n&&(e.qex(0),e.DNE(1,Qy,5,32,"th",9)(2,nN,7,35,"th",10),e.bVm()),2&n){const t=o.$implicit,i=e.XpG(2);e.R7$(),e.Y8G("ngIf",!i.isColumnGroupComponent(t)),e.R7$(),e.Y8G("ngIf",i.isColumnGroupComponent(t))}}function oN(n,o){if(1&n&&(e.j41(0,"tr",3),e.DNE(1,Py,1,0,"th",4)(2,Fy,1,0,"th",5)(3,sN,3,2,"ng-container",6),e.k0s()),2&n){const t=o.index,i=e.XpG();e.Y8G("logicalRowIndex",t)("logicalSlaveRow",i.lockedColumnsCount>0)("logicalCellsCount",i.columns.length)("logicalSlaveCellsCount",i.unlockedColumnsCount)("totalColumns",i.totalColumns),e.R7$(),e.Y8G("ngForOf",i.groups),e.R7$(),e.Y8G("ngIf",(null==i.detailTemplate?null:i.detailTemplate.templateRef)&&!i.isStacked),e.R7$(),e.Y8G("ngForOf",i.columnsForLevel(t))}}function rN(n,o){if(1&n&&e.nrm(0,"tr",32),2&n){const t=e.XpG();e.Y8G("columns",t.leafColumns)("filter",t.filter)("groups",t.groups)("detailTemplate",t.detailTemplate)("lockedColumnsCount",t.lockedColumnsCount)("logicalRowIndex",t.totalColumnLevels+1)("logicalSlaveRow",t.lockedColumnsCount>0)("logicalCellsCount",t.columns.length)("logicalSlaveCellsCount",t.unlockedColumnsCount)("totalColumns",t.totalColumns)}}const aN=["kendoGridFooter",""];function lN(n,o){1&n&&e.nrm(0,"td",4)}function cN(n,o){if(1&n&&(e.qex(0),e.DNE(1,lN,1,0,"td",3),e.bVm()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.groups)}}function dN(n,o){1&n&&e.nrm(0,"td",5)}function uN(n,o){}function hN(n,o){if(1&n&&(e.j41(0,"td",8),e.DNE(1,uN,0,0,"ng-template",9),e.k0s()),2&n){const t=e.XpG().$implicit,i=e.XpG(2);e.AVh("k-grid-footer-sticky",t.sticky),e.Y8G("logicalRowIndex",i.logicalRowIndex)("logicalColIndex",i.logicalColumnIndex(t))("ngClass",t.footerClass)("ngStyle",t.sticky?i.addStickyStyles(t):t.footerStyle),e.R7$(),e.Y8G("templateContext",e.ziG(7,uc,t.footerTemplateRef,t.leafIndex,t,t))}}function pN(n,o){if(1&n&&(e.qex(0),e.DNE(1,hN,2,12,"td",7),e.bVm()),2&n){const t=o.$implicit,i=e.XpG(2);e.R7$(),e.Y8G("ngIf",!i.isColumnGroupComponent(t))}}function mN(n,o){if(1&n&&(e.qex(0),e.DNE(1,pN,2,1,"ng-container",6),e.bVm()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.columnsToRender)("ngForTrackBy",t.trackByIndex)}}function gN(n,o){}function fN(n,o){if(1&n&&(e.j41(0,"div",13),e.DNE(1,gN,0,0,"ng-template",9),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.Y8G("templateContext",e.ziG(1,uc,t.footerTemplateRef,t.leafIndex,t,t))}}function _N(n,o){if(1&n&&(e.qex(0),e.DNE(1,fN,2,6,"div",12),e.bVm()),2&n){const t=o.$implicit;e.R7$(),e.Y8G("ngIf",t.footerTemplateRef)}}function vN(n,o){if(1&n&&(e.qex(0),e.j41(1,"td",10)(2,"div",11),e.DNE(3,_N,2,1,"ng-container",6),e.k0s()(),e.bVm()),2&n){const t=e.XpG();e.R7$(),e.Y8G("logicalRowIndex",t.logicalRowIndex)("logicalColIndex",t.detailTemplate?1:0),e.R7$(2),e.Y8G("ngForOf",t.columnsToRender)("ngForTrackBy",t.trackByIndex)}}const CN=["kendoGridCell",""],SN=n=>({$implicit:n});function bN(n,o){if(1&n&&(e.qex(0),e.EFF(1),e.bVm()),2&n){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.displayTitle," ")}}function EN(n,o){}function kN(n,o){if(1&n&&(e.qex(0),e.EFF(1),e.nI1(2,"valueOf"),e.bVm()),2&n){const t=e.XpG(3).$implicit,i=e.XpG(2);e.R7$(),e.JRh(e.brH(2,1,i.dataItem,t.field,t.format))}}function RN(n,o){if(1&n&&(e.qex(0),e.nrm(1,"kendo-checkbox",14),e.bVm()),2&n){const t=e.XpG(6);e.R7$(),e.Y8G("kendoGridSelectionCheckbox",t.rowIndex)("inputAttributes",e.eq3(4,hc,t.selectionCheckboxLabel))("title",t.selectionCheckboxLabel),e.BMQ("id",t.selectionCheckboxId)}}function wN(n,o){if(1&n&&e.nrm(0,"kendo-checkbox",16),2&n){const t=e.XpG(7);e.Y8G("kendoGridSelectionCheckbox",t.rowIndex)("inputAttributes",e.eq3(5,hc,t.selectionCheckboxLabel))("title",t.selectionCheckboxLabel)("disabled",!0),e.BMQ("id",t.selectionCheckboxId)}}function IN(n,o){if(1&n&&e.DNE(0,wN,1,7,"kendo-checkbox",15),2&n){const t=e.XpG(4).$implicit;e.Y8G("ngIf",t.showDisabledCheckbox)}}function DN(n,o){if(1&n&&(e.qex(0),e.DNE(1,RN,2,6,"ng-container",10)(2,IN,1,1,"ng-template",null,2,e.C5r),e.bVm()),2&n){const t=e.sdS(3),i=e.XpG(3).$implicit,s=e.XpG(2);e.R7$(),e.Y8G("ngIf",s.isRowSelectable(i))("ngIfElse",t)}}function TN(n,o){if(1&n&&e.nrm(0,"kendo-icon-wrapper",18),2&n){const t=e.XpG(6);e.Y8G("svgIcon",t.reorderIcon)}}function xN(n,o){}function ON(n,o){if(1&n&&e.DNE(0,xN,0,0,"ng-template",13),2&n){const t=e.XpG(4).$implicit,i=e.XpG(2);e.Y8G("ngTemplateOutlet",t.rowDragHandleTemplateRef)("ngTemplateOutletContext",i.rowReorderTemplateContext)}}function MN(n,o){if(1&n&&(e.qex(0),e.DNE(1,TN,1,1,"kendo-icon-wrapper",17)(2,ON,1,2,null,4),e.bVm()),2&n){const t=e.XpG(3).$implicit;e.R7$(),e.Y8G("ngIf",!(null!=t.dragHandleTemplate&&t.dragHandleTemplate.first)),e.R7$(),e.Y8G("ngIf",null==t.dragHandleTemplate?null:t.dragHandleTemplate.first)}}function yN(n,o){if(1&n&&(e.qex(0),e.DNE(1,kN,3,5,"ng-container",4)(2,DN,4,2,"ng-container",4)(3,MN,3,2,"ng-container",4),e.bVm()),2&n){const t=e.XpG(2).$implicit,i=e.XpG(2);e.R7$(),e.Y8G("ngIf",i.isBoundColumn(t)),e.R7$(),e.Y8G("ngIf",i.isCheckboxColumn(t)&&!i.isNew),e.R7$(),e.Y8G("ngIf",i.isRowReorderColumn(t)&&!i.isNew)}}function NN(n,o){}function GN(n,o){if(1&n&&(e.qex(0),e.DNE(1,yN,4,3,"ng-container",10)(2,NN,0,0,"ng-template",13,1,e.C5r),e.bVm()),2&n){const t=e.sdS(3),i=e.XpG().$implicit,s=e.XpG(2);e.R7$(),e.Y8G("ngIf",!i.templateRef)("ngIfElse",t),e.R7$(),e.Y8G("ngTemplateOutlet",i.templateRef)("ngTemplateOutletContext",s.getTemplateContext(i))}}function AN(n,o){if(1&n&&e.nrm(0,"kendo-numerictextbox",24),2&n){const t=e.XpG(3).$implicit,i=e.XpG(2);e.Y8G("format",i.format)("formControl",i.formGroup.get(t.field))}}function PN(n,o){if(1&n&&e.nrm(0,"kendo-datepicker",24),2&n){const t=e.XpG(3).$implicit,i=e.XpG(2);e.Y8G("format",i.format)("formControl",i.formGroup.get(t.field))}}function FN(n,o){if(1&n&&e.nrm(0,"kendo-checkbox",25),2&n){const t=e.XpG(3).$implicit,i=e.XpG(2);e.Y8G("formControl",i.formGroup.get(t.field))}}function BN(n,o){if(1&n&&e.nrm(0,"kendo-textbox",25),2&n){const t=e.XpG(3).$implicit,i=e.XpG(2);e.Y8G("formControl",i.formGroup.get(t.field))}}function LN(n,o){if(1&n&&(e.qex(0,20),e.DNE(1,AN,1,2,"kendo-numerictextbox",21)(2,PN,1,2,"kendo-datepicker",21)(3,FN,1,1,"kendo-checkbox",22)(4,BN,1,1,"kendo-textbox",23),e.bVm()),2&n){const t=e.XpG(2).$implicit;e.Y8G("ngSwitch",t.editor),e.R7$(),e.Y8G("ngSwitchCase","numeric"),e.R7$(),e.Y8G("ngSwitchCase","date"),e.R7$(),e.Y8G("ngSwitchCase","boolean")}}function UN(n,o){}function VN(n,o){if(1&n&&e.DNE(0,UN,0,0,"ng-template",13),2&n){const t=e.XpG(2).$implicit,i=e.XpG(2);e.Y8G("ngTemplateOutlet",t.editTemplateRef)("ngTemplateOutletContext",i.getEditTemplateContext(t))}}function zN(n,o){if(1&n&&(e.qex(0),e.DNE(1,LN,5,4,"ng-container",19)(2,VN,1,2,null,4),e.bVm()),2&n){const t=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",!t.editTemplateRef),e.R7$(),e.Y8G("ngIf",t.editTemplateRef)}}function KN(n,o){if(1&n&&(e.j41(0,"div",8)(1,"div",9),e.DNE(2,bN,2,1,"ng-container",10)(3,EN,0,0,"ng-template",11,0,e.C5r),e.k0s(),e.j41(5,"div",12),e.DNE(6,GN,4,4,"ng-container",4)(7,zN,3,2,"ng-container",4),e.k0s()()),2&n){const t=o.$implicit,i=e.sdS(4),s=e.XpG(2);e.AVh("k-grid-stack-edit-cell",s.isEdited(t))("k-drag-cell",s.isRowReorderColumn(t)&&!s.isNew)("k-command-cell",s.isCommand(t)),e.Y8G("kendoGridFocusable",!s.isCommand(t)),e.R7$(2),e.Y8G("ngIf",!t.headerTemplateRef)("ngIfElse",i),e.R7$(),e.Y8G("templateContext",e.ziG(12,uc,t.headerTemplateRef,t.leafIndex,t,t)),e.R7$(3),e.Y8G("ngIf",!s.isEdited(t)),e.R7$(),e.Y8G("ngIf",s.isEdited(t))}}function $N(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",26)(1,"div",12)(2,"button",27),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.toggleRow(s.item.index,s.item.data))}),e.EFF(3),e.k0s()()()}if(2&n){const t=e.XpG(2);e.R7$(2),e.Y8G("icon",t.detailButtonIconName(t.item))("svgIcon",t.detailButtonSvgIcon(t.item)),e.R7$(),e.SpI(" ",t.detailButtonText(t.item)," ")}}function jN(n,o){if(1&n&&(e.qex(0),e.j41(1,"div",5),e.DNE(2,KN,8,17,"div",6)(3,$N,4,3,"div",7),e.k0s(),e.bVm()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngClass",t.stackedRowClass)("ngStyle",t.stackedRowStyle),e.R7$(),e.Y8G("ngForOf",t.columns),e.R7$(),e.Y8G("ngIf",null==t.detailTemplate?null:t.detailTemplate.showIf(t.item.data,t.item.index))}}function HN(n,o){}function XN(n,o){if(1&n&&e.DNE(0,HN,0,0,"ng-template",13),2&n){const t=e.XpG(4);e.Y8G("ngTemplateOutlet",t.column.templateRef)("ngTemplateOutletContext",t.getTemplateContext())}}function WN(n,o){if(1&n&&(e.qex(0),e.EFF(1),e.nI1(2,"valueOf"),e.bVm()),2&n){const t=o.$implicit,i=e.XpG(5);e.R7$(),e.SpI(" ",e.brH(2,1,i.dataItem,t.field,t.format)," ")}}function YN(n,o){if(1&n&&(e.qex(0),e.DNE(1,WN,3,5,"ng-container",29),e.bVm()),2&n){const t=e.XpG(4);e.R7$(),e.Y8G("ngForOf",t.children)}}function qN(n,o){if(1&n&&(e.qex(0),e.EFF(1),e.nI1(2,"valueOf"),e.bVm()),2&n){const t=e.XpG(4);e.R7$(),e.JRh(e.brH(2,1,t.dataItem,t.column.field,t.column.format))}}function JN(n,o){if(1&n&&(e.qex(0),e.nrm(1,"kendo-checkbox",14),e.bVm()),2&n){const t=e.XpG(5);e.R7$(),e.Y8G("kendoGridSelectionCheckbox",t.rowIndex)("inputAttributes",e.eq3(4,hc,t.selectionCheckboxLabel))("title",t.selectionCheckboxLabel),e.BMQ("id",t.selectionCheckboxId)}}function QN(n,o){if(1&n&&e.nrm(0,"kendo-checkbox",16),2&n){const t=e.XpG(6);e.Y8G("kendoGridSelectionCheckbox",t.rowIndex)("inputAttributes",e.eq3(5,hc,t.selectionCheckboxLabel))("title",t.selectionCheckboxLabel)("disabled",!0),e.BMQ("id",t.selectionCheckboxId)}}function ZN(n,o){if(1&n&&e.DNE(0,QN,1,7,"kendo-checkbox",15),2&n){const t=e.XpG(5);e.Y8G("ngIf",t.column.showDisabledCheckbox)}}function eG(n,o){if(1&n&&(e.qex(0),e.DNE(1,JN,2,6,"ng-container",10)(2,ZN,1,1,"ng-template",null,2,e.C5r),e.bVm()),2&n){const t=e.sdS(3),i=e.XpG(4);e.R7$(),e.Y8G("ngIf",i.isRowSelectable())("ngIfElse",t)}}function tG(n,o){if(1&n&&e.nrm(0,"kendo-icon-wrapper",18),2&n){const t=e.XpG(5);e.Y8G("svgIcon",t.reorderIcon)}}function iG(n,o){}function nG(n,o){if(1&n&&e.DNE(0,iG,0,0,"ng-template",13),2&n){const t=e.XpG(5);e.Y8G("ngTemplateOutlet",t.column.rowDragHandleTemplateRef)("ngTemplateOutletContext",t.rowReorderTemplateContext)}}function sG(n,o){if(1&n&&(e.qex(0),e.DNE(1,tG,1,1,"kendo-icon-wrapper",17)(2,nG,1,2,null,4),e.bVm()),2&n){const t=e.XpG(4);e.R7$(),e.Y8G("ngIf",!(null!=t.column.dragHandleTemplate&&t.column.dragHandleTemplate.first)),e.R7$(),e.Y8G("ngIf",null==t.column.dragHandleTemplate?null:t.column.dragHandleTemplate.first)}}function oG(n,o){if(1&n&&(e.qex(0),e.DNE(1,XN,1,2,null,4)(2,YN,2,1,"ng-container",4)(3,qN,3,5,"ng-container",4)(4,eG,4,2,"ng-container",4)(5,sG,3,2,"ng-container",4),e.bVm()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",t.column.templateRef),e.R7$(),e.Y8G("ngIf",t.isSpanColumn),e.R7$(),e.Y8G("ngIf",t.isBoundColumn()),e.R7$(),e.Y8G("ngIf",t.isCheckboxColumn()&&!t.isNew),e.R7$(),e.Y8G("ngIf",t.isRowReorderColumn()&&!t.isNew)}}function rG(n,o){}function aG(n,o){if(1&n&&e.DNE(0,rG,0,0,"ng-template",13),2&n){const t=e.XpG(4);e.Y8G("ngTemplateOutlet",t.loadingTemplate)("ngTemplateOutletContext",e.eq3(2,SN,t.column))}}function lG(n,o){1&n&&e.nrm(0,"div",31)}function cG(n,o){if(1&n&&e.DNE(0,aG,1,4,null,4)(1,lG,1,0,"div",30),2&n){const t=e.XpG(3);e.Y8G("ngIf",t.loadingTemplate),e.R7$(),e.Y8G("ngIf",!t.loadingTemplate)}}function dG(n,o){if(1&n&&(e.qex(0),e.DNE(1,oG,6,5,"ng-container",10)(2,cG,2,2,"ng-template",null,3,e.C5r),e.bVm()),2&n){const t=e.sdS(3),i=e.XpG(2);e.R7$(),e.Y8G("ngIf",!i.showLoading)("ngIfElse",t)}}function uG(n,o){}function hG(n,o){if(1&n&&e.DNE(0,uG,0,0,"ng-template",13),2&n){const t=e.XpG(3);e.Y8G("ngTemplateOutlet",t.column.editTemplateRef)("ngTemplateOutletContext",t.getEditTemplateContext())}}function pG(n,o){if(1&n&&e.nrm(0,"kendo-numerictextbox",24),2&n){const t=e.XpG(4);e.Y8G("format",t.format)("formControl",t.formGroup.get(t.column.field))}}function mG(n,o){if(1&n&&e.nrm(0,"kendo-datepicker",24),2&n){const t=e.XpG(4);e.Y8G("format",t.format)("formControl",t.formGroup.get(t.column.field))}}function gG(n,o){if(1&n&&e.nrm(0,"kendo-checkbox",25),2&n){const t=e.XpG(4);e.Y8G("formControl",t.formGroup.get(t.column.field))}}function fG(n,o){if(1&n&&e.nrm(0,"kendo-textbox",25),2&n){const t=e.XpG(4);e.Y8G("formControl",t.formGroup.get(t.column.field))}}function _G(n,o){if(1&n&&(e.qex(0,20),e.DNE(1,pG,1,2,"kendo-numerictextbox",21)(2,mG,1,2,"kendo-datepicker",21)(3,gG,1,1,"kendo-checkbox",22)(4,fG,1,1,"kendo-textbox",23),e.bVm()),2&n){const t=e.XpG(3);e.Y8G("ngSwitch",t.column.editor),e.R7$(),e.Y8G("ngSwitchCase","numeric"),e.R7$(),e.Y8G("ngSwitchCase","date"),e.R7$(),e.Y8G("ngSwitchCase","boolean")}}function vG(n,o){if(1&n&&(e.qex(0),e.DNE(1,hG,1,2,null,4)(2,_G,5,4,"ng-container",19),e.bVm()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.column.editTemplateRef),e.R7$(),e.Y8G("ngIf",!t.column.editTemplateRef)}}function CG(n,o){if(1&n&&(e.qex(0)(1,20),e.DNE(2,dG,4,2,"ng-container",28)(3,vG,3,2,"ng-container",28),e.bVm()()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngSwitch",t.isEdited()),e.R7$(),e.Y8G("ngSwitchCase",!1),e.R7$(),e.Y8G("ngSwitchCase",!0)}}const SG=["kendoGridTableBody",""],bG=n=>({templateRef:n}),bl=(n,o)=>({dataItem:n,index:o}),Nv=(n,o,t)=>({dataItem:n,rowIndex:o,$implicit:t}),Gv=(n,o,t,i,s,r)=>({templateRef:n,group:o,field:t,column:i,aggregates:s,$implicit:r});function EG(n,o){1&n&&e.nrm(0,"td",9)}function kG(n,o){if(1&n&&(e.qex(0),e.DNE(1,EG,1,0,"td",8),e.bVm()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.groups)}}function RG(n,o){if(1&n&&e.nrm(0,"td",10),2&n){const t=e.XpG(2);e.Y8G("logicalRowIndex",t.addRowLogicalIndex())("logicalColIndex",0)}}function wG(n,o){if(1&n&&e.nrm(0,"td",12),2&n){const t=e.XpG(3);e.Y8G("rowIndex",-1)("columnIndex",0)("isNew",!0)("columns",t.allColumns)("dataItem",t.newDataItem)("logicalRowIndex",t.addRowLogicalIndex())("logicalColIndex",0)}}function IG(n,o){if(1&n&&(e.qex(0),e.DNE(1,wG,1,7,"td",11),e.bVm()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.rowsToRender)("ngForTrackBy",t.trackByWrapper)}}function DG(n,o){if(1&n&&e.nrm(0,"td",14),2&n){const t=o.$implicit,i=o.index,s=e.XpG(3);e.xc7("left",t.sticky?"0":void 0),e.AVh("k-grid-content-sticky",t.sticky),e.Y8G("rowIndex",-1)("columnIndex",s.lockedColumnsCount+i)("isNew",!0)("column",t)("dataItem",s.newDataItem)("ngClass",t.cssClass)("ngStyle",t.sticky?s.addStickyColumnStyles(t):t.style)("logicalRowIndex",s.addRowLogicalIndex())("logicalColIndex",s.logicalColIndex(t))("colSpan",t.colspan),e.BMQ("colspan",t.colspan)("role",t.tableCellsRole)}}function TG(n,o){if(1&n&&e.DNE(0,DG,1,16,"td",13),2&n){const t=e.XpG(2);e.Y8G("ngForOf",t.columns)("ngForTrackBy",t.trackByColumns)}}function xG(n,o){if(1&n&&(e.qex(0),e.j41(1,"tr",5),e.DNE(2,kG,2,1,"ng-container",1)(3,RG,1,2,"td",6)(4,IG,2,2,"ng-container",7)(5,TG,1,2,"ng-template",null,0,e.C5r),e.k0s(),e.bVm()),2&n){const t=e.sdS(6),i=e.XpG();e.R7$(),e.Y8G("logicalRowIndex",i.addRowLogicalIndex())("logicalSlaveRow",i.lockedColumnsCount>0&&!i.isStackedMode)("logicalCellsCount",i.columns.length)("logicalSlaveCellsCount",i.unlockedColumnsCount())("totalColumns",i.totalColumns),e.R7$(),e.Y8G("ngIf",!i.skipGroupDecoration),e.R7$(),e.Y8G("ngIf",(null==i.detailTemplate?null:i.detailTemplate.templateRef)&&!i.isStackedMode),e.R7$(),e.Y8G("ngIf",i.isStackedMode)("ngIfElse",t)}}function OG(n,o){}function MG(n,o){if(1&n&&e.DNE(0,OG,0,0,"ng-template",17),2&n){const t=e.XpG(2);e.Y8G("templateContext",e.eq3(1,bG,null==t.noRecordsTemplate?null:t.noRecordsTemplate.templateRef))}}function yG(n,o){if(1&n&&(e.qex(0),e.EFF(1),e.bVm()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.noRecordsText," ")}}function NG(n,o){if(1&n&&(e.j41(0,"tr",15)(1,"td",16),e.DNE(2,MG,1,3,null,1)(3,yG,2,1,"ng-container",1),e.k0s()()),2&n){const t=e.XpG();e.R7$(),e.BMQ("colspan",t.colSpan),e.R7$(),e.Y8G("ngIf",null==t.noRecordsTemplate?null:t.noRecordsTemplate.templateRef),e.R7$(),e.Y8G("ngIf",!(null!=t.noRecordsTemplate&&t.noRecordsTemplate.templateRef))}}function GG(n,o){if(1&n&&e.nrm(0,"tr",22),2&n){const t=e.XpG(),i=t.$implicit,s=t.index,r=e.XpG();e.Y8G("columns",r.columns)("groups",r.groups)("item",i)("hasDetails",!(null==r.detailTemplate||!r.detailTemplate.templateRef))("skipGroupDecoration",r.skipGroupDecoration)("hasGroupHeaderColumn",r.hasGroupHeaderColumn)("groupHeaderColumns",r.groupHeaderColumns)("rowIndex",s+1)("totalColumnsCount",r.totalColumnsCount)("logicalRowIndex",r.logicalRowIndex(s))("logicalSlaveRow",r.lockedColumnsCount>0&&!r.isStackedMode)("totalColumns",r.totalColumns)("logicalCellsCount",r.columns.length)("logicalSlaveCellsCount",r.groupHeaderSlaveCellsCount)}}function AG(n,o){1&n&&e.nrm(0,"td",9)}function PG(n,o){if(1&n&&(e.qex(0),e.DNE(1,AG,1,0,"td",8),e.bVm()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngForOf",t.groups)}}function FG(n,o){if(1&n){const t=e.RV6();e.j41(0,"a",27),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3).$implicit,r=e.XpG();return e.Njj(r.toggleRow(s.index,s.data))}),e.nrm(1,"kendo-icon-wrapper",28),e.k0s()}if(2&n){const t=e.XpG(3).$implicit,i=e.XpG();e.BMQ("title",i.detailButtonTitle(t))("aria-label",i.detailButtonTitle(t)),e.R7$(),e.Y8G("name",i.detailButtonIconName(t))("svgIcon",i.detailButtonSvgIcon(t))}}function BG(n,o){if(1&n&&(e.j41(0,"td",25),e.DNE(1,FG,2,4,"a",26),e.k0s()),2&n){const t=e.XpG(2),i=t.$implicit,s=t.index,r=e.XpG();e.Y8G("logicalRowIndex",r.logicalRowIndex(s))("logicalColIndex",0)("dataRowIndex",i.index)("dataItem",i.data)("detailExpandCell",!0),e.R7$(),e.Y8G("ngIf",r.detailTemplate.showIf(i.data,i.index))}}function LG(n,o){if(1&n&&(e.qex(0),e.nrm(1,"td",29),e.bVm()),2&n){const t=e.XpG(2),i=t.$implicit,s=t.index,r=e.XpG();e.R7$(),e.AVh("k-touch-action-none",r.isSelectable(e.l_i(17,bl,i.data,i.index))&&r.selectable.drag),e.Y8G("rowIndex",i.index)("detailTemplate",r.detailTemplate)("item",i)("columnIndex",0)("columns",r.columns)("dataItem",i.data)("isLoading",r.isLoading)("isVirtual",r.isVirtual)("loadingTemplate",r.cellLoadingTemplate)("logicalRowIndex",r.logicalRowIndex(s))("logicalColIndex",0)("dataRowIndex",i.index)("dataItem",i.data)("colIndex",0),e.BMQ("data-kendo-grid-column-index",0)}}function UG(n,o){if(1&n&&e.nrm(0,"td",31),2&n){const t=e.XpG(),i=t.$implicit,s=t.index,r=e.XpG(3),l=r.$implicit,u=r.index,f=e.XpG();e.AVh("k-grid-content-sticky",i.sticky)("k-touch-action-none",f.isSelectable(e.l_i(31,bl,l.data,l.index))&&f.selectable.drag)("k-grid-edit-cell",f.isEditingCell(l.index,i))("k-selected",f.isSelectable&&f.cellSelectionService.isCellSelected(l,i))("k-highlighted",null==l.cells[f.lockedColumnsCount+s]?null:l.cells[f.lockedColumnsCount+s].isHighlighted),e.Y8G("rowIndex",l.index)("columnIndex",f.lockedColumnsCount+s)("column",i)("columns",f.allColumns)("dataItem",l.data)("isLoading",f.isLoading)("isVirtual",f.isVirtual)("loadingTemplate",f.cellLoadingTemplate)("logicalRowIndex",f.logicalRowIndex(u))("logicalColIndex",f.logicalColIndex(i))("dataRowIndex",l.index)("dataItem",l.data)("colIndex",s)("colSpan",i.colspan)("rowSpan",null==l.cells[f.lockedColumnsCount+s]?null:l.cells[f.lockedColumnsCount+s].rowspan)("ngClass",i.cssClass)("ngStyle",i.sticky?f.addStickyColumnStyles(i):i.style),e.BMQ("data-kendo-grid-column-index",f.lockedColumnsCount+s)("role",i.tableCellsRole)("aria-selected",f.lockedColumnsCount<1&&f.isSelectable(e.l_i(34,bl,l.data,l.index))?f.isAriaSelected(l,i):void 0)("colspan",i.colspan)}}function VG(n,o){if(1&n&&(e.qex(0),e.DNE(1,UG,1,37,"td",30),e.bVm()),2&n){const t=o.index,i=e.XpG(3).$implicit,s=e.XpG();e.R7$(),e.Y8G("ngIf",!(null!=i.cells&&null!=i.cells[s.lockedColumnsCount+t]&&i.cells[s.lockedColumnsCount+t].skip))}}function zG(n,o){if(1&n&&e.DNE(0,VG,2,1,"ng-container",3),2&n){const t=e.XpG(3);e.Y8G("ngForOf",t.columns)("ngForTrackBy",t.trackByColumns)}}function KG(n,o){if(1&n&&(e.j41(0,"tr",23),e.DNE(1,PG,2,1,"ng-container",1)(2,BG,2,6,"td",24)(3,LG,2,20,"ng-container",7)(4,zG,1,2,"ng-template",null,0,e.C5r),e.k0s()),2&n){const t=e.sdS(5),i=e.XpG(),s=i.$implicit,r=i.index,l=e.XpG();e.HbH(l.isOdd(s)?"k-table-alt-row":""),e.AVh("k-grid-row-sticky",!!l.rowSticky&&l.rowSticky(e.l_i(29,bl,s.data,s.index)))("k-master-row",!0)("k-expanded",s.isExpanded&&!l.isStackedMode)("k-grid-edit-row",l.isEditingRow(s.index))("k-selected",l.isSelectable(e.l_i(32,bl,s.data,s.index))&&l.isRowSelected(s))("k-highlighted",s.isHighlighted),e.Y8G("dataRowIndex",s.index)("dataItem",s.data)("logicalRowIndex",l.logicalRowIndex(r))("logicalSlaveRow",l.lockedColumnsCount>0&&!l.isStackedMode)("totalColumns",l.totalColumns)("logicalCellsCount",l.columns.length)("logicalSlaveCellsCount",l.unlockedColumnsCount(s))("ngClass",l.rowClass(e.l_i(35,bl,s.data,s.index))),e.BMQ("aria-selected",l.lockedColumnsCount<1||l.isStackedMode?l.isSelectable(e.l_i(38,bl,s.data,s.index))&&l.isRowSelected(s):void 0)("data-kendo-grid-item-index",s.index),e.R7$(),e.Y8G("ngIf",!l.skipGroupDecoration),e.R7$(),e.Y8G("ngIf",(null==l.detailTemplate?null:l.detailTemplate.templateRef)&&!l.isStackedMode),e.R7$(),e.Y8G("ngIf",l.isStackedMode)("ngIfElse",t)}}function $G(n,o){1&n&&e.nrm(0,"td",37)}function jG(n,o){}function HG(n,o){if(1&n&&(e.qex(0),e.DNE(1,$G,1,0,"td",33),e.nrm(2,"td",34),e.j41(3,"td",35),e.DNE(4,jG,0,0,"ng-template",36),e.k0s(),e.bVm()),2&n){const t=e.XpG(2),i=t.$implicit,s=t.index,r=e.XpG();e.R7$(),e.Y8G("ngForOf",r.groups),e.R7$(2),e.Y8G("logicalRowIndex",r.logicalRowIndex(s)+1)("logicalColIndex",0)("dataRowIndex",i.index)("dataItem",i.data)("colIndex",0)("colSpan",r.allColumnsSpan+1),e.BMQ("colspan",r.columnsSpan),e.R7$(),e.Y8G("ngTemplateOutlet",r.detailTemplate.templateRef)("ngTemplateOutletContext",e.sMw(10,Nv,i.data,i.index,i.data))}}function XG(n,o){}function WG(n,o){if(1&n&&(e.qex(0),e.j41(1,"td",35),e.DNE(2,XG,0,0,"ng-template",36),e.k0s(),e.bVm()),2&n){const t=e.XpG(2),i=t.$implicit,s=t.index,r=e.XpG();e.R7$(),e.Y8G("logicalRowIndex",r.logicalRowIndex(s))("logicalColIndex",0)("dataRowIndex",i.index)("dataItem",i.data)("colIndex",0)("colSpan",r.allColumnsSpan+1),e.BMQ("colspan",r.columnsSpan),e.R7$(),e.Y8G("ngTemplateOutlet",r.detailTemplate.templateRef)("ngTemplateOutletContext",e.sMw(9,Nv,i.data,i.index,i.data))}}function YG(n,o){if(1&n&&(e.j41(0,"tr",32),e.DNE(1,HG,5,14,"ng-container",1)(2,WG,3,13,"ng-container",1),e.k0s()),2&n){const t=e.XpG(),i=t.$implicit,s=t.index,r=e.XpG();e.Y8G("dataRowIndex",i.index)("dataItem",i.data)("logicalRowIndex",r.isStackedMode?r.logicalRowIndex(s):r.logicalRowIndex(s)+1)("logicalSlaveRow",!1)("logicalCellsCount",1),e.R7$(),e.Y8G("ngIf",!r.isStackedMode),e.R7$(),e.Y8G("ngIf",r.isStackedMode)}}function qG(n,o){1&n&&e.nrm(0,"td",37)}function JG(n,o){if(1&n&&(e.qex(0),e.DNE(1,qG,1,0,"td",33),e.bVm()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngForOf",t.groups)}}function QG(n,o){if(1&n&&e.nrm(0,"td",10),2&n){const t=e.XpG(2).index,i=e.XpG();e.Y8G("logicalRowIndex",i.logicalRowIndex(t))("logicalColIndex",0)}}function ZG(n,o){}function eA(n,o){if(1&n&&(e.j41(0,"td",40),e.DNE(1,ZG,0,0,"ng-template",17),e.k0s()),2&n){const t=o.$implicit,i=e.XpG(3),s=i.$implicit,r=i.index,l=e.XpG();e.Y8G("logicalRowIndex",l.logicalRowIndex(r))("logicalColIndex",l.logicalColIndex(t)),e.BMQ("data-skip",l.skipGroupDecoration),e.R7$(),e.Y8G("templateContext",e.l4e(4,Gv,t.groupFooterTemplateRef,s.data,t.field,t,null==s.data?null:s.data.aggregates,null==s.data?null:s.data.aggregates))}}function tA(n,o){if(1&n&&(e.qex(0),e.DNE(1,eA,2,11,"td",39),e.bVm()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngForOf",t.footerColumns)("ngForTrackBy",t.trackByColumns)}}function iA(n,o){}function nA(n,o){if(1&n&&(e.j41(0,"div",44),e.DNE(1,iA,0,0,"ng-template",17),e.k0s()),2&n){const t=e.XpG().$implicit,i=e.XpG(3).$implicit;e.R7$(),e.Y8G("templateContext",e.l4e(1,Gv,t.groupFooterTemplateRef,i.data,t.field,t,null==i.data?null:i.data.aggregates,null==i.data?null:i.data.aggregates))}}function sA(n,o){if(1&n&&(e.qex(0),e.DNE(1,nA,2,8,"div",43),e.bVm()),2&n){const t=o.$implicit;e.R7$(),e.Y8G("ngIf",t.groupFooterTemplateRef)}}function oA(n,o){if(1&n&&(e.qex(0),e.j41(1,"td",40)(2,"div",41),e.DNE(3,sA,2,1,"ng-container",42),e.k0s()(),e.bVm()),2&n){const t=e.XpG(2).index,i=e.XpG();e.R7$(),e.Y8G("logicalRowIndex",i.logicalRowIndex(t))("logicalColIndex",i.hasDetailTemplate?1:0),e.BMQ("data-skip",i.skipGroupDecoration),e.R7$(2),e.Y8G("ngForOf",i.footerColumns)}}function rA(n,o){if(1&n&&(e.j41(0,"tr",38),e.DNE(1,JG,2,1,"ng-container",1)(2,QG,1,2,"td",6)(3,tA,2,2,"ng-container",1)(4,oA,4,4,"ng-container",1),e.k0s()),2&n){const t=e.XpG(),i=t.$implicit,s=t.index,r=e.XpG();e.Y8G("logicalRowIndex",r.logicalRowIndex(s))("logicalSlaveRow",r.lockedColumnsCount>0&&!r.isStackedMode)("totalColumns",r.totalColumns)("logicalCellsCount",r.columns.length)("logicalSlaveCellsCount",r.unlockedColumnsCount(i)),e.R7$(),e.Y8G("ngIf",!r.skipGroupDecoration),e.R7$(),e.Y8G("ngIf",(null==r.detailTemplate?null:r.detailTemplate.templateRef)&&!r.isStackedMode),e.R7$(),e.Y8G("ngIf",!r.isStackedMode),e.R7$(),e.Y8G("ngIf",r.isStackedMode)}}function aA(n,o){if(1&n&&(e.qex(0),e.DNE(1,GG,1,14,"tr",18)(2,KG,6,41,"tr",19)(3,YG,3,7,"tr",20)(4,rA,5,9,"tr",21),e.bVm()),2&n){const t=o.$implicit;e.R7$(),e.Y8G("ngIf","group"===t.type),e.R7$(),e.Y8G("ngIf",t.showDataItem),e.R7$(),e.Y8G("ngIf",t.showDetailRow),e.R7$(),e.Y8G("ngIf","footer"===t.type)}}function lA(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-resize-sensor",45),e.bIt("resize",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.resizeHandler())}),e.k0s()}}const xA=n=>({aggregates:n});function OA(n,o){}function MA(n,o){if(1&n&&e.DNE(0,OA,0,0,"ng-template",1),2&n){const t=e.XpG();e.Y8G("ngTemplateOutlet",null==t.statusBarTemplate?null:t.statusBarTemplate.templateRef)("ngTemplateOutletContext",e.eq3(2,xA,t.aggregates))}}const Av=["container"],yA=["lockedContainer"],NA=["lockedTable"],GA=["table"],ad=()=>[],AA=(n,o,t,i)=>({keydown:n,scroll:o,mousewheel:t,DOMMouseScroll:i});function PA(n,o){if(1&n&&(e.j41(0,"div",16),e.nrm(1,"div"),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.xc7("height",t.totalHeight,"px")}}function FA(n,o){if(1&n&&(e.j41(0,"div",13,2)(2,"div",6)(3,"table",14,3),e.nrm(5,"colgroup",8)(6,"tbody",15),e.k0s(),e.nrm(7,"kendo-resize-sensor"),e.k0s(),e.DNE(8,PA,2,2,"div",11),e.k0s()),2&n){const t=e.XpG();e.xc7("width",t.lockedWidth,"px"),e.Y8G("kendoEventsOutsideAngular",e.ziG(29,AA,t.lockedKeydown,t.lockedScroll,t.lockedMousewheel,t.lockedMousewheel))("scope",t),e.R7$(3),e.xc7("width",t.lockedWidth,"px"),e.Y8G("locked",!0)("size",t.size),e.R7$(2),e.Y8G("groups",t.groups)("columns",t.lockedLeafColumns)("detailTemplate",t.detailTemplate)("sort",t.sort),e.R7$(),e.Y8G("groups",t.groups)("isLocked",!0)("rowsToRender",t.allItems)("noRecordsText","")("columns",t.lockedLeafColumns)("totalColumnsCount",t.leafColumns.length)("totalColumns",t.columns)("detailTemplate",t.detailTemplate)("skip",t.skip)("selectable",t.selectable)("trackBy",t.trackBy)("filterable",t.filterable)("rowClass",t.rowClass)("isLoading",t.loading)("isVirtual",t.isVirtual)("cellLoadingTemplate",t.cellLoadingTemplate),e.R7$(2),e.Y8G("ngIf",t.isVirtual)}}function BA(n,o){1&n&&e.nrm(0,"kendo-resize-sensor")}function LA(n,o){1&n&&e.nrm(0,"kendo-resize-sensor")}function UA(n,o){if(1&n&&(e.j41(0,"div",16),e.nrm(1,"div"),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.xc7("height",t.totalHeight,"px")}}function VA(n,o){if(1&n&&(e.j41(0,"div",17),e.nrm(1,"div"),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.xc7("width",t.totalWidth,"px")}}function zA(n,o){}function KA(n,o){if(1&n&&e.DNE(0,zA,0,0,"ng-template",1),2&n){const t=e.XpG();e.Y8G("ngTemplateOutlet",t.toolbarTemplateRef)("ngTemplateOutletContext",t.context)}}const Pv=["filterItem"],$A=["filterContainer"];function jA(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-grid-filter-menu-container",5,1),e.bIt("keydown.shift.tab",function(s){return e.eBV(t),e.Njj(s.stopImmediatePropagation())})("close",function(){e.eBV(t),e.XpG();const s=e.sdS(1),r=e.XpG();return e.Njj(r.handleClose(s))}),e.k0s()}if(2&n){const t=e.XpG().$implicit,i=e.XpG();e.Y8G("column",i.getColumnComponent(t))("filter",i.filter)("isExpanded",!1)}}function HA(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-grid-columnmenu-item",3,0),e.bIt("focus",function(){e.eBV(t);const s=e.sdS(1),r=e.XpG();return e.Njj(r.onItemFocus(s))})("focusout",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.onItemFocusOut())})("keydown.enter",function(s){const r=e.eBV(t).index,l=e.XpG();return e.Njj(l.toggleItem(s,r))})("itemClick",function(){const s=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.navigateView(r.getColumnComponent(s)))}),e.DNE(2,jA,2,3,"ng-template",4),e.k0s()}if(2&n){const t=o.$implicit,i=e.sdS(1),s=e.XpG();e.Y8G("column",s.getColumnComponent(t))("text",t.title||s.getColumnComponent(t).field)("indicatorIcon",s.isFilterApplied(t))("expanded",!1)("focused",s.isItemFocused(i))}}const JA=["input"];function QA(n,o){if(1&n&&e.nrm(0,"kendo-textbox",9),2&n){const t=e.XpG(2);e.Y8G("formControl",t.control.formControl)}}function ZA(n,o){if(1&n&&e.nrm(0,"kendo-numerictextbox",9),2&n){const t=e.XpG(2);e.Y8G("formControl",t.control.formControl)}}function eP(n,o){if(1&n&&e.nrm(0,"kendo-datepicker",9),2&n){const t=e.XpG(2);e.Y8G("formControl",t.control.formControl)}}function tP(n,o){if(1&n&&(e.j41(0,"kendo-floatinglabel",8),e.DNE(1,QA,1,1,"kendo-textbox",5)(2,ZA,1,1,"kendo-numerictextbox",5)(3,eP,1,1,"kendo-datepicker",5),e.k0s()),2&n){const t=e.XpG();e.Y8G("text",t.control.label),e.R7$(),e.Y8G("ngIf","text"===t.control.dataType),e.R7$(),e.Y8G("ngIf","numeric"===t.control.dataType),e.R7$(),e.Y8G("ngIf","date"===t.control.dataType)}}function iP(n,o){if(1&n&&e.nrm(0,"kendo-label",10),2&n){const t=e.XpG();e.xc7("align-items","start"),e.Y8G("text",t.control.label)("for",t.input)}}function nP(n,o){if(1&n&&e.nrm(0,"kendo-textbox",9,0),2&n){const t=e.XpG();e.Y8G("formControl",t.control.formControl)}}function sP(n,o){if(1&n&&e.nrm(0,"kendo-numerictextbox",9,0),2&n){const t=e.XpG();e.Y8G("formControl",t.control.formControl)}}function oP(n,o){if(1&n&&e.nrm(0,"kendo-datepicker",9,0),2&n){const t=e.XpG();e.Y8G("formControl",t.control.formControl)}}function rP(n,o){if(1&n&&e.nrm(0,"kendo-label",13),2&n){e.XpG();const t=e.sdS(2),i=e.XpG();e.Y8G("for",t)("text",i.control.label)}}function aP(n,o){if(1&n&&(e.j41(0,"div",11),e.nrm(1,"kendo-checkbox",9,1),e.DNE(3,rP,1,2,"kendo-label",12),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("formControl",t.control.formControl),e.R7$(2),e.Y8G("ngIf",t.control.label)}}function lP(n,o){if(1&n&&(e.j41(0,"kendo-formhint"),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.JRh(t.control.hint)}}function cP(n,o){if(1&n&&(e.j41(0,"kendo-formerror"),e.EFF(1),e.k0s()),2&n){const t=o.$implicit,i=e.XpG(2);e.R7$(),e.JRh(i.control.errors?i.control.errors[t.key]:i.messageFor("formValidationError",t.key,i.control.name))}}function dP(n,o){if(1&n&&(e.qex(0),e.DNE(1,cP,2,1,"kendo-formerror",14),e.nI1(2,"keyvalue"),e.bVm()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,null==t.control||null==t.control.formControl?null:t.control.formControl.errors))}}function uP(n,o){if(1&n&&(e.qex(0),e.nrm(1,"kendo-form-formfield",5),e.bVm()),2&n){const t=e.XpG().$implicit,i=e.XpG();e.R7$(),e.Y8G("control",t)("showError",i.formSettings.showErrors)("floatingLabel",i.formSettings.floatingLabels)}}function hP(n,o){if(1&n&&e.eu8(0,6),2&n){const t=e.XpG().$implicit;e.Y8G("ngTemplateOutlet",t.template)("ngTemplateOutletContext",t.templateContext)}}function pP(n,o){if(1&n&&(e.qex(0),e.DNE(1,uP,2,3,"ng-container",4)(2,hP,1,2,"ng-template",null,0,e.C5r),e.bVm()),2&n){const t=o.$implicit,i=e.sdS(3);e.R7$(),e.Y8G("ngIf",!t.template)("ngIfElse",i)}}function mP(n,o){if(1&n&&(e.j41(0,"button",9),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.AVh("k-form-submit","submit"===t.actionType),e.Y8G("size",t.size)("themeColor",t.themeColor||"submit"===t.actionType?"primary":void 0)("rounded",t.rounded)("svgIcon",t.svgIcon)("icon",t.icon),e.BMQ("type",t.actionType),e.R7$(),e.SpI(" ",t.text," ")}}function gP(n,o){if(1&n&&(e.j41(0,"div",7),e.DNE(1,mP,2,9,"button",8),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.actionButtons)}}const fP=["groupItem"];function _P(n,o){if(1&n){const t=e.RV6();e.j41(0,"span",9)(1,"span",12),e.bIt("click",function(s){e.eBV(t);const r=e.XpG().$implicit,l=e.XpG(2);return e.Njj(l.moveGroupUp(r,s))}),e.nrm(2,"kendo-icon-wrapper",13),e.k0s(),e.j41(3,"span",14),e.bIt("click",function(s){e.eBV(t);const r=e.XpG().$implicit,l=e.XpG(2);return e.Njj(l.moveGroupDown(r,s))}),e.nrm(4,"kendo-icon-wrapper",15),e.k0s()()}if(2&n){const t=e.XpG().index,i=e.XpG(2);e.R7$(),e.AVh("k-disabled",0===t),e.BMQ("aria-disabled",0===t),e.R7$(),e.Y8G("svgIcon",i.upIcon)("size",i.iconSize),e.R7$(),e.AVh("k-disabled",t===i.groupedColumns.length-1),e.BMQ("aria-disabled",t===i.groupedColumns.length-1),e.R7$(),e.Y8G("svgIcon",i.downIcon)("size",i.iconSize)}}function vP(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",5,0),e.bIt("keydown",function(s){const r=e.eBV(t),l=r.$implicit,u=r.index,f=e.XpG(2);return e.Njj(f.handleGroupedKeydown(l,u,s))})("focus",function(){const s=e.eBV(t).index,r=e.XpG(2);return e.Njj(r.onItemFocus(s,0))}),e.DNE(2,_P,5,10,"span",6),e.j41(3,"span",7),e.EFF(4),e.k0s(),e.nrm(5,"span",8),e.j41(6,"span",9)(7,"span",10),e.bIt("click",function(s){const r=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.removeGroup(r,s))}),e.nrm(8,"kendo-icon-wrapper",11),e.k0s()()()}if(2&n){const t=o.$implicit,i=e.XpG(2);e.R7$(2),e.Y8G("ngIf",i.groupedColumns.length>1),e.R7$(2),e.JRh(t.title||i.getColumnComponent(t).field),e.R7$(4),e.Y8G("svgIcon",i.removeIcon)("size",i.iconSize)}}function CP(n,o){if(1&n&&(e.j41(0,"div",3),e.DNE(1,vP,9,4,"div",4),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.groupedColumns)}}function SP(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",5,0),e.bIt("keydown",function(s){const r=e.eBV(t),l=r.$implicit,u=r.index,f=e.XpG(2);return e.Njj(f.handleUngroupedKeydown(l,u,s))})("focus",function(){const s=e.eBV(t).index,r=e.XpG(2);return e.Njj(r.onItemFocus(null,s))}),e.j41(2,"span",7),e.EFF(3),e.k0s(),e.nrm(4,"span",8),e.j41(5,"span",9)(6,"span",16),e.bIt("click",function(s){const r=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.addGroup(r,s))}),e.nrm(7,"kendo-icon-wrapper",17),e.k0s()()()}if(2&n){const t=o.$implicit,i=e.XpG(2);e.R7$(3),e.JRh(t.title||i.getColumnComponent(t).field),e.R7$(4),e.Y8G("svgIcon",i.addIcon)("size",i.iconSize)}}function bP(n,o){if(1&n&&(e.j41(0,"div",3),e.DNE(1,SP,8,3,"div",4),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.ungroupedColumns)}}function EP(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",18)(1,"button",19),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.clear())}),e.EFF(2),e.k0s()()}if(2&n){const t=e.XpG();e.R7$(),e.Y8G("svgIcon",t.clearIcon),e.R7$(),e.SpI(" ",null==t.ctx?null:t.ctx.localization.get("groupClearButton")," ")}}const kP=["filterToolbarToolTemplate"],RP=["filterMenuContainer"],wP=(n,o)=>({"k-adaptive-actionsheet":!0,"k-actionsheet-fullscreen":n,"k-actionsheet-bottom":o}),IP=n=>({height:n}),Fv=n=>({transitionend:n}),DP=n=>({"keydown.escape":n}),TP=(n,o,t,i)=>({click:n,"keydown.enter":o,"keydown.space":t,"keydown.tab":i}),xP=(n,o,t)=>({click:n,"keydown.enter":o,"keydown.space":t});function OP(n,o){if(1&n&&e.eu8(0,22),2&n){e.XpG(2);const t=e.sdS(11);e.Y8G("ngTemplateOutlet",t)}}function MP(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-grid-columnmenu-item",26),e.bIt("itemClick",function(){const s=e.eBV(t).$implicit,r=e.XpG(3);return e.Njj(r.sortBy(s))}),e.k0s()}if(2&n){const t=o.$implicit,i=e.XpG(3);e.Y8G("column",i.getColumnComponent(t))("text",t.title||i.getColumnComponent(t).field)}}function yP(n,o){if(1&n&&(e.j41(0,"div",23)(1,"div",24),e.DNE(2,MP,1,2,"kendo-grid-columnmenu-item",25),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(2),e.Y8G("ngForOf",t.columns)}}function NP(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.clearSorting())}),e.EFF(1),e.k0s(),e.j41(2,"button",28),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.actionSheet.toggle(!1))}),e.EFF(3),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("svgIcon",t.xIcon),e.R7$(),e.SpI(" ",t.messageFor("sortClearButton")," "),e.R7$(),e.Y8G("svgIcon",t.checkIcon),e.R7$(),e.SpI(" ",t.messageFor("sortDoneButton")," ")}}function GP(n,o){1&n&&(e.j41(0,"kendo-actionsheet-view"),e.DNE(1,OP,1,1,"ng-template",19)(2,yP,3,1,"ng-template",20)(3,NP,4,4,"ng-template",21),e.k0s())}function AP(n,o){if(1&n&&e.eu8(0,22),2&n){e.XpG(2);const t=e.sdS(11);e.Y8G("ngTemplateOutlet",t)}}function PP(n,o){if(1&n&&e.nrm(0,"kendo-grid-columnlist",29,3),2&n){const t=e.XpG(2);e.Y8G("columns",t.adaptiveGridService.columns)("ariaLabel",t.messageFor("columns"))("isLast",!0)("showActions",!1)("applyText",t.messageFor("columnsApply"))("resetText",t.messageFor("columnsReset"))("autoSync",!1)("actionsClass",t.actionsClass)("allowHideAll",!1)}}function FP(n,o){if(1&n&&e.eu8(0,22),2&n){e.XpG(2);const t=e.sdS(13);e.Y8G("ngTemplateOutlet",t)}}function BP(n,o){1&n&&(e.j41(0,"kendo-actionsheet-view"),e.DNE(1,AP,1,1,"ng-template",19)(2,PP,2,9,"ng-template",20)(3,FP,1,1,"ng-template",21),e.k0s())}function LP(n,o){if(1&n&&e.eu8(0,22),2&n){e.XpG(2);const t=e.sdS(11);e.Y8G("ngTemplateOutlet",t)}}function UP(n,o){1&n&&(e.j41(0,"div",23),e.nrm(1,"kendo-filter-toolbar-tool"),e.k0s())}function VP(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.clearFilters())}),e.EFF(1),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("svgIcon",t.filterClearIcon),e.R7$(),e.SpI(" ",t.messageFor("filterClearAllButton")," ")}}function zP(n,o){if(1&n&&(e.j41(0,"kendo-actionsheet-view",30),e.DNE(1,LP,1,1,"ng-template",19)(2,UP,2,0,"ng-template",20)(3,VP,2,2,"ng-template",21),e.k0s()),2&n){const t=e.XpG();e.Y8G("kendoEventsOutsideAngular",e.eq3(2,Fv,t.onAnimationEnd))("scope",t)}}function KP(n,o){if(1&n&&e.eu8(0,22),2&n){e.XpG(2);const t=e.sdS(11);e.Y8G("ngTemplateOutlet",t)}}function $P(n,o){1&n&&e.eu8(0,null,4)}function jP(n,o){if(1&n&&e.eu8(0,22),2&n){e.XpG(2);const t=e.sdS(15);e.Y8G("ngTemplateOutlet",t)}}function HP(n,o){1&n&&(e.j41(0,"kendo-actionsheet-view"),e.DNE(1,KP,1,1,"ng-template",19)(2,$P,2,0,"ng-template",20)(3,jP,1,1,"ng-template",21),e.k0s())}function XP(n,o){if(1&n&&e.eu8(0,22),2&n){e.XpG(2);const t=e.sdS(11);e.Y8G("ngTemplateOutlet",t)}}function WP(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-grid-filter-menu-container",32,5),e.bIt("close",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.close())})("keydown.enter",function(s){return e.eBV(t),e.Njj(s.stopImmediatePropagation())}),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("column",t.adaptiveGridService.column)("filter",t.ctx.grid.filter)}}function YP(n,o){if(1&n&&e.eu8(0,22),2&n){e.XpG(2);const t=e.sdS(15);e.Y8G("ngTemplateOutlet",t)}}function qP(n,o){1&n&&(e.j41(0,"kendo-actionsheet-view"),e.DNE(1,XP,1,1,"ng-template",19)(2,WP,2,2,"ng-template",20)(3,YP,1,1,"ng-template",21),e.k0s())}function JP(n,o){if(1&n&&e.eu8(0,22),2&n){e.XpG(2);const t=e.sdS(11);e.Y8G("ngTemplateOutlet",t)}}function QP(n,o){if(1&n&&e.nrm(0,"kendo-grid-columnmenu-sort",39,6),2&n){const t=e.sdS(1),i=e.XpG(3);e.Y8G("kendoGridColumnMenuItem",t)("service",i.adaptiveGridService.columnMenuService)}}function ZP(n,o){if(1&n&&e.nrm(0,"kendo-grid-columnmenu-lock",39,7),2&n){const t=e.sdS(1),i=e.XpG(3);e.Y8G("kendoGridColumnMenuItem",t)("service",i.adaptiveGridService.columnMenuService)}}function e2(n,o){if(1&n&&e.nrm(0,"kendo-grid-columnmenu-stick",39,8),2&n){const t=e.sdS(1),i=e.XpG(3);e.Y8G("kendoGridColumnMenuItem",t)("service",i.adaptiveGridService.columnMenuService)}}function t2(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-grid-columnmenu-position",40,9),e.bIt("collapse",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.navigateToPositionView())}),e.k0s()}if(2&n){const t=e.sdS(1),i=e.XpG(3);e.Y8G("showLock",i.hasLock)("showStick",i.hasStick)("kendoGridColumnMenuItem",t)("service",i.adaptiveGridService.columnMenuService)("expanded",!1)}}function i2(n,o){1&n&&e.nrm(0,"span",41),2&n&&e.xc7("border-color","rgba(0, 0, 0, 0.08)")}function n2(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-grid-columnmenu-chooser",42,10),e.bIt("collapse",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.navigateToColumnsView())}),e.k0s()}if(2&n){const t=e.sdS(1),i=e.XpG(3);e.Y8G("kendoGridColumnMenuItem",t)("service",i.adaptiveGridService.columnMenuService)("expanded",!1)}}function s2(n,o){if(1&n&&e.nrm(0,"kendo-grid-columnmenu-autosize-column",43,11),2&n){const t=e.sdS(1),i=e.XpG(3);e.Y8G("service",i.adaptiveGridService.columnMenuService)("kendoGridColumnMenuItem",t)("column",i.adaptiveGridService.column)}}function o2(n,o){if(1&n&&e.nrm(0,"kendo-grid-columnmenu-autosize-all-columns",44,12),2&n){const t=e.sdS(1),i=e.XpG(3);e.Y8G("service",i.adaptiveGridService.columnMenuService)("kendoGridColumnMenuItem",t)}}function r2(n,o){1&n&&e.nrm(0,"span",41),2&n&&e.xc7("border-color","rgba(0, 0, 0, 0.08)")}function a2(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-grid-columnmenu-filter",42,13),e.bIt("collapse",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.navigateToFilterView())}),e.k0s()}if(2&n){const t=e.sdS(1),i=e.XpG(3);e.Y8G("kendoGridColumnMenuItem",t)("service",i.adaptiveGridService.columnMenuService)("expanded",!1)}}function l2(n,o){if(1&n&&(e.j41(0,"div",23)(1,"kendo-grid-columnmenu-container"),e.DNE(2,QP,2,2,"kendo-grid-columnmenu-sort",33)(3,ZP,2,2,"kendo-grid-columnmenu-lock",33)(4,e2,2,2,"kendo-grid-columnmenu-stick",33)(5,t2,2,5,"kendo-grid-columnmenu-position",34)(6,i2,1,2,"span",35)(7,n2,2,3,"kendo-grid-columnmenu-chooser",36)(8,s2,2,3,"kendo-grid-columnmenu-autosize-column",37)(9,o2,2,2,"kendo-grid-columnmenu-autosize-all-columns",38)(10,r2,1,2,"span",35)(11,a2,2,3,"kendo-grid-columnmenu-filter",36),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(2),e.Y8G("ngIf",t.hasSort),e.R7$(),e.Y8G("ngIf",t.hasLock&&!t.hasPosition),e.R7$(),e.Y8G("ngIf",t.hasStick&&!t.hasPosition),e.R7$(),e.Y8G("ngIf",t.hasPosition),e.R7$(),e.Y8G("ngIf",t.hasLock||t.hasStick||t.adaptiveGridService.column.sortable),e.R7$(),e.Y8G("ngIf",t.hasColumnChooser),e.R7$(),e.Y8G("ngIf",t.hasAutoSizeColumn),e.R7$(),e.Y8G("ngIf",t.hasAutoSizeAllColumns),e.R7$(),e.Y8G("ngIf",t.adaptiveGridService.column.filterable),e.R7$(),e.Y8G("ngIf",t.hasFilter)}}function c2(n,o){if(1&n&&(e.j41(0,"kendo-actionsheet-view",30),e.DNE(1,JP,1,1,"ng-template",19)(2,l2,12,10,"ng-template",20),e.k0s()),2&n){const t=e.XpG();e.Y8G("kendoEventsOutsideAngular",e.eq3(2,Fv,t.onAnimationEnd))("scope",t)}}function d2(n,o){if(1&n&&e.eu8(0,22),2&n){e.XpG(2);const t=e.sdS(11);e.Y8G("ngTemplateOutlet",t)}}function u2(n,o){if(1&n&&e.nrm(0,"kendo-grid-columnlist",29,3),2&n){const t=e.XpG(3);e.Y8G("columns",t.adaptiveGridService.columns)("ariaLabel",t.messageFor("columns"))("isLast",!0)("showActions",!1)("applyText",t.messageFor("columnsApply"))("resetText",t.messageFor("columnsReset"))("autoSync",!1)("actionsClass",t.actionsClass)("allowHideAll",!1)}}function h2(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-grid-filter-menu-container",48),e.bIt("close",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.close())}),e.k0s()}if(2&n){const t=e.XpG(3);e.Y8G("column",t.adaptiveGridService.column)("filter",t.ctx.grid.filter)("kendoEventsOutsideAngular",e.eq3(4,DP,t.close))("scope",t)}}function p2(n,o){if(1&n&&e.nrm(0,"kendo-grid-columnmenu-lock",49),2&n){const t=e.XpG(3);e.Y8G("service",t.adaptiveGridService.columnMenuService)}}function m2(n,o){if(1&n&&e.nrm(0,"kendo-grid-columnmenu-stick",49),2&n){const t=e.XpG(3);e.Y8G("service",t.adaptiveGridService.columnMenuService)}}function g2(n,o){if(1&n&&e.DNE(0,u2,2,9,"kendo-grid-columnlist",45)(1,h2,1,6,"kendo-grid-filter-menu-container",46)(2,p2,1,1,"kendo-grid-columnmenu-lock",47)(3,m2,1,1,"kendo-grid-columnmenu-stick",47),2&n){const t=e.XpG(2);e.Y8G("ngIf","columnChooser"===t.adaptiveGridService.secondaryView),e.R7$(),e.Y8G("ngIf","columnFilter"===t.adaptiveGridService.secondaryView),e.R7$(),e.Y8G("ngIf","columnPosition"===t.adaptiveGridService.secondaryView&&t.hasLock),e.R7$(),e.Y8G("ngIf","columnPosition"===t.adaptiveGridService.secondaryView&&t.hasStick)}}function f2(n,o){if(1&n&&e.eu8(0,22),2&n){e.XpG(3);const t=e.sdS(13);e.Y8G("ngTemplateOutlet",t)}}function _2(n,o){1&n&&e.DNE(0,f2,1,1,"ng-template",21)}function v2(n,o){if(1&n&&e.eu8(0,22),2&n){e.XpG(3);const t=e.sdS(15);e.Y8G("ngTemplateOutlet",t)}}function C2(n,o){1&n&&e.DNE(0,v2,1,1,"ng-template",21)}function S2(n,o){if(1&n&&(e.j41(0,"kendo-actionsheet-view"),e.DNE(1,d2,1,1,"ng-template",19)(2,g2,4,4,"ng-template",20)(3,_2,1,0,null,17)(4,C2,1,0,null,17),e.k0s()),2&n){const t=e.XpG();e.R7$(3),e.Y8G("ngIf","columnChooser"===t.adaptiveGridService.secondaryView),e.R7$(),e.Y8G("ngIf","columnFilter"===t.adaptiveGridService.secondaryView)}}function b2(n,o){if(1&n&&e.eu8(0,22),2&n){e.XpG(2);const t=e.sdS(11);e.Y8G("ngTemplateOutlet",t)}}function E2(n,o){if(1&n&&e.nrm(0,"kendo-grid-external-form",50),2&n){const t=e.XpG(2);e.Y8G("controls",t.externalEditingSettings.formControls)("formGroup",t.externalEditingSettings.formGroup)("formSettings",t.externalEditingSettings.formSettings)("actionButtons",!1)}}function k2(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",51),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.actionSheet.toggle(!1))}),e.EFF(1),e.k0s(),e.j41(2,"button",52),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.saveEditing())}),e.EFF(3),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("svgIcon",t.cancelIcon),e.R7$(),e.SpI(" ",t.messageFor("externalEditingCancelText")," "),e.R7$(),e.Y8G("svgIcon",t.saveIcon)("disabled",!t.externalEditingSettings.formGroup.valid),e.R7$(),e.SpI(" ",t.messageFor("externalEditingSaveText")," ")}}function R2(n,o){1&n&&(e.j41(0,"kendo-actionsheet-view"),e.DNE(1,b2,1,1,"ng-template",19)(2,E2,1,4,"ng-template",20)(3,k2,4,5,"ng-template",21),e.k0s())}function w2(n,o){if(1&n&&e.eu8(0,22),2&n){e.XpG(2);const t=e.sdS(11);e.Y8G("ngTemplateOutlet",t)}}function I2(n,o){1&n&&e.nrm(0,"kendo-group-toolbar-tool",53),2&n&&e.Y8G("adaptive",!0)}function D2(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.clearGrouping())}),e.EFF(1),e.k0s(),e.j41(2,"button",28),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.actionSheet.toggle(!1))}),e.EFF(3),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("svgIcon",t.xIcon),e.R7$(),e.SpI(" ",t.messageFor("groupClearButton")," "),e.R7$(),e.Y8G("svgIcon",t.checkIcon),e.R7$(),e.SpI(" ",t.messageFor("groupDoneButton")," ")}}function T2(n,o){1&n&&(e.j41(0,"kendo-actionsheet-view"),e.DNE(1,w2,1,1,"ng-template",19)(2,I2,1,1,"ng-template",20)(3,D2,4,4,"ng-template",21),e.k0s())}function x2(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",59)(1,"button",60),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.prevView())}),e.k0s()()}if(2&n){const t=e.XpG(2);e.R7$(),e.Y8G("svgIcon",t.chevronLeft)("title",t.messageFor("adaptiveBackButtonTitle"))}}function O2(n,o){if(1&n&&(e.j41(0,"div",61),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.actionSheetTitle," ")}}function M2(n,o){if(1&n&&(e.j41(0,"div",62),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.messageFor("columnsSubtitle")," ")}}function y2(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",59)(1,"button",63),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.close())}),e.k0s()()}if(2&n){const t=e.XpG(2);e.R7$(),e.Y8G("svgIcon",t.xIcon)("title",t.messageFor("adaptiveCloseButtonTitle"))}}function N2(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",59)(1,"button",64),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.actionSheet.toggle(!1))}),e.k0s()()}if(2&n){const t=e.XpG(2);e.R7$(),e.Y8G("svgIcon",t.checkIcon)("title",t.messageFor("adaptiveCloseButtonTitle"))}}function G2(n,o){if(1&n&&(e.j41(0,"div",54),e.DNE(1,x2,2,2,"div",55),e.j41(2,"div",56),e.DNE(3,O2,2,1,"div",57)(4,M2,2,1,"div",58),e.k0s(),e.DNE(5,y2,2,2,"div",55)(6,N2,2,2,"div",55),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.adaptiveGridService.secondaryView),e.R7$(2),e.Y8G("ngIf",t.hasTitle),e.R7$(),e.Y8G("ngIf",t.hasSubtitle),e.R7$(),e.Y8G("ngIf",t.hasXCloseIcon),e.R7$(),e.Y8G("ngIf",t.hasCheckCloseIcon)}}function A2(n,o){if(1&n&&(e.j41(0,"button",65,14),e.EFF(2),e.k0s(),e.j41(3,"button",66,15),e.EFF(5),e.k0s()),2&n){const t=e.XpG();e.Y8G("svgIcon",t.arrowRotateCcwIcon)("kendoEventsOutsideAngular",e.ziG(8,TP,t.cancelChanges,t.cancelChanges,t.cancelChanges,t.onTab))("scope",t),e.R7$(2),e.SpI(" ",t.messageFor("columnsReset")," "),e.R7$(),e.Y8G("svgIcon",t.checkIcon)("kendoEventsOutsideAngular",e.sMw(13,xP,t.applyChanges,t.applyChanges,t.applyChanges))("scope",t),e.R7$(2),e.SpI(" ",t.messageFor("columnsApply")," ")}}function P2(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",67),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.adaptiveGridService.resetFilter())}),e.EFF(1),e.k0s(),e.j41(2,"button",68),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.adaptiveGridService.submitFilter())}),e.EFF(3),e.k0s()}if(2&n){const t=e.XpG();e.R7$(),e.SpI(" ",t.messageFor("filterClearButton")," "),e.R7$(),e.Y8G("disabled",t.adaptiveGridService.filterMenuContainer.disabled),e.R7$(),e.SpI(" ",t.messageFor("filterFilterButton")," ")}}function F2(n,o){1&n&&(e.j41(0,"div",6)(1,"div",7)(2,"div",8),e.nrm(3,"span",9),e.k0s(),e.j41(4,"div",10),e.nrm(5,"span",11),e.k0s()(),e.j41(6,"div",12),e.nrm(7,"span",13),e.k0s(),e.j41(8,"div",14),e.nrm(9,"span",11),e.k0s()()),2&n&&(e.R7$(3),e.xc7("width",200,"px"))}function B2(n,o){1&n&&e.DNE(0,F2,10,2,"ng-template",5)}function L2(n,o){if(1&n&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.R7$(),e.JRh(t.output)}}function U2(n,o){1&n&&e.DNE(0,L2,2,1,"ng-template",15)}const V2=["lockedHeader"],z2=["header"],K2=["ariaRoot"],$2=["dialogContainer"],j2=["windowContainer"],H2=["footer"],X2=[[["kendo-toolbar"]]],W2=["kendo-toolbar"],Y2=n=>({hintTemplate:n});function q2(n,o){if(1&n&&e.nrm(0,"kendo-grid-toolbar",22),2&n){const t=e.XpG();e.Y8G("size",t.size)("navigable",t.navigation.toolbarEnabled),e.BMQ("aria-label",t.messageFor("topToolbarLabel"))("aria-controls",t.ariaRootId)}}function J2(n,o){if(1&n&&e.eu8(0,26),2&n){e.XpG();const t=e.sdS(1),i=e.XpG(),s=e.sdS(17);e.Y8G("ngTemplateOutlet",i.pagerTemplate?null==i.pagerTemplate?null:i.pagerTemplate.templateRef:s)("ngTemplateOutletContext",t.templateContext)}}function Q2(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-pager",23,4),e.bIt("pageChange",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.notifyPageChange("pager",s))})("pagerInputVisibilityChange",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.handlePagerVisibilityChange("showPagerInput",s))})("pageTextVisibilityChange",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.handlePagerVisibilityChange("showPagerPageText",s))})("itemsTextVisibilityChange",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.handlePagerVisibilityChange("showPagerItemsText",s))}),e.DNE(2,J2,1,2,"ng-template",24),e.nrm(3,"kendo-pager-messages",25),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("navigable",t.navigation.pagerEnabled)("pageSize",t.pageSize)("total",t.view.total)("skip",t.skip)("size",t.size)("responsive",t.normalizedPageableSettings.responsive&&!t.pagerTemplate)("buttonCount",t.normalizedPageableSettings.buttonCount)("info",t.normalizedPageableSettings.info)("pageSizeValues",t.normalizedPageableSettings.pageSizes)("previousNext",t.normalizedPageableSettings.previousNext)("type",t.normalizedPageableSettings.type),e.R7$(3),e.Y8G("ariaLabel",t.messageFor("pagerLabel"))("firstPage",t.messageFor("pagerFirstPage"))("inputLabel",t.messageFor("pagerInputLabel"))("previousPage",t.messageFor("pagerPreviousPage"))("nextPage",t.messageFor("pagerNextPage"))("lastPage",t.messageFor("pagerLastPage"))("selectPage",t.messageFor("pagerSelectPage"))("page",t.messageFor("pagerPage"))("itemsPerPage",t.messageFor("pagerItemsPerPage"))("items",t.messageFor("pagerItems"))("of",t.messageFor("pagerOf"))("pageNumberInputTitle",t.messageFor("pagerPageNumberInputTitle"))}}function Z2(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-grid-group-panel",27),e.bIt("change",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.groupChange.emit(s))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("navigable",t.navigation.toolbarEnabled)("text",t.groupableEmptyText)("groups",t.group),e.BMQ("aria-label",t.messageFor("groupPanelLabel"))("aria-controls",t.ariaRootId)}}function eF(n,o){if(1&n&&(e.j41(0,"div",38,6)(2,"table",39),e.nrm(3,"colgroup",35)(4,"thead",40),e.k0s()()),2&n){const t=e.XpG(3);e.xc7("width",t.lockedWidth,"px"),e.R7$(2),e.xc7("width",t.lockedWidth,"px"),e.Y8G("locked",!0)("size",t.size),e.R7$(),e.Y8G("columns",t.lockedLeafColumns)("groups",t.group)("detailTemplate",t.detailTemplate),e.R7$(),e.Y8G("resizable",t.resizable)("scrollable",!0)("columns",t.lockedColumns)("totalColumnLevels",t.totalColumnLevels)("sort",t.sort)("groups",t.group)("filter",t.filter)("filterable",t.filterable)("groupable",t.showGroupPanel)("reorderable",t.reorderable)("sortable",t.sortable)("columnMenu",t.columnMenuOptions)("columnMenuTemplate",t.columnMenuTemplate)("totalColumnsCount",t.leafColumns.length)("totalColumns",t.columnsContainer)("detailTemplate",t.detailTemplate)("tabIndex",t.navigation.tableEnabled?"-1":"0")}}function tF(n,o){if(1&n&&(e.j41(0,"div",41),e.nrm(1,"div"),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.xc7("width",t.columnsContainer.unlockedWidth,"px")}}function iF(n,o){if(1&n&&(e.j41(0,"div",31),e.DNE(1,eF,5,26,"div",32),e.j41(2,"div",33,5)(4,"table",34),e.nrm(5,"colgroup",35)(6,"thead",36),e.k0s(),e.DNE(7,tF,2,2,"div",37),e.k0s()()),2&n){const t=e.XpG(2);e.xc7("padding",t.headerPadding),e.AVh("k-grid-draggable-header",t.groupable||t.reorderable),e.R7$(),e.Y8G("ngIf",t.isLocked),e.R7$(),e.Y8G("kendoGridResizableContainer",t.lockedLeafColumns.length>0)("lockedWidth",t.lockedWidth+t.scrollbarWidth+2),e.R7$(2),e.xc7("width",t.nonLockedWidth,"px"),e.Y8G("virtualColumns",t.virtualColumns)("size",t.size),e.R7$(),e.Y8G("columns",t.headerLeafColumns)("groups",t.isLocked?e.lJ4(33,ad):t.group)("detailTemplate",t.detailTemplate),e.R7$(),e.Y8G("resizable",t.resizable)("scrollable",!0)("columns",t.headerColumns)("totalColumnLevels",t.totalColumnLevels)("sort",t.sort)("filter",t.filter)("filterable",t.filterable)("groupable",t.showGroupPanel)("reorderable",t.reorderable)("groups",t.isLocked?e.lJ4(34,ad):t.group)("sortable",t.sortable)("columnMenu",t.columnMenuOptions)("columnMenuTemplate",t.columnMenuTemplate)("lockedColumnsCount",t.lockedLeafColumns.length)("totalColumnsCount",t.leafColumns.length)("totalColumns",t.columnsContainer)("detailTemplate",t.detailTemplate)("tabIndex",t.navigation.tableEnabled?"-1":"0"),e.R7$(),e.Y8G("ngIf",t.virtualColumns)}}function nF(n,o){if(1&n&&e.nrm(0,"colgroup",35),2&n){const t=e.XpG(4);e.Y8G("columns",t.lockedLeafColumns)("groups",t.group)("detailTemplate",t.detailTemplate)}}function sF(n,o){if(1&n&&(e.j41(0,"div",48)(1,"table",49),e.DNE(2,nF,1,3,"colgroup",46),e.nrm(3,"tfoot",50),e.k0s()()),2&n){const t=e.XpG(3);e.xc7("width",t.lockedWidth,"px"),e.R7$(),e.xc7("width",t.lockedWidth,"px"),e.Y8G("locked",!0)("size",t.size),e.R7$(),e.Y8G("ngIf",!t.isStacked),e.R7$(),e.Y8G("scrollable",!0)("groups",t.group)("columns",t.lockedLeafColumns)("detailTemplate",t.detailTemplate)("logicalRowIndex",t.ariaRowCount)("totalColumns",t.columnsContainer)("totalColumnsCount",t.leafColumns.length)}}function oF(n,o){if(1&n&&e.nrm(0,"colgroup",35),2&n){const t=e.XpG(3);e.Y8G("columns",t.headerLeafColumns)("groups",t.isLocked?e.lJ4(3,ad):t.group)("detailTemplate",t.detailTemplate)}}function rF(n,o){if(1&n&&(e.j41(0,"div",42),e.DNE(1,sF,4,14,"div",43),e.j41(2,"div",44,7)(4,"table",45),e.DNE(5,oF,1,4,"colgroup",46),e.nrm(6,"tfoot",47),e.k0s()()()),2&n){const t=e.XpG(2);e.xc7("padding",t.headerPadding),e.R7$(),e.Y8G("ngIf",t.lockedLeafColumns.length&&!t.isStacked),e.R7$(),e.Y8G("kendoGridResizableContainer",t.lockedLeafColumns.length>0&&!t.isStacked)("lockedWidth",t.lockedWidth+t.scrollbarWidth+3),e.R7$(2),e.xc7("width",t.nonLockedWidth,"px"),e.Y8G("size",t.size),e.R7$(),e.Y8G("ngIf",!t.isStacked),e.R7$(),e.Y8G("logicalRowIndex",t.ariaRowCount)("scrollable",!0)("groups",t.isLocked?e.lJ4(17,ad):t.group)("columns",t.headerColumns)("lockedColumnsCount",t.isStacked?0:t.lockedLeafColumns.length)("detailTemplate",t.detailTemplate)("totalColumns",t.columnsContainer)("totalColumnsCount",t.leafColumns.length)}}function aF(n,o){if(1&n){const t=e.RV6();e.qex(0),e.DNE(1,iF,8,35,"div",28),e.j41(2,"kendo-grid-list",29),e.bIt("pageChange",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.notifyPageChange("list",s))})("scrollBottom",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.notifyScrollBottom())})("contentScroll",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.contentScroll.emit(s))}),e.k0s(),e.DNE(3,rF,7,18,"div",30),e.bVm()}if(2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",!t.hideHeader&&!t.isStacked),e.R7$(),e.Y8G("data",t.view)("rowHeight",t.rowHeight)("detailRowHeight",t.detailRowHeight)("total",t.totalCount)("take",t.pageSize)("groups",t.group)("groupable",t.groupable)("skip",t.skip)("trackBy",t.trackBy)("columns",t.columnsContainer)("selectable",t.selectable)("filterable",t.filterable)("detailTemplate",t.detailTemplate)("noRecordsTemplate",t.noRecordsTemplate)("size",t.size)("rowClass",t.rowClass)("rowSticky",t.rowSticky)("loading",t.loading)("isVirtual",t.isVirtual)("cellLoadingTemplate",null==t.cellLoadingTemplate?null:t.cellLoadingTemplate.templateRef)("loadingTemplate",null==t.loadingTemplate?null:t.loadingTemplate.templateRef)("virtualColumns",t.virtualColumns)("enableDrag",t.marqueeSelection)("sort",t.sort),e.R7$(),e.Y8G("ngIf",t.showFooter)}}function lF(n,o){if(1&n&&e.nrm(0,"thead",56),2&n){const t=e.XpG(2);e.AVh("k-grid-draggable-header",t.groupable||t.reorderable),e.Y8G("resizable",t.resizable)("scrollable",!1)("columns",t.visibleColumns)("totalColumnLevels",t.totalColumnLevels)("totalColumns",t.columnsContainer)("groups",t.group)("groupable",t.showGroupPanel)("reorderable",t.reorderable)("sort",t.sort)("sortable",t.sortable)("filter",t.filter)("filterable",t.filterable)("columnMenu",t.columnMenuOptions)("columnMenuTemplate",t.columnMenuTemplate)("detailTemplate",t.detailTemplate)("tabIndex",t.navigation.tableEnabled?"-1":"0")}}function cF(n,o){if(1&n&&e.nrm(0,"tfoot",57),2&n){const t=e.XpG(2);e.Y8G("scrollable",!1)("logicalRowIndex",t.ariaRowCount)("groups",t.group)("columns",t.leafColumns)("detailTemplate",t.detailTemplate)("totalColumns",t.columnsContainer)("totalColumnsCount",t.leafColumns.length)}}function dF(n,o){if(1&n&&(e.qex(0),e.j41(1,"table",51),e.nrm(2,"colgroup",52),e.DNE(3,lF,1,18,"thead",53),e.nrm(4,"tbody",54),e.DNE(5,cF,1,7,"tfoot",55),e.k0s(),e.bVm()),2&n){const t=e.XpG();e.R7$(),e.xc7("table-layout",t.resizable?"fixed":null),e.Y8G("size",t.size),e.R7$(),e.Y8G("columns",t.leafColumns)("groups",t.group)("sort",t.sort)("detailTemplate",t.detailTemplate),e.R7$(),e.Y8G("ngIf",!t.hideHeader&&!t.isStacked),e.R7$(),e.Y8G("isLoading",t.loading)("groups",t.group)("rowsToRender",t.rowsToRender)("skip",t.skip)("columns",t.leafColumns)("totalColumnsCount",t.leafColumns.length)("totalColumns",t.columnsContainer)("selectable",t.selectable)("filterable",t.filterable)("noRecordsTemplate",t.noRecordsTemplate)("detailTemplate",t.detailTemplate)("trackBy",t.trackBy)("rowClass",t.rowClass)("enableDrag",t.marqueeSelection),e.R7$(),e.Y8G("ngIf",t.showFooter)}}function uF(n,o){if(1&n&&e.nrm(0,"div",58),2&n){const t=e.XpG();e.Y8G("loadingTemplate",t.loadingTemplate)}}function hF(n,o){if(1&n&&e.nrm(0,"kendo-grid-status-bar",59),2&n){const t=e.XpG();e.Y8G("statusBarTemplate",t.statusBarTemplate)}}function pF(n,o){if(1&n&&e.eu8(0,26),2&n){e.XpG();const t=e.sdS(1),i=e.XpG(),s=e.sdS(17);e.Y8G("ngTemplateOutlet",i.pagerTemplate?null==i.pagerTemplate?null:i.pagerTemplate.templateRef:s)("ngTemplateOutletContext",t.templateContext)}}function mF(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-pager",60,8),e.bIt("pageChange",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.notifyPageChange("pager",s))})("pagerInputVisibilityChange",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.handlePagerVisibilityChange("showPagerInput",s))})("pageTextVisibilityChange",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.handlePagerVisibilityChange("showPagerPageText",s))})("itemsTextVisibilityChange",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.handlePagerVisibilityChange("showPagerItemsText",s))}),e.DNE(2,pF,1,2,"ng-template",24),e.nrm(3,"kendo-pager-messages",25),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("navigable",t.navigation.pagerEnabled)("pageSize",t.pageSize)("total",t.view.total)("skip",t.skip)("size",t.size)("responsive",t.normalizedPageableSettings.responsive&&!t.pagerTemplate)("buttonCount",t.normalizedPageableSettings.buttonCount)("info",t.normalizedPageableSettings.info)("pageSizeValues",t.normalizedPageableSettings.pageSizes)("previousNext",t.normalizedPageableSettings.previousNext)("type",t.normalizedPageableSettings.type),e.R7$(3),e.Y8G("ariaLabel",t.messageFor("pagerLabel"))("firstPage",t.messageFor("pagerFirstPage"))("inputLabel",t.messageFor("pagerInputLabel"))("previousPage",t.messageFor("pagerPreviousPage"))("nextPage",t.messageFor("pagerNextPage"))("lastPage",t.messageFor("pagerLastPage"))("selectPage",t.messageFor("pagerSelectPage"))("page",t.messageFor("pagerPage"))("itemsPerPage",t.messageFor("pagerItemsPerPage"))("items",t.messageFor("pagerItems"))("of",t.messageFor("pagerOf"))("pageNumberInputTitle",t.messageFor("pagerPageNumberInputTitle"))}}function gF(n,o){if(1&n&&e.nrm(0,"kendo-grid-toolbar",61),2&n){const t=e.XpG();e.Y8G("size",t.size)("navigable",t.navigation.toolbarEnabled),e.BMQ("aria-label",t.messageFor("bottomToolbarLabel"))("aria-controls",t.ariaRootId)}}function fF(n,o){if(1&n&&(e.nrm(0,"kendo-icon-wrapper",62),e.EFF(1)),2&n){const t=e.XpG();e.Y8G("name",t.getHintSettings("hintIcon"))("svgIcon",t.getHintSettings("hintSVGIcon")),e.R7$(),e.SpI(" ",t.hintText," ")}}function _F(n,o){if(1&n&&e.nrm(0,"kendo-pager-prev-buttons",68),2&n){const t=e.XpG(2);e.Y8G("size",t.size)}}function vF(n,o){if(1&n&&e.nrm(0,"kendo-pager-numeric-buttons",69),2&n){const t=e.XpG(2);e.Y8G("size",t.size)("buttonCount",t.normalizedPageableSettings.buttonCount)}}function CF(n,o){if(1&n&&e.nrm(0,"kendo-pager-input",70),2&n){const t=e.XpG(2);e.Y8G("size",t.size)("showPageText",t.showPagerPageText)}}function SF(n,o){if(1&n&&e.nrm(0,"kendo-pager-next-buttons",68),2&n){const t=e.XpG(2);e.Y8G("size",t.size)}}function bF(n,o){if(1&n&&e.nrm(0,"kendo-pager-page-sizes",71),2&n){const t=e.XpG(2);e.Y8G("size",t.size)("pageSizes",t.normalizedPageableSettings.pageSizes)("showItemsText",t.showPagerItemsText)}}function EF(n,o){1&n&&e.nrm(0,"kendo-pager-info")}function kF(n,o){if(1&n&&(e.j41(0,"div",63),e.DNE(1,_F,1,1,"kendo-pager-prev-buttons",64)(2,vF,1,2,"kendo-pager-numeric-buttons",65)(3,CF,1,2,"kendo-pager-input",66)(4,SF,1,1,"kendo-pager-next-buttons",64),e.k0s(),e.DNE(5,bF,1,3,"kendo-pager-page-sizes",67)(6,EF,1,0,"kendo-pager-info",16)),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.normalizedPageableSettings.previousNext),e.R7$(),e.Y8G("ngIf","numeric"===t.normalizedPageableSettings.type&&t.normalizedPageableSettings.buttonCount>0),e.R7$(),e.Y8G("ngIf","input"===t.normalizedPageableSettings.type||t.showPagerInput),e.R7$(),e.Y8G("ngIf",t.normalizedPageableSettings.previousNext),e.R7$(),e.Y8G("ngIf",t.normalizedPageableSettings.pageSizes),e.R7$(),e.Y8G("ngIf",t.normalizedPageableSettings.info)}}function RF(n,o){1&n&&e.nrm(0,"kendo-grid-adaptive-renderer")}function wF(n,o){1&n&&e.nrm(0,"div",null,9)}function IF(n,o){if(1&n&&e.nrm(0,"div",72),2&n){const t=e.XpG();e.Y8G("licenseMessage",t.licenseMessage)}}const Bv=n=>{if(!(0,E.nm)())return;let o=!1;return()=>(o||(document.body.appendChild(n),o=!0),n)},Lv=n=>{const{clientTop:o,clientLeft:t}=(n=>n.ownerDocument.documentElement)(n),{pageYOffset:i,pageXOffset:s}=(n=>n.ownerDocument.defaultView)(n),{top:r,left:l}=n.getBoundingClientRect();return{top:r+i-o,left:l+s-t}},Uv=(n,o)=>!!(4&o.compareDocumentPosition(n)),OF=(n,o)=>n===o||!!(16&o.compareDocumentPosition(n)),Vv=(n,o)=>{const t=Lv(n),{offsetWidth:i,offsetHeight:s}=n;return{left:t.left+(o?0:i),top:t.top,height:s}};let im=(()=>{class n{changes=new e.bkB;register=[];lastTarget=null;add(t){this.register.push(t)}remove(t){this.register=this.register.filter(i=>i!==t)}notifyDrag(t,i,s){const r=this.targetFor(i);this.lastTarget!==r&&(this.changes.next({draggable:t,mouseEvent:s,target:this.lastTarget,type:"leave"}),r&&this.changes.next({draggable:t,mouseEvent:s,target:r,type:"enter"}),this.lastTarget=r)}notifyDrop(t,i){const s=t&&t.element&&this.targetFor(t.element.nativeElement);s&&this.lastTarget===s||this.changes.next({draggable:t,mouseEvent:i,target:this.lastTarget,type:"drop"}),this.lastTarget=null}targetFor(t){const i=OF.bind(null,t);return this.register.find(({element:{nativeElement:s}})=>i(s))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();const zv=(n,o,t)=>{const i=n.querySelector(".k-icon");if(t){const s=i.firstElementChild;s.removeChild(s.firstElementChild),i.firstElementChild.innerHTML=(o?ne.WWM.content:ne.YAr.content)+i.firstElementChild.innerHTML}i.setAttribute("class",i.getAttribute("class").replace(/(plus|cancel)/,o?"plus":"cancel"))},Kv=(n,o=null,t)=>{const i=n.querySelectorAll(".k-icon")[1],s=null===o?"":o?`k${t?"-svg":""}-i-lock`:`k${t?"-svg":""}-i-unlock`;t?(i.setAttribute("class",i.getAttribute("class").replace(/(k-svg-i-unlock|k-svg-i-lock)/,"").trim()+` ${s}`),i.firstElementChild.innerHTML=o?ne.hzW.content:ne.qqX.content):i.setAttribute("class",i.getAttribute("class").replace(/(k-i-unlock|k-i-lock)/,"").trim()+` ${s}`)};let Tu=(()=>{class n{sanitizer;iconsService;dom;cancelIcon=ne.YAr;constructor(t,i){this.sanitizer=t,this.iconsService=i}ngOnDestroy(){this.remove()}create(t){if(!(0,E.nm)())return;this.dom=document.createElement("div"),(n=>{n.className="k-header k-drag-clue",n.style.position="absolute",n.style.zIndex="20000"})(this.dom);const i=this.sanitizer.sanitize(e.WPN.HTML,t),s=this.isSVG?((n,o,t)=>`\n    <span class="k-icon k-svg-icon k-drag-status k-svg-i-cancel">\n        <svg \n            xmlns="http://www.w3.org/2000/svg"\n            xmlns:xlink="http://www.w3.org/1999/xlink"\n            viewBox="${n}"\n            aria-hidden="true">\n            ${this.cancelIcon.content}\n        </svg>\n        <span class="k-icon k-svg-icon k-icon-modifier">\n            <svg\n                xmlns="http://www.w3.org/2000/svg"\n                xmlns:xlink="http://www.w3.org/1999/xlink"\n                viewBox="${n}"\n                aria-hidden="true">\n            </svg>\n        </span>\n    </span>\n    ${t}`)(this.cancelIcon.viewBox,0,i):(n=>`\n    <span class="k-icon k-font-icon k-drag-status k-i-cancel">\n        <span class="k-icon k-font-icon k-icon-modifier"></span>\n    </span>\n    ${n}`)(i);this.dom.innerHTML=s}attach(){return Bv(this.dom)}remove(){var t;this.dom&&this.dom.parentNode&&(t=this.dom,setTimeout(()=>document.body.removeChild(t)),this.dom=null)}show(){this.dom.style.display=""}hide(){this.dom.style.display="none"}enable(){zv(this.dom,!0,this.isSVG)}disable(){zv(this.dom,!1,this.isSVG)}removeLock(){Kv(this.dom,!1,this.isSVG)}toggleLock(t){Kv(this.dom,t,this.isSVG)}move(t){this.dom.style.top=t.pageY+"px",this.dom.style.left=t.pageX+"px"}get isSVG(){return"svg"===(this.iconsService.iconSettings?.type||this.iconsService.changes.value.type)}static \u0275fac=function(i){return new(i||n)(e.KVO(Yt.up),e.KVO(ct.o3))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),xu=(()=>{class n{dom;create(){(0,E.nm)()&&(this.dom=document.createElement("div"),this.dom.className="k-grouping-dropclue",this.hide())}attach(){return Bv(this.dom)}remove(){this.dom&&this.dom.parentElement&&(document.body.removeChild(this.dom),this.dom=null)}hide(){this.dom.style.display="none"}position({left:t,top:i,height:s}){this.dom.style.display="block",this.dom.style.height=s+"px",this.dom.style.top=i+"px",this.dom.style.left=t-this.dom.offsetWidth/2+"px"}static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();const GF=/^\s*$/,Oe=n=>null!=n,ld=n=>null==n,Ou=n=>Array.isArray(n),$o=n=>!!n,Jn=n=>ld(n)||GF.test(n),Mu=n=>(0,qe.h)((0,Je.of)(n),n.changes),El=()=>typeof document>"u",nm=n=>"string"==typeof n,$v=n=>"number"==typeof n&&!isNaN(n),sm=n=>nm(n)&&!Jn(n)&&n.startsWith("{0:")?n.slice(3,n.length-1):n,cd=n=>(...o)=>!n(...o),yu=(...n)=>o=>n.reduce((t,i)=>t||i(o),!1),om=(...n)=>o=>n.reduce((t,i)=>t&&i(o),!0),pa=(new e.nKC("Skip"),function PF(){if("function"==typeof Symbol&&Symbol.iterator)return Symbol.iterator;const n=Object.getOwnPropertyNames(Map.prototype),o=Map.prototype;for(let t=0;t<n.length;++t){const i=n[t];if("entries"!==i&&"size"!==i&&o[i]===o.entries)return i}}()),Nu=typeof window<"u"?window:{},BF=Nu.requestAnimationFrame||Nu.msRequestAnimationFrame||(n=>setTimeout(n,16.666666666666668)),LF=Nu.cancelAnimationFrame||Nu.msCancelRequestAnimationFrame||clearTimeout,pc=n=>VF(n)?n.items.flatMap(pc):[{...n}],jv=n=>({id:n.id,width:n.width,hidden:n.hidden,locked:n.locked,sticky:n.sticky,orderIndex:n.orderIndex}),Hv=n=>n.isColumnGroup||n.isSpanColumn?[jv(n),...n.children.toArray().flatMap(Hv)]:[jv(n)],VF=n=>"aggregates"in n&&"items"in n&&"field"in n&&"value"in n,Xv=n=>Math.floor(100*n)/100,zF=(n,o,t)=>{const i=o.field;let s=1;const r=n.index;if(t[0].items){const l=n.dataItem.group;if(i===l.data.field)s=l.data.items.length;else{const u=n.dataItem.group.data.items.indexOf(n.dataItem.data);s=Wv(n.dataItem.group.data.items,u,i)}}else s=Wv(t,r,i);return s},Wv=(n,o,t)=>{let i=1;if("function"==typeof n[o][t]?.getTime)for(;n[o][t].getTime()===n[o+1]?.[t].getTime();)i++,o++;else for(;n[o][t]===n[o+1]?.[t];)i++,o++;return i},Gu=n=>n&&"object"==typeof n&&n.selectable.multipleRanges,$F=new e.nKC("focus-root-initial-active-state");let Au=(()=>{class n{active;groups=new Set;constructor(t=!1){this.active=t}registerGroup(t){this.active&&this.groups.add(t)}unregisterGroup(t){this.active&&this.groups.delete(t)}activate(){this.active&&this.groups.forEach(t=>t.activate())}deactivate(){this.active&&this.groups.forEach(t=>t.deactivate())}static \u0275fac=function(i){return new(i||n)(e.KVO($F,8))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();const jF=/^(?:a|input|select|option|textarea|button|object)$/i,rm={},Yv=n=>String(n).trim().split(" "),ma=(n,o)=>{const t=Yv(o);return!!Yv(n.className).find(i=>t.indexOf(i)>=0)},Fr=n=>o=>ma(o,n),as=n=>(rm[n]||(rm[n]=o=>String(o.nodeName).toLowerCase()===n.toLowerCase()),rm[n]),bn=(n,o)=>{for(;n&&!o(n);)n=n.parentNode;return n},am=(n,o,t)=>{for(;n&&n!==t&&!o(n);)n=n.parentNode;if(n!==t)return n},qv=(n,o,t=!1)=>{if(!bn(o,r=>r===n))return!1;const s=bn(o,r=>r===o);return s&&(t||s!==n)},lm=n=>{if(!(0,E.nm)())return;const o=n.getBoundingClientRect();return(o.width>0&&o.height>0||0!==o.x&&0!==o.y)&&"hidden"!==window.getComputedStyle(n).visibility},Jv=n=>{if(!n.tagName)return!1;const o=n.tagName.toLowerCase(),t=!!n.getAttribute("tabIndex");return!n.disabled&&jF.test(o)||t},dd=(n,o=!0)=>{if(!Jv(n))return!1;const t=!o||lm(n),i="true"===n.getAttribute("aria-hidden"),s=n.getAttribute("tabIndex");return t&&!i&&"-1"!==s},kr=(n,o,t=!0)=>{if(n){if(t&&o(n))return n;for(n=n.firstChild;n;){if(1===n.nodeType){const i=kr(n,o);if(i)return i}n=n.nextSibling}}},qF=as("button"),JF=as("input"),QF=as("kendo-checkbox")||as("kendo-textbox"),ZF=/(button|checkbox|color|file|radio|reset|submit)/i;class iB{renderer;get enabled(){return this.focusable&&!this.focusable.disabled}get visible(){return this.focusable&&lm(this.focusable)}element;focusable;constructor(o,t){this.renderer=t,this.element=o.nativeElement,this.focusable=((n,o=!0)=>kr(this.element,t=>dd(t,o)))(0,!1)||this.element}isNavigable(){return this.canFocus()&&(n=>!n.disabled&&(qF(n)||(n=>JF(n)&&ZF.test(n.type))(n)||QF(n)))(this.element)}toggle(o){this.renderer.setAttribute(this.focusable,"tabIndex",o?"0":"-1")}focus(){this.focusable&&this.focusable.focus()}canFocus(){return this.visible&&this.enabled}hasFocus(){return(0,E.nm)()&&document.activeElement!==this.element&&bn(document.activeElement,o=>o===this.element)}}const el=new e.nKC("grid-cell-context"),nB={};let Qv=(()=>{class n{renderer;toolbarElement;navigableElements=[];currentActiveIndex=0;defaultFocusableSelector="\n        [kendogridtoolbarfocusable],\n        [kendogridaddcommand],\n        [kendogridcancelcommand],\n        [kendogrideditcommand],\n        [kendogridremovecommand],\n        [kendogridsavecommand],\n        [kendogridexcelcommand],\n        [kendogridpdfcommand]\n    ";constructor(t){this.renderer=t}notify(){this.navigableElements=this.findNavigableElements(),this.currentActiveIndex=0,this.updateFocus()}findNavigableElements(){return Array.from(this.toolbarElement.querySelectorAll(this.defaultFocusableSelector)||[])}focus(){this.navigableElements[this.currentActiveIndex]?.focus()}updateFocus(){this.navigableElements.length&&(this.navigableElements.forEach(t=>{this.renderer.setAttribute(t,"tabindex","-1")}),this.renderer.setAttribute(this.navigableElements[this.currentActiveIndex],"tabindex","0"),(0,E.nm)()&&document.activeElement.closest(".k-toolbar")&&this.navigableElements[this.currentActiveIndex].focus())}static \u0275fac=function(i){return new(i||n)(e.KVO(e.sFG))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),Me=(()=>{class n{renderer;localization;grid;topToolbarNavigation;bottomToolbarNavigation;navigable;dataBindingDirective;highlightDirective;constructor(t,i){this.renderer=t,this.localization=i,this.topToolbarNavigation=new Qv(this.renderer),this.bottomToolbarNavigation=new Qv(this.renderer)}static \u0275fac=function(i){return new(i||n)(e.KVO(e.sFG),e.KVO(ve.Pi))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),ga=(()=>{class n{cellContext;hostElement;renderer;ctx;active=!0;group;element;_enabled=!0;set enabled(t){(t=""===t||!!t)!==this.enabled&&(this._enabled=t,this.element&&this.element.toggle(this.active&&t))}get enabled(){return this._enabled}constructor(t,i,s,r){this.cellContext=t,this.hostElement=i,this.renderer=s,this.ctx=r,this.cellContext&&(this.group=this.cellContext.focusGroup),this.group&&this.group.registerElement(this)}ngAfterViewInit(){!this.element&&this.ctx.navigable&&(this.element=new iB(this.hostElement,this.renderer)),this.group&&this.element&&this.toggle(this.group.isActive)}ngOnDestroy(){this.group&&this.group.unregisterElement(this)}toggle(t){this.element&&t!==this.active&&(this.element.toggle(this.enabled&&t),this.active=t)}canFocus(){return this.enabled&&this.element&&this.element.canFocus()}isNavigable(){return this.enabled&&this.element&&this.element.isNavigable()}focus(){this.enabled&&this.element&&this.element.focus()}hasFocus(){return this.enabled&&this.element&&this.element.hasFocus()}registerElement(t){this.element=t}static \u0275fac=function(i){return new(i||n)(e.rXU(el,12),e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(Me))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridFocusable",""],["","kendoGridEditCommand",""],["","kendoGridRemoveCommand",""],["","kendoGridSaveCommand",""],["","kendoGridCancelCommand",""],["","kendoGridSelectionCheckbox",""]],inputs:{enabled:[e.Mj6.None,"kendoGridFocusable","enabled"]},standalone:!0})}return n})();class sB{navigationService;constructor(o){this.navigationService=o}focus(){this.navigationService.focusCell()}toggle(o){this.navigationService.toggle(o)}canFocus(){return!0}hasFocus(){return this.navigationService.hasFocus()}isNavigable(){return!1}}class oB{model;changes=new me.B;set metadata(o){if(this._metadata=o,Oe(o)){const t=o.hasDetailTemplate&&!this.metadata.isStacked?1:0;this.activeRow<o.headerRows&&0===this.activeCol&&t!==this.activeCol&&(this.activeCol=t,this.reset())}}get metadata(){return this._metadata}activeRow=0;activeCol=0;virtualCol=0;virtualRow=0;_metadata;get row(){return this.model.findRow(this.activeRow)}get cell(){const o=this.row;if(o)return this.model.findCell(this.activeCol,o)}get dataRowIndex(){const o=this.row;return o?o.dataRowIndex:-1}constructor(o){this.model=o}reset(o=this.activeRow,t=this.activeCol,i=!0){this.activate(o,t,i)&&(this.virtualRow=o,this.virtualCol=t)}activate(o,t,i){if(!i&&this.isActiveRange(o,t))return!1;const s=this.activeCol,r=this.activeRow;return this.activeCol=t,this.activeRow=o,this.changes.next({colIndex:t,prevColIndex:s,prevRowIndex:r,rowIndex:o}),!0}isActiveRange(o,t){if(this.activeRow!==o)return!1;const i=this.cell,{start:s,end:r}=this.model.cellRange(i);return!i||s<=t&&t<=r}assume(o=this.activeRow,t=this.activeCol){this.virtualRow=o,this.virtualCol=t,this.activeCol=t,this.activeRow=o}announce(){this.changes.next({colIndex:this.activeCol,prevColIndex:this.activeCol,prevRowIndex:this.activeRow,rowIndex:this.activeRow})}activateVirtualCell(o){const t=this.model.rowRange(o),i=this.model.cellRange(o),s=this.activeCol,r=this.activeRow;if(t.start<=r&&r<=t.end&&i.start<=s&&s<=i.end)return this.activeRow=o.rowIndex,this.activeCol=o.colIndex,!0}isActive(o,t){return this.activeCol===t&&this.activeRow===o}moveUp(o=1){return this.offsetRow(-o)}moveDown(o=1){return this.offsetRow(o)}moveLeft(o=1){return this.offsetCol(-o)}moveRight(o=1){return this.offsetCol(o)}lastCellIndex(o){return this.metadata.columns.leafColumnsToRender.length-1+(!this.metadata.hasDetailTemplate||o&&o.groupItem?0:1)}offsetCol(o){if(this.metadata.isStacked)return!1;const t=this.model.findRow(this.virtualRow),i=this.lastCellIndex(t),s=this.virtualCol;this.virtualCol=Math.max(0,Math.min(s+o,i));let r=this.virtualCol;const l=this.virtualRow;let u=this.model.findCell(this.virtualCol,t);if(!u&&this.metadata.virtualColumns)return this.activate(l,r);if(!u&&this.metadata.hasDetailTemplate)return this.virtualCol+=1,!1;if(u.colSpan>1&&u.colIndex<=s&&s<u.colIndex+u.colSpan){r=o>0?Math.min(u.colIndex+u.colSpan,i):Math.max(0,u.colIndex+o);const f=this.model.findCell(r,t);return f?(u!==f?(u=f,this.virtualCol=u.colIndex):this.virtualCol=s,this.activate(u.rowIndex,this.virtualCol)):(this.virtualCol=r,this.activate(u.rowIndex,r))}return this.virtualCol=u.colIndex,this.activate(u.rowIndex,u.colIndex)}offsetRow(o){let t=this.virtualCol;if(this.metadata&&this.metadata.isVirtual){const r=this.metadata.maxLogicalRowIndex;let l=Math.max(0,Math.min(this.activeRow+o,r));this.metadata.hasDetailTemplate&&!this.model.findRow(l)&&(l=o>0?l+1:l-1,l=Math.max(0,Math.min(l,r))),this.metadata.hasDetailTemplate&&l===r&&this.model.lastRow.index!==r&&l--;const u=this.model.findRow(l);if(u){let f=this.model.findCell(this.virtualCol,u);if(!f||f.rowIndex<=this.virtualRow&&o>0&&f.rowSpan>1&&(f=this.model.findCell(this.virtualCol,this.model.findRow(f.rowIndex+f.rowSpan-1+o)),!f))return;l=f.rowIndex,t=f.colIndex}return this.virtualRow=l,this.activate(l,t)}const i=this.model.findRow(this.virtualRow+o)||this.model.nextRow(this.virtualRow,o);if(!i)return!1;let s=this.model.findCell(this.virtualCol,i);return s&&s.rowIndex<=this.virtualRow&&o>0&&s.rowSpan>1&&(s=this.model.findCell(this.virtualCol,this.model.findRow(s.rowIndex+s.rowSpan-1+o))),s||!this.metadata.virtualColumns&&!this.metadata.hasDetailTemplate?!!s&&(this.virtualRow=s.rowIndex,this.activate(this.virtualRow,s.colIndex)):this.activate(this.virtualRow+o,this.virtualCol)}}class Zv{count=0;items={};get first(){if(this.count>0){let o;return this.forEach(t=>(o=t,!0)),o}}get last(){if(this.count>0){const o=Object.keys(this.items);return this.items[o[o.length-1]]}}removeItem(o){this.items[o]&&(delete this.items[o],this.count--)}setItem(o,t){this.items[o]||this.count++,this.items[o]=t}getItem(o){return this.items[o]}toArray(){const o=[];return this.forEach(t=>{o.push(t)}),o}forEach(o){for(const t in this.items)if(this.items.hasOwnProperty(t)&&o(this.items[t]))return this.items[t]}find(o){return this.forEach(o)}}class rB{rows=new Zv;get firstRow(){return this.rows.first}get lastRow(){return this.rows.last}registerCell(o){const t=this.rows.getItem(o.logicalRowIndex);if(!t)return;const i=o.logicalColIndex,s={uid:o.uid,colIndex:i,rowIndex:t.index,colSpan:o.colSpan,rowSpan:o.rowSpan,detailExpandCell:o.detailExpandCell,dataItem:t.dataItem,dataRowIndex:t.dataRowIndex,focusGroup:o.focusGroup};return t.cells.setItem(i,s),o.groupItem&&(t.groupItem=o.groupItem),s}unregisterCell(o,t,i){const s=this.rows.getItem(t);if(s){const r=s.cells.getItem(o);r&&r.uid===i.uid&&s.cells.removeItem(o)}}registerRow(o){const t={uid:o.uid,index:o.logicalRowIndex,dataItem:o.dataItem,dataRowIndex:o.dataRowIndex,cells:new Zv};this.rows.setItem(o.logicalRowIndex,t)}updateRow(o){const t=this.rows.getItem(o.logicalRowIndex);t&&Object.assign(t,{dataItem:o.dataItem,dataRowIndex:o.dataRowIndex})}unregisterRow(o,t){const i=this.rows.getItem(o);i&&i.uid===t.uid&&this.rows.removeItem(o)}cellRange(o){return o?{start:o.colIndex,end:o.colIndex+(o.colSpan||1)-1}:{}}rowRange(o){return o?{start:o.rowIndex,end:o.rowIndex+(o.rowSpan||1)-1}:{}}nextRow(o,t){const i=this.rows.toArray(),s=this.rows.getItem(o),r=i.indexOf(s);return i[r+t]}findRow(o){return this.rows.getItem(o)}findCell(o,t){if(!t)return;const i=t.index;let s=t.cells.getItem(o),r=i;for(;!s&&t;)t=this.rows.getItem(r),s=this.rowCell(o,t),r--;return s&&i<=t.index+(s.rowSpan||1)-1?s:void 0}rowCell(o,t){if(!t||!t.cells.count)return;const i=t.cells.first;let s,r=o;for(;!s&&r>=i.colIndex;)s=t.cells.getItem(r),r--;return s&&o<=s.colIndex+(s.colSpan||1)-1?s:void 0}}let kl=(()=>{class n{cellClick=new e.bkB;cellMousedown=new e.bkB;cellMouseup=new e.bkB;click=new e.bkB;keydown=new e.bkB;shiftKeyup=new e.bkB;focus=new e.bkB;focusIn=new e.bkB;focusOut=new e.bkB;windowBlur=new e.bkB;paste=new e.bkB;static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();class Rl{prevented=!1;preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class aB extends Rl{isNew;dataItem;rowIndex;sender;action="cellClose";column;formGroup;originalEvent;constructor(o){super(),Object.assign(this,o)}}const wl=n=>-1===n||void 0===n;let Us=(()=>{class n{ngZone;changes=new e.bkB;changed;editedIndices=[];newItemGroup;keepEditCell=!1;keepCellTimeout;column;closingCell=!1;changedSource=new me.B;constructor(t){this.ngZone=t,this.changed=this.changedSource.asObservable().pipe((0,Dt.n)(()=>this.ngZone.onStable.asObservable().pipe((0,st.s)(1))))}editRow(t,i=void 0){this.editedIndices.push({index:t,group:i}),this.onChanged()}addRow(t){this.newItemGroup={group:t},this.onChanged()}editCell(t,i,s){wl(t)||!1===i.editable||!i.editTemplate&&!i.field||(this.preventCellClose(),this.closeCell()||(this.editRow(t,s),this.column=i,this.onChanged()))}isEditing(){return this.editedIndices.length>0}isEditingCell(){return this.isEditing()&&void 0!==this.column}get hasNewItem(){return Oe(this.newItemGroup)}get newDataItem(){return this.hasNewItem?this.newItemGroup.group.value:{}}close(t){wl(t)?this.newItemGroup=void 0:(this.editedIndices=this.editedIndices.filter((n=>o=>o.index!==n)(t)),delete this.column,this.onChanged())}closeCell(t){if(this.column&&!this.closingCell)return this.ngZone.run(()=>{const{index:i,group:s}=this.editedIndices[0],r=new aB({column:this.column,formGroup:s,originalEvent:t,rowIndex:i});return this.closingCell=!0,this.changes.emit(r),this.closingCell=!1,r.isDefaultPrevented()||this.cancelCell(),r.isDefaultPrevented()})}cancelCell(){this.column&&(this.editedIndices=[],delete this.column,this.onChanged())}shouldCloseCell(){return this.column&&!this.keepEditCell}preventCellClose(){this.ngZone.runOutsideAngular(()=>{window.clearTimeout(this.keepCellTimeout),this.keepEditCell=!0,this.keepCellTimeout=window.setTimeout(()=>{this.keepEditCell=!1},0)})}context(t){return wl(t)?this.newItemGroup:this.findByIndex(t)}columnContext(t,i){return wl(t)?this.newItemGroup:this.column&&i!==this.column?void 0:this.findByIndex(t)}isEdited(t){return!(!wl(t)||!Oe(this.newItemGroup))||!this.column&&Oe(this.findByIndex(t))}hasEdited(t){return Oe(this.context(t))}isEditedColumn(t,i){return!(!this.column||this.column!==i)&&Oe(this.findByIndex(t))}beginEdit(t){this.changes.emit({action:"edit",rowIndex:t})}beginAdd(){this.changes.emit({action:"add",isNew:!0})}endEdit(t){const{group:i}=this.context(t);this.changes.emit({action:"cancel",rowIndex:t,formGroup:i,isNew:wl(t)})}save(t){const{group:i}=this.context(t);this.changes.emit({action:"save",rowIndex:t,formGroup:i,isNew:wl(t)})}remove(t){this.changes.emit({action:"remove",rowIndex:t})}findByIndex(t){return this.editedIndices.find((n=>o=>o.index===n)(t))}onChanged(){this.ngZone.runOutsideAngular(()=>{this.changedSource.next()})}static \u0275fac=function(i){return new(i||n)(e.KVO(e.SKi))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();const Pu=n=>Oe(n)?{group:n.data,groupIndex:n.index,parentGroup:Pu(n.parentGroup)}:null;let tl=(()=>{class n{changes=new me.B;userCallback;rowState=new Set;reset(){this.rowState.clear()}ngOnDestroy(){this.reset()}isExpanded(t){return this.userCallback?this.userCallback(t):!this.rowState.has(t.groupIndex)}isInExpandedGroup(t){let i=!0;for(;t&&i;)i=this.isExpanded({group:t.data,groupIndex:t.index,parentGroup:Pu(t.parentGroup)}),t=t.parentGroup;return i}toggleRow(t,i=!0){const s=Pu(t.parentGroup),r=!this.isExpanded({group:t.data,groupIndex:t.index,parentGroup:s});this.changes.next({group:t.data,expand:r,groupIndex:t.index,parentGroup:s,emit:i}),!this.userCallback&&(r?this.rowState.delete(t.index):this.rowState.add(t.index))}expandChildren(t){this.rowState.forEach(i=>((n,o)=>{const t=o===n,i=n.lastIndexOf("_"),s=n.substring(0,i)===o;return!t&&s})(i,t)&&this.rowState.delete(i))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();class uB extends Rl{dataItem;index;constructor(o){super(),Object.assign(this,o)}}class hB extends Rl{dataItem;index;constructor(o){super(),Object.assign(this,o)}}let Il=(()=>{class n{userCallback;changes=new me.B;rowState=new Set;ngOnDestroy(){this.rowState.clear()}isExpanded(t,i){return this.userCallback?this.userCallback({index:t,dataItem:i}):this.rowState.has(t)}toggleRow(t,i){this.isExpanded(t,i)?this.collapseRow(t,i):this.expandRow(t,i)}expandRow(t,i){!this.emitEvent({dataItem:i,index:t,expand:!0})&&!this.userCallback&&this.rowState.add(t)}collapseRow(t,i){!this.emitEvent({dataItem:i,index:t,expand:!1})&&!this.userCallback&&this.rowState.delete(t)}emitEvent(t){const i=new(t.expand?hB:uB)(t);return this.changes.next(i),i.isDefaultPrevented()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),Fu=(()=>{class n{requests=new me.B;scrollTo(t,i=!0){this.requests.next({request:t,adjustIndex:i})}scrollToItem(t){this.requests.next({request:t})}static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),mc=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridCellTemplate",""]],standalone:!0})}return n})(),Bu=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridEditTemplate",""]],standalone:!0})}return n})(),eC=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridHeaderTemplate",""]],standalone:!0})}return n})(),tC=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridFooterTemplate",""]],standalone:!0})}return n})(),Lu=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridColumnMenuTemplate",""]],standalone:!0})}return n})(),pB=0,Ro=(()=>{class n{prefix;constructor(){this.prefix="k-grid"+pB++}gridId(){return this.prefix}cellId(t,i){return`${this.prefix}-r${t}c${i}`}selectionCheckboxId(t){return`${this.prefix}-checkbox${t}`}selectAllCheckboxId(){return`${this.prefix}-select-all`}static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();const ud_autoSizeColumn="The auto size column does not work with enabled virtual columns.\n    See https://www.telerik.com/kendo-angular-ui/components/grid/accessories/column-menu/#toc-autosize-column-item.",ud_autoSizeAllColumns="The auto size all columns does not work with enabled virtual columns.\n    See https://www.telerik.com/kendo-angular-ui/components/grid/accessories/column-menu/#toc-autosize-all-columns-item.",ud_serviceInput="The service input of the predefined column menu components is mandatory.\n    See https://www.telerik.com/kendo-angular-ui/components/grid/accessories/column-menu/#toc-customizing-the-content.",lo_requiredWidth=n=>`${n} columns feature requires all columns to have set width.\n    See https://www.telerik.com/kendo-angular-ui/components/grid/columns/${n.toLowerCase()}.`,lo_requiredScroll=n=>`${n} columns are only supported when scrolling is enabled.\n    See https://www.telerik.com/kendo-angular-ui/components/grid/columns/${n.toLowerCase()}/`,lo_nestedInside=(n,o)=>`${n} cannot be nested inside ${o}.`,Yn_functionType=(n,o)=>`${n} must be a function, but received ${JSON.stringify(o)}.`,Yn_incompatibleFeatures=(n,o)=>`'Having both ${n} and ${o} is not supported.'`,Yn_nonLockedColumnPresent="There should be at least one non-locked column. See https://www.telerik.com/kendo-angular-ui/components/grid/columns/locked/#toc-known-limitations",Yn_rowHeightVirtual="The virtual scrolling functionality requires setting the rowHeight (and detailRowHeight when there are detail rows).\n        Row height and detail row height settings should be set only when virtual scrolling mode is enabled.\n        See https://www.telerik.com/kendo-angular-ui/components/grid/scroll-modes/virtual/#toc-getting-started.",Yn_focusNavigable="The Grid should be configured as navigable to control focus. See https://www.telerik.com/kendo-angular-ui/components/grid/keyboard-navigation/.",Yn_expandCollapseMethods=(n,o,t,i)=>`The ${n} and ${o} methods should not be called\n        when using the ${t} directive or the ${i} callback.\n        These methods are provided only for backwards compatibility with legacy versions.`,Yn_requiredEditService="The default edit service of the editing directives works only when binding to plain array.\n        Please provide an editService. See https://www.telerik.com/kendo-angular-ui/components/grid/editing/editing-directives/#toc-custom-editing-service.",Yn_requiredModule=(n,o,t)=>`Creating ${n} requires including the ${o} and adding the ${t} component.`,Yn_unsupportedToolbarConfig="\n        Defining both a toolbar template and a ToolBarComponent within the Grid is not supported.\n        Please use either the ToolBarComponent or a custom template.",dm=n=>n?.isSpanColumn,iC=n=>n?.isCheckboxColumn,um=n=>n?.isRowReorderColumn;let gB=0,Un=(()=>{class n{parent;isReordered;initialMaxResizableWidth;initialMinResizableWidth;matchesMedia=!0;orderIndex=0;set leafIndex(t){this._leafIndex=t}get leafIndex(){return this._leafIndex}_leafIndex;isColumnGroup=!1;isSpanColumn=!1;resizable=!0;reorderable=!0;minResizableWidth=10;maxResizableWidth;title;set width(t){if("string"==typeof t){const i=this._width=parseInt(t,10);(0,e.naY)()&&console.warn(((n,o)=>`Expected numeric value for column width, but got a string "${n}". Treating as ${o}px.`)(t,i))}else this._width=t}get width(){return this._width}autoSize;set locked(t){this._locked=t}get locked(){return this._locked}_locked=!1;sticky=!1;hidden;media;lockable=!0;stickable=!0;columnMenu=!0;includeInChooser=!0;tableCellsRole="gridcell";style;headerStyle;filterStyle;footerStyle;cssClass;headerClass;filterClass;footerClass;set cellRowspan(t){if((0,e.naY)()&&(this.isSpanColumn||this.isColumnGroup))throw new Error("cellRowspan is not supported for SpanColumn and GroupColumn.");if(t){const i="function"==typeof t,s="boolean"==typeof t;if((0,e.naY)()&&!this.field&&!i)throw new Error("cellRowspan must be a function for non-bound columns.");if((0,e.naY)()&&!s&&!i)throw new Error("cellRowspan must be a function or boolean.");this._cellRowspan=s?zF:t}}get cellRowspan(){return this._cellRowspan}headerTemplates=new e.rOR;footerTemplate;columnMenuTemplates=new e.rOR;resizeStartWidth;idService;_cellRowspan;implicitWidth;get level(){return this.parent&&dm(this.parent)?this.parent.level:this.parent?this.parent.level+1:0}get isLocked(){return this.parent?this.parent.isLocked:this.locked}_width;get id(){return this._id}get colspan(){return 1}rowspan(t){return this.level<t?t-this.level+1:1}get headerTemplateRef(){const t=this.headerTemplates.first;return t?t.templateRef:void 0}get footerTemplateRef(){return this.footerTemplate?this.footerTemplate.templateRef:void 0}get columnMenuTemplateRef(){const t=this.columnMenuTemplates.first;return t?t.templateRef:null}get displayTitle(){return this.title}get isVisible(){return!this.hidden&&this.matchesMedia}_id;constructor(t,i){if(this.parent=t,this.idService=i,t&&i&&t.idService.gridId()===i.gridId()&&!(n=>n?.isColumnGroup||dm(n))(t))throw new Error("Columns can be nested only inside ColumnGroupComponent");this._id="k-grid-column-"+gB++}ngAfterViewInit(){this.initialMinResizableWidth=this.minResizableWidth||10,this.initialMaxResizableWidth=this.maxResizableWidth||Number.MAX_SAFE_INTEGER}static \u0275fac=function(i){return new(i||n)(e.rXU(n),e.rXU(Ro))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-column-base"]],contentQueries:function(i,s,r){if(1&i&&(e.wni(r,tC,5),e.wni(r,eC,4),e.wni(r,Lu,4)),2&i){let l;e.mGM(l=e.lsd())&&(s.footerTemplate=l.first),e.mGM(l=e.lsd())&&(s.headerTemplates=l),e.mGM(l=e.lsd())&&(s.columnMenuTemplates=l)}},inputs:{resizable:"resizable",reorderable:"reorderable",minResizableWidth:"minResizableWidth",maxResizableWidth:"maxResizableWidth",title:"title",width:"width",autoSize:"autoSize",locked:"locked",sticky:"sticky",hidden:"hidden",media:"media",lockable:"lockable",stickable:"stickable",columnMenu:"columnMenu",includeInChooser:"includeInChooser",tableCellsRole:"tableCellsRole",style:"style",headerStyle:"headerStyle",filterStyle:"filterStyle",footerStyle:"footerStyle",cssClass:[e.Mj6.None,"class","cssClass"],headerClass:"headerClass",filterClass:"filterClass",footerClass:"footerClass",cellRowspan:"cellRowspan"},decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),nC=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridGroupHeaderTemplate",""]],standalone:!0})}return n})(),sC=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridGroupHeaderColumnTemplate",""]],standalone:!0})}return n})(),oC=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridGroupFooterTemplate",""]],standalone:!0})}return n})(),rC=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridFilterCellTemplate",""]],standalone:!0})}return n})(),hm=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridFilterMenuTemplate",""]],standalone:!0})}return n})();function hd(n){return Oe(n?.field)}let rr=(()=>{class n extends Un{field;format;sortable=!0;groupable=!0;editor="text";filter="text";filterable=!0;editable=!0;template;groupHeaderTemplate;groupHeaderColumnTemplate;groupFooterTemplate;editTemplate;filterCellTemplate;filterMenuTemplate;constructor(t,i){super(t,i)}get templateRef(){return this.template?this.template.templateRef:void 0}get groupHeaderTemplateRef(){return this.groupHeaderTemplate?this.groupHeaderTemplate.templateRef:void 0}get groupHeaderColumnTemplateRef(){return this.groupHeaderColumnTemplate?this.groupHeaderColumnTemplate.templateRef:void 0}get groupFooterTemplateRef(){return this.groupFooterTemplate?this.groupFooterTemplate.templateRef:void 0}get editTemplateRef(){return this.editTemplate?this.editTemplate.templateRef:void 0}get filterCellTemplateRef(){return this.filterCellTemplate?this.filterCellTemplate.templateRef:void 0}get filterMenuTemplateRef(){return this.filterMenuTemplate?this.filterMenuTemplate.templateRef:void 0}get displayTitle(){return void 0===this.title?this.field:this.title}static \u0275fac=function(i){return new(i||n)(e.rXU(Un,13),e.rXU(Ro,8))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-column"]],contentQueries:function(i,s,r){if(1&i&&(e.wni(r,mc,5),e.wni(r,nC,5),e.wni(r,sC,5),e.wni(r,oC,5),e.wni(r,Bu,5),e.wni(r,rC,5),e.wni(r,hm,5)),2&i){let l;e.mGM(l=e.lsd())&&(s.template=l.first),e.mGM(l=e.lsd())&&(s.groupHeaderTemplate=l.first),e.mGM(l=e.lsd())&&(s.groupHeaderColumnTemplate=l.first),e.mGM(l=e.lsd())&&(s.groupFooterTemplate=l.first),e.mGM(l=e.lsd())&&(s.editTemplate=l.first),e.mGM(l=e.lsd())&&(s.filterCellTemplate=l.first),e.mGM(l=e.lsd())&&(s.filterMenuTemplate=l.first)}},inputs:{field:"field",format:"format",sortable:"sortable",groupable:"groupable",editor:"editor",filter:"filter",filterable:"filterable",editable:"editable"},standalone:!0,features:[e.Jv_([{provide:Un,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})();function Uu(n){return n.isSpanColumn}let aC=(()=>{class n extends Un{isSpanColumn=!0;template=new e.rOR;editTemplate=new e.rOR;children=new e.rOR;title;headerStyle;footerStyle;headerClass;footerClass;includeInChooser=!1;set editable(t){this._editable=t}get editable(){return Oe(this.editTemplateRef)&&this._editable}set width(t){}get width(){return this.children.reduce((t,i)=>t+i.width,0)}get leafIndex(){return this.children.first.leafIndex}_editable=!0;constructor(t,i){if(super(t,i),t&&t.isSpanColumn)throw new Error(lo_nestedInside("SpanColumnComponent","SpanColumnComponent"))}get templateRef(){const t=this.template.first;return t?t.templateRef:void 0}get editTemplateRef(){const t=this.editTemplate.first;return t?t.templateRef:void 0}get colspan(){return this.children.filter(t=>t.isVisible).length}set locked(t){this._locked=t}get locked(){return this._locked||this.children.some(t=>t.locked)}get childrenArray(){return this.children.toArray()}get hasChildren(){return this.children.length>0}set cellRowspan(t){super.cellRowspan=t}static \u0275fac=function(i){return new(i||n)(e.rXU(Un,13),e.rXU(Ro,8))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-span-column"]],contentQueries:function(i,s,r){if(1&i&&(e.wni(r,mc,4),e.wni(r,Bu,4),e.wni(r,rr,4)),2&i){let l;e.mGM(l=e.lsd())&&(s.template=l),e.mGM(l=e.lsd())&&(s.editTemplate=l),e.mGM(l=e.lsd())&&(s.children=l)}},inputs:{editable:"editable",locked:"locked"},standalone:!0,features:[e.Jv_([{provide:Un,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})();const fa=n=>n.reduce((o,t)=>o.concat(Uu(t)?t.childrenArray:[t]),[]),lC=n=>n.reduce((o,t)=>o.concat(Uu(t)?[t].concat(t.childrenArray):[t]),[]),Fa=n=>fa(n).filter(o=>o.isVisible),cC=n=>o=>(o||[]).reduce((t,i)=>t+(i[n]||0),0),fB=cC("width"),Vu=cC("colspan"),_B=new RegExp("^[$A-Z_a-z][$A-Z_a-z0-9\\.]*$"),pd=n=>n.reduce((o,t)=>(t.isColumnGroup?o=o.concat(pd((n=>n.children.filter(o=>o!==n))(t))):t.isSpanColumn?o=o.concat(t.childrenArray):o.push(t),o),[]).filter(o=>o.isVisible),pm=(n,...o)=>pd(o).some(n),Dl=n=>(0,ki.My)(n,[{field:"orderIndex",dir:"asc"}]),dC=n=>$o(n.parent)&&Uu(n.parent),mm=n=>n.parent?mm(n.parent):!!n.locked,uC=(n,o)=>Object.assign({columns:pd([n]),locked:mm(n)},o);let gc=(()=>{class n{changes=new e.bkB;adjacentColumn;areColumnsReordered=!1;isShiftPressed=!1;originalWidth;draggedGroupColumn;resizedColumns;autoFitResize=!1;column;tables=[];batch=null;start(t){this.trackColumns(t);const i=(this.column.isColumnGroup?[t]:[]).concat(pd([t]));this.changes.emit({columns:i,locked:mm(this.column),type:"start"})}resizeColumns(t){const i=uC(this.column,{deltaPercent:t,type:"resizeColumn"});this.changes.emit(i)}resizeTable(t,i){const s=uC(t,{delta:i,type:"resizeTable"});this.changes.emit(s)}resizedColumn(t){this.resizedColumns.push(t)}end(){this.changes.emit({columns:[],resizedColumns:this.resizedColumns,type:"end"}),this.restoreInitialMaxMinWidths(),this.adjacentColumn=null,this.draggedGroupColumn=null,this.autoFitResize=!1}registerTable(t){return this.tables.push(t),()=>{this.tables.splice(this.tables.indexOf(t),1)}}measureColumns(t){null!==this.batch?this.batch.push(...t):this.autoFitBatch(t,()=>this.end())}autoFit(...t){const i=t.filter(s=>!s.isLocked);this.autoFitStart(i),this.autoFitBatch(this.batch,()=>{if(i.length<t.length){const s=t.filter(r=>r.isLocked);this.autoFitStart(s),this.autoFitBatch(this.batch,()=>this.end())}else this.end()})}trackColumns(t){this.resizedColumns=[],this.column=t}autoFitStart(t){if(this.batch=[],this.resizedColumns=[],0===t.length)return;const i=t[0].isLocked;this.changes.emit({type:"start",columns:t,locked:i}),this.changes.emit({type:"triggerAutoFit",columns:t,locked:i})}autoFitBatch(t,i){const s=t.length>0&&t[0].column.isLocked;(function Pe(...n){const o=(0,Ae.ms)(n),t=function It(n){return 1===n.length&&Be(n[0])?n[0]:n}(n);return t.length?new xe.c(i=>{let s=t.map(()=>[]),r=t.map(()=>!1);i.add(()=>{s=r=null});for(let l=0;!i.closed&&l<t.length;l++)(0,Ve.Tg)(t[l]).subscribe((0,De._)(i,u=>{if(s[l].push(u),s.every(f=>f.length)){const f=s.map(C=>C.shift());i.next(o?o(...f):f),s.some((C,T)=>!C.length&&r[T])&&i.complete()}},()=>{r[l]=!0,!s[l].length&&i.complete()}));return()=>{s=r=null}}):we.w})(...this.tables.filter(l=>l.locked===s).map(l=>l.autoFit(t))).pipe((0,st.s)(1)).subscribe(l=>{this.changes.emit({columns:t.map(u=>u.column),type:"autoFitComplete",widths:l,locked:s}),i&&i()}),this.batch=null}restoreInitialMaxMinWidths(){this.adjacentColumn&&(this.adjacentColumn.maxResizableWidth=this.adjacentColumn.initialMaxResizableWidth,this.adjacentColumn.minResizableWidth=this.adjacentColumn.initialMinResizableWidth),this.column&&(this.column.maxResizableWidth=this.column.initialMaxResizableWidth,this.column.minResizableWidth=this.column.initialMinResizableWidth)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();const bB=(n,o)=>bn(n,as("kendo-grid"))===o,EB=as("th"),kB=as("td"),RB=as(".k-grid-footer td"),hC=n=>kB(n)||EB(n)||RB(n),gm=(n,o)=>{const t=((n,o)=>{let t=bn(n,hC);for(;t&&!bB(t,o);)t=bn(t.parentElement,hC);return t})(n,o),i=bn(t,as("tr"));if(t&&i){let s=i.getAttribute("aria-rowindex")||i.getAttribute("data-kendo-grid-row-index");s=s?parseInt(s,10)-1:null;let r=t.getAttribute("aria-colindex");if(r=r?parseInt(r,10)-1:null,null!==s&&null!==r)return{colIndex:r,rowIndex:s,element:t}}},pC=n=>(n=>n===E.D$.ArrowLeft||n===E.D$.ArrowRight||n===E.D$.ArrowUp||n===E.D$.ArrowDown)(n)||n===E.D$.PageUp||n===E.D$.PageDown||n===E.D$.Home||n===E.D$.End,DB=as("input");class gC{firstItemIndex;lastItemIndex;constructor(o,t){this.firstItemIndex=o,this.lastItemIndex=t}containsRow(o){return o<0||o>=this.firstItemIndex&&o<=this.lastItemIndex}intersects(o,t){return o<=this.firstItemIndex&&this.lastItemIndex<=t||this.firstItemIndex<=o&&o<=this.lastItemIndex||this.firstItemIndex<=t&&t<=this.lastItemIndex}}let ar=(()=>{class n{zone;domEvents;pagerContextService;scrollRequestService;groupsService;detailsService;focusRoot;editService;cd;ctx;resizeService;focusableParent;changes;cellKeydown=new e.bkB;set metadata(t){this.meta=t,this.cursor.metadata=t}get metadata(){return this.meta}get enabled(){return this.alive}get pagerEnabled(){return this.alive&&this.pagerIsNavigable}get tableEnabled(){return this.alive&&this.tableIsNavigable}get toolbarEnabled(){return this.alive&&this.toolbarIsNavigable}get activeCell(){if(0!==this.mode)return this.cursor.cell}get activeRow(){if(0!==this.mode)return Object.assign({},this.cursor.row,{cells:this.cursor.row?.cells.toArray()})}get isColumnResizable(){const i=Array.from(this.ctx.grid.columnsContainer.allColumns).find(s=>s.level===this.activeCell.rowIndex&&s.leafIndex===this.activeCell.colIndex);if(i.parent){const r=Array.from(i.parent.children).sort((u,f)=>u.orderIndex-f.orderIndex),l=r.indexOf(i);return i.isReordered||i.orderIndex>0||i.isReordered&&0===i.orderIndex?i.orderIndex-r[0].orderIndex!=r.length-1:l!==r.length-1}return i.isColumnGroup?this.activeCell.colIndex+this.activeCell.colSpan!==this.ctx.grid.columnsContainer.leafColumnsToRender.length:this.activeCell.colIndex!==this.ctx.grid.columnsContainer.leafColumnsToRender.length-1}viewport;columnViewport;activeRowIndex=0;alive=!1;active=!0;mode=0;model=new rB;cursor=new oB(this.model);meta;subs;pendingRowIndex;virtualCell;pagerIsNavigable=!1;tableIsNavigable=!1;toolbarIsNavigable=!1;lastCellRowIndex;isShiftPressed=!1;currentSelection=[];get activeDataRow(){return Math.max(0,this.activeRowIndex-this.meta.headerRows)}constructor(t,i,s,r,l,u,f,C,T,O,G,P){this.zone=t,this.domEvents=i,this.pagerContextService=s,this.scrollRequestService=r,this.groupsService=l,this.detailsService=u,this.focusRoot=f,this.editService=C,this.cd=T,this.ctx=O,this.resizeService=G,this.focusableParent=P,this.changes=this.cursor.changes}init(t,i){this.setActiveSections(i),this.alive=!0,this.focusRoot.active=!0,this.metadata=t;const s=(...l)=>u=>this.zone.isStable?(0,Ze.H)([!0]).pipe((0,tt.T)(()=>u)):this.zone.onStable.pipe((0,st.s)(1),(0,tt.T)(()=>u),...l),r=s();if(this.subs=new He.yU,this.subs.add(this.cursor.changes.subscribe(l=>this.onCursorChanges(l))),this.subs.add(this.domEvents.focus.pipe((0,Dt.n)(r)).subscribe(l=>this.navigateTo(l.target))),this.subs.add(this.domEvents.focusOut.pipe((0,We.p)(()=>0!==this.mode),(0,Dt.n)(s((0,ii.Q)(this.domEvents.focus)))).subscribe(l=>this.onFocusOut(l))),this.subs.add(this.domEvents.windowBlur.pipe((0,We.p)(()=>0!==this.mode)).subscribe(()=>this.onWindowBlur())),this.subs.add(this.editService.changes.pipe((0,We.p)(l=>"edit"!==l.action&&2===this.mode),(0,We.p)(l=>"cellClose"===l.action&&!l.prevented),(0,Dt.n)(r)).subscribe(l=>{bn(l.originalEvent?.target,f=>(0,E.Rq)(f,"k-grid-stack-content"))||this.leaveCell()})),this.subs.add(this.pagerContextService.pageChange.subscribe(()=>this.cursor.reset(0,0))),this.subs.add(this.domEvents.keydown.subscribe(l=>this.onKeydown(l))),this.subs.add(this.domEvents.shiftKeyup.subscribe(()=>{this.isShiftPressed=!1})),this.subs.add(this.domEvents.keydown.pipe((0,We.p)(l=>l.code===E.D$.Tab&&2===this.mode),Ui(this.domEvents.focusOut.pipe((0,ii.Q)((0,Ei.Y)(0).pipe((0,st.s)(1)))))).subscribe(()=>this.onTabout())),this.subs.add(this.domEvents.cellClick.subscribe(()=>{if(this.isStackedMode){const l=this.activeCell?.focusGroup?.focusableChildren;if(!(0,E.Wo)(l)||0===l.length)return;const u=l.findIndex(f=>f.hasFocus()||f.hostElement?.nativeElement===document.activeElement);u>-1&&(this.stackedFocusedCellIndex=u)}})),this.focusableParent){const l=new sB(this);this.focusableParent.registerElement(l)}this.deactivateElements()}ngOnDestroy(){this.subs&&this.subs.unsubscribe(),this.alive=!1}registerCell(t){if(t.logicalRowIndex!==this.pendingRowIndex){const i=this.model.registerCell(t);this.virtualCell&&this.cursor.activateVirtualCell(i)&&(this.virtualCell=!1)}}registerCellOnCurrentRow(t){t.logicalRowIndex===this.pendingRowIndex&&this.model.registerCell(t)}unregisterCell(t,i,s){this.model.unregisterCell(t,i,s)}registerRow(t){this.model.registerRow(t),this.pendingRowIndex=t.logicalRowIndex}updateRow(t){this.model.updateRow(t)}unregisterRow(t,i){this.model.unregisterRow(t,i);const s=this.model.lastRow;if(s&&0===this.mode){const r=this.needsViewport()&&this.viewport?this.viewport.lastItemIndex:s.index;this.activeRowIndex>r&&this.cursor.reset(0,0)}}isCellFocusable(t){return this.alive&&this.active&&2!==this.mode&&this.cursor.isActive(t.logicalRowIndex,t.logicalColIndex)}isCellFocused(t){return 1===this.mode&&this.isCellFocusable(t)}navigateTo(t){if(!this.alive||!(0,E.nm)())return;const i=gm(t,this.meta.gridElement.nativeElement);if(!i)return;const s=this.mode,r=qv(i.element,document.activeElement),l=2===this.mode&&this.activeRowIndex===i.rowIndex&&t!==i.element;if(r)this.mode=2,this.cursor.reset(i.rowIndex,i.colIndex),this.activateRow();else if(!l){this.mode=1,this.deactivateElements();const u=this.cursor.isActive(i.rowIndex,i.colIndex);1===s&&u||this.cursor.reset(i.rowIndex,i.colIndex)}}tryFocus(t){this.activateElements();const i=((n,o=!0)=>kr(n,t=>dd(t,o),!1))(t);if(i){const s=gm(i,this.meta.gridElement.nativeElement);s&&(this.cursor.reset(s.rowIndex,s.colIndex),this.deactivateElements(),this.enterCell()),i.focus()}else this.deactivateElements();return!!i}needsViewport(){return this.meta&&this.meta.isVirtual}setViewport(t,i){if(this.viewport=new gC(t,i),this.meta&&this.meta.isVirtual&&this.activeDataRow>-1){const s=this.activeDataRow,l=s-i;t-s>0?this.cursor.reset(t+this.meta.headerRows):l>0&&this.cursor.reset(i-this.meta.headerRows)}}setColumnViewport(t,i){if(this.columnViewport=new gC(t,i),this.meta&&this.meta.isVirtual&&this.activeDataRow>-1){const s=this.cursor.cell?this.cursor.cell.colIndex:0,l=s-i;t-s>0?this.cursor.reset(void 0,t,!1):l>0&&this.cursor.reset(void 0,i,!1)}}focusCell(t=void 0,i=void 0){return this.mode=1,this.cursor.reset(t,i),this.activeCell}focusCellByElement(t){const i=gm(t,this.meta.gridElement.nativeElement);if(i)return this.focusCell(i.rowIndex,i.colIndex)}focusNextCell(t=!0){return this.focusAdjacentCell(!0,t)}focusPrevCell(t=!0){return this.focusAdjacentCell(!1,t)}toggle(t){this.active=t,this.cursor.announce()}hasFocus(){return 1===this.mode||2===this.mode}autoFocusCell(t,i){return!this.meta.virtualColumns||i<this.meta.columns.lockedLeafColumns.length||this.columnViewport.intersects(t,i)}setActiveSections(t){this.pagerIsNavigable=t.includes("pager"),this.tableIsNavigable=t.includes("table"),this.toolbarIsNavigable=t.includes("toolbar")}focusAdjacentCell(t,i){this.focusCell();let s=t?this.moveCursorFwd():this.moveCursorBwd();if(i&&!s&&(s=t?this.cursor.moveDown(1):this.cursor.moveUp(1),s)){const r=this.cursor.row,l=t||this.isStackedMode?0:this.cursor.lastCellIndex(r);this.cursor.reset(r.index,l)}return s?this.activeCell:(this.mode=0,this.cursor.announce(),null)}enterCell(){const t=this.cursor.cell;if(!t)return;this.tableCellEntered&&this.isStackedMode?this.stackedCellEntered=!0:this.tableCellEntered=!0;const i=t.focusGroup,s=i&&i.canFocus();this.mode=s?2:1,this.cursor.announce(),s&&(this.activateRow(),i.focus(),this.isStackedMode&&-1===this.stackedFocusedCellIndex&&(this.stackedFocusedCellIndex=0))}leaveCell(){const t=this.cursor.cell;if(!t)return;this.tableCellEntered&&(this.stackedCellEntered?this.stackedCellEntered=!1:this.tableCellEntered=!1);const i=t.focusGroup;i&&i.canFocus()||this.deactivateElements(),this.isStackedMode&&this.stackedFocusedCellIndex>-1&&(this.stackedFocusedCellIndex=-1),this.mode=1,this.cursor.announce()}activateElements(){this.focusRoot.activate()}deactivateElements(){this.focusRoot.deactivate()}activateRow(){this.cursor.row.cells.forEach(t=>t.focusGroup&&t.focusGroup.activate())}moveCursorFwd(){return this.lastCellRowIndex=this.activeCell?.rowIndex,this.ctx.localization.rtl?this.cursor.moveLeft():this.cursor.moveRight()}moveCursorBwd(){return this.lastCellRowIndex=this.activeCell?.rowIndex,this.ctx.localization.rtl?this.cursor.moveRight():this.cursor.moveLeft()}onCursorKeydown(t){let i=!1;const s=t.ctrlKey||t.metaKey;let r=s?5:1;const l=+t.target?.getAttribute("rowspan");let u=0,f=!1;const C=this.ctx.grid.selectionService.active&&this.ctx.grid.selectableSettings?.multipleRanges||this.ctx.grid.cellSelectionService.active&&this.ctx.grid.cellSelectionService?.options?.multipleRanges;if(C||(this.currentSelection=[]),!this.onCellKeydown(t))return;const T=this.cursor.row,O=(0,E.tq)(t),G=O===E.D$.ArrowDown?"Down":"Up",P=O===E.D$.ArrowRight;switch(!this.isShiftPressed&&t.shiftKey&&(O===E.D$.ArrowDown||O===E.D$.ArrowUp||O===E.D$.ArrowLeft||O===E.D$.ArrowRight)&&(f=!0,this.isShiftPressed=!0),O){case E.D$.ArrowDown:case E.D$.ArrowUp:if(l>1&&(u=this.calculateRowspanOffset(G,l),r+=u),t.shiftKey){if(this.ctx.grid.blockArrowSelection)return;i=this.cursor[`move${G}`](r);const z=f&&C;this.activeRow?.dataItem&&this.handleVerticalArrowSelection(("Down"===G?1:-1)*r,z)}else i=this.cursor[`move${G}`](r);this.lastCellRowIndex=this.activeRowIndex;break;case E.D$.ArrowRight:case E.D$.ArrowLeft:if(t.altKey&&this.ctx.grid.resizable&&this.isColumnResizable){this.columnResize(P);break}if(t.shiftKey){if(this.ctx.grid.blockArrowSelection)return;i=this["moveCursor"+(P?"Fwd":"Bwd")](),this.handleHorizontalArrowSelection(t,f&&C)}else i=this["moveCursor"+(P?"Fwd":"Bwd")]();break;case E.D$.PageDown:if(this.metadata.isVirtual&&this.viewport){let z=this.meta.headerRows+this.viewport.lastItemIndex+1;this.metadata.hasDetailTemplate&&z++,z=Math.min(this.meta.maxLogicalRowIndex,z),this.cursor.reset(z),i=!0}else this.metadata.hasPager&&(this.zone.run(()=>this.pagerContextService.nextPage()),i=!0);break;case E.D$.PageUp:if(this.metadata.isVirtual&&this.viewport){const le=Math.max(this.meta.headerRows,this.viewport.firstItemIndex-(this.viewport.lastItemIndex-this.viewport.firstItemIndex)-1);this.cursor.reset(le),i=!0}else this.metadata.hasPager&&(this.zone.run(()=>this.pagerContextService.prevPage()),i=!0);break;case E.D$.Home:if(s)this.cursor.reset(this.meta.isVirtual?this.meta.headerRows:this.model.firstRow.index,0,!1);else{let z=0;this.meta.hasDetailTemplate&&T.index<this.meta.headerRows&&(z=1),this.cursor.reset(T.index,z,!1)}i=!0;break;case E.D$.End:if(s)if(this.meta.isVirtual){let z=this.meta.maxLogicalRowIndex;this.meta.hasDetailTemplate&&z--,this.cursor.reset(z,this.cursor.lastCellIndex(),!1)}else this.cursor.reset(this.model.lastRow.index,this.cursor.lastCellIndex(this.model.lastRow),!1);else{const z=this.cursor.lastCellIndex(T),de=this.model.findCell(z,T);de?this.cursor.reset(de.rowIndex,de.colIndex):this.cursor.reset(T.index,z)}i=!0;break;case E.D$.Enter:case E.D$.F2:{if(this.stackedCellEntered){O===E.D$.F2&&T.dataRowIndex>-1&&(this.zone.run(()=>{this.editService.beginEdit(T.dataRowIndex)}),this.enterCell());break}const z=T.groupItem;z?this.zone.run(()=>this.groupsService.toggleRow(z)):this.cursor.cell.detailExpandCell?this.zone.run(()=>this.detailsService.toggleRow(T.dataRowIndex,T.dataItem)):(O===E.D$.F2&&T.dataRowIndex>-1&&this.zone.run(()=>{this.editService.beginEdit(T.dataRowIndex)}),this.enterCell(),this.cursor.cell.focusGroup.isNavigable()||(i=!0));break}case E.D$.Backspace:case E.D$.Delete:this.activeRow&&this.activeRow.dataRowIndex>=0&&this.activeRow.dataItem&&!T.groupItem&&!this.cursor.cell.detailExpandCell&&(this.zone.run(()=>{this.editService.remove(this.activeRow.dataRowIndex)}),i=!0);break;default:!t.ctrlKey&&!t.altKey&&(n=>1===n.length&&n.match(/\S/))(t.key)&&this.enterCell()}i&&t.preventDefault()}columnResize(t){const i=this.ctx.grid.columnsContainer.allColumns.find(s=>s.level===this.activeCell.rowIndex&&s.leafIndex===this.activeCell.colIndex);this.resizeService.start(i),this.resizeService.resizeColumns(t?10:-10),this.resizeService.resizeColumns.length>0&&this.resizeService.end()}onContentKeydown(t){if(!this.onCellKeydown(t))return;const i=(0,E.tq)(t),s=!t.defaultPrevented&&i===E.D$.Enter&&(n=>n&&DB(n)&&"text"===n.type.toLowerCase())(t.target);if(i===E.D$.Escape||i===E.D$.F2||s){if(this.tableCellEntered&&i===E.D$.F2&&this.activeRow.dataRowIndex>-1)return this.zone.run(()=>{this.editService.beginEdit(this.activeRow.dataRowIndex)}),void this.enterCell();this.leaveCell(),this.cursor.reset(),t.stopPropagation()}else pC(i)&&this.cursor.cell.focusGroup.isNavigable()&&(this.onCursorKeydown(t),t.defaultPrevented&&this.leaveCell())}onCellKeydown(t){if(this.editService.isEditingCell()){const i=(0,E.tq)(t),s=i===E.D$.Enter,r=i===E.D$.Escape,l=pC(i);if(s)this.editService.closeCell(t);else if(r)this.editService.closeCell(t),this.cd.detectChanges();else if(l)return!1}return this.cellKeydown.emit(t),!0}onCursorChanges(t){this.activeRowIndex=t.rowIndex;const i=this.activeDataRow;if(this.meta&&this.meta.isVirtual&&t.rowIndex>=this.meta.headerRows&&this.viewport&&!this.viewport.containsRow(i)&&i>-1&&this.scrollRequestService.scrollTo({row:i}),this.meta.virtualColumns&&t.colIndex>=this.meta.columns.lockedLeafColumns.length){const s=this.activeCell,{start:r,end:l}=this.model.cellRange(s);s||(this.virtualCell=!0),(!s&&0!==this.mode||s&&!this.columnViewport.intersects(r,l))&&this.scrollRequestService.scrollTo({column:t.colIndex-(this.metadata.hasDetailTemplate?1:0)})}}onFocusOut(t){this.mode=lm(t.target)?0:1,this.deactivateElements(),this.cursor.announce()}onWindowBlur(){this.mode=0,this.deactivateElements(),this.cursor.announce()}onKeydown(t){this.isStackedMode&&(this.handleStackedKeydown(t),t.defaultPrevented)||(1===this.mode?this.onCursorKeydown(t):2===this.mode&&this.onContentKeydown(t))}onTabout(){this.cursor.cell.focusGroup.isNavigable()||(this.leaveCell(),this.cursor.reset())}handleVerticalArrowSelection(t,i){const s=this.ctx.grid.cellSelectionService.active;if(s||this.ctx.grid.selectionService.active&&!this.ctx.grid.selectableSettings.checkboxOnly){const l=this.ctx.grid[s?"cellSelectionService":"selectionService"],u=this.cursor.cell?this.cursor.cell.colIndex:0,C=l.settings.view.at(this.activeRow.dataRowIndex-this.ctx.grid.skip),T={index:this.activeRow.dataRowIndex,data:C,column:this.ctx.grid.columnsContainer.leafColumnsToRender[u]};if("multiple"===l.options.mode){const O=this.activeRow.dataRowIndex-t;s?this.handleMultipleArrowCellSelection(T,i,O,u):this.handleMultipleArrowRowSelection(T,i,O)}else l.handleClick(T,t)}}handleHorizontalArrowSelection(t,i){const s=this.ctx.grid.cellSelectionService.active;if(s){const r=this.ctx.grid[s?"cellSelectionService":"selectionService"],l=this.activeRow,u=this.cursor.cell?this.cursor.cell.colIndex:0,f=r.settings.view.at(l.dataRowIndex-this.ctx.grid.skip),C={index:l.dataRowIndex,data:f,column:this.ctx.grid.columnsContainer.leafColumnsToRender[u]};if(!(0,E.Wo)(f)||!(0,E.Wo)(C.column))return;"multiple"===r.options.mode?this.handleMultipleArrowCellSelection(C,i,l.dataRowIndex,"ArrowRight"===t.key?u-1:u+1):r.handleClick(C,t)}}handleMultipleArrowCellSelection(t,i,s,r){const l=this.ctx.grid.cellSelectionService,u=i?s:Math.min(l.lastSelectionItemRowIndex,t.index),f=i?r:Math.min(l.lastSelectionItemColIndex,t.column.leafIndex),C=i?t.index:Math.max(l.lastSelectionItemRowIndex,t.index),T=i?t.column.leafIndex:Math.max(l.lastSelectionItemColIndex,t.column.leafIndex);i&&(l.lastSelectionItemRowIndex=s,l.lastSelectionItemColIndex=r,this.currentSelection=l.currentSelection);const O=l.selectRange(u,f,C,T,i,this.currentSelection);l.changes.emit(O)}handleMultipleArrowRowSelection(t,i,s){const r=this.ctx.grid.selectionService,l=i?s:Math.min(r.lastSelectionStartIndex,t.index),u=i?t.index:Math.max(r.lastSelectionStartIndex,t.index);i&&(r.lastSelectionStartIndex=s,this.currentSelection=r.currentSelection);const f=r.selectRange(l,u,i,this.currentSelection);r.changes.emit(f)}calculateRowspanOffset(t,i){return(0,E.Wo)(this.lastCellRowIndex)?"Up"===t?Math.abs(this.lastCellRowIndex-this.activeRowIndex):this.activeRowIndex+i-this.lastCellRowIndex-1:0}get isStackedMode(){return this.ctx?.grid?.isStacked}handleStackedKeydown(t){const i=t.target,s=bn(i,f=>(0,E.Rq)(f,"k-grid-stack-cell")),r=bn(i,f=>(0,E.Rq)(f,"k-table-td")),l=bn(i,f=>(0,E.Rq)(f,"k-grid-stack-content")),u=bn(i,f=>(0,E.Rq)(f,"k-command-cell"));if(s&&r)if(t.code===E.D$.Tab)this.handleStackedTabNavigation(t);else if(t.code===E.D$.Backspace||t.code===E.D$.Delete){if(this.stackedCellEntered||this.editService.isEditing())return;this.activeRow&&this.activeRow.dataRowIndex>=0&&this.activeRow.dataItem&&!this.cursor.row.groupItem&&!this.cursor.cell.detailExpandCell&&(this.zone.run(()=>{this.editService.remove(this.activeRow.dataRowIndex)}),t.preventDefault())}else l&&(t.code===E.D$.Enter||t.code===E.D$.NumpadEnter||t.code===E.D$.Escape)&&(this.editService.closeCell(t),this.activeCell.focusGroup.activate(),this.activeCell.focusGroup.focusableChildren[this.stackedFocusedCellIndex]?.focus(),u||t.preventDefault())}stackedFocusedCellIndex=-1;tableCellEntered=!1;stackedCellEntered=!1;handleStackedTabNavigation(t){if(!(0,E.Wo)(this.activeCell.focusGroup)||-1===this.stackedFocusedCellIndex)return;const i=this.activeCell?.focusGroup?.focusableChildren;if(!(0,E.Wo)(i)||0===i.length)return;const s=i.findIndex(r=>r.hasFocus()||r.hostElement?.nativeElement===document.activeElement);t.shiftKey?0===s?(t.stopImmediatePropagation(),t.preventDefault()):this.stackedFocusedCellIndex=s-1:s===i.length-1?(t.stopImmediatePropagation(),t.preventDefault()):this.stackedFocusedCellIndex=s+1}static \u0275fac=function(i){return new(i||n)(e.KVO(e.SKi),e.KVO(kl),e.KVO(Fi.OT),e.KVO(Fu),e.KVO(tl),e.KVO(Il),e.KVO(Au),e.KVO(Us),e.KVO(e.gRc),e.KVO(Me),e.KVO(gc),e.KVO(ga,8))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();const Tl=n=>o=>new RegExp(`(^| )${n}( |$)`).test(o.className),MB=yu(Tl("k-i-x"),Tl("k-svg-i-x"),Tl("k-icon-button")),yB=yu(Tl("k-i-sort-asc-small"),Tl("k-i-sort-desc-small"),Tl("k-svg-i-sort-asc-small"),Tl("k-svg-i-sort-desc-small")),NB=om(cd(MB),cd(yB),cd(dd),cd(as("label"))),fC=({clientX:n,clientY:o})=>(0,E.nm)()&&document.elementFromPoint(n,o);let fm=(()=>{class n{draggable;element;zone;service;hint;cue;nav;renderer;context={};set enableDrag(t){this.enabled=t,this.updateTouchAction()}drag=new e.bkB;subscriptions=new He.yU;enabled;constructor(t,i,s,r,l,u,f,C){this.draggable=t,this.element=i,this.zone=s,this.service=r,this.hint=l,this.cue=u,this.nav=f,this.renderer=C}ngOnInit(){this.subscriptions.add(this.zone.runOutsideAngular(()=>this.draggable.kendoPress.pipe((0,We.p)(()=>this.enabled),(0,We.p)(({originalEvent:{target:t}})=>t===this.element.nativeElement||NB(t)),(0,Tt.M)(t=>{const i=t.originalEvent;t.isTouch||i.preventDefault(),this.nav.navigateTo(i.target)}),(0,Dt.n)((n=>o=>(0,Je.of)(o).pipe((0,Bt.c)(150),(0,ii.Q)(n)))(this.draggable.kendoRelease)),(0,Tt.M)(()=>{this.hint.create(this.context.hint),this.cue.create()}),(0,Dt.n)(t=>this.draggable.kendoDrag.pipe((0,Tt.M)(i=>{i.isTouch&&i.originalEvent.preventDefault()}),(0,Tt.M)(this.hint.attach()),(0,Tt.M)(this.cue.attach()),(0,ii.Q)(this.draggable.kendoRelease),(0,tt.T)(i=>({move:i,down:t})))),(0,Tt.M)(this.performDrag.bind(this)),Ui(this.draggable.kendoRelease)).subscribe(this.drop.bind(this))))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}drop(t){this.hint.remove(),this.cue.remove(),this.service.notifyDrop(this,t)}performDrag({move:t}){this.hint.move(t);const i=this.elementUnderCursor(t);i&&this.service.notifyDrag(this,i,t),this.drag.emit({draggable:this,mouseEvent:t})}elementUnderCursor(t){this.hint.hide();let i=fC(t);return i&&/k-grouping-dropclue/.test(i.className)&&(i=((n,o)=>{n.style.display="none";const t=o();return n.style.display="block",t})(i,fC.bind(this,t))),this.hint.show(),i}updateTouchAction(){this.element&&(this.enabled?this.renderer.addClass(this.element.nativeElement,"k-touch-action-none"):this.renderer.removeClass(this.element.nativeElement,"k-touch-action-none"))}static \u0275fac=function(i){return new(i||n)(e.rXU(E.T5,1),e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(im),e.rXU(Tu),e.rXU(xu),e.rXU(ar),e.rXU(e.sFG))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoDraggableColumn",""]],inputs:{context:"context",enableDrag:"enableDrag"},outputs:{drag:"drag"},standalone:!0})}return n})(),md=(()=>{class n{element;service;context={};enter=new e.bkB;leave=new e.bkB;drop=new e.bkB;subscriptions=new He.yU;constructor(t,i){this.element=t,this.service=i}ngOnInit(){this.service.add(this);const t=this.service.changes.pipe((0,We.p)(({target:i})=>i===this));this.subscriptions.add(t.pipe((0,We.p)(({type:i})=>"leave"===i)).subscribe(i=>{this.leave.next(this.eventArgs(i))})),this.subscriptions.add(t.pipe((0,We.p)(({type:i})=>"enter"===i)).subscribe(i=>{this.enter.next(this.eventArgs(i))})),this.subscriptions.add(t.pipe((0,We.p)(({type:i})=>"drop"===i)).subscribe(i=>{this.drop.next(this.eventArgs(i))}))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}eventArgs(t){return{target:this,mouseEvent:t.mouseEvent,draggable:t.draggable}}static \u0275fac=function(i){return new(i||n)(e.rXU(e.aKT),e.rXU(im))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoDropTarget",""]],inputs:{context:"context"},outputs:{enter:"enter",leave:"leave",drop:"drop"},standalone:!0})}return n})();function xl(n){return n.isColumnGroup}let _C=(()=>{class n extends Un{parent;includeInChooser=!1;isColumnGroup=!0;minResizableWidth=10;maxResizableWidth;children;constructor(t,i){if(super(t,i),this.parent=t,t&&t.isSpanColumn)throw new Error(lo_nestedInside("ColumnGroupComponent","SpanColumnComponent"))}rowspan(){return 1}set cellRowspan(t){super.cellRowspan=t}get colspan(){return this.children?Vu(this.children.filter(t=>t!==this&&t.isVisible)):1}get leafIndex(){return this.children?(this.firstChild||{}).leafIndex:-1}get childrenArray(){return this.children.filter(t=>t!==this)}get hasChildren(){return!!this.firstChild}get firstChild(){return this.children.find(t=>t!==this)}static \u0275fac=function(i){return new(i||n)(e.rXU(Un,13),e.rXU(Ro,8))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-column-group"]],contentQueries:function(i,s,r){if(1&i&&e.wni(r,Un,4),2&i){let l;e.mGM(l=e.lsd())&&(s.children=l)}},standalone:!0,features:[e.Jv_([{provide:Un,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),vC=(()=>{class n{templateRef;set showIf(t){if("function"!=typeof t)throw new Error(Yn_functionType("showIf",t));this._condition=t}get showIf(){return this._condition}constructor(t){this.templateRef=t}_condition=()=>!0;static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridDetailTemplate",""]],inputs:{showIf:[e.Mj6.None,"kendoGridDetailTemplateShowIf","showIf"]},standalone:!0})}return n})(),_m=(()=>{class n{ctx;columns=[];groups=[];detailTemplate;sort=new Array;constructor(t){this.ctx=t}getColumnWidth(t){return this.isStacked?"100%":t.width?`${t.width}px`:void 0}get columnsToRender(){return this.isStacked?[new Un]:Fa(this.columns)}get isStacked(){return this.ctx.grid?.isStacked}trackBy(t){return t}isSorted(t){const i=this.sortDescriptor(t.field);return this.isSortable(t)&&("asc"===i.dir||"desc"===i.dir)}getColumnComponent(t){return t}isSortable(t){return!Jn(t.field)&&$o(t.sortable)}sortDescriptor(t){return this.sort.find(i=>i.field===t)||{field:t}}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["","kendoGridColGroup",""]],inputs:{columns:"columns",groups:"groups",detailTemplate:"detailTemplate",sort:"sort"},standalone:!0,features:[e.aNF],attrs:SO,decls:4,vars:4,consts:[[3,"k-group-col",4,"ngFor","ngForOf"],[3,"k-hierarchy-col",4,"ngIf"],[3,"width","k-sorted",4,"ngFor","ngForOf","ngForTrackBy"]],template:function(i,s){1&i&&(e.qex(0),e.DNE(1,bO,1,2,"col",0)(2,EO,1,2,"col",1)(3,kO,1,4,"col",2),e.bVm()),2&i&&(e.R7$(),e.Y8G("ngForOf",s.groups),e.R7$(),e.Y8G("ngIf",(null==s.detailTemplate?null:s.detailTemplate.templateRef)&&!s.isStacked),e.R7$(),e.Y8G("ngForOf",s.columnsToRender)("ngForTrackBy",s.trackBy))},dependencies:[w.pM,w.bT],encapsulation:2})}return n})(),CC=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridLoadingTemplate",""]],standalone:!0})}return n})(),SC=(()=>{class n{ctx;hostClass=!0;loadingTemplate;get loadingText(){return this.ctx.localization.get("loading")}constructor(t){this.ctx=t}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["","kendoGridLoading",""]],hostVars:2,hostBindings:function(i,s){2&i&&e.AVh("k-loading-mask",s.hostClass)},inputs:{loadingTemplate:"loadingTemplate"},standalone:!0,features:[e.aNF],attrs:RO,decls:2,vars:2,consts:[[4,"ngIf"],[1,"k-loading-text"],[1,"k-loading-image"],[1,"k-loading-color"],[3,"ngTemplateOutlet"]],template:function(i,s){1&i&&e.DNE(0,wO,5,1,"ng-container",0)(1,DO,1,1,null,0),2&i&&(e.Y8G("ngIf",!s.loadingTemplate),e.R7$(),e.Y8G("ngIf",s.loadingTemplate))},dependencies:[w.bT,w.T3],encapsulation:2})}return n})(),vm=(()=>{class n{resizeSubscription=new He.yU(()=>{});dispatcher=new me.B;changes=this.dispatcher.asObservable().pipe((0,tn.c)(100));connect(t){this.resizeSubscription.add(t.subscribe(this.dispatcher))}destroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),Cm=(()=>{class n{el;renderer;resizeService;ctx;_lockedWidth;set lockedWidth(t){this._lockedWidth=t,this.enabled&&(this.attachResize(),this.resize())}set kendoGridResizableContainer(t){const i=t!==this.enabled;this.enabled=t,i&&(this.attachResize(),this.resize())}enabled=!1;resizeSubscription;constructor(t,i,s,r){this.el=t,this.renderer=i,this.resizeService=s,this.ctx=r}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}attachResize(){this.resizeSubscription&&!this.enabled&&(this.resizeSubscription.unsubscribe(),this.resizeSubscription=null),!this.resizeSubscription&&this.enabled&&(this.resizeSubscription=this.resizeService.changes.subscribe(this.resize.bind(this)))}resize(){if(this.ctx.grid&&this.ctx.grid.wrapper){const i=Math.max(this.ctx.grid.wrapper.nativeElement.clientWidth-this._lockedWidth,0);this.renderer.setStyle(this.el.nativeElement,"width",this.enabled&&i>0?i+"px":"")}}static \u0275fac=function(i){return new(i||n)(e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(vm),e.rXU(Me))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridResizableContainer",""]],inputs:{lockedWidth:"lockedWidth",kendoGridResizableContainer:"kendoGridResizableContainer"},standalone:!0})}return n})(),Sm=(()=>{class n{root;active=!0;children=[];get focusableChildren(){return this.children.filter(t=>t.canFocus())}get isActive(){return this.active}constructor(t){this.root=t,this.root.registerGroup(this)}ngOnDestroy(){this.root.unregisterGroup(this),this.active=!0}registerElement(t){this.unregisterElement(t),this.children.push(t)}unregisterElement(t){this.children=this.children.filter(i=>i!==t)}isNavigable(){const t=this.focusableChildren;return 1===t.length&&t[0].isNavigable()}canFocus(){return this.focusableChildren.length>0}focus(){this.canFocus()&&!this.hasFocus()&&this.focusableChildren[0].focus()}activate(){this.toggleState(!0)}deactivate(){this.toggleState(!1)}hasFocus(){return this.children.reduce((t,i)=>t||i.hasFocus(),!1)}toggleState(t){this.active!==t&&(this.active=t,this.children.forEach(i=>i.toggle(t)))}static \u0275fac=function(i){return new(i||n)(e.KVO(Au))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();class bm{columns;allColumns=new e.rOR;leafColumns=new e.rOR;lockedColumns=new e.rOR;nonLockedColumns=new e.rOR;lockedLeafColumns=new e.rOR;nonLockedLeafColumns=new e.rOR;totalLevels=0;isStacked=!1;changes=new e.bkB;leafColumnsToRender=[];lockedColumnsToRender=[];nonLockedColumnsToRender=[];hasGroupHeaderColumn=!1;hasGroupFooter=!1;hasFooter=!1;unlockedWidth=0;totalColumnsWidth=0;constructor(o){this.columns=o}refresh(){const o=this.totalLevels,t=new Array,i=new Array,s=new Array,r=new Array,l=new Array,u=new Array,f=new Array,C=new Array,T=new Array;let O=!1,G=!1,P=!1,Q=0,z=0;this.totalLevels=0,this.columns().forEach(le=>{const Ce=!0===le.isLocked?i:s,_e=!0===le.isLocked?r:l,Ge=!0===le.isLocked?C:T;xl(le)||(Ce.push(le),t.push(le),f.push(...Fa([le])),Ge.push(...Fa([le])),O=O||pm(ge=>!!ge.groupHeaderColumnTemplateRef,le),G=G||pm(ge=>!!ge.groupFooterTemplateRef,le),P=P||pm(ge=>!!ge.footerTemplateRef,le),le.isLocked||(Q+=le.width||0),le.isSpanColumn?le.children.forEach(ge=>{ge.leafIndex=z++}):le.leafIndex=z++,this.totalColumnsWidth+=le.width||0),_e.push(le),u.push(le),this.totalLevels=le.level>this.totalLevels?le.level:this.totalLevels}),this.hasGroupHeaderColumn=O,this.hasGroupFooter=G,this.hasFooter=P,this.leafColumnsToRender=f,this.lockedColumnsToRender=C,this.nonLockedColumnsToRender=T,this.unlockedWidth=Q;const de=((...n)=>{let o=!1;for(let t=0;t<n.length;t++){const[i,s]=n[t];o=o||i.length!==s.length,i.reset(s)}return o})([this.leafColumns,t],[this.lockedLeafColumns,i],[this.nonLockedLeafColumns,s],[this.lockedColumns,r],[this.allColumns,u],[this.nonLockedColumns,l])||o!==this.totalLevels;return de&&this.changes.emit(),de}}const PB={left:"0px",right:"0px"};let Qn=(()=>{class n{visibilityChange=new e.bkB;lockedChange=new e.bkB;stickyChange=new e.bkB;columnRangeChange=new e.bkB;columnsContainer=new bm(()=>[]);list;stickyColumns;get lockedLeafColumns(){return this.columnsContainer.lockedLeafColumns}get nonLockedLeafColumns(){return this.columnsContainer.nonLockedLeafColumns}get isLocked(){return this.lockedLeafColumns.length>0&&!this.columnsContainer.isStacked}get totalLevels(){return this.columnsContainer.totalLevels}get hiddenColumns(){return this.list?this.list().filter(t=>!t.isVisible):[]}get leafNamedColumns(){const t=fa(this.list().filterSort(i=>!i.isColumnGroup)).filter(i=>i.matchesMedia&&i.displayTitle);return(0,ki.My)(t,[{field:"locked",dir:"desc"}])}get unlockedRootCount(){return this.list().rootColumns().filter(t=>!t.locked&&t.isVisible).length}stickyColumnsStyles(t){if(this.stickyColumns=this.list().rootColumns().filter(s=>s.sticky&&!s.locked&&s.isVisible),0===this.stickyColumns.length)return PB;const i=this.stickyColumns.reduce((s,r)=>(r.leafIndex<t.leafIndex?s.left+=r.width:r.leafIndex>t.leafIndex&&(s.right+=r.width),s),{left:0,right:0});return{left:`${i.left}px`,right:`${i.right}px`}}init(t,i){this.columnsContainer=t,this.list=i,this.stickyColumns=null}changeVisibility(t){this.stickyColumns=null,this.visibilityChange.emit(t)}changeLocked(t){this.stickyColumns=null,this.lockedChange.emit(t)}changeStuck(t){this.stickyColumns=null,this.stickyChange.emit(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),FB=0,fc=(()=>{class n{focusGroup;element;columnInfoService;idService;navigationService;renderer;zone;cellContext;logicalColIndex;logicalRowIndex;logicalSlaveCell=!1;colIndex;colSpan=1;rowSpan=1;groupItem;dataRowIndex=-1;dataItem;detailExpandCell=!1;headerLabelText;uid=function BB(){return FB++}();get id(){if(!this.logicalSlaveCell&&this.columnInfoService.isLocked)return this.idService.cellId(this.logicalRowIndex,this.logicalColIndex)}get cellRowspan(){return String(this.rowSpan)}get rowspanClass(){return this.dataRowIndex>-1&&this.rowSpan>1}get ariaColIndex(){if(!this.logicalSlaveCell&&-1!==this.logicalColIndex)return this.logicalColIndex+1}navigationChange;constructor(t,i,s,r,l,u,f,C){this.focusGroup=t,this.element=i,this.columnInfoService=s,this.idService=r,this.navigationService=l,this.renderer=u,this.zone=f,this.cellContext=C}ngOnInit(){this.navigationService.tableEnabled&&(this.navigationChange=this.navigationService.changes.subscribe(t=>this.onNavigationChange(t)))}ngDoCheck(){!this.navigationService.tableEnabled||-1===this.logicalColIndex||(this.cellContext&&(this.cellContext.focusGroup=this.focusGroup),this.registerNoChanges())}ngOnChanges(t){if(!this.navigationService.tableEnabled)return;const i=Object.keys(t);if(1===i.length&&"groupItem"===i[0]||-1===this.logicalColIndex)return;const s=t.logicalColIndex,r=t.logicalRowIndex,l=s&&!s.isFirstChange()?s.previousValue:this.logicalColIndex,u=r&&!r.isFirstChange()?r.previousValue:this.logicalRowIndex;this.navigationService.unregisterCell(l,u,this),this.registerChanges(),this.updateElement()}ngOnDestroy(){this.navigationChange&&this.navigationChange.unsubscribe(),this.navigationService.unregisterCell(this.logicalColIndex,this.logicalRowIndex,this)}onNavigationChange(t){(this.logicalColIndex===t.colIndex&&this.logicalRowIndex===t.rowIndex||this.logicalColIndex===t.prevColIndex&&this.logicalRowIndex===t.prevRowIndex)&&this.updateElement()}updateElement(){const t=this.element.nativeElement;this.renderer.setAttribute(t,"tabIndex",this.isFocusable()&&!this.logicalSlaveCell?"0":"-1"),this.isFocused()?(this.focusGroup.isNavigable()?this.focusGroup.focus():(!this.logicalSlaveCell&&this.navigationService.autoFocusCell(this.logicalColIndex,this.logicalColIndex+this.colSpan-1)&&this.microtask(()=>this.isFocused()&&t.focus()),this.renderer.addClass(t,"k-focus")),this.headerLabelText&&t.removeAttribute("aria-label")):(this.renderer.removeClass(t,"k-focus"),this.headerLabelText&&t.setAttribute("aria-label",this.headerLabelText))}microtask(t){this.zone.runOutsideAngular(()=>Promise.resolve(null).then(t))}registerChanges(){this.logicalSlaveCell||this.navigationService.registerCell(this)}registerNoChanges(){this.logicalSlaveCell||this.navigationService.registerCellOnCurrentRow(this)}isFocusable(){return this.navigationService.isCellFocusable(this)}isFocused(){return this.navigationService.isCellFocused(this)}static \u0275fac=function(i){return new(i||n)(e.rXU(Sm),e.rXU(e.aKT),e.rXU(Qn),e.rXU(Ro),e.rXU(ar),e.rXU(e.sFG),e.rXU(e.SKi),e.rXU(el,8))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridLogicalCell",""]],hostVars:5,hostBindings:function(i,s){2&i&&(e.BMQ("id",s.id)("rowspan",s.cellRowspan)("aria-colindex",s.ariaColIndex),e.AVh("k-table-td-row-span",s.rowspanClass))},inputs:{logicalColIndex:"logicalColIndex",logicalRowIndex:"logicalRowIndex",logicalSlaveCell:"logicalSlaveCell",colIndex:"colIndex",colSpan:"colSpan",rowSpan:"rowSpan",groupItem:"groupItem",dataRowIndex:"dataRowIndex",dataItem:"dataItem",detailExpandCell:"detailExpandCell",headerLabelText:"headerLabelText"},standalone:!0,features:[e.Jv_([{provide:Sm,deps:[Au],useClass:Sm}]),e.OA$]})}return n})(),LB=0,zu=(()=>{class n{idService;navigation;logicalRowIndex;logicalSlaveRow=!1;logicalCellsCount;logicalSlaveCellsCount=0;dataRowIndex=-1;dataItem;totalColumns;uid=function UB(){return LB++}();get hostRole(){return this.logicalSlaveRow?"presentation":"row"}get ariaRowIndex(){return this.logicalSlaveRow?null:this.logicalRowIndex+1}get rowIndex(){return this.logicalSlaveRow?this.logicalRowIndex+1:null}tableRowClass=!0;get ariaOwns(){if(this.logicalSlaveRow||0===this.logicalSlaveCellsCount)return;const t=[];if(this.dataRowIndex<0){let i=this.logicalCellsCount+this.logicalSlaveCellsCount;this.columnsArray.forEach(s=>{s.isSpanColumn&&(i+=s.colspan-1)});for(let s=this.logicalCellsCount;s<i;s++)t.push(this.idService.cellId(this.logicalRowIndex,s))}else{let i=0;this.columnsArray.forEach(s=>{s.isLocked||t.push(this.idService.cellId(this.logicalRowIndex,i)),i+=s.isSpanColumn?s.colspan:1})}return t.join(" ")}constructor(t,i){this.idService=t,this.navigation=i}ngOnChanges(t){if(!this.navigation.enabled||this.logicalSlaveRow)return;const i=t.logicalRowIndex;if(i||t.logicalSlaveRow){const r=i&&!i.isFirstChange()?i.previousValue:this.logicalRowIndex;this.navigation.unregisterRow(r,this),this.navigation.registerRow(this)}else(0,E.TI)(["dataRowIndex","dataItem"],t)&&this.navigation.updateRow(this)}ngOnDestroy(){this.navigation.unregisterRow(this.logicalRowIndex,this)}get columnsArray(){return this.totalColumns?.allColumns.toArray()||[]}static \u0275fac=function(i){return new(i||n)(e.rXU(Ro),e.rXU(ar))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridLogicalRow",""]],hostVars:6,hostBindings:function(i,s){2&i&&(e.BMQ("role",s.hostRole)("aria-rowindex",s.ariaRowIndex)("data-kendo-grid-row-index",s.rowIndex)("aria-owns",s.ariaOwns),e.AVh("k-table-row",s.tableRowClass))},inputs:{logicalRowIndex:"logicalRowIndex",logicalSlaveRow:"logicalSlaveRow",logicalCellsCount:"logicalCellsCount",logicalSlaveCellsCount:"logicalSlaveCellsCount",dataRowIndex:"dataRowIndex",dataItem:"dataItem",totalColumns:"totalColumns"},standalone:!0,features:[e.OA$]})}return n})();const VB=/\{\d+:?/;let Em=(()=>{class n{intlService;constructor(t){this.intlService=t}transform(t,i,s){if(!Jn(i)){const r=(0,sn.oK)(i)(t);return Jn(s)?r:this.formatValue(s,r)}return t}formatValue(t,i){const s=this.intlService;return nm(t)&&t.match(VB)?s.format(t,i):s.toString(i,t)}static \u0275fac=function(i){return new(i||n)(e.rXU(Bi.Bs,16))};static \u0275pipe=e.EJ8({name:"valueOf",type:n,pure:!1,standalone:!0})}return n})(),km=(()=>{class n{wrapper;hostClass=!0;get sizeSmallClass(){return"small"===this.size}get sizeMediumClass(){return"medium"===this.size||!this.size}set size(t){this._size=t,"none"===t&&this.wrapper.nativeElement.classList.remove("k-table-sm","k-table-md")}get size(){return this._size}_size="medium";constructor(t){this.wrapper=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.aKT))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridTable",""]],hostVars:6,hostBindings:function(i,s){2&i&&e.AVh("k-table",s.hostClass)("k-table-sm",s.sizeSmallClass)("k-table-md",s.sizeMediumClass)},inputs:{size:"size"},standalone:!0})}return n})();const Ku=(n,o)=>{n.forEach(t=>{o(t),t.isColumnGroup&&t.hasChildren&&Ku(t.childrenArray,o)})},bC=(n,o)=>{Dl(n).forEach(t=>{o(t),t.isColumnGroup&&t.hasChildren&&bC(t.childrenArray,o)})},Rm=(n,o)=>{const t=[];return Dl(n).forEach(i=>{if(o(i))if(i.isColumnGroup){const s=Rm(i.childrenArray,o);s.length&&t.push(i,...s)}else(!i.isSpanColumn||Rm(i.childrenArray,o).length)&&t.push(i)}),t.sort((i,s)=>Number(s.locked)-Number(i.locked))};class gd{columns;static empty(){return new gd(new e.rOR)}constructor(o){this.columns=o}forEach(o){Ku(this.columns,o)}filter(o){const t=[];return Ku(this.columns,i=>{o(i)&&t.push(i)}),t}filterHierarchy(o){return Rm(this.columns.toArray(),o)}filterSort(o){const t=[];return bC(this.columns.toArray(),i=>{o(i)&&t.push(i)}),t}toArray(){const o=[];return Ku(this.columns,t=>{o.push(t)}),o}rootColumns(){return this.columns.toArray()}totalColumnLevels(){let o=0;return this.forEach(t=>{o=Math.max(t.level,o)}),o}}class $u{_columnList=gd.empty;get columns(){return fa(this._columnList().toArray()).filter(hd)}registerColumnsContainer(o){this._columnList=o}formatForGroup(o){const t=this.columnForGroup(o);return t?t.format:""}isGroupable(o){const[t]=this.columns.filter(i=>i.field===o);return!t||t.groupable}groupTitle(o){const t=this.columnForGroup(o);return t?t.title||t.field:this.groupField(o)}groupHeaderTemplate(o){const t=this.columnForGroup(o);return t?t.groupHeaderTemplateRef||t.groupHeaderColumnTemplateRef:void 0}groupField(o){return o.data?o.data.field:o.field}columnForGroup(o){const t=this.groupField(o),[i]=this.columns.filter(s=>s.field===t);return i}}let EC=(()=>{class n{groupsService;groupInfoService;ctx;rowIndex;logicalRowIndex;item;skipGroupDecoration=!1;hasDetails=!1;totalColumnsCount=0;hasGroupHeaderColumn;groupHeaderColumns;columns;groups=[];groupItemClass=!0;tableGroupRowClass=!0;isExpanded=!1;caretAltDownIcon=ne.Y8K;caretAltRightIcon=ne.yVr;caretAltLeftIcon=ne.ner;constructor(t,i,s){this.groupsService=t,this.groupInfoService=i,this.ctx=s}ngDoCheck(){const t={group:this.item.data,groupIndex:this.item.index,parentGroup:Pu(this.item.parentGroup)};this.isExpanded=this.groupsService.isExpanded(t)}prefixGroupCell(t){return new Array(t.level)}toggleGroup(t){return this.groupsService.toggleRow(t),!1}groupSpan(t){const i=(this.groups||[]).length,s=this.hasDetails?1:0;if(this.hasGroupHeaderColumn)return i+1+s-t.level;const r=Vu(this.columns);return this.skipGroupDecoration?r:i+r+s-t.level}logicalColSpan(){return this.skipGroupDecoration?1:this.totalColumnsCount}ariaRole(){return this.skipGroupDecoration?"presentation":"gridcell"}formatForGroup(t){return this.groupInfoService.formatForGroup(t)}groupTitle(t){return this.groupInfoService.groupTitle(t)}groupHeaderTemplate(t){return this.groupInfoService.groupHeaderTemplate(t)}get groupButtonTitle(){return this.ctx.localization.get(this.isExpanded?"groupCollapse":"groupExpand")}get arrowIcon(){return this.isExpanded?"caret-alt-down":this.ctx.localization.rtl?"caret-alt-left":"caret-alt-right"}get arrowSVGIcon(){return this.isExpanded?this.caretAltDownIcon:this.ctx.localization.rtl?this.caretAltLeftIcon:this.caretAltRightIcon}get isStacked(){return this.ctx.grid?.isStacked}static \u0275fac=function(i){return new(i||n)(e.rXU(tl),e.rXU($u),e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["","kendoGridGroupHeader",""]],hostVars:4,hostBindings:function(i,s){2&i&&e.AVh("k-grouping-row",s.groupItemClass)("k-table-group-row",s.tableGroupRowClass)},inputs:{rowIndex:"rowIndex",logicalRowIndex:"logicalRowIndex",item:"item",skipGroupDecoration:"skipGroupDecoration",hasDetails:"hasDetails",totalColumnsCount:"totalColumnsCount",hasGroupHeaderColumn:"hasGroupHeaderColumn",groupHeaderColumns:"groupHeaderColumns",columns:"columns",groups:"groups"},standalone:!0,features:[e.aNF],attrs:TO,decls:3,vars:3,consts:[[4,"ngIf"],["aria-selected","false","class","k-table-td","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan",4,"ngIf"],["class","k-group-cell k-table-td k-table-group-td","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"k-group-cell","k-table-td","k-table-group-td"],["aria-selected","false","kendoGridLogicalCell","",1,"k-table-td",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan"],[1,"k-reset"],["class","k-grid-column-template",4,"ngIf"],["href","#","tabindex","-1","role","presentation",3,"click"],[3,"name","svgIcon"],[3,"templateContext"],[1,"k-grid-column-template"],[4,"ngFor","ngForOf"],["class","k-column-template-item",4,"ngIf"],[1,"k-column-template-item"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","gridcell","class","k-table-td","aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan",4,"ngFor","ngForOf"],["role","gridcell","aria-selected","false","kendoGridLogicalCell","",1,"k-table-td",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan"]],template:function(i,s){1&i&&e.DNE(0,MO,2,1,"ng-container",0)(1,LO,4,10,"td",1)(2,KO,2,1,"ng-container",0),2&i&&(e.Y8G("ngIf",!s.skipGroupDecoration),e.R7$(),e.Y8G("ngIf",!(s.skipGroupDecoration&&s.hasGroupHeaderColumn)),e.R7$(),e.Y8G("ngIf",s.hasGroupHeaderColumn&&!s.isStacked))},dependencies:[w.bT,w.pM,fc,ct.QK,E.b2,w.T3,Em],encapsulation:2})}return n})();const zB=({field:n})=>Jn(n),KB=({groups:n,field:o})=>n.some(t=>t.field===o),YB=yu(({target:n,field:o})=>n.field===o,om(({target:n})=>n.lastTarget,({groups:n,field:o})=>n.map(t=>t.field).indexOf(o)===n.length-1));let kC=(()=>{class n{hint;cue;groupInfoService;ctx;cd;popupService;ngZone;renderer;change=new e.bkB;get groupHeaderClass(){return!0}set text(t){this.emptyText=t}get text(){return this.emptyText?this.emptyText:this.ctx.localization.get("groupPanelEmpty")}navigable;groups=[];dropTargets=new e.rOR;defaultTemplate;groupTitles=[];isChipMenuOpen=!1;get gridId(){return this.ctx.grid?.ariaRootId}rtl=!1;first;last;arrowLeftIcon=ne.i1n;arrowRightIcon=ne.ZM9;emptyText;subscription;targetSubscription;popupSubs;popupRef;activeItem;constructor(t,i,s,r,l,u,f,C){this.hint=t,this.cue=i,this.groupInfoService=s,this.ctx=r,this.cd=l,this.popupService=u,this.ngZone=f,this.renderer=C}ngAfterViewInit(){this.subscription=this.ctx.localization.changes.subscribe(({rtl:t})=>{this.rtl=t,this.cd.markForCheck()}),this.subscription.add(Mu(this.dropTargets).subscribe(this.attachTargets.bind(this)))}ngDoCheck(){const t=this.groups.map(i=>this.groupInfoService.groupTitle(i));(t.length!==this.groupTitles.length||t.some((i,s)=>i!==this.groupTitles[s]))&&(this.groupTitles=t,this.cd.markForCheck())}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.targetSubscription&&this.targetSubscription.unsubscribe(),this.destroyMenu()}messageFor(t){return this.ctx.localization.get(t)}getTitle(t){return this.messageFor("desc"===t.dir?"sortedDescending":"sortedAscending")}getDirectionIcon(t){return"desc"===t.dir?"sort-desc-sm":"sort-asc-sm"}getDirectionSvgIcon(t){return"desc"===t.dir?ne.wan:ne.uEm}directionChange(t){t.dir=t.dir?t.dir:"asc",t.dir="asc"===t.dir?"desc":"asc";const i=this.groups.findIndex(r=>r.field===t.field),s=[...this.groups.slice(0,i),t,...this.groups.slice(i+1)];this.change.emit(s)}insert(t,i){const s=this.groups.filter(r=>r.field!==t);(s.length||0===this.groups.length)&&this.change.emit([...s.slice(0,i),{field:t},...s.slice(i)])}remove(t){this.destroyMenu(),this.change.emit(this.groups.filter(i=>i.field!==t.field))}toggleMenu(t,i,s,r){const l=t.element.nativeElement.querySelector(".k-chip-action");if(this.popupRef){const C=this.popupRef.popup.instance.anchor;if(this.destroyMenu(),l===C)return}this.first=i,this.last=s;const u=this.ctx.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:l,content:this.defaultTemplate,anchorAlign:{vertical:"bottom",horizontal:u},popupAlign:{vertical:"top",horizontal:u},positionMode:"absolute"}),this.activeItem=this.dropTargets.find(C=>C.context.field===r),this.renderer.setAttribute(this.popupRef.popupElement,"dir",this.ctx.localization.rtl?"rtl":"ltr");const f=Array.from(this.popupRef.popupElement.querySelectorAll(".k-menu-item"));this.activateMenuItem(f[1],"previous"),this.popupSubs=this.popupRef.popupAnchorViewportLeave.subscribe(()=>{this.destroyMenu(!0)}),!El()&&this.ngZone.runOutsideAngular(()=>{this.popupSubs.add((0,Ot.R)(document,"click").pipe((0,We.p)(C=>!bn(C.target,T=>T===this.popupRef.popupElement||T.matches&&T.matches(".k-chip-action")))).subscribe(()=>{this.destroyMenu()}))})}handleKeyDown=t=>{const i=(0,E.tq)(t);if(i===E.D$.ArrowDown||i===E.D$.ArrowUp){t.preventDefault();const s=t.target.matches(":first-child")?"next":"previous";this.activateMenuItem(t.target,s)}else i===E.D$.Escape||i===E.D$.Tab?this.destroyMenu(!0):(i===E.D$.Space||i===E.D$.Enter)&&this.handleMenuClick(t)};handleClick=t=>{t.preventDefault();const i=t.target.closest(".k-menu-item");if(!i.matches('[aria-disabled="true"]'))return void this.handleMenuClick(t);if("0"===i.getAttribute("tabindex"))return;const s=i.closest(".k-menu-group").querySelector('[tabindex="0"]'),r=s.matches(":first-child")?"next":"previous";this.activateMenuItem(s,r)};canDrop(t,i){return!("groupIndicator"===t.type?YB:(n=>yu(zB,KB,(n=>({field:o})=>!n.isGroupable(o))(this.groupInfoService)))())({field:t.field,groups:this.groups,target:i})}attachTargets(){this.targetSubscription&&this.targetSubscription.unsubscribe(),this.targetSubscription=new He.yU;const t=this.dropTargets.reduce((r,l)=>(0,qe.h)(r,l.enter),(0,Ze.H)([])),i=this.dropTargets.reduce((r,l)=>(0,qe.h)(r,l.leave),(0,Ze.H)([])),s=this.dropTargets.reduce((r,l)=>(0,qe.h)(r,l.drop),(0,Ze.H)([]));this.targetSubscription.add(t.pipe((0,Tt.M)(()=>{this.hint.removeLock(),this.destroyMenu()}),(0,We.p)(({draggable:r,target:l})=>this.canDrop(r.context,l.context)),(0,Tt.M)(this.enter.bind(this)),Ui(s.pipe((0,ii.Q)(i.pipe((0,Tt.M)(this.leave.bind(this))))))).subscribe(this.drop.bind(this)))}enter({draggable:t,target:i}){this.hint.enable();let s=i.context.lastTarget||Uv(t.element.nativeElement,i.element.nativeElement);this.ctx.localization.rtl&&(s=!s),this.cue.position(Vv(i.element.nativeElement,s))}leave(){this.hint.disable(),this.cue.hide()}drop({target:t,draggable:i}){const s=i.context.field,r=this.dropTargets.toArray().indexOf(t);this.insert(s,r)}destroyMenu(t){this.popupRef&&(this.popupRef.close(),this.popupRef=null,this.popupSubs&&this.popupSubs.unsubscribe(),t&&this.activeItem.context.target.focus())}activateMenuItem(t,i){this.renderer.setAttribute(t,"tabindex","-1"),this.renderer.removeClass(t,"k-focus");const s=t[`${i}ElementSibling`];this.renderer.setAttribute(s,"tabindex","0"),this.renderer.addClass(s,"k-focus"),this.ngZone.runOutsideAngular(()=>setTimeout(()=>s.focus()))}handleMenuClick(t){if(t.preventDefault(),"true"!==t.target.getAttribute("aria-disabled")){const i=this.dropTargets.toArray().slice(0,this.dropTargets.length-1);let s,r;for(let u=0;u<i.length;u++)if(i[u].element.nativeElement===this.popupRef.popup.instance.anchor.closest(".k-chip")){s=i[u],r=u;break}const l=t.target.closest(".k-menu-item").matches(":first-child");l&&r>0?this.insert(s.context.field,r-1):!l&&r<i.length-1&&this.insert(s.context.field,r+1),this.destroyMenu(!0)}}static \u0275fac=function(i){return new(i||n)(e.rXU(Tu),e.rXU(xu),e.rXU($u),e.rXU(Me),e.rXU(e.gRc),e.rXU(pe.OQ),e.rXU(e.SKi),e.rXU(e.sFG))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-group-panel"]],viewQuery:function(i,s){if(1&i&&(e.GBs(Dv,7,e.C4Q),e.GBs(md,5)),2&i){let r;e.mGM(r=e.lsd())&&(s.defaultTemplate=r.first),e.mGM(r=e.lsd())&&(s.dropTargets=r)}},hostVars:2,hostBindings:function(i,s){2&i&&e.AVh("k-grouping-header",s.groupHeaderClass)},inputs:{text:"text",navigable:"navigable",groups:"groups"},outputs:{change:"change"},standalone:!0,features:[e.aNF],decls:5,vars:3,consts:[["defaultTemplate",""],["chip",""],["class","k-grouping-drop-container","kendoDropTarget","",3,"context",4,"ngIf"],["role","none",3,"navigable","orientation",4,"ngIf"],["kendoDropTarget","",1,"k-grouping-drop-container",3,"context"],["role","none",3,"navigable","orientation"],["kendoDropTarget","","kendoDraggableColumn","","kendoDraggable","",3,"title","enableDrag","context","label","removable","hasMenu","icon","svgIcon","contentClick","remove","menuToggle","keydown.alt.arrowdown",4,"ngFor","ngForOf"],["kendoDropTarget","","kendoDraggableColumn","","kendoDraggable","",3,"contentClick","remove","menuToggle","keydown.alt.arrowdown","title","enableDrag","context","label","removable","hasMenu","icon","svgIcon"],["unselectable","on","role","menu",1,"k-group","k-menu-group","k-reset","k-menu-group-md",3,"kendoEventsOutsideAngular"],["role","menuitem","unselectable","on",1,"k-item","k-menu-item"],[1,"k-link","k-menu-link"],[3,"name","svgIcon"],[1,"k-menu-link-text"]],template:function(i,s){1&i&&e.DNE(0,HO,2,3,"div",2)(1,WO,2,3,"kendo-chiplist",3)(2,YO,2,2,"div",2)(3,qO,11,16,"ng-template",null,0,e.C5r),2&i&&(e.Y8G("ngIf",0===s.groups.length),e.R7$(),e.Y8G("ngIf",0!==s.groups.length),e.R7$(),e.Y8G("ngIf",0!==s.groups.length))},dependencies:[w.bT,md,Te.Mq,w.pM,Te.wu,fm,E.T5,E.Uj,ct.QK],encapsulation:2,changeDetection:0})}return n})();const RC=(n=>o=>Object.keys(n).reduce((t,i)=>(t[n[i]]=o.get(i),t),{}))({filterEqOperator:"eq",filterNotEqOperator:"neq",filterGteOperator:"gte",filterGtOperator:"gt",filterLteOperator:"lte",filterLtOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty",filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterAfterOrEqualOperator:"after-eq",filterAfterOperator:"after",filterBeforeOrEqualOperator:"before-eq",filterBeforeOperator:"before"}),ju=n=>n.map(o=>o.toJSON());let Gi=(()=>{class n{operator;ctx;get text(){return this._text}set text(t){this._text=Jn(t)?this.messages[this.operator]:t}subscription;messages;_text;constructor(t,i){this.operator=t,this.ctx=i,this.messages=RC(this.ctx.localization),this._text=this.messages[this.operator],this.subscription=this.ctx.localization.changes.subscribe(this.refreshText.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}toJSON(){return{text:this.text,value:this.operator}}refreshText(){const t=this._text===this.messages[this.operator];this.messages=RC(this.ctx.localization),t&&(this._text=this.messages[this.operator])}static \u0275fac=function(i){return new(i||n)(e.rXU("filterOperator"),e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-filter-operator-base"]],inputs:{text:"text"},decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),qB=(()=>{class n extends Gi{constructor(t){super("contains",t)}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-filter-contains-operator"]],standalone:!0,features:[e.Jv_([{provide:Gi,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),JB=(()=>{class n extends Gi{constructor(t){super("doesnotcontain",t)}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-filter-not-contains-operator"]],standalone:!0,features:[e.Jv_([{provide:Gi,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),QB=(()=>{class n extends Gi{constructor(t){super("endswith",t)}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-filter-endswith-operator"]],standalone:!0,features:[e.Jv_([{provide:Gi,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),ZB=(()=>{class n extends Gi{constructor(t){super("eq",t)}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-filter-eq-operator"]],standalone:!0,features:[e.Jv_([{provide:Gi,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),eL=(()=>{class n extends Gi{constructor(t){super("isempty",t)}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-filter-isempty-operator"]],standalone:!0,features:[e.Jv_([{provide:Gi,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),tL=(()=>{class n extends Gi{constructor(t){super("isnotempty",t)}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-filter-isnotempty-operator"]],standalone:!0,features:[e.Jv_([{provide:Gi,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),iL=(()=>{class n extends Gi{constructor(t){super("isnotnull",t)}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-filter-isnotnull-operator"]],standalone:!0,features:[e.Jv_([{provide:Gi,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),nL=(()=>{class n extends Gi{constructor(t){super("isnull",t)}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-filter-isnull-operator"]],standalone:!0,features:[e.Jv_([{provide:Gi,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),sL=(()=>{class n extends Gi{constructor(t){super("neq",t)}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-filter-neq-operator"]],standalone:!0,features:[e.Jv_([{provide:Gi,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),oL=(()=>{class n extends Gi{constructor(t){super("startswith",t)}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-filter-startswith-operator"]],standalone:!0,features:[e.Jv_([{provide:Gi,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),rL=(()=>{class n extends Gi{constructor(t){super("gt",t)}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-filter-gt-operator"]],standalone:!0,features:[e.Jv_([{provide:Gi,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),aL=(()=>{class n extends Gi{constructor(t){super("gte",t)}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-filter-gte-operator"]],standalone:!0,features:[e.Jv_([{provide:Gi,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),lL=(()=>{class n extends Gi{constructor(t){super("lt",t)}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-filter-lt-operator"]],standalone:!0,features:[e.Jv_([{provide:Gi,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),cL=(()=>{class n extends Gi{constructor(t){super("lte",t)}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-filter-lte-operator"]],standalone:!0,features:[e.Jv_([{provide:Gi,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),dL=(()=>{class n extends Gi{constructor(t){super("after",t)}toJSON(){return{text:this.text,value:"gt"}}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-filter-after-operator"]],standalone:!0,features:[e.Jv_([{provide:Gi,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),uL=(()=>{class n extends Gi{constructor(t){super("after-eq",t)}toJSON(){return{text:this.text,value:"gte"}}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-filter-after-eq-operator"]],standalone:!0,features:[e.Jv_([{provide:Gi,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),hL=(()=>{class n extends Gi{constructor(t){super("before-eq",t)}toJSON(){return{text:this.text,value:"lte"}}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-filter-before-eq-operator"]],standalone:!0,features:[e.Jv_([{provide:Gi,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),pL=(()=>{class n extends Gi{constructor(t){super("before",t)}toJSON(){return{text:this.text,value:"lt"}}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-filter-before-operator"]],standalone:!0,features:[e.Jv_([{provide:Gi,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),il=(()=>{class n{changes=new me.B;static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),wC=(()=>{class n{ctx;sizing;clearText="Clear";filterClearIcon=ne.LjL;filterSVGIcon=ne.Sj_;size="medium";get hostClasses(){return!0}dropdown;operators=[];showButton;showOperators=!0;value;column;valueChange=new e.bkB;clear=new e.bkB;subs;constructor(t,i){this.ctx=t,this.sizing=i}onChange(t){this.valueChange.emit(t)}clearClick(){return this.clear.emit(),!1}clearKeydown(t){(t.code===E.D$.Enter||t.code===E.D$.NumpadEnter||t.code===E.D$.Space)&&this.clear.emit()}dropdownKeydown(t){t.defaultPrevented||(t.code===E.D$.Enter||t.code===E.D$.NumpadEnter)&&!this.dropdown.isOpen&&(this.dropdown.toggle(!0),t.preventDefault())}ngOnInit(){this.subs=this.ctx.localization.changes.subscribe(()=>this.clearText=this.ctx.localization.get("filterClearButton")),this.subs.add(this.sizing.changes.subscribe(t=>this.size=t))}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}get columnLabel(){const t=this.ctx.localization.get("filterCellOperatorLabel")||"";return(0,E.DG)(t,"columnName",this.column.title||this.column.field)}static \u0275fac=function(i){return new(i||n)(e.rXU(Me),e.rXU(il))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-filter-cell-operators"]],viewQuery:function(i,s){if(1&i&&e.GBs(JO,5),2&i){let r;e.mGM(r=e.lsd())&&(s.dropdown=r.first)}},hostVars:2,hostBindings:function(i,s){2&i&&e.AVh("k-filtercell-operator",s.hostClasses)},inputs:{operators:"operators",showButton:"showButton",showOperators:"showOperators",value:"value",column:"column"},outputs:{valueChange:"valueChange",clear:"clear"},standalone:!0,features:[e.aNF],decls:2,vars:2,consts:[["dropdown",""],["kendoGridFocusable","","class","k-dropdown-operator","icon","filter","textField","text","valueField","value",3,"data","value","svgIcon","valuePrimitive","popupSettings","size","valueChange","keydown",4,"ngIf"],["type","button","kendoButton","","kendoGridFocusable","","icon","filter-clear",3,"svgIcon","title","size","click","keydown",4,"ngIf"],["kendoGridFocusable","","icon","filter","textField","text","valueField","value",1,"k-dropdown-operator",3,"valueChange","keydown","data","value","svgIcon","valuePrimitive","popupSettings","size"],["type","button","kendoButton","","kendoGridFocusable","","icon","filter-clear",3,"click","keydown","svgIcon","title","size"]],template:function(i,s){1&i&&e.DNE(0,QO,2,8,"kendo-dropdownlist",1)(1,ZO,1,3,"button",2),2&i&&(e.Y8G("ngIf",s.showOperators),e.R7$(),e.Y8G("ngIf",s.showButton))},dependencies:[w.bT,J.V9,ga,Te.Qp],encapsulation:2})}return n})(),_a=(()=>{class n{ngZone;element;renderer;change=new e.bkB;composing=!1;kendoInput;filterDelay=500;columnLabel;set value(t){this.accessor.writeValue(t)}set disabled(t){this.accessor.setDisabledState(t)}accessor;changeRequests=new me.B;changeRequestsSubscription;unsubscribeEvents;constructor(t,i,s,r){this.ngZone=i,this.element=s,this.renderer=r,this.accessor=t[0],i.runOutsideAngular(()=>{const l=r.listen(s.nativeElement,"compositionstart",()=>this.composing=!0),u=r.listen(s.nativeElement,"compositionend",f=>{this.composing=!1;const C=f.target?.value;this.filterDelay>0?this.changeRequests.next(C):this.change.emit(C)});this.unsubscribeEvents=()=>{l(),u()}})}ngAfterViewInit(){this.addAriaAttributes(),this.accessor.registerOnChange(t=>this.filterDelay>0?this.changeRequests.next(t):this.change.emit(t)),this.subscribeChanges()}ngOnChanges(t){(0,E.Hq)("filterDelay",t)&&(this.unsubscribeChanges(),this.subscribeChanges())}ngOnDestroy(){this.unsubscribeChanges(),this.unsubscribeEvents()}subscribeChanges(){this.changeRequestsSubscription=this.changeRequests.pipe((0,Yi.B)(this.filterDelay),(0,We.p)(()=>!this.composing)).subscribe(t=>{this.ngZone.run(()=>{this.change.emit(t)})})}unsubscribeChanges(){this.changeRequestsSubscription&&this.changeRequestsSubscription.unsubscribe()}addAriaAttributes(){const t=this.columnLabel;if(this.kendoInput&&this.kendoInput.focusableId&&(0,E.nm)()){const i=this.element.nativeElement.querySelector(`#${this.kendoInput.focusableId}`)||this.element.nativeElement;this.renderer.setAttribute(i,"aria-label",t)}else{const i=this.element.nativeElement.querySelector(".k-input-inner");t&&this.renderer.setAttribute(i||this.element.nativeElement,"aria-label",t)}}static \u0275fac=function(i){return new(i||n)(e.rXU(Ne.kq,2),e.rXU(e.SKi),e.rXU(e.aKT),e.rXU(e.sFG))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoFilterInput",""]],contentQueries:function(i,s,r){if(1&i&&e.wni(r,E.eW,7),2&i){let l;e.mGM(l=e.lsd())&&(s.kendoInput=l.first)}},inputs:{filterDelay:"filterDelay",columnLabel:"columnLabel",value:"value"},standalone:!0,features:[e.OA$]})}return n})(),_c=(()=>{class n{firstFocusable;lastFocusable;isColumnMenu=!1;isPopupOpen=!1;lastMenuItem;isTabbedInterface=!1;static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),Zn=(()=>{class n{menuTabbingService;changes=new me.B;filter(t){this.changes.next(t)}constructor(t){this.menuTabbingService=t}static \u0275fac=function(i){return new(i||n)(e.KVO(_c,8))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),fd=(()=>{class n{ngZone;changes=new me.B;elements=[];source;subscriptions=new He.yU;headerSubscription=new He.yU;bodySubscription=new He.yU;constructor(t){this.ngZone=t,this.subscriptions.add(this.changes.subscribe(i=>this.scrollLeft(i)))}registerEmitter(t,i){this.unregister(i),this.elements.push({element:t,sourceType:i}),("body"===i||"header"===i)&&this.ngZone.runOutsideAngular(()=>{const s=(0,Ot.R)(t,"scroll").pipe((0,tt.T)(({target:{scrollLeft:l}})=>({scrollLeft:l,sourceType:i}))),r=s.pipe(function Et(n,o=ls.D){return n=n??es,(0,qi.N)((t,i)=>{let s,r=!0;t.subscribe((0,De._)(i,l=>{const u=o(l);(r||!n(s,u))&&(r=!1,s=u,i.next(l))}))})}((l,u)=>l.scrollLeft===u.scrollLeft),(0,We.p)(l=>!this.source||this.source===l.sourceType),(0,Tt.M)(l=>this.source=l.sourceType)).subscribe(l=>this.changes.next(l));r.add(s.pipe((0,We.p)(l=>this.source&&this.source!==l.sourceType)).subscribe(()=>this.source=void 0)),"body"===i?this.bodySubscription.add(r):this.headerSubscription.add(r)})}destroy(){this.subscriptions.unsubscribe(),this.headerSubscription.unsubscribe(),this.bodySubscription.unsubscribe()}scrollLeft({scrollLeft:t,sourceType:i}){this.ngZone.runOutsideAngular(()=>{this.elements.filter(s=>i!==s.sourceType).forEach(({element:s})=>s.scrollLeft=t)})}unregister(t){const i=this.elements.findIndex(s=>s.sourceType===t);i>-1&&("header"===t?(this.headerSubscription.unsubscribe(),this.headerSubscription=new He.yU):"body"===t&&(this.bodySubscription.unsubscribe(),this.bodySubscription=new He.yU),this.elements.splice(i,1))}static \u0275fac=function(i){return new(i||n)(e.KVO(e.SKi))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),Ys=(()=>{class n{ctx;adaptiveService;get animationEnd(){return this.animationEndSubject.asObservable()}columnMenuService;columns=[];secondaryView;viewType;popupRef;column;filterMenuContainer;filterMenuContainerComponentRef;animationEndSubject=new me.B;constructor(t,i){this.ctx=t,this.adaptiveService=i}submitFilter(){this.filterMenuContainer.submit(),this.ctx.grid.adaptiveRenderer.actionSheet.toggle(!1),this.reset()}resetFilter(){this.filterMenuContainer.reset(),this.ctx.grid.adaptiveRenderer.actionSheet.toggle(!1),this.reset()}reset(){this.ctx.grid.adaptiveRenderer.actionSheet.currentView=1,this.filterMenuContainerComponentRef?.destroy(),this.column=null,this.popupRef=null,this.filterMenuContainer=null,this.viewType=null,this.secondaryView=null}notifyAnimationEnd(){this.animationEndSubject.next()}get windowSize(){return this.adaptiveService.size}static \u0275fac=function(i){return new(i||n)(e.KVO(Me),e.KVO(ae.k))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();class gL extends Rl{originalEvent;constructor(o){super(),this.originalEvent=o}}let vc=(()=>{class n{popupService;renderer;ngZone;ctx;adaptiveGridService;onClose=new me.B;removeClick;pointerEventsSub=new He.yU;popupRef;scrollSubscription;canClosePopup=!0;constructor(t,i,s,r,l,u){this.popupService=t,this.renderer=i,this.ngZone=s,this.ctx=l,this.adaptiveGridService=u,this.scrollSubscription=r.changes.pipe((0,xn.i)(1)).subscribe(()=>this.destroy())}open(t,i,s,r="k-grid-filter-popup"){const l=Oe(s)&&this.popupRef===s;if(this.destroy(),!l){const f=this.ctx.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchorAlign:{vertical:"bottom",horizontal:f},popupAlign:{vertical:"top",horizontal:f},anchor:t,popupClass:r,content:i,positionMode:"absolute"}),this.adaptiveGridService.popupRef=this.popupRef,this.renderer.setAttribute(this.popupRef.popupElement,"dir",this.ctx.localization.rtl?"rtl":"ltr"),this.attachClose(t)}const u=this.popupRef?.popupElement;return u&&this.attachMouseListeners(u),this.popupRef}destroy(){this.popupRef&&(this.detachClose(),this.pointerEventsSub.unsubscribe(),this.pointerEventsSub=null,this.popupRef.close(),this.popupRef=null,this.adaptiveGridService.popupRef=null)}ngOnDestroy(){this.destroy(),this.scrollSubscription.unsubscribe()}detachClose(){this.removeClick&&this.removeClick()}attachClose(t){(0,E.nm)()&&(this.detachClose(),this.ngZone.runOutsideAngular(()=>this.removeClick=this.renderer.listen("document","click",i=>{if(!((n,o)=>{for(;n;){if(o(n))return!0;n=n.parentNode}return!1})(i.target,s=>this.popupRef.popupElement===s||s===t)){const s=new gL(i);this.onClose.next(s),!s.isDefaultPrevented()&&this.canClosePopup&&this.destroy(),this.canClosePopup=!0}})))}attachMouseListeners(t){this.pointerEventsSub=new He.yU,this.ngZone.runOutsideAngular(()=>{this.pointerEventsSub.add(this.renderer.listen(t,"pointerdown",i=>{i.stopImmediatePropagation(),this.canClosePopup=!1})),this.pointerEventsSub.add(this.renderer.listen(t,"pointerup",()=>{this.canClosePopup=!0}))})}static \u0275fac=function(i){return new(i||n)(e.KVO(pe.OQ),e.KVO(e.sFG),e.KVO(e.SKi),e.KVO(fd),e.KVO(Me),e.KVO(Ys))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();const Cc=(n,o,t,i)=>Oe(o)&&Oe(o.filters)&&o.filters.length>n?o.filters[n]:((n,o,t)=>((o=o||{filters:[],logic:"and"}).filters[n]=t,t))(n,o,{field:t,operator:i}),Sc=n=>[{text:n.get("filterAndLogic"),value:"and"},{text:n.get("filterOrLogic"),value:"or"}],wm=n=>Oe(n.filters)?n.filters.reduce((o,t)=>o.concat((0,ki.HG)(t)?wm(t):[t]),[]):[],IC=(n,o)=>{Oe(n)&&Oe(n.filters)&&(n.filters=n.filters.filter(t=>(0,ki.HG)(t)?(IC(t,o),t.filters.length):t.field!==o))},bc=(n,o)=>wm(n||{}).filter(t=>t.field===o),Im=(n,o)=>(IC(n,o),n),Hu=n=>o=>Object.keys(n).map(t=>({text:o.get(t),value:n[t]}));let Ec=(()=>{class n{filterService;get hostClasses(){return!0}operatorList=new e.rOR;get operators(){return this._operators?.length?this._operators:this.defaultOperators}set operators(t){this._operators=t}size="medium";filter;defaultOperators;_operators;operationListSubscription;constructor(t){this.filterService=t}ngAfterContentInit(){this.operationListSubscription=Mu(this.operatorList).pipe((0,tt.T)(t=>t.toArray()),(0,tt.T)(ju)).subscribe(t=>{this.operators=t})}ngOnDestroy(){this.operationListSubscription&&this.operationListSubscription.unsubscribe()}filterByField(t){return((n,o)=>{const[t]=bc(n,o);return t})(this.filter,t)}filtersByField(t){return bc(this.filter,t)}removeFilter(t){return Im(this.filter,t)}updateFilter(t){const i=this.filter||{filters:[],logic:"and"},[s]=wm(i).filter(r=>r.field===t.field);return Oe(s)?Object.assign(s,t):i.filters.push(t),i}applyFilter(t){this.filterService.filter(t)}static \u0275fac=function(i){return new(i||n)(e.rXU(Zn))};static \u0275dir=e.FsC({type:n,contentQueries:function(i,s,r){if(1&i&&e.wni(r,Gi,4),2&i){let l;e.mGM(l=e.lsd())&&(s.operatorList=l)}},hostVars:2,hostBindings:function(i,s){2&i&&e.AVh("k-filtercell",s.hostClasses)},inputs:{operators:"operators",filter:"filter"}})}return n})();const Ol=n=>{if(n)return(0,ki.HG)(n)?{filters:Ol(n.filters),logic:n.logic}:Array.isArray(n)?n.map(Ol):(n=>(n=>{const o={};if(Object.assign(o,n),n.constructor!==Object){const t=n.constructor.prototype;Object.getOwnPropertyNames(t).forEach(i=>{"constructor"!==i&&"__proto__"!==i&&"prototype"!==i&&t.hasOwnProperty(i)&&(o[i]=n[i])})}return o})(n))(n)};let TC=(()=>{class n{host;column;filter;component;constructor(t){this.host=t}ngOnInit(){this.component=this.host.createComponent(this.componentType()),this.initComponent({column:this.column,filter:this.filter})}ngOnDestroy(){this.component&&(this.component.destroy(),this.component=null)}ngOnChanges(t){(0,E.TI)(["column","filter"],t)&&this.initComponent({column:this.column,filter:this.filter})}initComponent({column:t,filter:i}){const s=this.component.instance;s.column=t,s.filter=i}static \u0275fac=function(i){return new(i||n)(e.rXU(e.c1b))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridFilterHostBase",""]],inputs:{column:"column",filter:"filter"},features:[e.OA$]})}return n})();const kL=Hu({filterEqOperator:"eq",filterNotEqOperator:"neq",filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty"});let xC=(()=>{class n extends Ec{ctx;column;operator="contains";get currentFilter(){return this.filterByField((this.column||{}).field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}subscription;constructor(t,i){super(t),this.ctx=i}ngOnInit(){this.subscription=this.ctx.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.defaultOperators=kL(this.ctx.localization),this.operatorList.length&&(this.operators=ju(this.operatorList.toArray()))}static \u0275fac=function(i){return new(i||n)(e.rXU(Zn),e.rXU(Me))};static \u0275dir=e.FsC({type:n,inputs:{column:"column",operator:"operator"},features:[e.Vt3]})}return n})(),_d=(()=>{class n{host;filterMenuDropDownLabel;constructor(t){this.host=t}ngAfterViewInit(){const t=this.host.wrapper.nativeElement;t.setAttribute("aria-label",this.filterMenuDropDownLabel),t.addEventListener("keydown",this.keydownHandler,!0)}ngOnDestroy(){this.host.wrapper.nativeElement.removeEventListener("keydown",this.keydownHandler)}keydownHandler=t=>{t.code===E.D$.Escape&&this.host.isOpen&&(t.stopPropagation(),this.host.toggle(!1))};static \u0275fac=function(i){return new(i||n)(e.rXU(J.V9))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoFilterMenuDropDown",""]],inputs:{filterMenuDropDownLabel:"filterMenuDropDownLabel"},standalone:!0})}return n})();const RL=new Set(["isnull","isnotnull","isempty","isnotempty"]),Xu=n=>RL.has(n);let OC=(()=>{class n extends Ec{column;input;get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){const t=this.currentFilter;return this._operator||(this._operator=t?t.operator:this.defaultOperator),this._operator}set currentOperator(t){this._operator=t;const i=Xu(t);this.filterInputDisabled=i,i?this.applyNoValueFilter(t):!ld(t)&&Oe(this.currentFilter)&&this.onChange(this.currentFilter.value)}get defaultOperator(){return Jn(this._defaultOperator)?this.operators&&this.operators.length?this.operators[0].value:"eq":this._defaultOperator}set defaultOperator(t){this._defaultOperator=t}set filterInputDisabled(t){this.input&&(this.input.disabled=t)}_defaultOperator;_operator;changeSubscription;constructor(t){super(t)}ngAfterContentInit(){Oe(this.input)&&(this.changeSubscription=this.input.change.subscribe(this.onChange.bind(this)),this.filterInputDisabled=Xu(this.currentOperator))}ngOnDestroy(){super.ngOnDestroy(),this.changeSubscription&&this.changeSubscription.unsubscribe()}onChange(t){(!Jn(t)||this.filterByField(this.column.field))&&this.filterChange(Jn(t)?this.removeFilter(this.column.field):this.updateFilter({field:this.column.field,operator:this.currentOperator,value:t}))}onClear(){this.onChange(null),this.filterInputDisabled=Xu(this.defaultOperator)}applyNoValueFilter(t){this.filterChange(this.updateFilter({field:this.column.field,operator:t,value:null}))}ngOnChanges(t){(0,E.Hq)("filter",t,!1)&&(this._operator=null,this.filterInputDisabled=Xu(this.currentOperator))}static \u0275fac=function(i){return new(i||n)(e.rXU(Zn))};static \u0275dir=e.FsC({type:n,contentQueries:function(i,s,r){if(1&i&&e.wni(r,_a,5),2&i){let l;e.mGM(l=e.lsd())&&(s.input=l.first)}},inputs:{column:"column",defaultOperator:"defaultOperator"},features:[e.Vt3,e.OA$]})}return n})(),Wu=(()=>{class n extends OC{ctx;adaptiveGridService;filterService;isFirstDropDown;menuTabbingService;firstOperatorDropDown;_currentFilter;subs=new He.yU;get hostClasses(){return!1}constructor(t,i){super(null),this.ctx=t,this.adaptiveGridService=i}ngAfterViewInit(){const t=this.isFirstDropDown&&this.filterService?.menuTabbingService,i=this.menuTabbingService?.isTabbedInterface;t&&!i&&(this.filterService.menuTabbingService.firstFocusable=this.firstOperatorDropDown,this.ctx.grid?.isActionSheetExpanded?this.subs.add(this.adaptiveGridService.animationEnd.subscribe(()=>{this.firstOperatorDropDown.focus()})):this.firstOperatorDropDown.focus())}ngOnDestroy(){this.subs?.unsubscribe()}operatorChange(t){this.currentOperator=t}filterChange(t){this.applyFilter(t)}get currentFilter(){return this._currentFilter}set currentFilter(t){this._currentFilter=t}updateFilter(t){return Object.assign(this.currentFilter,t),this.filter}onChange(t){this.filterChange(this.updateFilter({field:this.column.field,operator:this.currentOperator,value:t}))}onShiftTab(t){t.stopImmediatePropagation(),!this.menuTabbingService?.isColumnMenu&&this.isFirstDropDown&&this.filterService.menuTabbingService.lastFocusable&&(t.preventDefault(),this.filterService.menuTabbingService.lastFocusable.focus())}get filterMenuDropDownLabel(){const t=this.ctx.localization.get("filterMenuOperatorsDropDownLabel")||"";return(0,E.DG)(t,"columnName",this.column?this.column.title||this.column.field:"")}static \u0275fac=function(i){return new(i||n)(e.rXU(Me),e.rXU(Ys))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-filter-menu-input-wrapper"]],viewQuery:function(i,s){if(1&i&&e.GBs(J.V9,5),2&i){let r;e.mGM(r=e.lsd())&&(s.firstOperatorDropDown=r.first)}},inputs:{filterService:"filterService",isFirstDropDown:"isFirstDropDown",menuTabbingService:"menuTabbingService",currentFilter:"currentFilter"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:ha,decls:2,vars:7,consts:[["kendoFilterMenuDropDown","","textField","text","valueField","value",3,"valueChange","keydown.shift.tab","adaptiveTitle","adaptiveMode","size","filterMenuDropDownLabel","data","value","valuePrimitive"]],template:function(i,s){1&i&&(e.NAR(),e.j41(0,"kendo-dropdownlist",0),e.bIt("valueChange",function(l){return s.operatorChange(l)})("keydown.shift.tab",function(l){return s.onShiftTab(l)}),e.k0s(),e.SdG(1)),2&i&&e.Y8G("adaptiveTitle",s.ctx.localization.get("adaptiveFilterOperatorsTitle"))("adaptiveMode",null==s.ctx.grid?null:s.ctx.grid.adaptiveMode)("size",null!=s.ctx.grid&&s.ctx.grid.isActionSheetExpanded?"large":null)("filterMenuDropDownLabel",s.filterMenuDropDownLabel)("data",s.operators)("value",s.currentOperator)("valuePrimitive",!0)},dependencies:[J.V9,_d],encapsulation:2})}return n})(),MC=(()=>{class n{ctx;operators=[];column;filter;operator;currentFilter;filterService;isFirstDropDown;menuTabbingService;placeholder;constructor(t){this.ctx=t}get columnLabel(){const t=this.ctx.localization.get("filterInputLabel")||"";return(0,E.DG)(t,"columnName",this.column?this.column.title||this.column.field:"")}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-string-filter-menu-input"]],inputs:{operators:"operators",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",isFirstDropDown:"isFirstDropDown",menuTabbingService:"menuTabbingService",placeholder:"placeholder"},standalone:!0,features:[e.aNF],decls:2,vars:13,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService","isFirstDropDown","menuTabbingService"],["kendoFilterInput","",3,"columnLabel","size","filterDelay","placeholder","ngModel"]],template:function(i,s){if(1&i&&(e.j41(0,"kendo-grid-filter-menu-input-wrapper",0),e.nrm(1,"kendo-textbox",1),e.k0s()),2&i){let r;e.Y8G("column",s.column)("filter",s.filter)("operators",s.operators)("defaultOperator",s.operator)("currentFilter",s.currentFilter)("filterService",s.filterService)("isFirstDropDown",s.isFirstDropDown)("menuTabbingService",s.menuTabbingService),e.R7$(),e.Y8G("columnLabel",s.columnLabel)("size",null!=s.ctx.grid&&s.ctx.grid.isActionSheetExpanded?"large":null)("filterDelay",0)("placeholder",s.placeholder)("ngModel",null!==(r=null==s.currentFilter?null:s.currentFilter.value)&&void 0!==r?r:null)}},dependencies:[Wu,re.OV,_a,Ne.YN,Ne.BC,Ne.vS],encapsulation:2})}return n})(),Dm=(()=>{class n extends xC{ctx;logicOperators=[];get hostClasses(){return!1}filter={filters:[],logic:"and"};extra=!0;filterService;placeholder;extraPlaceholder;menuTabbingService;constructor(t){super(null,t),this.ctx=t,this.logicOperators=Sc(this.ctx.localization)}get firstFilter(){return Cc(0,this.filter,(this.column||{}).field,this.operator)}get secondFilter(){return Cc(1,this.filter,(this.column||{}).field,this.operator)}logicChange(t){this.filter.logic=t}get filterMenuDropDownLabel(){const t=this.ctx.localization.get("filterMenuLogicDropDownLabel")||"";return(0,E.DG)(t,"columnName",this.column?this.column.title||this.column.field:"")}localizationChange(){this.logicOperators=Sc(this.ctx.localization),super.localizationChange()}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-string-filter-menu"]],hostVars:2,hostBindings:function(i,s){2&i&&e.AVh("k-filtercell",s.hostClasses)},inputs:{filter:"filter",extra:"extra",filterService:"filterService",placeholder:"placeholder",extraPlaceholder:"extraPlaceholder",menuTabbingService:"menuTabbingService"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:10,consts:[[3,"currentFilter","operators","filterService","column","filter","isFirstDropDown","placeholder","menuTabbingService"],["kendoFilterMenuDropDown","","class","k-filter-and","textField","text","valueField","value",3,"adaptiveTitle","adaptiveMode","size","filterMenuDropDownLabel","data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","placeholder","menuTabbingService",4,"ngIf"],["kendoFilterMenuDropDown","","textField","text","valueField","value",1,"k-filter-and",3,"valueChange","adaptiveTitle","adaptiveMode","size","filterMenuDropDownLabel","data","valuePrimitive","value"],[3,"operators","currentFilter","filterService","column","filter","placeholder","menuTabbingService"]],template:function(i,s){1&i&&(e.nrm(0,"kendo-grid-string-filter-menu-input",0),e.DNE(1,eM,1,7,"kendo-dropdownlist",1)(2,tM,1,7,"kendo-grid-string-filter-menu-input",2)),2&i&&(e.Y8G("currentFilter",s.firstFilter)("operators",s.operators)("filterService",s.filterService)("column",s.column)("filter",s.filter)("isFirstDropDown",!0)("placeholder",s.placeholder)("menuTabbingService",s.menuTabbingService),e.R7$(),e.Y8G("ngIf",s.extra),e.R7$(),e.Y8G("ngIf",s.extra))},dependencies:[MC,w.bT,J.V9,_d],encapsulation:2})}return n})();const yC=Hu({filterEqOperator:"eq",filterNotEqOperator:"neq",filterGteOperator:"gte",filterGtOperator:"gt",filterLteOperator:"lte",filterLtOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull"});let NC=(()=>{class n extends Ec{ctx;column;operator="eq";step=1;min;max;spinners=!0;decimals;get format(){return Jn(this._format)?this.columnFormat:this._format}set format(t){this._format=t}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}get columnFormat(){return this.column&&!Jn(this.column.format)?sm(this.column.format):"n2"}_format;subscription;constructor(t,i){super(t),this.ctx=i,this.defaultOperators=yC(this.ctx.localization)}ngOnInit(){this.subscription=this.ctx.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.defaultOperators=yC(this.ctx.localization),this.operatorList.length&&(this.operators=ju(this.operatorList.toArray()))}static \u0275fac=function(i){return new(i||n)(e.rXU(Zn),e.rXU(Me))};static \u0275dir=e.FsC({type:n,inputs:{column:"column",operator:"operator",step:"step",min:"min",max:"max",spinners:"spinners",decimals:"decimals",format:"format"},features:[e.Vt3]})}return n})(),GC=(()=>{class n{ctx;operators=[];column;filter;operator;currentFilter;filterService;filterDelay;isFirstDropDown;menuTabbingService;step=1;min;max;spinners=!0;decimals;format;placeholder;constructor(t){this.ctx=t}messageFor(t){return this.ctx.localization.get(t)}get columnLabel(){const t=this.ctx.localization.get("filterInputLabel")||"";return(0,E.DG)(t,"columnName",this.column?this.column.title||this.column.field:"")}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-numeric-filter-menu-input"]],inputs:{operators:"operators",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",filterDelay:"filterDelay",isFirstDropDown:"isFirstDropDown",menuTabbingService:"menuTabbingService",step:"step",min:"min",max:"max",spinners:"spinners",decimals:"decimals",format:"format",placeholder:"placeholder"},standalone:!0,features:[e.aNF],decls:3,vars:22,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService","isFirstDropDown","menuTabbingService"],["kendoFilterInput","",3,"columnLabel","filterDelay","autoCorrect","size","value","format","decimals","spinners","min","max","step","placeholder"],[3,"increment","decrement"]],template:function(i,s){1&i&&(e.j41(0,"kendo-grid-filter-menu-input-wrapper",0)(1,"kendo-numerictextbox",1),e.nrm(2,"kendo-numerictextbox-messages",2),e.k0s()()),2&i&&(e.Y8G("column",s.column)("filter",s.filter)("operators",s.operators)("defaultOperator",s.operator)("currentFilter",s.currentFilter)("filterService",s.filterService)("isFirstDropDown",s.isFirstDropDown)("menuTabbingService",s.menuTabbingService),e.R7$(),e.Y8G("columnLabel",s.columnLabel)("filterDelay",s.filterDelay)("autoCorrect",!0)("size",null!=s.ctx.grid&&s.ctx.grid.isActionSheetExpanded?"large":null)("value",null==s.currentFilter?null:s.currentFilter.value)("format",s.format)("decimals",s.decimals)("spinners",s.spinners)("min",s.min)("max",s.max)("step",s.step)("placeholder",s.placeholder),e.R7$(),e.Y8G("increment",s.messageFor("filterNumericIncrement"))("decrement",s.messageFor("filterNumericDecrement")))},dependencies:[Wu,re.Jh,_a,re.iB],encapsulation:2})}return n})(),AC=(()=>{class n extends NC{logicOperators=Sc(this.ctx.localization);get hostClasses(){return!1}filter={filters:[],logic:"and"};extra=!0;filterService;filterDelay=500;placeholder="";extraPlaceholder="";menuTabbingService;constructor(t){super(null,t)}get firstFilter(){return Cc(0,this.filter,(this.column||{}).field,this.operator)}get secondFilter(){return Cc(1,this.filter,(this.column||{}).field,this.operator)}logicChange(t){this.filter.logic=t}get filterMenuDropDownLabel(){const t=this.ctx.localization.get("filterMenuLogicDropDownLabel")||"";return(0,E.DG)(t,"columnName",this.column?this.column.title||this.column.field:"")}localizationChange(){this.logicOperators=Sc(this.ctx.localization),super.localizationChange()}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-numeric-filter-menu"]],hostVars:2,hostBindings:function(i,s){2&i&&e.AVh("k-filtercell",s.hostClasses)},inputs:{filter:"filter",extra:"extra",filterService:"filterService",filterDelay:"filterDelay",placeholder:"placeholder",extraPlaceholder:"extraPlaceholder",menuTabbingService:"menuTabbingService"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:17,consts:[[3,"currentFilter","operators","filterService","column","filter","filterDelay","format","decimals","spinners","min","max","step","menuTabbingService","isFirstDropDown","placeholder"],["kendoFilterMenuDropDown","","class","k-filter-and","textField","text","valueField","value",3,"adaptiveTitle","adaptiveMode","size","filterMenuDropDownLabel","data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","format","decimals","spinners","min","max","step","menuTabbingService","placeholder",4,"ngIf"],["kendoFilterMenuDropDown","","textField","text","valueField","value",1,"k-filter-and",3,"valueChange","adaptiveTitle","adaptiveMode","size","filterMenuDropDownLabel","data","valuePrimitive","value"],[3,"operators","currentFilter","filterService","column","filter","format","decimals","spinners","min","max","step","menuTabbingService","placeholder"]],template:function(i,s){1&i&&(e.nrm(0,"kendo-grid-numeric-filter-menu-input",0),e.DNE(1,iM,1,7,"kendo-dropdownlist",1)(2,nM,1,13,"kendo-grid-numeric-filter-menu-input",2)),2&i&&(e.Y8G("currentFilter",s.firstFilter)("operators",s.operators)("filterService",s.filterService)("column",s.column)("filter",s.filter)("filterDelay",s.filterDelay)("format",s.format)("decimals",s.decimals)("spinners",s.spinners)("min",s.min)("max",s.max)("step",s.step)("menuTabbingService",s.menuTabbingService)("isFirstDropDown",!0)("placeholder",s.placeholder),e.R7$(),e.Y8G("ngIf",s.extra),e.R7$(),e.Y8G("ngIf",s.extra))},dependencies:[GC,w.bT,J.V9,_d],encapsulation:2})}return n})();const PC=Hu({filterEqOperator:"eq",filterNotEqOperator:"neq",filterAfterOrEqualOperator:"gte",filterAfterOperator:"gt",filterBeforeOrEqualOperator:"lte",filterBeforeOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull"});let FC=(()=>{class n extends Ec{ctx;column;operator="gte";get currentFilter(){return this.filterByField(this.column.field)}set format(t){this._format=t}get format(){return Jn(this._format)?this.columnFormat:this._format}min;max;formatPlaceholder;placeholder;activeView="month";bottomView="month";topView="century";weekNumber=!1;get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}get columnFormat(){return this.column&&!Jn(this.column.format)?sm(this.column.format):"d"}_format;subscription;constructor(t,i){super(t),this.ctx=i,this.defaultOperators=PC(this.ctx.localization)}ngOnInit(){this.subscription=this.ctx.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.defaultOperators=PC(this.ctx.localization),this.operatorList.length&&(this.operators=ju(this.operatorList.toArray()))}static \u0275fac=function(i){return new(i||n)(e.rXU(Zn),e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-date-filter-base"]],inputs:{column:"column",operator:"operator",format:"format",min:"min",max:"max",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber"},features:[e.Vt3],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),BC=(()=>{class n{popupService;ctx;operators=[];column;filter;operator;currentFilter;filterService;menuTabbingService;format;formatPlaceholder;placeholder;min;max;activeView;bottomView;topView;weekNumber;isFirstDropDown;subscription;constructor(t,i){this.popupService=t,this.ctx=i}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}open(t){this.subscription=this.popupService.onClose.pipe((0,We.p)(()=>t.isActive)).subscribe(i=>i.preventDefault())}messageFor(t){return this.ctx.localization.get(t)}get columnLabel(){const t=this.ctx.localization.get("filterInputLabel")||"";return(0,E.DG)(t,"columnName",this.column?this.column.title||this.column.field:"")}static \u0275fac=function(i){return new(i||n)(e.rXU(vc),e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-date-filter-menu-input"]],inputs:{operators:"operators",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",menuTabbingService:"menuTabbingService",format:"format",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder",min:"min",max:"max",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber",isFirstDropDown:"isFirstDropDown"},standalone:!0,features:[e.aNF],decls:4,vars:24,consts:[["picker",""],[3,"column","filter","operators","defaultOperator","currentFilter","filterService","isFirstDropDown","menuTabbingService"],["kendoFilterInput","",3,"open","adaptiveMode","size","columnLabel","filterDelay","value","placeholder","formatPlaceholder","format","min","max","activeView","bottomView","topView","weekNumber"],[3,"toggle","today"]],template:function(i,s){if(1&i){const r=e.RV6();e.j41(0,"kendo-grid-filter-menu-input-wrapper",1)(1,"kendo-datepicker",2,0),e.bIt("open",function(){e.eBV(r);const u=e.sdS(2);return e.Njj(s.open(u))}),e.nrm(3,"kendo-datepicker-messages",3),e.k0s()()}2&i&&(e.Y8G("column",s.column)("filter",s.filter)("operators",s.operators)("defaultOperator",s.operator)("currentFilter",s.currentFilter)("filterService",s.filterService)("isFirstDropDown",s.isFirstDropDown)("menuTabbingService",s.menuTabbingService),e.R7$(),e.Y8G("adaptiveMode",null==s.ctx.grid?null:s.ctx.grid.adaptiveMode)("size",null!=s.ctx.grid&&s.ctx.grid.isActionSheetExpanded?"large":null)("columnLabel",s.columnLabel)("filterDelay",0)("value",null==s.currentFilter?null:s.currentFilter.value)("placeholder",s.placeholder)("formatPlaceholder",s.formatPlaceholder)("format",s.format)("min",s.min)("max",s.max)("activeView",s.activeView)("bottomView",s.bottomView)("topView",s.topView)("weekNumber",s.weekNumber),e.R7$(2),e.Y8G("toggle",s.messageFor("filterDateToggle"))("today",s.messageFor("filterDateToday")))},dependencies:[Wu,nc,_a,Jh],encapsulation:2})}return n})(),LC=(()=>{class n extends FC{logicOperators=Sc(this.ctx.localization);get hostClasses(){return!1}filter={filters:[],logic:"and"};extra=!0;filterService;menuTabbingService;constructor(t){super(null,t)}get firstFilter(){return Cc(0,this.filter,(this.column||{}).field,this.operator)}get secondFilter(){return Cc(1,this.filter,(this.column||{}).field,this.operator)}logicChange(t){this.filter.logic=t}get filterMenuDropDownLabel(){const t=this.ctx.localization.get("filterMenuLogicDropDownLabel")||"";return(0,E.DG)(t,"columnName",this.column?this.column.title||this.column.field:"")}localizationChange(){this.logicOperators=Sc(this.ctx.localization),super.localizationChange()}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-date-filter-menu"]],hostVars:2,hostBindings:function(i,s){2&i&&e.AVh("k-filtercell",s.hostClasses)},inputs:{filter:"filter",extra:"extra",filterService:"filterService",menuTabbingService:"menuTabbingService"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:18,consts:[[3,"currentFilter","operators","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber","isFirstDropDown","menuTabbingService"],["kendoFilterMenuDropDown","","class","k-filter-and","textField","text","valueField","value",3,"adaptiveTitle","adaptiveMode","size","filterMenuDropDownLabel","data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber","menuTabbingService",4,"ngIf"],["kendoFilterMenuDropDown","","textField","text","valueField","value",1,"k-filter-and",3,"valueChange","adaptiveTitle","adaptiveMode","size","filterMenuDropDownLabel","data","valuePrimitive","value"],[3,"operators","currentFilter","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber","menuTabbingService"]],template:function(i,s){1&i&&(e.nrm(0,"kendo-grid-date-filter-menu-input",0),e.DNE(1,sM,1,7,"kendo-dropdownlist",1)(2,oM,1,15,"kendo-grid-date-filter-menu-input",2)),2&i&&(e.Y8G("currentFilter",s.firstFilter)("operators",s.operators)("filterService",s.filterService)("column",s.column)("filter",s.filter)("activeView",s.activeView)("bottomView",s.bottomView)("topView",s.topView)("format",s.format)("formatPlaceholder",s.formatPlaceholder)("placeholder",s.placeholder)("min",s.min)("max",s.max)("weekNumber",s.weekNumber)("isFirstDropDown",!0)("menuTabbingService",s.menuTabbingService),e.R7$(),e.Y8G("ngIf",s.extra),e.R7$(),e.Y8G("ngIf",s.extra))},dependencies:[BC,w.bT,J.V9,_d],encapsulation:2})}return n})(),UC=(()=>{class n extends Ec{ctx;column;operator="eq";get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}items;defaultItem;subscription;constructor(t,i){super(t),this.ctx=i,this.items=[{text:this.ctx.localization.get("filterIsTrue"),value:!0},{text:this.ctx.localization.get("filterIsFalse"),value:!1}],this.defaultItem={text:this.ctx.localization.get("filterBooleanAll"),value:null}}ngOnInit(){this.subscription=this.ctx.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.items=[{text:this.ctx.localization.get("filterIsTrue"),value:!0},{text:this.ctx.localization.get("filterIsFalse"),value:!1}],this.defaultItem={text:this.ctx.localization.get("filterBooleanAll"),value:null}}static \u0275fac=function(i){return new(i||n)(e.rXU(Zn),e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-boolean-filter-base"]],inputs:{column:"column"},features:[e.Vt3],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),Tm=(()=>{class n{hostElement;renderer;columnLabel;radioButtonEl;constructor(t,i){this.hostElement=t,this.renderer=i}ngAfterViewInit(){this.radioButtonEl=this.hostElement.nativeElement,this.renderer.setAttribute(this.hostElement.nativeElement,"aria-label",this.columnLabel)}static \u0275fac=function(i){return new(i||n)(e.rXU(e.aKT),e.rXU(e.sFG))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoFilterMenuRadioButton",""]],inputs:{columnLabel:"columnLabel"},standalone:!0})}return n})(),VC=(()=>{class n extends UC{get hostClasses(){return!1}filter={filters:[],logic:"and"};filterService;menuTabbingService;idPrefix=(0,E.Os)();radioButtons;constructor(t){super(null,t)}ngAfterViewInit(){this.filterService.menuTabbingService.firstFocusable=this.radioButtons.first.radioButtonEl,this.menuTabbingService?.isTabbedInterface||this.radioButtons.first.radioButtonEl.focus()}radioId(t){return`${this.idPrefix}_${t}`}onChange(t,i){this.applyFilter(this.updateFilter({field:this.column.field,operator:"eq",value:t})),this.filterService.menuTabbingService.firstFocusable=i.hostElement.nativeElement}isSelected(t){return this.filtersByField(this.column.field).some(({value:i})=>i===t)}onShiftTab(t){!this.menuTabbingService?.isColumnMenu&&this.filterService.menuTabbingService.lastFocusable&&(t.preventDefault(),this.filterService.menuTabbingService.lastFocusable.focus())}get columnLabel(){const t=this.ctx.localization.get("filterInputLabel")||"";return(0,E.DG)(t,"columnName",this.column.title||this.column.field)}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-boolean-filter-menu"]],viewQuery:function(i,s){if(1&i&&e.GBs(Tm,5),2&i){let r;e.mGM(r=e.lsd())&&(s.radioButtons=r)}},hostVars:2,hostBindings:function(i,s){2&i&&e.AVh("k-filtercell",s.hostClasses)},inputs:{filter:"filter",filterService:"filterService",menuTabbingService:"menuTabbingService"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:1,consts:[["input",""],[1,"k-radio-list","k-reset"],[4,"ngFor","ngForOf"],["kendoFilterMenuRadioButton","",3,"change","keydown.shift.tab","columnLabel","size","name","checked"],[1,"k-radio-label"]],template:function(i,s){1&i&&(e.j41(0,"ul",1),e.DNE(1,rM,5,7,"li",2),e.k0s()),2&i&&(e.R7$(),e.Y8G("ngForOf",s.items))},dependencies:[w.pM,re.dx,Tm],encapsulation:2})}return n})(),zC=(()=>{class n extends TC{filterService;menuTabbingService;constructor(t){super(t)}componentType(){return Oe(this.column)&&!Jn(this.column.filter)?(n=>({boolean:VC,date:LC,numeric:AC,text:Dm}[this.column.filter]))():Dm}initComponent(t){super.initComponent(t),this.component.instance.filterService=this.filterService,this.component.instance.menuTabbingService=this.menuTabbingService}static \u0275fac=function(i){return new(i||n)(e.rXU(e.c1b))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoFilterMenuHost",""]],inputs:{filterService:"filterService",menuTabbingService:"menuTabbingService"},standalone:!0,features:[e.Vt3]})}return n})();const KC=({value:n,operator:o})=>!Jn(n)||(n=>"isnull"===n||"isnotnull"===n||"isempty"===n||"isnotempty"===n)(o),$C=(n,o,t)=>n.reduce((i,s)=>i||(s.filters?$C(s.filters,o,s):s.field===o?t:i),void 0),TL=(n,o,t="and")=>{const i=$C((n||{}).filters||[],o);return Oe(i)?i.logic:t};let Ml=(()=>{class n{parentService;childService;ctx;cd;adaptiveGridService;close=new e.bkB;column;isLast;isExpanded;menuTabbingService;set filter(t){this._filter=Ol(t)}get filter(){return this._filter}actionsClass="k-actions k-actions-stretched k-actions-horizontal";get childFilter(){return Oe(this._childFilter)||(this._childFilter={filters:bc(this.filter,(this.column||{}).field),logic:TL(this.filter,(this.column||{}).field)}),this._childFilter}resetButton;filterButton;_childFilter;subscription;_templateContext={};_filter;constructor(t,i,s,r,l,u){this.parentService=t,this.childService=i,this.ctx=s,this.cd=r,this.adaptiveGridService=u,this.menuTabbingService=l,this.adaptiveGridService.filterMenuContainer=this}ngOnInit(){this.subscription=this.childService.changes.subscribe(t=>this._childFilter=t),this.subscription.add(this.ctx.localization.changes.subscribe(()=>this.cd.markForCheck()))}ngAfterViewChecked(){(!this.menuTabbingService.isColumnMenu||this.isLast&&this.isExpanded)&&(this.menuTabbingService.lastFocusable=this.resetButton?.nativeElement)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.menuTabbingService.lastFocusable=void 0}get disabled(){return!this.childFilter.filters.some(KC)}get templateContext(){return this._templateContext.column=this.column,this._templateContext.filter=this.childFilter,this._templateContext.filterService=this.childService,this._templateContext.$implicit=this.childFilter,this._templateContext}get hasTemplate(){return Oe(this.column)&&Oe(this.column.filterMenuTemplateRef)}submit(){const t=(n=>(n.filters=n.filters.filter(KC),n))(this.childFilter);if(t.filters.length){const i=this.filter||{filters:[],logic:"and"};Im(i,this.column.field),i.filters.push(t),this.parentService.filter(i)}return this.close.emit(),!1}reset(){const t=this.filter||{filters:[],logic:"and"};Im(t,this.column.field),this.parentService.filter(t),this.close.emit()}resetChildFilters(){this._childFilter=null}onTab(t,i){this.menuTabbingService.firstFocusable&&(!this.menuTabbingService.isColumnMenu||this.isLast)&&(t.preventDefault(),"reset"===i||this.disabled?this.menuTabbingService.firstFocusable.focus():this.resetButton.nativeElement.focus())}get clearText(){return this.ctx.localization.get("filterClearButton")}get filterText(){return this.ctx.localization.get("filterFilterButton")}static \u0275fac=function(i){return new(i||n)(e.rXU(Zn,4),e.rXU(Zn),e.rXU(Me),e.rXU(e.gRc),e.rXU(_c),e.rXU(Ys))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-filter-menu-container"]],viewQuery:function(i,s){if(1&i&&(e.GBs(Ov,5),e.GBs(aM,5)),2&i){let r;e.mGM(r=e.lsd())&&(s.resetButton=r.first),e.mGM(r=e.lsd())&&(s.filterButton=r.first)}},inputs:{column:"column",isLast:"isLast",isExpanded:"isExpanded",menuTabbingService:"menuTabbingService",filter:"filter",actionsClass:"actionsClass"},outputs:{close:"close"},standalone:!0,features:[e.Jv_([Zn,_c]),e.aNF],decls:6,vars:4,consts:[["filterButton",""],["resetButton",""],[1,"k-filter-menu",3,"submit","reset"],[1,"k-filter-menu-container"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngClass",4,"ngIf"],["kendoFilterMenuHost","",3,"filterService","column","filter","menuTabbingService"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","submit",1,"k-button","k-button-solid-primary","k-button-solid","k-button-md","k-rounded-md","k-button-rectangle",3,"keydown.tab","disabled"],["type","reset",1,"k-button","k-button-solid-base","k-button-solid","k-button-md","k-rounded-md","k-button-rectangle",3,"keydown.tab"]],template:function(i,s){1&i&&(e.j41(0,"form",2),e.bIt("submit",function(){return s.submit()})("reset",function(){return s.reset()}),e.j41(1,"div",3),e.qex(2,4),e.DNE(3,lM,2,4,"ng-container",5)(4,uM,2,1,"ng-container",5),e.bVm(),e.DNE(5,hM,7,4,"div",6),e.k0s()()),2&i&&(e.R7$(2),e.Y8G("ngSwitch",s.hasTemplate),e.R7$(),e.Y8G("ngSwitchCase",!1),e.R7$(),e.Y8G("ngSwitchCase",!0),e.R7$(),e.Y8G("ngIf",!(null!=s.ctx.grid&&s.ctx.grid.isActionSheetExpanded)))},dependencies:[Ne.YN,Ne.qT,Ne.cb,Ne.cV,w.ux,w.e1,zC,w.bT,w.T3,w.YU],encapsulation:2})}return n})(),xL=0,xm=(()=>{class n{filterService;popupService;ctx;navigationService;renderer;cdr;adaptiveGridService;zone;idService;filterIcon=ne.Sj_;column;filter;anchor;template;tabIndex="-1";popupRef;popupSubs;constructor(t,i,s,r,l,u,f,C,T){this.filterService=t,this.popupService=i,this.ctx=s,this.navigationService=r,this.renderer=l,this.cdr=u,this.adaptiveGridService=f,this.zone=C,this.idService=T}ngOnDestroy(){this.cleanUp()}get hasFilters(){return bc(this.filter,(this.column||{}).field).length>0}get filterLabel(){const t=this.ctx.localization.get("filterMenuTitle")||"";return(0,E.DG)(t,"columnName",this.column.title||this.column.field)}get isNavigable(){return this.navigationService.tableEnabled}toggle(t,i){if("auto"===this.ctx.grid?.adaptiveMode&&"large"!==this.adaptiveGridService.windowSize)this.ctx.grid.isActionSheetExpanded||(this.adaptiveGridService.viewType="filterMenu",this.adaptiveGridService.column=this.column,this.ctx.grid.adaptiveRenderer.actionSheet.toggle(!0));else{this.popupRef=this.popupService.open(t,i,this.popupRef);const s=this.isNavigable?t.closest(".k-table-th"):t;if(this.popupRef){this.popupSubs?.unsubscribe(),this.popupSubs=this.popupRef.popup.instance.anchorViewportLeave.subscribe(()=>{this.close(),this.updateAria(s)}),this.popupSubs.add(()=>this.popupRef.popup.instance.close.subscribe(()=>{this.popupRef=null,this.updateAria(s)}));const r=this.popupRef.popupElement.querySelector(".k-grid-filter-popup");if(r){const l=(n=>`${this.idService?.gridId()}-filter-menu-${xL++}`)();this.renderer.setAttribute(r,"id",l),this.renderer.setAttribute(r,"role","dialog"),this.renderer.setAttribute(r,"aria-label",this.filterLabel),s&&this.renderer.setAttribute(s,"aria-controls",l),s&&this.renderer.setAttribute(s,"aria-expanded","true")}}else this.focusRoot()}return!1}close(){this.cleanUp(),this.focusRoot()}updateAria(t){t&&this.renderer.removeAttribute(t,"aria-controls"),t&&this.renderer.setAttribute(t,"aria-expanded","false")}cleanUp(){this.popupService.destroy(),this.popupRef=null,this.popupSubs?.unsubscribe(),this.popupSubs=null,this.cdr.markForCheck()}focusRoot(){this.isNavigable?this.navigationService.focusCell(0,this.column.leafIndex):this.anchor.nativeElement.focus()}static \u0275fac=function(i){return new(i||n)(e.rXU(Zn),e.rXU(vc),e.rXU(Me),e.rXU(ar),e.rXU(e.sFG),e.rXU(e.gRc),e.rXU(Ys),e.rXU(e.SKi),e.rXU(Ro,8))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-filter-menu"]],viewQuery:function(i,s){if(1&i&&(e.GBs(tm,7),e.GBs(Mv,7,e.C4Q)),2&i){let r;e.mGM(r=e.lsd())&&(s.anchor=r.first),e.mGM(r=e.lsd())&&(s.template=r.first)}},inputs:{column:"column",filter:"filter",tabIndex:"tabIndex"},standalone:!0,features:[e.aNF],decls:5,vars:7,consts:[["anchor",""],["template",""],["href","#",1,"k-grid-filter-menu","k-grid-header-menu",3,"click","keydown.enter","tabindex"],["name","filter",3,"svgIcon"],[3,"close","keydown.escape","keydown.enter","column","filter"]],template:function(i,s){if(1&i){const r=e.RV6();e.j41(0,"a",2,0),e.bIt("click",function(){e.eBV(r);const u=e.sdS(1),f=e.sdS(4);return e.Njj(s.toggle(u,f))})("keydown.enter",function(u){return e.eBV(r),e.Njj(u.stopImmediatePropagation())}),e.nrm(2,"kendo-icon-wrapper",3),e.k0s(),e.DNE(3,pM,1,2,"ng-template",null,1,e.C5r)}2&i&&(e.AVh("k-active",s.hasFilters),e.Y8G("tabindex",s.tabIndex),e.BMQ("title",s.filterLabel)("aria-haspopup",s.isNavigable?void 0:"dialog")("aria-expanded",!!s.isNavigable&&void 0),e.R7$(2),e.Y8G("svgIcon",s.filterIcon))},dependencies:[ct.QK,Ml],encapsulation:2})}return n})();const ML=["isnull","isnotnull","isempty","isnotempty"];let kc=(()=>{class n extends OC{get hostClasses(){return!0}get overrideBaseClasses(){return!1}showOperators=!0;get showButton(){const t=this.currentFilter;return Oe(t)&&(!Jn(t.value)||ML.indexOf(String(t.operator))>=0)}constructor(t){super(t)}filterChange(t){this.applyFilter(t)}static \u0275fac=function(i){return new(i||n)(e.rXU(Zn))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-filter-wrapper-cell"]],hostVars:4,hostBindings:function(i,s){2&i&&e.AVh("k-filtercell-wrapper",s.hostClasses)("k-filtercell",s.overrideBaseClasses)},inputs:{showOperators:"showOperators"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:ha,decls:2,vars:5,consts:[[3,"clear","valueChange","showOperators","column","operators","showButton","value"]],template:function(i,s){1&i&&(e.NAR(),e.SdG(0),e.j41(1,"kendo-grid-filter-cell-operators",0),e.bIt("clear",function(){return s.onClear()}),e.mxI("valueChange",function(l){return e.DH7(s.currentOperator,l)||(s.currentOperator=l),l}),e.k0s()),2&i&&(e.R7$(),e.Y8G("showOperators",s.showOperators)("column",s.column)("operators",s.operators)("showButton",s.showButton),e.R50("value",s.currentOperator))},dependencies:[wC],encapsulation:2})}return n})();Hu({filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterEqOperator:"eq",filterNotEqOperator:"neq",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty"});let jC=(()=>{class n extends UC{cd;size="medium";subs;constructor(t,i,s,r){super(t,i),this.cd=s,this.subs=r.changes.subscribe(l=>this.size=l)}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}localizationChange(){super.localizationChange(),this.cd.markForCheck()}get columnLabel(){const t=this.ctx.localization.get("booleanFilterCellLabel")||"";return(0,E.DG)(t,"columnName",this.column.title||this.column.field)}static \u0275fac=function(i){return new(i||n)(e.rXU(Zn),e.rXU(Me),e.rXU(e.gRc),e.rXU(il))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-boolean-filter-cell"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:12,consts:[[3,"column","filter","showOperators","defaultOperator"],["kendoFilterInput","","kendoGridFocusable","","textField","text","valueField","value",3,"size","columnLabel","defaultItem","data","popupSettings","valuePrimitive","value"]],template:function(i,s){1&i&&(e.j41(0,"kendo-grid-filter-wrapper-cell",0),e.nrm(1,"kendo-dropdownlist",1),e.k0s()),2&i&&(e.Y8G("column",s.column)("filter",s.filter)("showOperators",!1)("defaultOperator",s.operator),e.R7$(),e.Y8G("size",s.size)("columnLabel",s.columnLabel)("defaultItem",s.defaultItem)("data",s.items)("popupSettings",e.lJ4(11,xv))("valuePrimitive",!0)("value",null==s.currentFilter?null:s.currentFilter.value))},dependencies:[kc,J.V9,_a,ga],encapsulation:2})}return n})(),HC=(()=>{class n extends FC{ctx;showOperators=!0;subs;constructor(t,i,s){super(t,i),this.ctx=i,this.subs=s.changes.subscribe(r=>this.size=r)}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}messageFor(t){return this.ctx.localization.get(t)}get columnLabel(){const t=this.ctx.localization.get("filterInputLabel")||"";return(0,E.DG)(t,"columnName",this.column.title||this.column.field)}static \u0275fac=function(i){return new(i||n)(e.rXU(Zn),e.rXU(Me),e.rXU(il))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-date-filter-cell"]],inputs:{showOperators:"showOperators"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:19,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoFilterInput","","kendoGridFocusable","",3,"columnLabel","value","format","size","formatPlaceholder","placeholder","activeView","bottomView","topView","min","max","weekNumber"],[3,"toggle","today"]],template:function(i,s){1&i&&(e.j41(0,"kendo-grid-filter-wrapper-cell",0)(1,"kendo-datepicker",1),e.nrm(2,"kendo-datepicker-messages",2),e.k0s()()),2&i&&(e.Y8G("column",s.column)("filter",s.filter)("operators",s.operators)("defaultOperator",s.operator)("showOperators",s.showOperators),e.R7$(),e.Y8G("columnLabel",s.columnLabel)("value",null==s.currentFilter?null:s.currentFilter.value)("format",s.format)("size",s.size)("formatPlaceholder",s.formatPlaceholder)("placeholder",s.placeholder)("activeView",s.activeView)("bottomView",s.bottomView)("topView",s.topView)("min",s.min)("max",s.max)("weekNumber",s.weekNumber),e.R7$(),e.Y8G("toggle",s.messageFor("filterDateToggle"))("today",s.messageFor("filterDateToday")))},dependencies:[kc,nc,_a,ga,Jh],encapsulation:2})}return n})(),Om=(()=>{class n extends xC{filterDelay=500;showOperators=!0;placeholder;subs;constructor(t,i,s){super(t,i),this.subs=s.changes.subscribe(r=>this.size=r)}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}get columnLabel(){const t=this.ctx.localization.get("filterInputLabel")||"";return(0,E.DG)(t,"columnName",this.column.title||this.column.field)}static \u0275fac=function(i){return new(i||n)(e.rXU(Zn),e.rXU(Me),e.rXU(il))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-string-filter-cell"]],inputs:{filterDelay:"filterDelay",showOperators:"showOperators",placeholder:"placeholder"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:10,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoGridFocusable","","kendoFilterInput","",3,"size","columnLabel","filterDelay","placeholder","ngModel"]],template:function(i,s){if(1&i&&(e.j41(0,"kendo-grid-filter-wrapper-cell",0),e.nrm(1,"kendo-textbox",1),e.k0s()),2&i){let r;e.Y8G("column",s.column)("filter",s.filter)("operators",s.operators)("defaultOperator",s.operator)("showOperators",s.showOperators),e.R7$(),e.Y8G("size",s.size)("columnLabel",s.columnLabel)("filterDelay",s.filterDelay)("placeholder",s.placeholder)("ngModel",null!==(r=null==s.currentFilter?null:s.currentFilter.value)&&void 0!==r?r:null)}},dependencies:[kc,re.OV,ga,_a,Ne.YN,Ne.BC,Ne.vS],encapsulation:2})}return n})(),XC=(()=>{class n extends NC{ctx;filterDelay=500;showOperators=!0;placeholder;subs;constructor(t,i,s){super(t,i),this.ctx=i,this.subs=s.changes.subscribe(r=>this.size=r)}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}messageFor(t){return this.ctx.localization.get(t)}get columnLabel(){const t=this.ctx.localization.get("filterInputLabel")||"";return(0,E.DG)(t,"columnName",this.column.title||this.column.field)}static \u0275fac=function(i){return new(i||n)(e.rXU(Zn),e.rXU(Me),e.rXU(il))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-numeric-filter-cell"]],inputs:{filterDelay:"filterDelay",showOperators:"showOperators",placeholder:"placeholder"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:19,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoGridFocusable","","kendoFilterInput","",3,"columnLabel","filterDelay","autoCorrect","value","format","decimals","spinners","min","max","size","step","placeholder"],[3,"increment","decrement"]],template:function(i,s){1&i&&(e.j41(0,"kendo-grid-filter-wrapper-cell",0)(1,"kendo-numerictextbox",1),e.nrm(2,"kendo-numerictextbox-messages",2),e.k0s()()),2&i&&(e.Y8G("column",s.column)("filter",s.filter)("operators",s.operators)("defaultOperator",s.operator)("showOperators",s.showOperators),e.R7$(),e.Y8G("columnLabel",s.columnLabel)("filterDelay",s.filterDelay)("autoCorrect",!0)("value",null==s.currentFilter?null:s.currentFilter.value)("format",s.format)("decimals",s.decimals)("spinners",s.spinners)("min",s.min)("max",s.max)("size",s.size)("step",s.step)("placeholder",s.placeholder),e.R7$(),e.Y8G("increment",s.messageFor("filterNumericIncrement"))("decrement",s.messageFor("filterNumericDecrement")))},dependencies:[kc,re.Jh,ga,_a,re.iB],encapsulation:2})}return n})(),WC=(()=>{class n extends TC{constructor(t){super(t)}componentType(){return Jn(this.column.filter)?Om:(n=>({boolean:jC,date:HC,numeric:XC,text:Om}[this.column.filter]))()}static \u0275fac=function(i){return new(i||n)(e.rXU(e.c1b))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoFilterCellHost",""]],standalone:!0,features:[e.Vt3]})}return n})(),YC=(()=>{class n{hostRole="gridcell";column;get filter(){return this._filter}set filter(t){this._filter=Ol(t)}size="medium";_templateContext={};_filter;get templateContext(){return this._templateContext.column=this.column,this._templateContext.filter=this.filter,this._templateContext.$implicit=this.filter,this._templateContext}get hasTemplate(){return Oe(this.column.filterCellTemplateRef)}get isFilterable(){return Oe(this.column)&&!Jn(this.column.field)&&this.column.filterable}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=e.VBU({type:n,selectors:[["","kendoGridFilterCell",""]],hostVars:1,hostBindings:function(i,s){2&i&&e.BMQ("role",s.hostRole)},inputs:{column:"column",filter:"filter",size:"size"},standalone:!0,features:[e.aNF],attrs:mM,decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["kendoFilterCellHost","",3,"column","filter"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,s){1&i&&e.DNE(0,CM,4,3,"ng-container",0),2&i&&e.Y8G("ngIf",s.isFilterable)},dependencies:[w.bT,w.ux,w.e1,WC,w.T3],encapsulation:2})}return n})(),qC=(()=>{class n{ctx;columnInfoService;columns=[];filter;groups=[];detailTemplate;logicalRowIndex;lockedColumnsCount;filterRowClass=!0;constructor(t,i){this.ctx=t,this.columnInfoService=i}addStickyStyles(t){return{...t.sticky?this.columnInfoService.stickyColumnsStyles(t):null,...t.filterStyle}}filterLabel(t){const i=this.ctx.localization.get("filterInputLabel")||"";return(0,E.DG)(i,"columnName",t.title||t.field)}getLogicalColIndex(t){const i=this.lockedColumnsCount+t;return this.detailTemplate?.templateRef?i+1:i}get isStacked(){return this.ctx.grid?.isStacked}static \u0275fac=function(i){return new(i||n)(e.rXU(Me),e.rXU(Qn))};static \u0275cmp=e.VBU({type:n,selectors:[["","kendoGridFilterRow",""]],hostVars:2,hostBindings:function(i,s){2&i&&e.AVh("k-filter-row",s.filterRowClass)},inputs:{columns:"columns",filter:"filter",groups:"groups",detailTemplate:"detailTemplate",logicalRowIndex:"logicalRowIndex",lockedColumnsCount:"lockedColumnsCount"},standalone:!0,features:[e.aNF],attrs:SM,decls:3,vars:3,consts:[["class","k-table-td k-group-cell k-table-group-td","role","presentation",4,"ngFor","ngForOf"],["class","k-table-td k-hierarchy-cell","role","presentation",4,"ngIf"],["class","k-table-td","kendoGridFilterCell","","kendoGridLogicalCell","",3,"k-grid-header-sticky","ngStyle","ngClass","column","filter","logicalRowIndex","logicalColIndex",4,"ngFor","ngForOf"],["role","presentation",1,"k-table-td","k-group-cell","k-table-group-td"],["role","presentation",1,"k-table-td","k-hierarchy-cell"],["kendoGridFilterCell","","kendoGridLogicalCell","",1,"k-table-td",3,"ngStyle","ngClass","column","filter","logicalRowIndex","logicalColIndex"]],template:function(i,s){1&i&&e.DNE(0,bM,1,0,"td",0)(1,EM,1,0,"td",1)(2,kM,1,9,"td",2),2&i&&(e.Y8G("ngForOf",s.groups),e.R7$(),e.Y8G("ngIf",(null==s.detailTemplate?null:s.detailTemplate.templateRef)&&!s.isStacked),e.R7$(),e.Y8G("ngForOf",s.columns))},dependencies:[w.pM,w.bT,YC,fc,w.B3,w.YU],encapsulation:2})}return n})(),Mm=(()=>{class n{host;kendoColumnMenuChooserItemChecked;checkbox;checkedChangeSub=new He.yU;constructor(t){this.host=t}ngAfterViewInit(){this.checkedChangeSub.add(this.checkbox.checkedStateChange.subscribe(()=>{this.kendoColumnMenuChooserItemChecked=!0===this.checkbox.checkedState}))}ngOnDestroy(){this.checkedChangeSub.unsubscribe()}static \u0275fac=function(i){return new(i||n)(e.rXU(e.aKT))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoColumnMenuChooserItemChecked",""]],contentQueries:function(i,s,r){if(1&i&&e.wni(r,re.$W,5),2&i){let l;e.mGM(l=e.lsd())&&(s.checkbox=l.first)}},hostVars:1,hostBindings:function(i,s){2&i&&e.BMQ("aria-checked",s.kendoColumnMenuChooserItemChecked)},inputs:{kendoColumnMenuChooserItemChecked:"kendoColumnMenuChooserItemChecked"},standalone:!0})}return n})(),vd=(()=>{class n{menuTabbingService;closeMenu=new e.bkB;column;sort;filter;sortable;columnMenuContainer;constructor(t){this.menuTabbingService=t}close(){this.closeMenu.emit()}static \u0275fac=function(i){return new(i||n)(e.KVO(_c))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),JC=(()=>{class n{renderer;items;activeIndex=0;constructor(t){this.renderer=t}next(){this.toggle(this.activeIndex,!1),this.activeIndex=Math.min(this.activeIndex+1,this.items.length-1),this.toggle(this.activeIndex,!0)}prev(){this.toggle(this.activeIndex,!1),this.activeIndex=Math.max(this.activeIndex-1,0),this.toggle(this.activeIndex,!0)}toggle(t,i){const s=this.items[t]?.host.nativeElement;s&&this.renderer.setAttribute(this.items[t].host.nativeElement,"tabindex",i?"0":"-1"),i&&s?.focus()}toggleCheckedState(){this.items[this.activeIndex].host.nativeElement.firstElementChild.click()}static \u0275fac=function(i){return new(i||n)(e.KVO(e.sFG))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),Rc=(()=>{class n{element;ngZone;renderer;listNavigationService;adaptiveGridService;ctx;checkIcon=ne.oEo;arrowRotateCcwIcon=ne.rjQ;className=!0;get listSizeMd(){return!this.ctx?.grid?.isActionSheetExpanded}get listSizeLg(){return this.ctx?.grid?.isActionSheetExpanded}reset=new e.bkB;apply=new e.bkB;columnChange=new e.bkB;set columns(t){this._columns=t.filter(i=>!1!==i.includeInChooser),this.allColumns=t,this.updateColumnState()}get columns(){return this._columns}showActions=!0;autoSync=!0;ariaLabel;allowHideAll=!1;applyText;resetText;actionsClass="k-actions k-actions-stretched k-actions-horizontal";isLast;isExpanded;service;resetButton;applyButton;options;checkboxes;hasLocked;hasVisibleLocked;unlockedCount=0;hasUnlockedFiltered;hasFiltered;_columns;allColumns;domSubscriptions=new He.yU;constructor(t,i,s,r,l,u){this.element=t,this.ngZone=i,this.renderer=s,this.listNavigationService=r,this.adaptiveGridService=l,this.ctx=u}ngOnInit(){this.element&&this.ngZone.runOutsideAngular(()=>{this.domSubscriptions.add(this.renderer.listen(this.element.nativeElement,"click",t=>{t.stopImmediatePropagation(),this.ngZone.onStable.pipe((0,st.s)(1)).subscribe(()=>{this.handleCheckBoxClick(t)})})),this.domSubscriptions.add(this.renderer.listen(this.element.nativeElement,"keydown",this.onKeydown))})}ngAfterViewInit(){this.ngZone.onStable.pipe((0,st.s)(1)).subscribe(()=>{this.listNavigationService.items=this.options.toArray(),"columnMenu"!==this.adaptiveGridService?.viewType&&this.listNavigationService.toggle(0,!0),this.updateDisabled()}),this.ctx?.grid?.isActionSheetExpanded&&this.domSubscriptions.add(this.adaptiveGridService.animationEnd.subscribe(()=>{this.listNavigationService.toggle(0,!0)}))}ngOnChanges(t){this.service&&(t.isLast&&this.isLast&&(this.service.menuTabbingService.lastFocusable=this.applyButton.nativeElement),t.isExpanded&&this.isExpanded&&this.isLast&&this.applyButton&&(this.service.menuTabbingService.lastFocusable=this.applyButton.nativeElement))}ngOnDestroy(){this.domSubscriptions.unsubscribe()}isDisabled(t){return!(this.allowHideAll||this.hasFiltered||t.hidden||this.columns.find(i=>i!==t&&!i.hidden))||this.hasVisibleLocked&&!this.hasUnlockedFiltered&&1===this.unlockedCount&&!t.locked&&!t.hidden}cancelChanges(){this.checkboxes.forEach((t,i)=>{t.checkedState=!this.columns[i].hidden}),this.updateDisabled(),this.reset.emit()}applyChanges(){const t=[];this.checkboxes.forEach((i,s)=>{const r=this.columns[s],l=!i.checkedState;!!r.hidden!==l&&(r.hidden=l,t.push(r))}),this.updateDisabled(),this.apply.emit(t)}onTab(t){this.isLast&&(t.preventDefault(),this.service?this.service.menuTabbingService.firstFocusable.focus():this.listNavigationService.toggle(this.listNavigationService.activeIndex,!0))}onKeydown=t=>{const i=(0,E.tq)(t);i!==E.D$.Tab&&t.preventDefault(),"Tab"===i&&!t.shiftKey&&this.autoSync&&t.preventDefault(),"Tab"===i&&t.shiftKey&&this.ngZone.run(()=>{t.target.matches(".k-column-list-item")&&(t.preventDefault(),this.resetButton?.nativeElement.focus())}),i===E.D$.ArrowDown?this.listNavigationService.next():i===E.D$.ArrowUp?this.listNavigationService.prev():i===E.D$.Space&&t.target.classList.contains("k-column-list-item")&&this.listNavigationService.toggleCheckedState()};updateDisabled(){if(this.allowHideAll&&!this.hasLocked)return;const t=[],i=new Map;if(this.checkboxes.forEach((s,r)=>{this.setDisabledState(s,!1),s.checkedState&&(t.push({checkbox:s,index:r}),i.set(r,this.columns[r]))}),this.allowHideAll||1!==t.length||this.hasFiltered){if(this.hasLocked&&!this.hasUnlockedFiltered){const s=t.filter(r=>!i.get(r.index).locked);1===s.length&&this.setDisabledState(s[0].checkbox,!0)}}else this.setDisabledState(t[0].checkbox,!0)}updateColumnState(){this.hasLocked=this.allColumns.filter(i=>i.locked&&(!i.hidden||!1!==i.includeInChooser)).length>0,this.hasVisibleLocked=this.allColumns.filter(i=>i.locked&&!i.hidden).length>0,this.unlockedCount=this.columns.filter(i=>!i.locked&&!i.hidden).length;const t=this.allColumns.filter(i=>!1===i.includeInChooser&&!i.hidden);t.length?(this.hasFiltered=t.length>0,this.hasUnlockedFiltered=t.filter(i=>!i.locked).length>0):(this.hasFiltered=!1,this.hasUnlockedFiltered=!1)}setDisabledState(t,i){t.disabled!==i&&this.ngZone.runOutsideAngular(()=>{t.disabled=i;const r=t.hostElement.nativeElement.parentElement;i?(this.renderer.addClass(r,"k-disabled"),this.renderer.setAttribute(r,"aria-disabled","true")):(this.renderer.removeClass(r,"k-disabled"),this.renderer.removeAttribute(r,"aria-disabled"))})}handleCheckBoxClick=t=>{const i=t.target.closest(".k-column-list-item");if(i){const s=i.querySelector(".k-checkbox-wrap"),r=parseInt(s.firstElementChild.getAttribute("data-index"),10),l=this.checkboxes.toArray()[r];if(t.target===l.input.nativeElement&&(i.focus(),t.target.classList.remove("k-focus")),this.autoSync){if(!this.columns[r])return;const u=this.columns[r],f=!l.checkedState;!!u.hidden!==f&&this.ngZone.runOutsideAngular(()=>{u.hidden=f,this.ngZone.run(()=>{this.columnChange.emit([u])})})}else this.ngZone.run(()=>this.updateDisabled());r!==this.listNavigationService.activeIndex&&(this.listNavigationService.toggle(this.listNavigationService.activeIndex,!1),this.listNavigationService.activeIndex=r,this.listNavigationService.toggle(r,!0))}};static \u0275fac=function(i){return new(i||n)(e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(e.sFG),e.rXU(JC),e.rXU(Ys,8),e.rXU(Me,8))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-columnlist"]],viewQuery:function(i,s){if(1&i&&(e.GBs(Ov,5),e.GBs(RM,5),e.GBs(Mm,5),e.GBs(re.$W,5)),2&i){let r;e.mGM(r=e.lsd())&&(s.resetButton=r.first),e.mGM(r=e.lsd())&&(s.applyButton=r.first),e.mGM(r=e.lsd())&&(s.options=r),e.mGM(r=e.lsd())&&(s.checkboxes=r)}},hostVars:6,hostBindings:function(i,s){2&i&&e.AVh("k-column-list-wrapper",s.className)("k-column-list-md",s.listSizeMd)("k-column-list-lg",s.listSizeLg)},inputs:{columns:"columns",showActions:"showActions",autoSync:"autoSync",ariaLabel:"ariaLabel",allowHideAll:"allowHideAll",applyText:"applyText",resetText:"resetText",actionsClass:"actionsClass",isLast:"isLast",isExpanded:"isExpanded",service:"service"},outputs:{reset:"reset",apply:"apply",columnChange:"columnChange"},standalone:!0,features:[e.Jv_([JC]),e.OA$,e.aNF],decls:3,vars:3,consts:[["applyButton",""],["resetButton",""],["role","listbox","aria-multiselectable","true",1,"k-column-list"],["class","k-column-list-item","role","option",3,"kendoColumnMenuChooserItemChecked",4,"ngFor","ngForOf"],[3,"ngClass",4,"ngIf"],["role","option",1,"k-column-list-item",3,"kendoColumnMenuChooserItemChecked"],[3,"inputAttributes","tabindex","checkedState","disabled"],[1,"k-checkbox-label"],[3,"ngClass"],["kendoButton","","type","button","icon","check","themeColor","primary",3,"click","keydown.enter","keydown.space","svgIcon"],["kendoButton","","type","button","icon","reset",3,"keydown.tab","click","keydown.enter","keydown.space","svgIcon"]],template:function(i,s){1&i&&(e.j41(0,"div",2),e.DNE(1,IM,4,8,"label",3),e.k0s(),e.DNE(2,DM,7,5,"div",4)),2&i&&(e.BMQ("aria-label",s.ariaLabel),e.R7$(),e.Y8G("ngForOf",s.columns),e.R7$(),e.Y8G("ngIf",!s.autoSync&&s.showActions))},dependencies:[w.pM,Mm,w.bT,w.YU,re.$W,Te.Qp],encapsulation:2})}return n})();const ZC={edit:{svgIcon:ne.rDm,icon:"pencil"},save:{svgIcon:ne.DLl,icon:"save"},cancel:{svgIcon:ne.YAr,icon:"cancel"},remove:{svgIcon:ne.ITL,icon:"trash"},add:{svgIcon:ne.WWM,icon:"plus"},excelExport:{svgIcon:ne.J1$,icon:"file-excel"},pdfExport:{svgIcon:ne.USf,icon:"file-pdf"},columns:{svgIcon:ne.ZUr,icon:"columns"},aiAssistant:{svgIcon:ne.XsT,icon:"sparkles"}};let Cd=(()=>{class n{host;commandName;ctx;zone;cdr;clickSub=new He.yU;constructor(t,i,s,r,l){this.host=t,this.commandName=i,this.ctx=s,this.zone=r,this.cdr=l}ngOnInit(){this.clickSub=this.host.click.subscribe(s=>this.onClick(s));const t=(0,E.Wo)(this.host.toolbarOptions.icon)&&""!==this.host.toolbarOptions.icon&&(0,E.Wo)(this.host.overflowOptions.icon)&&""!==this.host.overflowOptions.icon,i=(0,E.Wo)(this.host.toolbarOptions.svgIcon)&&(0,E.Wo)(this.host.overflowOptions.svgIcon);t||(this.host.icon=ZC[this.commandName].icon),i||(this.host.svgIcon=ZC[this.commandName].svgIcon)}ngAfterViewInit(){(0,E.Wo)(this.host.text)||this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.host.text=this.ctx.localization.get("columns"===this.commandName?"columns":`${this.commandName}ToolbarToolText`),this.zone.run(()=>{this.cdr.markForCheck()})})})}ngOnDestroy(){this.clickSub.unsubscribe()}onClick(t){}get buttonElement(){return this.host.getButton()}static \u0275fac=function(i){return new(i||n)(e.rXU(Ls),e.rXU("command"),e.rXU(Me),e.rXU(e.SKi),e.rXU(e.gRc))};static \u0275dir=e.FsC({type:n})}return n})(),nl=(()=>{class n{service;hostClass=!0;ngOnInit(){if((0,e.naY)()&&!this.service)throw new Error(ud_serviceInput)}close(){this.service.close()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-column-menu-item-base"]],hostVars:2,hostBindings:function(i,s){2&i&&e.AVh("k-columnmenu-item-wrapper",s.hostClass)},inputs:{service:"service"},decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})();const ym=(n,o)=>!1!==n.filter&&o.field&&o.filterable,Nm=(n,o)=>!1!==n.sort&&o.field&&o.sortable,Gm=(n,o)=>n.lock&&o.lockable&&!(o.parent&&!o.parent.isSpanColumn),tS=(n,o)=>n.stick&&o.stickable&&!(o.parent&&!o.parent.isSpanColumn),iS=(n,o)=>n.setColumnPosition&&(o.stickable||o.lockable)&&!(o.parent&&!o.parent.isSpanColumn),Am=n=>!1!==n.columnChooser,Pm=n=>n.autoSizeColumn,Fm=n=>n.autoSizeAllColumns,nS=(n,o,t)=>{t?n.autoFitColumn(t):n.autoFitColumns(),o.close()};let yl=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridColumnMenuItemContentTemplate",""]],standalone:!0})}return n})();const FL={allowUnsort:!0,mode:"single",showIndexes:!0,initialDirection:"asc",multiSortKey:"none"},Nl=(...n)=>Object.assign({},FL,...n);let Rr=(()=>{class n{ngZone;ctx;adaptiveGridService;element;sortAscSmallIcon=ne.uEm;sortDescSmallIcon=ne.wan;itemClick=new e.bkB;expand=new e.bkB;collapse=new e.bkB;icon;svgIcon;indicatorIcon;text;selected;disabled;expanded;focused;service;column;contentTemplate;contentState="collapsed";contentId;chevronUpIcon=ne.mAq;chevronDownIcon=ne.brG;chevronRightIcon=ne.V9O;filterIcon=ne.Sj_;get hasFilters(){return bc(this.ctx.grid.filter,this.column.field).length>0}get expandedIcon(){return this.ctx.grid.isActionSheetExpanded?"arrow-chevron-right":this.expanded?"arrow-chevron-up":"arrow-chevron-down"}get expandedSvgIcon(){return this.ctx.grid.isActionSheetExpanded?this.chevronRightIcon:this.expanded?this.chevronUpIcon:this.chevronDownIcon}constructor(t,i,s,r){this.ngZone=t,this.ctx=i,this.adaptiveGridService=s,this.element=r}ngAfterViewInit(){this.ngZone.onStable.pipe((0,st.s)(1)).subscribe(()=>{this.contentTemplate&&(this.contentId=`k-${(0,E.Os)()}`)})}ngOnChanges(t){t.expanded&&this.updateContentState()}sortDescriptor(t){return this.ctx.grid.sort.find(i=>i.field===t)||{field:t}}showSortNumbering(t){const{showIndexes:i}=Nl(this.ctx.grid.sortable);return i&&this.ctx.grid.sort&&this.ctx.grid.sort.filter(({dir:s})=>Oe(s)).length>1&&this.sortOrder(t.field)>0}sortOrder(t){return this.ctx.grid.sort.filter(({dir:i})=>Oe(i)).findIndex(i=>i.field===t)+1}onClick(t){this.itemClick.emit(t),this.contentTemplate&&(this.ctx.grid.isActionSheetExpanded||(this.expanded=!this.expanded,this.updateContentState()),this.expanded?this.expand.emit():this.collapse.emit())}updateContentState(){this.contentState=this.expanded?"expanded":"collapsed"}static \u0275fac=function(i){return new(i||n)(e.rXU(e.SKi),e.rXU(Me),e.rXU(Ys),e.rXU(e.aKT))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-columnmenu-item"]],contentQueries:function(i,s,r){if(1&i&&e.wni(r,yl,5),2&i){let l;e.mGM(l=e.lsd())&&(s.contentTemplate=l.first)}},inputs:{icon:"icon",svgIcon:"svgIcon",indicatorIcon:"indicatorIcon",text:"text",selected:"selected",disabled:"disabled",expanded:"expanded",focused:"focused",service:"service",column:"column"},outputs:{itemClick:"itemClick",expand:"expand",collapse:"collapse"},standalone:!0,features:[e.OA$,e.aNF],decls:3,vars:2,consts:[["content",""],["class","k-expander",4,"ngIf","ngIfElse"],[1,"k-expander"],[3,"ngTemplateOutlet"],["role","button",1,"k-columnmenu-item",3,"click","keydown.enter"],[3,"name","svgIcon",4,"ngIf"],["class","k-columnmenu-indicators",4,"ngIf"],["class","k-columnmenu-indicators","name","filter",3,"svgIcon",4,"ngIf"],["class","k-spacer",4,"ngIf"],["class","k-expander-indicator",4,"ngIf"],["class","k-columnmenu-item-content",3,"overflow",4,"ngIf"],[3,"name","svgIcon"],[1,"k-columnmenu-indicators"],["class","k-sort-index",4,"ngIf"],[1,"k-sort-index"],["name","filter",1,"k-columnmenu-indicators",3,"svgIcon"],[1,"k-spacer"],[1,"k-expander-indicator"],[1,"k-columnmenu-item-content"]],template:function(i,s){if(1&i&&e.DNE(0,xM,2,1,"div",1)(1,FM,8,15,"ng-template",null,0,e.C5r),2&i){const r=e.sdS(2);e.Y8G("ngIf",s.contentTemplate)("ngIfElse",r)}},dependencies:[ct.QK,w.bT,w.T3],encapsulation:2,data:{animation:[(0,ir.hZ)("state",[(0,ir.wk)("collapsed",(0,ir.iF)({display:"none"})),(0,ir.wk)("expanded",(0,ir.iF)({display:"block"})),(0,ir.kY)("collapsed => expanded",[(0,ir.iF)({height:"0px",display:"block"}),(0,ir.i0)("100ms ease-in",(0,ir.iF)({height:"*"}))]),(0,ir.kY)("expanded => collapsed",[(0,ir.iF)({height:"*"}),(0,ir.i0)("100ms ease-in",(0,ir.iF)({height:"0px"}))])])]}})}return n})(),Yu=(()=>{class n extends nl{ctx;displayInlineFlexIcon=ne._h1;constructor(t){super(),this.ctx=t}ngOnInit(){this.ctx.grid.columnMenuTemplate&&this.ctx.grid.virtualColumns&&(0,e.naY)()&&console.warn(ud_autoSizeAllColumns)}autoSizeAllColumns(){nS(this.ctx.grid,this.service)}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-columnmenu-autosize-all-columns"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:1,consts:[["icon","display-inline-flex",3,"text","svgIcon","itemClick",4,"ngIf"],["icon","display-inline-flex",3,"itemClick","text","svgIcon"]],template:function(i,s){1&i&&e.DNE(0,BM,1,2,"kendo-grid-columnmenu-item",0),2&i&&e.Y8G("ngIf",!s.ctx.grid.virtualColumns)},dependencies:[w.bT,Rr],encapsulation:2})}return n})(),qu=(()=>{class n extends nl{ctx;column;maxWidthIcon=ne.WH0;constructor(t){super(),this.ctx=t}ngOnInit(){this.ctx.grid.columnMenuTemplate&&this.ctx.grid.virtualColumns&&(0,e.naY)()&&console.warn(ud_autoSizeColumn)}autoSizeColumn(){nS(this.ctx.grid,this.service,this.column)}static \u0275fac=function(i){return new(i||n)(e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-columnmenu-autosize-column"]],inputs:{column:"column"},standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:1,consts:[["class","k-grid-columnmenu-autosize-column","icon","max-width",3,"text","svgIcon","itemClick",4,"ngIf"],["icon","max-width",1,"k-grid-columnmenu-autosize-column",3,"itemClick","text","svgIcon"]],template:function(i,s){1&i&&e.DNE(0,LM,1,2,"kendo-grid-columnmenu-item",0),2&i&&e.Y8G("ngIf",!s.ctx.grid.virtualColumns)},dependencies:[w.bT,Rr],encapsulation:2})}return n})(),Sd=(()=>{class n extends nl{ctx;columnInfoService;changeDetector;hostElement;expand=new e.bkB;collapse=new e.bkB;expanded=!1;isLast=!1;actionsClass="k-actions k-actions-stretched k-actions-horizontal";get columns(){return this.columnInfoService.leafNamedColumns}columnsIcon=ne.ZUr;constructor(t,i,s,r){super(),this.ctx=t,this.columnInfoService=i,this.changeDetector=s,this.hostElement=r}onApply(t){this.close(),t.length&&(this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(t))}onCollapse(){this.expanded=!1,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.hostElement.nativeElement.querySelector(".k-columnmenu-item")),this.collapse.emit()}onExpand(){this.expanded=!0,this.expand.emit()}static \u0275fac=function(i){return new(i||n)(e.rXU(Me),e.rXU(Qn),e.rXU(e.gRc),e.rXU(e.aKT))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-columnmenu-chooser"]],inputs:{expanded:"expanded",isLast:"isLast"},outputs:{expand:"expand",collapse:"collapse"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[["icon","columns",3,"collapse","expand","text","svgIcon","expanded"],["kendoGridColumnMenuItemContentTemplate",""],[3,"apply","applyText","resetText","ariaLabel","columns","autoSync","allowHideAll","actionsClass","isLast","isExpanded","service"]],template:function(i,s){1&i&&(e.j41(0,"kendo-grid-columnmenu-item",0),e.bIt("collapse",function(){return s.onCollapse()})("expand",function(){return s.onExpand()}),e.DNE(1,UM,1,10,"ng-template",1),e.k0s()),2&i&&e.Y8G("text",s.ctx.localization.get("columns"))("svgIcon",s.columnsIcon)("expanded",s.expanded)},dependencies:[Rr,yl,Rc],encapsulation:2})}return n})(),bd=(()=>{class n extends nl{ctx;columnInfoService;changeDetector;stickIcon=ne.M6C;unstickIcon=ne.zEH;constructor(t,i,s){super(),this.ctx=t,this.columnInfoService=i,this.changeDetector=s}get text(){return this.ctx.localization.get(this.sticky?"unstick":"stick")}get icon(){return this.sticky?"unstick":"stick"}get svgIcon(){return this.sticky?this.unstickIcon:this.stickIcon}get disabled(){return!this.sticky&&this.columnInfoService.unlockedRootCount<2}toggleColumn(){this.toggleHierarchy(!this.sticky),this.close(),this.changeDetector.markForCheck()}toggleHierarchy(t){let i=this.service.column;for(;i.parent;)i=i.parent;const s=[i],r=[];for(;s.length;){const l=s.shift();l.sticky=t,r.push(l),l.hasChildren&&s.push(...l.childrenArray)}this.columnInfoService.changeStuck(r)}get sticky(){return this.service.column.sticky}static \u0275fac=function(i){return new(i||n)(e.rXU(Me),e.rXU(Qn),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-columnmenu-stick"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:4,consts:[[3,"itemClick","text","icon","svgIcon","disabled"]],template:function(i,s){1&i&&(e.j41(0,"kendo-grid-columnmenu-item",0),e.bIt("itemClick",function(){return s.toggleColumn()}),e.k0s()),2&i&&e.Y8G("text",s.text)("icon",s.icon)("svgIcon",s.svgIcon)("disabled",s.disabled)},dependencies:[Rr],encapsulation:2})}return n})(),Ed=(()=>{class n extends nl{ctx;columnInfoService;changeDetector;constructor(t,i,s){super(),this.ctx=t,this.columnInfoService=i,this.changeDetector=s}get text(){return this.ctx.localization.get(this.locked?"unlock":"lock")}get icon(){return this.locked?"unlock":"lock"}unlockIcon=ne.qqX;lockIcon=ne.hzW;get svgIcon(){return this.locked?this.unlockIcon:this.lockIcon}get disabled(){return!this.locked&&this.columnInfoService.unlockedRootCount<2}toggleColumn(){this.toggleHierarchy(!this.locked),this.close(),this.changeDetector.markForCheck()}toggleHierarchy(t){let i=this.service.column;for(;i.parent;)i=i.parent;const s=[i],r=[];for(;s.length;){const l=s.shift();l.locked=t,r.push(l),l.hasChildren&&s.push(...l.childrenArray)}this.columnInfoService.changeLocked(r)}get locked(){return this.service.column.locked}static \u0275fac=function(i){return new(i||n)(e.rXU(Me),e.rXU(Qn),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-columnmenu-lock"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:4,consts:[[3,"itemClick","text","icon","svgIcon","disabled"]],template:function(i,s){1&i&&(e.j41(0,"kendo-grid-columnmenu-item",0),e.bIt("itemClick",function(){return s.toggleColumn()}),e.k0s()),2&i&&e.Y8G("text",s.text)("icon",s.icon)("svgIcon",s.svgIcon)("disabled",s.disabled)},dependencies:[Rr],encapsulation:2})}return n})(),kd=(()=>{class n extends nl{ctx;hostElement;expand=new e.bkB;collapse=new e.bkB;expanded=!1;showLock;showStick;actionsClass="k-actions";set isLast(t){this.service.menuTabbingService.lastFocusable=this.getLastFocusableItem(),this._isLast=t}get isLast(){return this._isLast}setColumnPositionIcon=ne.n2C;_isLast=!1;constructor(t,i){super(),this.ctx=t,this.hostElement=i}onTab(t,i){this.isLast&&i&&(t.preventDefault(),t.stopImmediatePropagation(),this.service&&this.service.menuTabbingService.firstFocusable.focus())}onCollapse(){this.expanded=!1,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.getLastFocusableItem()),this.collapse.emit()}onExpand(){this.expanded=!0,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.getLastFocusableItem()),this.expand.emit()}getLastFocusableItem(){const t=this.hostElement.nativeElement.querySelectorAll(".k-columnmenu-item");return t[this.expanded?t.length-1:0]}static \u0275fac=function(i){return new(i||n)(e.rXU(Me),e.rXU(e.aKT))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-columnmenu-position"]],inputs:{expanded:"expanded",showLock:"showLock",showStick:"showStick",isLast:"isLast"},outputs:{expand:"expand",collapse:"collapse"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[["icon","set-column-position",3,"keydown.tab","collapse","expand","text","svgIcon","expanded"],["kendoGridColumnMenuItemContentTemplate",""],[3,"service","keydown.tab",4,"ngIf"],[3,"keydown.tab","service"]],template:function(i,s){1&i&&(e.j41(0,"kendo-grid-columnmenu-item",0),e.bIt("keydown.tab",function(l){return s.onTab(l,!s.expanded)})("collapse",function(){return s.onCollapse()})("expand",function(){return s.onExpand()}),e.DNE(1,KM,2,2,"ng-template",1),e.k0s()),2&i&&e.Y8G("text",s.ctx.localization.get("setColumnPosition"))("svgIcon",s.setColumnPositionIcon)("expanded",s.expanded)},dependencies:[Rr,yl,w.bT,Ed,bd],encapsulation:2})}return n})(),wc=(()=>{class n extends nl{ctx;hostElement;expand=new e.bkB;collapse=new e.bkB;expanded=!1;isLast=!1;actionsClass="k-actions k-actions-stretched k-actions-horizontal";filterIcon=ne.Sj_;constructor(t,i){super(),this.ctx=t,this.hostElement=i}onCollapse(){this.expanded=!1,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.hostElement.nativeElement.querySelector(".k-columnmenu-item")),this.collapse.emit()}onExpand(){this.expanded=!0,this.expand.emit()}static \u0275fac=function(i){return new(i||n)(e.rXU(Me),e.rXU(e.aKT))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-columnmenu-filter"]],inputs:{expanded:"expanded",isLast:"isLast"},outputs:{expand:"expand",collapse:"collapse"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[["icon","filter",3,"collapse","expand","text","svgIcon","expanded"],["kendoGridColumnMenuItemContentTemplate",""],[3,"keydown.shift.tab","close","column","menuTabbingService","filter","actionsClass","isLast","isExpanded"]],template:function(i,s){1&i&&(e.j41(0,"kendo-grid-columnmenu-item",0),e.bIt("collapse",function(){return s.onCollapse()})("expand",function(){return s.onExpand()}),e.DNE(1,$M,1,6,"ng-template",1),e.k0s()),2&i&&e.Y8G("text",s.ctx.localization.get("filter"))("svgIcon",s.filterIcon)("expanded",s.expanded)},dependencies:[Rr,yl,Ml],encapsulation:2})}return n})(),Rd=(()=>{class n{hostElement;renderer;ngZone;cdr;ctx;menuItemComponent;firstFocusableElement;lastFocusableElement;set isFirst(t){if(t){const i=this.columnMenuItems[0];this.menuItemComponent.service.menuTabbingService.firstFocusable=i,this.ngZone.runOutsideAngular(()=>{const s=this.renderer.listen(i,"keydown",this.onTab);this.subs.add(s)})}this._isFirst=t}get isFirst(){return this._isFirst}set isLast(t){if(this.columnMenuItems){if(t){const i=this.getLastColumnMenuItem();this.menuItemComponent.service.menuTabbingService.lastFocusable=i,this.ngZone.runOutsideAngular(()=>{const s=this.renderer.listen(i,"keydown",this.onTab);this.subs.add(s)}),this.isExpandableItem()&&(this.menuItemComponent.isLast=!0,this.ctx.grid.isActionSheetExpanded&&this.cdr.detectChanges())}this._isLast=t}}get isLast(){return this._isLast}_isFirst=!1;_isLast=!1;columnMenuItems;subs=new He.yU;constructor(t,i,s,r,l){this.hostElement=t,this.renderer=i,this.ngZone=s,this.cdr=r,this.ctx=l}ngAfterViewInit(){this.columnMenuItems=this.hostElement.nativeElement.querySelectorAll(".k-columnmenu-item"),[].slice.apply(this.columnMenuItems).forEach(t=>this.renderer.setAttribute(t,"tabindex","0")),this.menuItemComponent instanceof wc&&(this.menuItemComponent.service.menuTabbingService.isColumnMenu=!0),this.menuItemComponent.service?.columnMenuContainer?.templateMenuItems.push(this)}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}onTab=t=>{t.code===E.D$.Tab&&(this.isFirst&&t.shiftKey&&t.target===this.columnMenuItems[0]&&(t.preventDefault(),this.menuItemComponent.service.menuTabbingService.lastFocusable.focus()),this.isLast&&!t.shiftKey)&&this.getLastColumnMenuItem()===t.target&&!this.menuItemComponent.expanded&&(t.preventDefault(),this.menuItemComponent.service.menuTabbingService.firstFocusable.focus())};getLastColumnMenuItem(){return 1===this.columnMenuItems.length?this.columnMenuItems[0]:this.columnMenuItems[1]}isExpandableItem(){return this.menuItemComponent instanceof wc||this.menuItemComponent instanceof Sd||this.menuItemComponent instanceof kd}static \u0275fac=function(i){return new(i||n)(e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(Me))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridColumnMenuItem",""]],inputs:{menuItemComponent:[e.Mj6.None,"kendoGridColumnMenuItem","menuItemComponent"]},standalone:!0})}return n})(),Ju=(()=>{class n{service;ngZone;columnMenuItems;templateMenuItems=[];constructor(t,i){this.service=t,this.ngZone=i,t.columnMenuContainer=this}ngAfterViewInit(){if(this.columnMenuItems.length)this.columnMenuItems.first.isFirst=!0,this.columnMenuItems.last.isLast=!0;else{if(!this.templateMenuItems.length)return;this.templateMenuItems[0].isFirst=!0,this.templateMenuItems[this.templateMenuItems.length-1].isLast=!0}this.ngZone.onStable.pipe((0,st.s)(1)).subscribe(()=>this.service.menuTabbingService.firstFocusable?.focus())}static \u0275fac=function(i){return new(i||n)(e.rXU(vd),e.rXU(e.SKi))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-columnmenu-container"]],contentQueries:function(i,s,r){if(1&i&&e.wni(r,Rd,5),2&i){let l;e.mGM(l=e.lsd())&&(s.columnMenuItems=l)}},standalone:!0,features:[e.aNF],ngContentSelectors:ha,decls:1,vars:0,template:function(i,s){1&i&&(e.NAR(),e.SdG(0))},encapsulation:2})}return n})();class Ic{changes=new me.B;sort(o){this.changes.next(o)}}let Qu=(()=>{class n extends nl{ctx;sortService;renderer;sortAscSmallIcon=ne.uEm;sortDescSmallIcon=ne.wan;constructor(t,i,s){super(),this.ctx=t,this.sortService=i,this.renderer=s}get sortedAsc(){const t=this.descriptor;return t&&(!t.dir||"asc"===t.dir)}get sortedDesc(){const t=this.descriptor;return t&&"desc"===t.dir}toggleSort(t){const i=this.service.column.field,{mode:s,allowUnsort:r}=Nl(this.service.sortable),l=this.descriptor,u="multiple"===s?this.service.sort.filter(f=>f.field!==i):[];if(l&&l.dir===t){if(!r)return}else u.push({field:i,dir:t});this.sortService.sort(u),this.close()}get descriptor(){return[].concat(this.service.sort||[]).find(t=>t.field===this.service.column.field)}static \u0275fac=function(i){return new(i||n)(e.rXU(Me),e.rXU(Ic),e.rXU(e.sFG))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-columnmenu-sort"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:6,consts:[["icon","sort-asc-small",3,"itemClick","text","svgIcon","selected"],["icon","sort-desc-small",3,"itemClick","text","svgIcon","selected"]],template:function(i,s){1&i&&(e.j41(0,"kendo-grid-columnmenu-item",0),e.bIt("itemClick",function(){return s.toggleSort("asc")}),e.k0s(),e.j41(1,"kendo-grid-columnmenu-item",1),e.bIt("itemClick",function(){return s.toggleSort("desc")}),e.k0s()),2&i&&(e.Y8G("text",s.ctx.localization.get("sortAscending"))("svgIcon",s.sortAscSmallIcon)("selected",s.sortedAsc),e.R7$(),e.Y8G("text",s.ctx.localization.get("sortDescending"))("svgIcon",s.sortDescSmallIcon)("selected",s.sortedDesc))},dependencies:[Rr],encapsulation:2})}return n})(),LL=0,Zu=(()=>{class n{navigationService;popupService;service;ctx;renderer;cdr;columnInfoService;idService;adaptiveGridService;standalone=!0;column;settings={};sort;filter;sortable=!0;columnMenuTemplate;tabIndex="-1";anchor;template;defaultTemplate;tabbedInterfaceTemplate;tabStrip;columnsIcon=ne.ZUr;actionsClass="k-actions";slidersIcon=ne.MBv;filterIcon=ne.Sj_;expandedFilter=!1;expandedColumns=!1;expandedPosition=!1;get showGeneralTab(){return this.hasSort||this.hasLock||this.hasStick||this.hasPosition||this.hasAutoSizeColumn||this.hasAutoSizeAllColumns}moreVerticalIcon=ne.DeK;popupRef;closeSubscription;popupSubs;constructor(t,i,s,r,l,u,f,C,T){this.navigationService=t,this.popupService=i,this.service=s,this.ctx=r,this.renderer=l,this.cdr=u,this.columnInfoService=f,this.idService=C,this.adaptiveGridService=T,this.closeSubscription=s.closeMenu.subscribe(this.close.bind(this,!0))}get isActive(){return this.hasFilter&&bc(this.filter,this.column.field).length>0||!this.sortable&&this.hasSort&&this.sort.find(t=>t.field===this.column.field)}get hasFilter(){return ym(this.settings,this.column)}get isNavigable(){return this.navigationService.tableEnabled}get hasSort(){return Nm(this.settings,this.column)}get hasColumnChooser(){return Am(this.settings)}onApply(t){this.close(!0),t.length&&(this.cdr.markForCheck(),this.columnInfoService.changeVisibility(t))}get hasAutoSizeColumn(){return Pm(this.settings)}get hasAutoSizeAllColumns(){return Fm(this.settings)}get hasLock(){return Gm(this.settings,this.column)}get hasStick(){return tS(this.settings,this.column)}get hasPosition(){return iS(this.settings,this.column)}get columns(){return this.columnInfoService.leafNamedColumns}ngAfterViewInit(){this.ctx.grid.virtualColumns&&(0,e.naY)()&&(this.settings.autoSizeAllColumns&&(this.settings.autoSizeAllColumns=!1,console.warn(ud_autoSizeAllColumns)),this.settings.autoSizeColumn&&(this.settings.autoSizeColumn=!1,console.warn(ud_autoSizeColumn))),this.service.menuTabbingService.isTabbedInterface="tabbed"===this.settings.view}ngOnChanges(){this.service.column=this.column,this.service.sort=this.sort,this.service.filter=this.filter,this.service.sortable=this.sortable}ngOnDestroy(){this.close(),this.closeSubscription.unsubscribe(),this.popupSubs?.unsubscribe(),this.closeSubscription=this.popupSubs=null}toggle(t,i,s){if(t&&(t.preventDefault(),t instanceof KeyboardEvent&&t.stopImmediatePropagation()),"auto"===this.ctx.grid.adaptiveMode&&"large"!==this.adaptiveGridService.windowSize)this.ctx.grid.isActionSheetExpanded||(this.adaptiveGridService.viewType="columnMenu",this.adaptiveGridService.columns=this.columns,this.adaptiveGridService.columnMenuService=this.service,this.adaptiveGridService.column=this.column,this.ctx.grid.adaptiveRenderer.actionSheet.toggle(!0));else{this.expandedFilter=this.getExpandedState(this.settings.filter),this.expandedColumns=this.getExpandedState(this.settings.columnChooser),this.expandedPosition=this.getExpandedState(this.settings.setColumnPosition),this.popupRef=this.popupService.open(i,s,this.popupRef,"k-grid-columnmenu-popup k-column-menu");const r=this.isNavigable?i.closest(".k-table-th"):i;if(this.popupRef){this.popupSubs?.unsubscribe(),this.popupSubs=this.popupRef.popup.instance.anchorViewportLeave.subscribe(()=>{this.popupSubs?.unsubscribe(),this.popupSubs=null,this.close(!0),this.updateAria(r)}),this.popupSubs.add(()=>this.popupRef.popup.instance.close.subscribe(()=>{this.popupSubs?.unsubscribe(),this.popupSubs=this.popupRef=null,this.updateAria(r)}));const l=this.popupRef.popupElement.querySelector(".k-grid-columnmenu-popup");if(l){const u=(n=>`${this.idService?.gridId()}-column-menu-${LL++}`)();this.renderer.setAttribute(l,"id",u),this.renderer.setAttribute(l,"role","dialog"),this.renderer.setAttribute(l,"aria-label",this.columnMenuTitle),r&&this.renderer.setAttribute(r,"aria-controls",u),r&&this.renderer.setAttribute(r,"aria-expanded","true")}"tabbed"===this.settings.view&&(this.renderer.addClass(l,"k-column-menu-tabbed"),this.renderer.addClass(l,"k-column-menu"),this.cdr.detectChanges(),this.tabStrip?.selectTab(0))}else this.focusRoot()}}close(t=!1){"auto"===this.ctx.grid.adaptiveMode&&"large"!==this.adaptiveGridService.windowSize?this.ctx.grid.adaptiveRenderer.actionSheet.toggle(!1):(this.popupService.destroy(),this.popupRef=null,this.cdr.markForCheck()),t&&this.focusRoot()}get columnMenuTitle(){const t=this.ctx.localization.get("columnMenu")||"";return(0,E.DG)(t,"columnName",this.column.title||this.column.field)}getExpandedState(t){return"object"==typeof t&&t.expanded}updateAria(t){t&&this.renderer.removeAttribute(t,"aria-controls"),t&&this.renderer.setAttribute(t,"aria-expanded","false")}focusRoot(){this.isNavigable?this.navigationService.focusCell(0,this.column.leafIndex):this.anchor.nativeElement.focus()}static \u0275fac=function(i){return new(i||n)(e.rXU(ar),e.rXU(vc),e.rXU(vd),e.rXU(Me),e.rXU(e.sFG),e.rXU(e.gRc),e.rXU(Qn),e.rXU(Ro,8),e.rXU(Ys))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-column-menu"]],viewQuery:function(i,s){if(1&i&&(e.GBs(tm,7),e.GBs(Mv,7,e.C4Q),e.GBs(Dv,7,e.C4Q),e.GBs(jM,7,e.C4Q),e.GBs(la.z$,5)),2&i){let r;e.mGM(r=e.lsd())&&(s.anchor=r.first),e.mGM(r=e.lsd())&&(s.template=r.first),e.mGM(r=e.lsd())&&(s.defaultTemplate=r.first),e.mGM(r=e.lsd())&&(s.tabbedInterfaceTemplate=r.first),e.mGM(r=e.lsd())&&(s.tabStrip=r.first)}},hostVars:2,hostBindings:function(i,s){2&i&&e.AVh("k-grid-column-menu-standalone",s.standalone)},inputs:{standalone:"standalone",column:"column",settings:"settings",sort:"sort",filter:"filter",sortable:"sortable",columnMenuTemplate:"columnMenuTemplate",tabIndex:"tabIndex"},standalone:!0,features:[e.Jv_([vd,_c]),e.OA$,e.aNF],decls:9,vars:8,consts:[["anchor",""],["template",""],["defaultTemplate",""],["tabbedInterfaceTemplate",""],["sortItem",""],["lockItem",""],["stickItem",""],["positionItem",""],["chooserItem",""],["autoSizeColumnItem",""],["autoSizeAllColumnsItem",""],["filterItem",""],["tabstrip",""],["href","#",1,"k-grid-header-menu","k-grid-column-menu",3,"click","keydown.enter","ngClass","tabindex"],["name","more-vertical",3,"svgIcon"],[3,"keydown.escape","keydown.enter"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"kendoGridColumnMenuItem","service",4,"ngIf"],[3,"showLock","showStick","kendoGridColumnMenuItem","service","expanded",4,"ngIf"],["class","k-separator",3,"borderColor",4,"ngIf"],[3,"kendoGridColumnMenuItem","service","expanded",4,"ngIf"],[3,"service","kendoGridColumnMenuItem","column",4,"ngIf"],[3,"service","kendoGridColumnMenuItem",4,"ngIf"],[3,"kendoGridColumnMenuItem","service"],[3,"showLock","showStick","kendoGridColumnMenuItem","service","expanded"],[1,"k-separator"],[3,"kendoGridColumnMenuItem","service","expanded"],[3,"service","kendoGridColumnMenuItem","column"],[3,"service","kendoGridColumnMenuItem"],[3,"keydown.escape"],[4,"ngIf"],["kendoTabTitle",""],["kendoTabContent",""],["name","filter",3,"svgIcon"],[3,"keydown.shift.tab","close","column","menuTabbingService","filter","actionsClass"],["name","sliders",3,"svgIcon"],["name","columns",3,"svgIcon"],[3,"apply","applyText","resetText","columns","autoSync","allowHideAll","actionsClass","service"]],template:function(i,s){if(1&i){const r=e.RV6();e.j41(0,"a",13,0),e.bIt("click",function(u){e.eBV(r);const f=e.sdS(1),C=e.sdS(4);return e.Njj(s.toggle(u,f,C))})("keydown.enter",function(u){return e.eBV(r),e.Njj(u.stopImmediatePropagation())}),e.nrm(2,"kendo-icon-wrapper",14),e.k0s(),e.DNE(3,WM,2,5,"ng-template",null,1,e.C5r)(5,oy,11,10,"ng-template",null,2,e.C5r)(7,Ry,5,3,"ng-template",null,3,e.C5r)}2&i&&(e.Y8G("ngClass",e.eq3(6,HM,s.isActive))("tabindex",s.tabIndex),e.BMQ("title",s.columnMenuTitle)("aria-expanded",!!s.isNavigable&&void 0)("aria-haspopup",s.isNavigable?void 0:"dialog"),e.R7$(2),e.Y8G("svgIcon",s.moreVerticalIcon))},dependencies:[w.YU,ct.QK,Ju,w.T3,w.bT,Qu,Rd,Ed,bd,kd,Sd,qu,Yu,wc,la.z$,la.sl,la.XY,la.Ai,Ml,Rc],encapsulation:2})}return n})(),wd=(()=>{class n{saveToExcel=new e.bkB;exportClick=new e.bkB;save(t){if(0===this.saveToExcel.observers.length){if((0,e.naY)())throw new Error(Yn_requiredModule("excel","ExcelModule","<kendo-grid-excel>"))}else this.saveToExcel.emit(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();let Lm=(()=>{class n{scroll=!1;static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),Dc=(()=>{class n{savePDF=new e.bkB;drawPDF=new e.bkB;exportClick=new e.bkB;dataChanged=new e.bkB;exporting;save(t){this.emitEvent(this.savePDF,t)}draw(t,i){this.emitEvent(this.drawPDF,{component:t,promise:i})}emitEvent(t,i){if(0===t.observers.length){if((0,e.naY)())throw new Error(Yn_requiredModule("PDF","PDFModule","<kendo-grid-pdf>"))}else t.emit(i)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();as("KENDO-GRID-LIST"),as("TABLE");const Id=n=>!0===n||"string"==typeof n&&n.indexOf("row")>-1;let Km=(()=>{class n{changes=new e.bkB;reorder(t){this.changes.emit(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();class pS extends Rl{column;newIndex;oldIndex;constructor({column:o,newIndex:t,oldIndex:i}){super(),this.column=o,this.newIndex=t,this.oldIndex=i}}const $m=n=>n.nativeElement.parentElement.getBoundingClientRect().width,jm=n=>n.nativeElement.parentElement.nextElementSibling?.getBoundingClientRect().width,mS=n=>fa(n).filter(o=>!o.isColumnGroup),gS=n=>!(!n.parent||!n.parent.isSpanColumn);let fS=(()=>{class n{draggable;element;service;zone;cdr;ctx;columnInfoService;isLast;columns=[];column;get visible(){return this.isConstrainedMode&&(this.isLast||this.isLastInGroup(this.column))?"none":this.column.resizable?"block":"none"}get leftStyle(){return $o(this.rtl)?0:null}get rightStyle(){return $o(this.rtl)?null:0}get isConstrainedMode(){return"constrained"===this.ctx.grid?.resizable&&!this.service.isShiftPressed||(!0===this.ctx.grid?.resizable||"unconstrained"===this.ctx.grid?.resizable)&&this.service.isShiftPressed}subscriptions=new He.yU;rtl=!1;totalChildrenSum=0;childrenColumns=[];minWidthTotal=0;foundColumn;autoFit(){this.service.autoFitResize=!0;const t=mS(this.columns),i=pd([this.column]).filter(r=>$o(r.resizable)),s=i.map(r=>{const l=gS(r),u=!!l&&r.parent.children.last===r,f=((n,o)=>{let t=0,i=0,s=0;for(;t<o.length;){const r=o[t],l=gS(r);if(r===n)break;i--<=0&&l&&(i=r.parent.children.length-1,s+=i),t++}return t-s})(r,t);return{column:r,headerIndex:this.columnsForLevel(r.level).indexOf(r),index:f,isLastInSpan:u,isParentSpan:l,level:r.level}});i.forEach(r=>r.width=0),this.service.measureColumns(s)}constructor(t,i,s,r,l,u,f){this.draggable=t,this.element=i,this.service=s,this.zone=r,this.cdr=l,this.ctx=u,this.columnInfoService=f}ngOnInit(){ld(this.column.width)&&(this.column.implicitWidth=$m(this.element));const t=this.service.changes.pipe((0,We.p)(()=>this.column.resizable),(0,We.p)(i=>Oe(i.columns.find(s=>s===this.column))));this.subscriptions.add(t.pipe((0,We.p)(i=>"start"===i.type)).subscribe(this.initState.bind(this))),this.subscriptions.add(t.pipe((0,We.p)(i=>"resizeColumn"===i.type)).subscribe(this.resize.bind(this))),this.subscriptions.add(this.service.changes.pipe((0,We.p)(i=>"start"===i.type),(0,We.p)(this.shouldUpdate.bind(this)),(0,st.s)(1)).subscribe(this.initColumnWidth.bind(this))),this.subscriptions.add(this.zone.runOutsideAngular(()=>this.draggable.kendoPress.pipe((0,Tt.M)(this.stopPropagation),(0,Tt.M)(()=>this.service.start(this.column)),(0,Dt.n)((n=>o=>(0,Je.of)(o).pipe((0,Bt.c)(150),(0,ii.Q)(n)))(this.draggable.kendoRelease)),(0,Dt.n)(((n,o)=>t=>o.kendoDrag.pipe((0,ii.Q)(o.kendoRelease.pipe((0,Tt.M)(()=>n.end()))),(0,tt.T)(({pageX:i})=>({originalX:t.pageX,pageX:i}))))(this.service,this.draggable))).subscribe(({pageX:i,originalX:s})=>{const l=((n,o)=>n/(this.column.resizeStartWidth||this.column.width)*100)(i-s);this.service.resizeColumns(l)}))),this.subscriptions.add(t.pipe((0,We.p)(i=>"autoFitComplete"===i.type)).subscribe(this.sizeToFit.bind(this))),this.subscriptions.add(t.pipe((0,We.p)(i=>"triggerAutoFit"===i.type)).subscribe(this.autoFit.bind(this))),this.subscriptions.add(this.ctx.localization.changes.subscribe(({rtl:i})=>this.rtl=i))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}shouldUpdate(){return!mS(this.columns).map(t=>t.width||this.isConstrainedMode&&!t.width&&t.implicitWidth).some(ld)}initColumnWidth(){this.column.width=$m(this.element),this.isConstrainedMode&&(this.column.resizeStartWidth=this.column.width)}initState(){this.column.resizeStartWidth=$m(this.element),this.isConstrainedMode&&!this.service.adjacentColumn&&this.setAdjacentColumn(),this.service.resizedColumn({column:this.column,oldWidth:this.column.resizeStartWidth})}resize({deltaPercent:t}){let i=((n,o)=>{const t=o<0?-1:1;return Math.ceil(Math.abs(o)/100*n)*t})(this.column.resizeStartWidth,t);$o(this.rtl)&&(i*=-1);let s=Math.max(this.column.resizeStartWidth+i,this.column.minResizableWidth);Oe(this.column.maxResizableWidth)&&(s=Math.min(s,this.column.maxResizableWidth)),this.isConstrainedMode&&(s=this.calcNewColumnWidth(s));const r=this.getTableDelta(s,i);this.updateWidth(this.column,s),this.service.resizeTable(this.column,r)}sizeToFit({columns:t,widths:i}){const s=t.indexOf(this.column),r=Math.max(...i.map(u=>u[s]))+1,l=r-this.column.resizeStartWidth;this.updateWidth(this.column,r),this.service.resizeTable(this.column,l)}updateWidth(t,i){this.isConstrainedMode&&this.service.adjacentColumn&&!this.service.autoFitResize&&this.updateWidthsOfResizedColumns(t,i),t.width=i,this.columnInfoService.hiddenColumns.forEach(s=>{ld(s.width)&&Oe(s.implicitWidth)&&(s.width=s.implicitWidth)}),this.cdr.markForCheck()}updateWidthsOfResizedColumns(t,i){let s=t.resizeStartWidth+this.service.adjacentColumn.resizeStartWidth-i;if(this.service.draggedGroupColumn&&t.parent)this.updateWidthOfDraggedColumn(t,i),this.setGroupWidths(this.service.draggedGroupColumn);else if(this.service.draggedGroupColumn||t.parent||!this.service.adjacentColumn.parent)if(!this.service.draggedGroupColumn&&t.parent&&this.service.adjacentColumn.parent){s=t.width+this.service.adjacentColumn.width-i,this.service.adjacentColumn.width=s;const l=this.service.adjacentColumn.parent.children.filter(u=>u!==this.service.adjacentColumn).reduce((u,f)=>u+f.width,0);this.service.adjacentColumn.parent.width=s+l,this.setGroupWidths(this.service.adjacentColumn.parent)}else s>this.service.adjacentColumn.minResizableWidth&&(this.service.adjacentColumn.width=s);else this.service.adjacentColumn.parent.width=t.width+this.service.adjacentColumn.parent.width-i,this.service.adjacentColumn.width=s}calcNewColumnWidth(t){let i;return this.service.adjacentColumn.parent?(i=this.column.width+this.service.adjacentColumn.width,t=Math.min(t,i),this.minWidthTotal=0,i-=this.minAdjacentColumnWidth(this.service.adjacentColumn)):(i=this.column.width+this.service.adjacentColumn.width-this.service.adjacentColumn.minResizableWidth,!this.column.parent&&(i=this.column.resizeStartWidth+this.service.adjacentColumn.resizeStartWidth-this.service.adjacentColumn.minResizableWidth,this.service.adjacentColumn.maxResizableWidth)&&(i=this.column.resizeStartWidth+this.service.adjacentColumn.resizeStartWidth-this.service.adjacentColumn.minResizableWidth,this.column.minResizableWidth=this.column.resizeStartWidth+this.service.adjacentColumn.resizeStartWidth-this.service.adjacentColumn.maxResizableWidth,this.column.maxResizableWidth=i)),Math.min(t,i-1)}setAdjacentColumn(){const t=this.columnsForLevel(this.column.level);if(this.column.parent){if(this.column.isReordered)this.service.adjacentColumn=t.find(i=>i.orderIndex===this.column.orderIndex+1),this.service.adjacentColumn.resizeStartWidth=this.service.adjacentColumn.width;else{const i=t.indexOf(this.column);this.service.adjacentColumn=t[i+1],this.service.adjacentColumn.resizeStartWidth=jm(this.element);const s=Array.from(this.column.parent.children),r=s.indexOf(this.column);let l;r+1<=s.length-1&&(l=s[r+1],l?.isColumnGroup&&(this.service.adjacentColumn=l))}this.service.adjacentColumn.isColumnGroup&&(this.foundColumn=null,this.service.adjacentColumn=this.firstGroupChild(this.service.adjacentColumn)),this.column.isColumnGroup&&(this.service.draggedGroupColumn=this.column)}else if(this.column.isColumnGroup)this.service.adjacentColumn=this.column.isReordered?t.find(i=>i.orderIndex===this.column.orderIndex+1):t[t.indexOf(this.column)+1],this.service.adjacentColumn.resizeStartWidth=jm(this.element),this.service.adjacentColumn.isColumnGroup&&(this.foundColumn=null,this.service.adjacentColumn=this.firstGroupChild(this.service.adjacentColumn)),this.service.adjacentColumn.resizeStartWidth=this.service.adjacentColumn.width,this.service.draggedGroupColumn=this.column;else{if(this.column.isReordered)this.service.adjacentColumn=t.find(i=>i.orderIndex===this.column.orderIndex+1);else{let i=t.find(s=>s.leafIndex===this.column.leafIndex+1);if(!i){const s=t.indexOf(this.column);i=t[s+1]}this.service.adjacentColumn=i}this.service.adjacentColumn.parent||(this.service.adjacentColumn.resizeStartWidth=jm(this.element)),this.service.adjacentColumn.isColumnGroup&&(this.foundColumn=null,this.service.adjacentColumn=this.firstGroupChild(this.service.adjacentColumn),this.service.adjacentColumn.resizeStartWidth=((n,o,t)=>{const s=l=>`tr[${l}="${o}"] th[aria-colindex="${t}"]`;return this.element.nativeElement.closest(".k-grid-header-table").querySelector([s("aria-rowindex"),s("data-kendo-grid-row-index")]).getBoundingClientRect().width})(0,this.service.adjacentColumn.level+1,this.service.adjacentColumn.leafIndex+1))}this.service.resizedColumn({column:this.service.adjacentColumn,oldWidth:this.service.adjacentColumn.resizeStartWidth})}firstGroupChild(t){return Array.from(t.children).sort((i,s)=>i.orderIndex-s.orderIndex).forEach((i,s)=>{0!==s||i.isColumnGroup?i.isColumnGroup&&this.firstGroupChild(i):this.foundColumn||(this.foundColumn=i)}),this.foundColumn}setGroupWidths(t){const i=t.children.reduce((s,r)=>s+r.width,0);t.width=i,t.children.forEach(s=>{s.isColumnGroup&&this.setGroupWidths(s)})}updateWidthOfDraggedColumn(t,i){this.totalChildrenSum=0,this.childrenColumns=[],this.calcChildrenWidth(this.service.draggedGroupColumn);const s=this.childrenColumns.reduce((r,l)=>l!==t?r+l.width:r,0);this.service.draggedGroupColumn.width=s+i,this.service.adjacentColumn.minResizableWidth<=this.totalChildrenSum+this.service.adjacentColumn.resizeStartWidth-i-s&&(this.service.adjacentColumn.width=this.totalChildrenSum+this.service.adjacentColumn.resizeStartWidth-i-s)}calcChildrenWidth(t){const i=Array.from(t.children),s=i.filter(l=>!l.isColumnGroup),r=i.filter(l=>l.isColumnGroup);s.forEach(l=>{-1===this.childrenColumns.indexOf(l)&&this.childrenColumns.push(l)}),this.totalChildrenSum+=s.reduce((l,u)=>l+u.resizeStartWidth,0),r.forEach(l=>{this.calcChildrenWidth(l)})}columnsForLevel(t){return Fa(this.columns?this.columns.filter(i=>i.level===t):[])}minAdjacentColumnWidth(t){return t.isColumnGroup?Array.from(t.children).forEach(i=>{this.minAdjacentColumnWidth(i)}):(this.minWidthTotal+=t.minResizableWidth,t.width<t.minResizableWidth&&(t.width=t.minResizableWidth)),this.minWidthTotal}getTableDelta(t,i){const s=this.column.minResizableWidth,r=this.column.maxResizableWidth,l=this.column.resizeStartWidth,u=t>s,f=t<r;return(Oe(r)?u&&f:u)?i:t<=s?s-l:l-r}stopPropagation=({originalEvent:t})=>{this.service.isShiftPressed=t.shiftKey,t.stopPropagation(),t.preventDefault()};isLastInGroup(t){if(t.parent){const i=Array.from(t.parent.children),s=i.indexOf(t);return t.isReordered||t.orderIndex>0||t.isReordered&&0===t.orderIndex?t.orderIndex-i[0].orderIndex==i.length-1:s===i.length-1}}static \u0275fac=function(i){return new(i||n)(e.rXU(E.T5,1),e.rXU(e.aKT),e.rXU(gc),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(Me),e.rXU(Qn))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridColumnHandle",""]],hostVars:6,hostBindings:function(i,s){1&i&&e.bIt("dblclick",function(){return s.autoFit()}),2&i&&e.xc7("display",s.visible)("left",s.leftStyle)("right",s.rightStyle)},inputs:{isLast:"isLast",columns:"columns",column:"column"},standalone:!0})}return n})(),Br=(()=>{class n{changes=new e.bkB;data;static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),Dd=(()=>{class n{ctx;columnInfoService;selectedItems=[];groupedAggregates={dates:[],numbers:[],booleans:[]};aggregates={sum:null,average:null,min:null,max:null,count:null,isTrue:null,isFalse:null,earliest:null,latest:null};sub=new He.yU;constructor(t,i){this.ctx=t,this.columnInfoService=i}ngOnDestroy(){this.sub.unsubscribe()}isAggregateIncluded(t){const{cellAggregates:i}=this.ctx.grid.selectable;return"boolean"==typeof i||i?.includes(t)}init(){if(this.sub.add(this.ctx.grid.dataStateChange.subscribe(()=>{this.nullifyAggregates(),this.isAggregateIncluded("count")&&(this.aggregates.count=0)})),this.ctx.grid.selectable.cellAggregates){this.isAggregateIncluded("count")&&(this.aggregates.count=0);const t=this.ctx.grid.selectionDirective;t&&!this.isRowSelection&&(this.selectedItems=t.selectedKeys)}}onSelectionChange(t){return this.handleSelectedItems(t),this.nullifyAggregates(),this.handleAggregateChanges(),this.aggregates}get isRowSelection(){return"boolean"==typeof this.ctx.grid.selectable||!this.ctx.grid.selectable.cell}handleAggregateChanges(){const t=this.columnInfoService.lockedLeafColumns.toArray(),i=this.columnInfoService.nonLockedLeafColumns.toArray(),s=this.selectedItems.length,r=[...t,...i],l=r.map(u=>u.field);this.isAggregateIncluded("count")&&(this.aggregates.count=this.isRowSelection?s*r.length:s),this.selectedItems.forEach(u=>{if(this.isRowSelection)l.forEach(f=>{const C=u.dataItem;C&&C.hasOwnProperty(f)&&this.groupAggregates(u.dataItem[f])});else if(!this.isRowSelection){const f=this.ctx.grid.flatData.flatMap(pc)[u.itemKey];f&&f.hasOwnProperty(l[u.columnKey])&&this.groupAggregates(f[l[u.columnKey]])}}),this.calculateAggregates()}groupAggregates(t){"number"==typeof t?this.groupedAggregates.numbers.push(t):"boolean"==typeof t?this.groupedAggregates.booleans.push(t):t instanceof Date&&this.groupedAggregates.dates.push(t)}calculateAggregates(){if(this.groupedAggregates.numbers.length>0&&(this.isAggregateIncluded("min")&&(this.aggregates.min=Math.min(...this.groupedAggregates.numbers)),this.isAggregateIncluded("max")&&(this.aggregates.max=Math.max(...this.groupedAggregates.numbers)),this.isAggregateIncluded("sum")&&(this.aggregates.sum=this.groupedAggregates.numbers.reduce((t,i)=>t+i,0)),this.isAggregateIncluded("average")&&(this.aggregates.average=this.aggregates.sum/this.groupedAggregates.numbers.length)),this.groupedAggregates.booleans.length>0){if(this.isAggregateIncluded("isTrue")){const t=this.groupedAggregates.booleans.filter(i=>i).length;this.aggregates.isTrue=t>0?t:null}if(this.isAggregateIncluded("isFalse")){const t=this.groupedAggregates.booleans.length-this.aggregates.isTrue;this.aggregates.isFalse=t>0?t:null}}this.groupedAggregates.dates.length>0&&(this.isAggregateIncluded("earliest")&&(this.aggregates.earliest=new Date(Math.min(...this.groupedAggregates.dates))),this.isAggregateIncluded("latest")&&(this.aggregates.latest=new Date(Math.max(...this.groupedAggregates.dates))))}handleSelectedItems(t){const r=t[this.isRowSelection?"selectedRows":"selectedCells"],l=t[this.isRowSelection?"deselectedRows":"deselectedCells"];this.isRowSelection||l.forEach((u,f)=>{f+1<l.length&&u.itemKey===l[f+1].itemKey&&u.columnKey===l[f+1].columnKey&&l.splice(f,1)}),r.length>0&&r.forEach(u=>{this.selectedItems=[...this.selectedItems,u]}),l.length>0&&l.forEach(this.isRowSelection?u=>{this.selectedItems=this.selectedItems.filter(f=>f.dataItem!==u.dataItem)}:u=>{const f=this.selectedItems.findIndex(C=>C.itemKey===u.itemKey&&C.columnKey===u.columnKey);this.selectedItems.splice(f,1)})}nullifyAggregates(){this.groupedAggregates={dates:[],numbers:[],booleans:[]},this.aggregates.count=null,this.aggregates.sum=this.aggregates.average=null,this.aggregates.max=this.aggregates.min=null,this.aggregates.isFalse=this.aggregates.isTrue=null,this.aggregates.earliest=this.aggregates.latest=null}static \u0275fac=function(i){return new(i||n)(e.KVO(Me),e.KVO(Qn))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),wr=(()=>{class n{domEvents;aggregateService;localDataChangesService;navigationService;ctxService;changes=new e.bkB;lastSelectionStartIndex;currentSelection=[];nonSelectableRows=new Map;selectAllChecked=!1;settings;active=!1;aggregates;get enableMarquee(){if(!this.settings||this.settings&&"object"==typeof this.settings&&this.settings.checkboxOnly)return!1;const i=this.settings.selectable,s="object"==typeof i&&Oe(i)&&"multiple"===i.mode&&!1!==i.enabled&&!i.checkboxOnly&&i.drag;return this.active&&s}mouseDownEventArgs;dragging=!1;get hasNonSelectable(){return this.nonSelectableRows.size>0}cellClickSubscription;mousedownSubscription;dataChangedSubscription;lastSelectionData={};_selectAllState;constructor(t,i,s,r,l){this.domEvents=t,this.aggregateService=i,this.localDataChangesService=s,this.navigationService=r,this.ctxService=l,this.addSubscriptions()}init(t){if(this.settings=t,Oe(this.lastSelectionStartIndex)||(this.lastSelectionStartIndex=this.ctxService?.grid.selectionDirective?.rangeSelectionStartRow?.index||0,this.lastSelectionData=this.ctxService?.grid.selectionDirective?.rangeSelectionStartRow?.dataItem||{}),this.currentSelection=[],this.nonSelectableRows=new Map,t.selectable&&!1!==t.selectable.enabled){const i=this.getIterator();this._selectAllState=!0;let s=i.next();for(;!s.done;){if(s.value&&"data"===s.value.type){const r={dataItem:s.value.data,index:s.value.index};t.rowSelected(r)?this.currentSelection[s.value.index]=r:this._selectAllState=void 0,t.isRowSelectable(r)||(this.nonSelectableRows.set(r.index,r.dataItem),this._selectAllState=void 0)}s=i.next()}0===this.currentSelection.length&&(this._selectAllState=!1)}}isSelected(t){if(this.settings&&this.active)return this.options.enabled&&Oe(this.currentSelection[t])&&!this.nonSelectableRows.has(t)}handleClick(t,i){if(this.dragging)return void(this.dragging=!1);let s;const r=i.ctrlKey||i.metaKey;if("single"===this.options.mode&&r&&this.isSelected(t.index))s=this.toggle(t);else if("multiple"===this.options.mode)if(!r&&this.options.metaKeyMultiSelect||i.shiftKey){if(i.shiftKey){const l=Gu(this.settings);s=this.addAllTo(t,r,l)}}else s=this.toggle(t);Oe(s)||(s=this.select(t),this.currentSelection[t.index]={dataItem:t.data,index:t.index}),(s.selectedRows.length||s.deselectedRows.length)&&(s.ctrlKey=r,s.shiftKey=i.shiftKey,this.options.cellAggregates&&(s.cellAggregates=this.aggregateService.onSelectionChange(s)),s.shiftKey&&(s.rangeStartRow={dataItem:this.lastSelectionData,index:this.lastSelectionStartIndex},s.rangeEndRow={dataItem:t.data,index:t.index},this.lastSelectionData=t.data,this.lastSelectionStartIndex=t.index),this.syncCurrentSelection(s),this.changes.emit(s))}toggle(t){const i=[],s=[];this.lastSelectionStartIndex=t.index,this.lastSelectionData=t.data;const r={dataItem:t.data,index:t.index};if(this.isSelected(t.index)?s.push(r):this.nonSelectableRows.has(t.index)||i.push(r),this.hasNonSelectable){const l=this.currentSelection.filter(u=>this.nonSelectableRows.has(u.index));s.push(...l)}return{deselectedRows:s,selectedRows:i}}toggleByIndex(t){const i=this.getIterator();this.selectAllChecked&&this.isSelected(t)&&(this.selectAllChecked=!1);let s=i.next();for(;!s.done;){if(s.value&&"data"===s.value.type&&s.value.index===t){const r={data:s.value.data,index:s.value.index};return this.isSelected(t)||"multiple"===this.options.mode?this.toggle(r):this.select(r)}s=i.next()}}select(t){const i=[],s=[];return this.lastSelectionStartIndex=t.index,this.lastSelectionData=t.data,!this.isSelected(t.index)&&!this.nonSelectableRows.has(t.index)&&s.push({dataItem:t.data,index:t.index}),this.currentSelection.forEach(r=>{r.index!==t.index&&i.push(r)}),{deselectedRows:i,selectedRows:s}}deselect(t){const i=this.getIterator();let s=i.next();for(;!s.done;){if(s.value&&"data"===s.value.type&&s.value.data===t){const r={dataItem:s.value.data,index:s.value.index};if(this.isSelected(r.index)||this.nonSelectableRows.has(r.index)){const l={ctrlKey:!1,deselectedRows:[r],selectedRows:[]};this.syncCurrentSelection(l),this.changes.emit(l)}}s=i.next()}}addAllTo(t,i,s=!1,r=!1){const l=[],u=[],f=Math.min(this.lastSelectionStartIndex,t.index),C=Math.max(this.lastSelectionStartIndex,t.index),T=this.getIterator();let G,O=T.next();for(;!O.done;){if(O.value&&"data"===O.value.type){const Q=O.value.index,z={dataItem:O.value.data,index:Q};(Q<f||Q>C)&&this.isSelected(Q)&&!i&&!s&&u.push(z),Q>=f&&Q<=C&&!this.isSelected(Q)&&!this.nonSelectableRows.has(Q)&&l.push(z),Q===t.index&&!this.nonSelectableRows.has(Q)&&(G=z)}O=T.next()}if(this.hasNonSelectable){const Q=this.currentSelection.filter(z=>this.nonSelectableRows.has(z.index));u.push(...Q)}const P={deselectedRows:u,selectedRows:l};return r&&G&&(P.rangeStartRow={dataItem:this.lastSelectionData,index:this.lastSelectionStartIndex},P.rangeEndRow={dataItem:G.dataItem,index:G.index},this.lastSelectionData=G.dataItem,this.lastSelectionStartIndex=G.index),P}updateAll(t){this.selectAllChecked=t;const i=[],s=[],r=this.getIterator();let l=r.next();for(;!l.done;){if(l.value&&"data"===l.value.type){const f=l.value.index,C={dataItem:l.value.data,index:f};this.nonSelectableRows.has(f)||(this.isSelected(f)&&!t&&s.push(C),!this.isSelected(f)&&t&&i.push(C))}l=r.next()}if(!i.length&&!s.length)return;if(this.hasNonSelectable){const f=this.currentSelection.filter(C=>this.nonSelectableRows.has(C.index));s.push(...f)}const u={ctrlKey:!0,deselectedRows:s,selectedRows:i,shiftKey:!0};this.options.cellAggregates&&(u.cellAggregates=this.aggregateService.onSelectionChange(u)),this.syncCurrentSelection(u),this.changes.emit(u)}selectRange(t,i,s,r=[]){const l=[],u=[],f=Math.min(t,i),C=Math.max(t,i),T=this.getIterator();let G,O=T.next();for(;!O.done;){if(O.value&&"data"===O.value.type){const P=O.value.index,Q={dataItem:O.value.data,index:P};(P<f||P>C)&&this.isSelected(P)&&!(s||r.find(de=>de&&de.dataItem===Q.dataItem&&de.index===Q.index))&&u.push(Q),P>=f&&P<=C&&!this.isSelected(P)&&!this.nonSelectableRows.has(P)&&l.push(Q)}O=T.next()}if(this.options.cellAggregates&&(G=this.aggregateService.onSelectionChange({selectedRows:l,deselectedRows:u})),this.hasNonSelectable){const P=this.currentSelection.filter(Q=>this.nonSelectableRows.has(Q.index));u.push(...P)}return{deselectedRows:u,selectedRows:l,cellAggregates:G}}get selectAllState(){return this._selectAllState}get selected(){return this.currentSelection.map(t=>t.index).filter(t=>"number"==typeof t)}get options(){const t={cellAggregates:!1,checkboxOnly:!1,enabled:!0,mode:"multiple",metaKeyMultiSelect:!0};return Oe(this.settings)?"boolean"==typeof this.settings.selectable?{cellAggregates:!1,checkboxOnly:!1,enabled:this.settings.selectable,mode:"multiple",metaKeyMultiSelect:!0}:Object.assign(t,this.settings.selectable):t}ngOnDestroy(){this.removeSubscriptions()}targetArgs(){return{index:this.mouseDownEventArgs.rowIndex,dataItem:this.mouseDownEventArgs.dataItem}}addSubscriptions(){this.cellClickSubscription||(this.cellClickSubscription=this.domEvents.cellClick.subscribe(t=>{this.options.enabled&&!this.options.checkboxOnly&&"contextmenu"!==t.type&&this.active&&this.handleClick({index:t.rowIndex,data:t.dataItem},t.originalEvent)})),this.mousedownSubscription||(this.mousedownSubscription=this.domEvents.cellMousedown.subscribe(t=>{this.mouseDownEventArgs=t,this.options.enabled&&(!this.options.mode||"multiple"===this.options.mode)&&!this.options.checkboxOnly&&t.originalEvent.shiftKey&&this.active&&(t.originalEvent.preventDefault(),this.navigationService.focusCellByElement(t.originalEvent.target))})),this.localDataChangesService&&!this.dataChangedSubscription&&(this.dataChangedSubscription=this.localDataChangesService.changes.subscribe(t=>{this.active&&Oe(t.action)&&"remove"===t.action&&this.deselect(t.item)}))}getIterator(){const t=this.settings.view.accessor();if(t)return t[pa]()}removeSubscriptions(){this.cellClickSubscription&&(this.cellClickSubscription.unsubscribe(),this.cellClickSubscription=null),this.mousedownSubscription&&(this.mousedownSubscription.unsubscribe(),this.mousedownSubscription=null),this.dataChangedSubscription&&(this.dataChangedSubscription.unsubscribe(),this.dataChangedSubscription=null)}syncCurrentSelection(t){for(const i of t.deselectedRows)this.currentSelection.splice(i.index,1);for(const i of t.selectedRows)this.currentSelection[i.index]=i}static \u0275fac=function(i){return new(i||n)(e.KVO(kl),e.KVO(Dd),e.KVO(Br),e.KVO(ar),e.KVO(Me))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),Gl=(()=>{class n{domEvents;aggregateService;localDataChangesService;navigationService;changes=new e.bkB;mouseUpEvent=new e.bkB;currentSelection=[];settings;active=!1;aggregates;nonSelectableRows=new Map;get enableMarquee(){if(!this.settings||this.settings&&"object"==typeof this.settings&&this.settings.checkboxOnly||this.settings.isStacked)return!1;const i=this.settings.selectable,s="object"==typeof i&&Oe(i)&&"multiple"===i.mode&&i.cell&&!1!==i.enabled&&i.drag;return this.active&&s}get hasNonSelectable(){return this.nonSelectableRows.size>0}mouseDownEventArgs;mouseUpEventArgs;dragging=!1;dragSelectDeselect=!1;lastSelectionItem={itemKey:0,columnKey:0};lastSelectionItemRowIndex=0;lastSelectionItemColIndex=0;cellClickSubscription;dataChangedSubscription;mousedownSubscription;constructor(t,i,s,r){this.domEvents=t,this.aggregateService=i,this.localDataChangesService=s,this.navigationService=r,this.addSubscriptions()}init(t){if(this.settings=t,this.currentSelection=[],this.nonSelectableRows=new Map,t.selectable&&!1!==t.selectable.enabled&&!t.isStacked){const i=this.getIterator();let s=i.next();for(;!s.done;){if(s.value&&"data"===s.value.type){const r={dataItem:s.value.data,index:s.value.index};t.columns.forEach(l=>{const u=t.cellSelected(r,l,l.leafIndex);u.selected&&this.currentSelection.push(u.item),t.isRowSelectable(r)||this.nonSelectableRows.set(r.index,r.dataItem)})}s=i.next()}}}isCellSelected(t,i){if(this.settings&&this.active&&!this.settings.isStacked){const s=this.settings.cellSelected({dataItem:t.data,index:t.index},i,i.leafIndex);return this.options.enabled&&s.selected&&!this.nonSelectableRows.has(t.index)}return!1}handleClick(t,i){if(this.dragging)return void(this.dragging=!1);if(this.settings.isStacked)return;let s;const r=i.ctrlKey||i.metaKey;if("single"===this.options.mode&&r&&this.isCellSelected(t,t.column))s=this.toggle(t);else if("multiple"===this.options.mode)if(!r&&this.options.metaKeyMultiSelect||i.shiftKey){if(i.shiftKey){const l=Math.min(this.lastSelectionItemRowIndex,t.index),u=Math.min(this.lastSelectionItemColIndex,t.column.leafIndex),f=Math.max(this.lastSelectionItemRowIndex,t.index),C=Math.max(this.lastSelectionItemColIndex,t.column.leafIndex),T=Gu(this.settings);s=this.selectRange(l,u,f,C,T),T&&(this.lastSelectionItemRowIndex=t.index,this.lastSelectionItemColIndex=t.column.leafIndex)}}else s=this.toggle(t);Oe(s)||(s=this.select(t),this.currentSelection=[this.lastSelectionItem]),(s.selectedCells.length||s.deselectedCells.length)&&(s.ctrlKey=r,s.shiftKey=i.shiftKey,this.options.cellAggregates&&!i.shiftKey&&(s.cellAggregates=this.aggregateService.onSelectionChange(s)),s.shiftKey&&(s.rangeStartCell=this.lastSelectionItem,s.rangeEndCell={...this.settings.cellSelected({dataItem:t.data,index:t.index},t.column,t.column.leafIndex).item}),this.changes.emit(s))}toggle(t){const i=[],s=[];return this.lastSelectionItem=this.settings.cellSelected({dataItem:t.data,index:t.index},t.column,t.column.leafIndex).item,this.lastSelectionItemRowIndex=t.index,this.lastSelectionItemColIndex=t.column.leafIndex,this.isCellSelected(t,t.column)?s.push(this.lastSelectionItem):this.nonSelectableRows.has(t.index)||i.push(this.lastSelectionItem),{deselectedCells:s,selectedCells:i}}select(t){const i=[],s=[];return this.lastSelectionItem=this.settings.cellSelected({dataItem:t.data,index:t.index},t.column,t.column.leafIndex).item,this.lastSelectionItemRowIndex=t.index,this.lastSelectionItemColIndex=t.column.leafIndex,!this.isCellSelected(t,t.column)&&!this.nonSelectableRows.has(t.index)&&i.push(this.lastSelectionItem),this.currentSelection.forEach(r=>{(r.itemKey!==this.lastSelectionItem.itemKey||r.columnKey!==this.lastSelectionItem.columnKey)&&s.push(r)}),{deselectedCells:s,selectedCells:i}}deselect(t){const i=this.getIterator();let r,s=i.next();for(;!s.done;){if(s.value&&"data"===s.value.type&&s.value.data===t){r={dataItem:s.value.data,index:s.value.index};break}s=i.next()}if(r){const l=this.currentSelection.filter(u=>{const f=this.settings.cellSelected(r,null,null).item;return u.itemKey===f.itemKey||this.nonSelectableRows.has(r.index)});l.length&&this.changes.emit({ctrlKey:!1,deselectedCells:l,selectedCells:[]})}}selectRange(t,i,s,r,l=!1,u=[]){const f=[],C=[],T=Math.min(t,s),O=Math.min(i,r),G=Math.max(t,s),P=Math.max(i,r),Q=this.getIterator();let de,z=Q.next();for(;!z.done;){if(z.value&&"data"===z.value.type){const le=z.value.index,_e={dataItem:z.value.data,index:le};this.settings.columns.forEach(Ge=>{const{item:ge}=this.settings.cellSelected(_e,Ge,Ge.leafIndex),$e=this.isCellSelected(z.value,Ge),Kt=T<=le&&le<=G&&O<=Ge.leafIndex&&Ge.leafIndex<=P;!Kt&&$e&&!(l||u.find(Le=>Le&&Le.itemKey===ge.itemKey&&Le.columnKey===ge.columnKey))&&C.push(ge),Kt&&!$e&&!this.nonSelectableRows.has(le)&&f.push(ge)})}z=Q.next()}return this.options.cellAggregates&&(de=this.aggregateService.onSelectionChange({selectedCells:f,deselectedCells:C})),{deselectedCells:C,selectedCells:f,cellAggregates:de}}get options(){const t={cellAggregates:!1,checkboxOnly:!1,enabled:!0,mode:"multiple",metaKeyMultiSelect:!0};return Oe(this.settings)?"boolean"==typeof this.settings.selectable?{cellAggregates:!1,checkboxOnly:!1,enabled:this.settings.selectable,mode:"multiple",metaKeyMultiSelect:!0}:Object.assign(t,this.settings.selectable):t}ngOnDestroy(){this.removeSubscriptions()}addSubscriptions(){this.cellClickSubscription||(this.cellClickSubscription=this.domEvents.cellClick.subscribe(t=>{this.options.enabled&&!this.options.checkboxOnly&&"contextmenu"!==t.type&&this.active&&this.handleClick({index:t.rowIndex,data:t.dataItem,column:t.column},t.originalEvent)})),this.mousedownSubscription||(this.mousedownSubscription=this.domEvents.cellMousedown.subscribe(t=>{this.mouseDownEventArgs=t,this.options.enabled&&(!this.options.mode||"multiple"===this.options.mode)&&!this.options.checkboxOnly&&t.originalEvent.shiftKey&&this.active&&(t.originalEvent.preventDefault(),this.navigationService.focusCellByElement(t.originalEvent.target))})),this.localDataChangesService&&!this.dataChangedSubscription&&(this.dataChangedSubscription=this.localDataChangesService.changes.subscribe(t=>{this.active&&Oe(t.action)&&"remove"===t.action&&this.deselect(t.item)}))}getIterator(){const t=this.settings.view.accessor();if(t)return t[pa]()}removeSubscriptions(){this.cellClickSubscription&&(this.cellClickSubscription.unsubscribe(),this.cellClickSubscription=null),this.mousedownSubscription&&(this.mousedownSubscription.unsubscribe(),this.mousedownSubscription=null),this.dataChangedSubscription&&(this.dataChangedSubscription.unsubscribe(),this.dataChangedSubscription=null)}static \u0275fac=function(i){return new(i||n)(e.KVO(kl),e.KVO(Dd),e.KVO(Br),e.KVO(ar))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),Hm=(()=>{class n{selectionService;cellSelectionService;ngZone;element;renderer;checkbox;state;selectAllChange=new e.bkB;destroyClick;checkboxChange;stateSet=!1;ngAfterContentChecked(){this.setState()}ngOnChanges(){this.stateSet=!0}constructor(t,i,s,r,l,u){this.selectionService=t,this.cellSelectionService=i,this.ngZone=s,this.element=r,this.renderer=l,this.checkbox=u,this.ngZone.runOutsideAngular(()=>{this.checkbox?this.checkboxChange=this.checkbox.checkedStateChange.subscribe(this.onClick.bind(this)):this.destroyClick=this.renderer.listen(this.element.nativeElement,"click",this.onClick.bind(this))})}ngOnDestroy(){this.checkboxChange&&this.checkboxChange.unsubscribe(),this.destroyClick&&this.destroyClick()}onClick(){const t="indeterminate"===this.checkbox?.checkedState||this.element.nativeElement.indeterminate,i=!0===this.checkbox?.checkedState||this.element.nativeElement.checked,s=i?"checked":t?"indeterminate":"unchecked",r=this.selectionService.hasNonSelectable?!this.selectionService.selectAllChecked:i,l=this.selectionService.options,u=l.enabled&&"multiple"===l.mode&&!this.cellSelectionService.active,f=(0,E.SF)(this.selectAllChange);(u||f)&&this.ngZone.run(()=>{u&&this.selectionService.updateAll(r),f&&this.selectAllChange.emit(s)})}setState(){const t=this.stateSet?this.stateToBool():this.selectionService.selectAllState;if(this.checkbox)this.checkbox.checkedState=Oe(t)?t:"indeterminate";else{const i=this.element.nativeElement;this.renderer.setProperty(i,"indeterminate",!Oe(t)),this.renderer.setProperty(i,"checked",!!Oe(t)&&t)}}stateToBool(){switch(this.state){case"checked":return!0;case"unchecked":return!1;default:return}}static \u0275fac=function(i){return new(i||n)(e.rXU(wr),e.rXU(Gl),e.rXU(e.SKi),e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(re.$W,9))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridSelectAllCheckbox",""]],inputs:{state:"state"},outputs:{selectAllChange:"selectAllChange"},standalone:!0,features:[e.OA$]})}return n})();const th=(...n)=>Object.assign.apply(null,[{}].concat(n)),_S=(n,o)=>n.parent===o.parent||dC(o)&&_S(n,o.parent),CU=om(({draggable:n})=>["column","columnGroup"].indexOf(n.context.type)>=0,({draggable:n})=>n.context.column.reorderable,({draggable:n})=>!dC(n.context.column),({draggable:n,target:o})=>n.element.nativeElement!==o.element.nativeElement,({draggable:n,target:o})=>_S(n.context.column,o.context.column),cd(({draggable:n})=>!$o(n.context.column.locked)&&(({parent:n})=>!$o(n))(n.context.column)&&n.context.lastColumn),({draggable:n,target:o})=>!1!==n.context.column.lockable||n.context.column.isLocked===o.context.column.isLocked),SU=["alt","ctrl","shift","meta"];let vS=(()=>{class n{popupService;hint;cue;reorderService;idService;sortService;columnInfoService;cd;contextService;navigationService;zone;totalColumnLevels;columns=[];groups=[];detailTemplate;scrollable;filterable;sort=new Array;filter;sortable=!1;groupable=!1;lockedColumnsCount=0;resizable=!1;reorderable=!1;columnMenu=!1;columnMenuTemplate;totalColumnsCount=0;totalColumns;tabIndex;size="medium";sortedFields={};hostClass=!0;get sortableLabel(){return this.contextService.localization.get("sortable")}get columnMenuSettings(){return this.columnMenu}dropTargets=new e.rOR;filterMenus;columnMenus;get unlockedColumnsCount(){return this.totalColumnsCount-this.lockedColumnsCount-this.columns.length}sortAscSmallIcon=ne.uEm;sortDescSmallIcon=ne.wan;subscription=new He.yU;targetSubscription;stopSorting=!1;_leafColumns;constructor(t,i,s,r,l,u,f,C,T,O,G){this.popupService=t,this.hint=i,this.cue=s,this.reorderService=r,this.idService=l,this.sortService=u,this.columnInfoService=f,this.cd=C,this.contextService=T,this.navigationService=O,this.zone=G}sortColumn(t){this.sortService.sort(t)}getColumnComponent(t){return t}onSortClick(t,i,s){if(this.stopSorting)return void(this.stopSorting=!1);const r=i.target;if(t.headerTemplateRef&&r!==s&&am(r,Jv,s))return;const l=this.matchModifier(i),u=this.toggleSort(t,l);this.sortColumn(u)}onHeaderKeydown(t,i){const s=(0,E.tq)(i);if(s===E.D$.ArrowDown&&i.altKey&&this.showFilterMenu){i.preventDefault(),i.stopImmediatePropagation();const C=this.filterMenus.find(T=>T.column===t);return void C.toggle(C.anchor.nativeElement,C.template)}if(s===E.D$.ArrowDown&&i.altKey&&this.showColumnMenu(t)){i.preventDefault(),i.stopImmediatePropagation();const C=this.columnMenus.find(T=>T.column===t);return void C.toggle(null,C.anchor.nativeElement,C.template)}const r=i.ctrlKey||i.metaKey;if((s===E.D$.Enter||s===E.D$.Space)&&r&&this.isGroupable(t))return i.preventDefault(),i.stopImmediatePropagation(),this.groups.some(T=>T.field===t.field)?this.groups=this.groups.filter(T=>T.field!==t.field):this.groups.push({field:t.field}),void this.contextService.grid.groupChange.emit(this.groups);if((s===E.D$.ArrowLeft||s===E.D$.ArrowRight)&&r&&this.isReorderable(t)){i.preventDefault();const C=this.columnInfoService.leafNamedColumns.length,G=(s===E.D$.ArrowLeft?-1:1)*(this.contextService.localization.rtl?-1:1),Q=Math.min(Math.max(0,t.leafIndex+G),C-1),z=this.contextService.grid;return z.reorderColumn(t,Q,{before:G<0}),void z.columnReorder.emit(new pS({column:t,newIndex:Q,oldIndex:t.leafIndex}))}if(this.sortable&&!i.defaultPrevented&&!1!==t.sortable&&s===E.D$.Enter&&Oe(t.field)){const C=this.matchModifier(i);this.sortService.sort(this.toggleSort(t,C))}}showSortNumbering(t){const{showIndexes:i}=Nl(this.sortable);return i&&this.sort&&this.sort.filter(({dir:s})=>Oe(s)).length>1&&this.sortOrder(t.field)>0}sortOrder(t){return this.sort.filter(({dir:i})=>Oe(i)).findIndex(i=>i.field===t)+1}sortState(t){if(!this.isInteractive(t,"sortable"))return;const i=this.sortDescriptor(t.field);return"asc"===i.dir?"ascending":"desc"===i.dir?"descending":void 0}get isNavigable(){return this.navigationService.tableEnabled}toggleSort(t,i=!0){const{allowUnsort:s,mode:r,initialDirection:l}=Nl(this.sortable,t.sortable),u=this.toggleDirection(t.field,s,l);return"single"!==r&&i?[...this.sort.filter(f=>f.field!==t.field),u]:[u]}matchModifier(t){const{multiSortKey:i}=Nl(this.sortable);return"none"===i?SU.every(s=>!t[`${s}Key`]):"ctrl"===i?t.ctrlKey||t.metaKey:t[`${i}Key`]}ngAfterViewInit(){this.subscription.add(Mu(this.dropTargets).subscribe(this.attachTargets.bind(this)))}ngDoCheck(){this._leafColumns=Fa(this.columns||[]).filter(t=>!xl(t))}ngOnChanges(t){const i=t.sort;i&&!i.isFirstChange()&&i.currentValue.forEach(s=>{this.sortedFields[s.field]=!0})}ngOnInit(){this.subscription.add(this.contextService.localization.changes.subscribe(()=>this.cd.markForCheck()))}ngOnDestroy(){this.targetSubscription&&this.targetSubscription.unsubscribe(),this.popupService&&this.popupService.destroy(),this.subscription.unsubscribe()}selectAllCheckboxId(){return this.idService.selectAllCheckboxId()}get selectAllCheckboxLabel(){return this.contextService.localization.get("selectAllCheckboxLabel")}isFirstOnRow(t,i){const s=r=>r&&(this.columnsForLevel(r.level).indexOf(r)>0||s(r.parent));return 0===i&&!this.groups.length&&!this.detailTemplate&&s(t.parent)}logicalColumnIndex(t){const i=t.leafIndex;return Oe(i)?i+(Oe(this.detailTemplate)?1:0):-1}get showFilterMenu(){return!this.columnMenu&&(n=>"string"==typeof n&&n.indexOf("menu")>-1)(this.filterable)}get showFilterRow(){return Id(this.filterable)}showColumnMenu(t){return this.columnMenu&&t.columnMenu&&(this.columnMenuTemplate||t.columnMenuTemplates.length||((n,o)=>Fm(n)||Am(n)||ym(n,o)||Pm(n)||Gm(n,o)||Nm(n,o))(this.columnMenu,t))}isFilterable(t){return!Jn(t.field)&&!0===t.filterable}canDrop(t,i){return(0,E.nm)()&&this.zone.runOutsideAngular(()=>{document.addEventListener("pointerup",()=>{this.stopSorting=!0,setTimeout(()=>this.stopSorting=!1)},{once:!0,capture:!0})}),this.reorderable&&CU({draggable:t,target:i})}shouldActivate(t){const i=this.isReorderable(t);return!(!i&&!hd(t))&&(this.isGroupable(t)||i)}isInteractive(t,i){return!Jn(t.field)&&$o(this[i])&&$o(t[i])}isCheckboxColumn(t){return iC(t)&&!t.templateRef}addStickyStyles(t){const i=this.columnInfoService.stickyColumnsStyles(t);return{...t.headerStyle,...i}}toggleDirection(t,i,s){const r=this.sortDescriptor(t),[l,u]=(n=>"asc"===n?["asc","desc"]:["desc","asc"])(s);let f=l;return r.dir===l?f=u:r.dir===u&&i&&(f=void 0),{dir:f,field:t}}columnsForLevel(t){const i=this.columns?this.columns.filter(s=>s.level===t):[];return Dl(Fa(i))}isColumnGroupComponent(t){return xl(t)}sortDescriptor(t){return this.sort.find(i=>i.field===t)||{field:t}}get columnLevels(){return new Array((this.totalColumnLevels||0)+1)}get leafColumns(){return this._leafColumns}get isStacked(){return this.contextService.grid?.isStacked}isReorderable(t){return this.reorderable&&t.reorderable}isGroupable(t){return this.groupable&&hd(t)&&!1!==t.groupable}attachTargets(){this.targetSubscription&&this.targetSubscription.unsubscribe(),this.targetSubscription=new He.yU;const t=(0,qe.h)(...this.dropTargets.map(r=>r.enter)),i=(0,qe.h)(...this.dropTargets.map(r=>r.leave)),s=(0,qe.h)(...this.dropTargets.map(r=>r.drop));this.targetSubscription.add(t.pipe((0,Tt.M)(({target:r,draggable:l})=>{if("groupIndicator"===l.context.type)return;const u=$o(r.context.column.isLocked),f=$o(l.context.column.isLocked);(this.lockedColumnsCount>0||u||f)&&this.hint.toggleLock(u)}),(0,We.p)(({draggable:r,target:l})=>this.canDrop(r,l)),(0,Dt.n)(this.trackMove.bind(this,i,s)),(0,tt.T)(r=>th(r,{before:this.calculateBefore(r),changeContainer:r.changeContainer})),(0,tt.T)(this.normalizeTarget.bind(this)),(0,Tt.M)(this.enter.bind(this)),(0,Dt.n)(r=>s.pipe((0,tt.T)(()=>r),(0,ii.Q)(i.pipe((0,Tt.M)(this.leave.bind(this))))))).subscribe(this.drop.bind(this)))}normalizeTarget(t){let i=t.target;const s=i.context.column.parent;if(s&&s.isSpanColumn){const r=this.dropTargets.toArray(),l=r.find(C=>C.context.column.parent===s),u=r.indexOf(l);i=r[u+(t.before?0:s.children.length-1)]}return th(t,{target:i})}trackMove(t,i,s){const r=s.target.context.column,l=this.columnsForLevel(r.level),u=l.indexOf(r),C=s.draggable.context.column.isLocked!==r.isLocked;return C&&(r.locked?u===l.length-1:0===u)?s.draggable.drag.pipe((0,ii.Q)(t),(0,ii.Q)(i),(0,tt.T)(({mouseEvent:T})=>th({changeContainer:!0},s,{mouseEvent:T}))):(0,Je.of)(th({changeContainer:C},s))}calculateBefore({draggable:t,target:i,mouseEvent:s,changeContainer:r=!1}){const l=i.element.nativeElement;let u=!1;if(r){const{left:f}=Lv(l);u=f+l.offsetWidth/2>s.pageX,this.contextService.localization.rtl&&(u=!u)}else u=Uv(t.element.nativeElement,l);return u}enter({target:t,before:i}){this.hint.enable(),this.contextService.localization.rtl&&(i=!i),this.cue.position(Vv(t.element.nativeElement,i))}leave(){this.hint.disable(),this.cue.hide()}drop({draggable:t,target:i,before:s,changeContainer:r}){this.reorderService.reorder({before:s,changeContainer:r,source:t.context.column,target:i.context.column})}static \u0275fac=function(i){return new(i||n)(e.rXU(vc),e.rXU(Tu),e.rXU(xu),e.rXU(Km),e.rXU(Ro),e.rXU(Ic),e.rXU(Qn),e.rXU(e.gRc),e.rXU(Me),e.rXU(ar),e.rXU(e.SKi))};static \u0275cmp=e.VBU({type:n,selectors:[["","kendoGridHeader",""]],viewQuery:function(i,s){if(1&i&&(e.GBs(md,5),e.GBs(xm,5),e.GBs(Zu,5)),2&i){let r;e.mGM(r=e.lsd())&&(s.dropTargets=r),e.mGM(r=e.lsd())&&(s.filterMenus=r),e.mGM(r=e.lsd())&&(s.columnMenus=r)}},hostVars:2,hostBindings:function(i,s){2&i&&e.AVh("k-table-thead",s.hostClass)},inputs:{totalColumnLevels:"totalColumnLevels",columns:"columns",groups:"groups",detailTemplate:"detailTemplate",scrollable:"scrollable",filterable:"filterable",sort:"sort",filter:"filter",sortable:"sortable",groupable:"groupable",lockedColumnsCount:"lockedColumnsCount",resizable:"resizable",reorderable:"reorderable",columnMenu:"columnMenu",columnMenuTemplate:"columnMenuTemplate",totalColumnsCount:"totalColumnsCount",totalColumns:"totalColumns",tabIndex:"tabIndex",size:"size"},standalone:!0,features:[e.OA$,e.aNF],attrs:Ny,decls:2,vars:2,consts:[["link",""],["kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","totalColumns",4,"ngFor","ngForOf"],["kendoGridFilterRow","","kendoGridLogicalRow","",3,"columns","filter","groups","detailTemplate","lockedColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","totalColumns",4,"ngIf"],["kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","totalColumns"],["class","k-group-cell k-header k-table-th","role","presentation",4,"ngFor","ngForOf"],["class","k-hierarchy-cell k-header k-table-th","role","presentation",4,"ngIf"],[4,"ngFor","ngForOf"],["role","presentation",1,"k-group-cell","k-header","k-table-th"],["role","presentation",1,"k-hierarchy-cell","k-header","k-table-th"],["kendoGridLogicalCell","","role","columnheader","aria-selected","false","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","","class","k-header k-table-th",3,"logicalRowIndex","logicalColIndex","headerLabelText","colSpan","rowSpan","k-sorted","enableDrag","context","k-filterable","k-first","k-grid-header-sticky","ngClass","ngStyle","keydown",4,"ngIf"],["kendoGridLogicalCell","","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","","class","k-header k-table-th",3,"logicalRowIndex","logicalColIndex","rowSpan","colSpan","headerLabelText","enableDrag","context","k-first","k-filterable","k-grid-content-sticky","ngClass","ngStyle",4,"ngIf"],["kendoGridLogicalCell","","role","columnheader","aria-selected","false","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","",1,"k-header","k-table-th",3,"keydown","logicalRowIndex","logicalColIndex","headerLabelText","colSpan","rowSpan","enableDrag","context","ngClass","ngStyle"],[4,"ngIf"],["kendoGridColumnHandle","","kendoDraggable","","class","k-column-resizer",3,"isLast","column","columns",4,"ngIf"],[1,"k-cell-inner"],[1,"k-link"],[3,"templateContext"],[3,"column","filter","tabIndex",4,"ngIf"],[3,"standalone","settings","column","columnMenuTemplate","sort","filter","sortable","tabIndex",4,"ngIf"],[1,"k-column-title"],[3,"column","filter","tabIndex"],[3,"standalone","settings","column","columnMenuTemplate","sort","filter","sortable","tabIndex"],[1,"k-link",3,"click"],["role","note",3,"name","svgIcon",4,"ngIf"],["class","k-sort-order",4,"ngIf"],["role","note",3,"name","svgIcon"],[1,"k-sort-order"],["kendoGridSelectAllCheckbox","","kendoGridFocusable","",3,"inputAttributes"],["kendoGridColumnHandle","","kendoDraggable","",1,"k-column-resizer",3,"isLast","column","columns"],["kendoGridLogicalCell","","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","",1,"k-header","k-table-th",3,"logicalRowIndex","logicalColIndex","rowSpan","colSpan","headerLabelText","enableDrag","context","ngClass","ngStyle"],[3,"standalone","settings","column","columnMenuTemplate",4,"ngIf"],[3,"standalone","settings","column","columnMenuTemplate"],["kendoGridFilterRow","","kendoGridLogicalRow","",3,"columns","filter","groups","detailTemplate","lockedColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","totalColumns"]],template:function(i,s){1&i&&e.DNE(0,oN,4,8,"tr",1)(1,rN,1,10,"tr",2),2&i&&(e.Y8G("ngForOf",s.columnLevels),e.R7$(),e.Y8G("ngIf",s.showFilterRow))},dependencies:[w.pM,zu,w.bT,fc,md,E.T5,fm,w.YU,w.B3,E.b2,xm,Zu,ct.QK,Hm,ga,fS,qC,re.$W],encapsulation:2})}return n})(),CS=(()=>{class n{columnInfoService;ctx;columns=[];groups=[];detailTemplate;scrollable;lockedColumnsCount=0;logicalRowIndex=0;totalColumns;totalColumnsCount=0;get footerClass(){return!this.scrollable}hostClass=!0;hostRole="rowgroup";constructor(t,i){this.columnInfoService=t,this.ctx=i}get columnsToRender(){return Fa(this.columns||[])}get unlockedColumnsCount(){return this.totalColumnsCount-(this.isStacked?0:this.lockedColumnsCount)-this.columns.length}trackByIndex(t){return t}logicalColumnIndex(t){const i=t.leafIndex;return Oe(i)?i+(Oe(this.detailTemplate)?1:0):-1}addStickyStyles(t){const i=this.columnInfoService.stickyColumnsStyles(t);return{...t.footerStyle,...i}}isColumnGroupComponent(t){return xl(t)}get isStacked(){return this.ctx.grid?.isStacked}static \u0275fac=function(i){return new(i||n)(e.rXU(Qn),e.rXU(Me))};static \u0275cmp=e.VBU({type:n,selectors:[["","kendoGridFooter",""]],hostVars:5,hostBindings:function(i,s){2&i&&(e.BMQ("role",s.hostRole),e.AVh("k-grid-footer",s.footerClass)("k-table-tfoot",s.hostClass))},inputs:{columns:"columns",groups:"groups",detailTemplate:"detailTemplate",scrollable:"scrollable",lockedColumnsCount:"lockedColumnsCount",logicalRowIndex:"logicalRowIndex",totalColumns:"totalColumns",totalColumnsCount:"totalColumnsCount"},standalone:!0,features:[e.aNF],attrs:aN,decls:6,vars:9,consts:[["kendoGridLogicalRow","",1,"k-footer-template",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","totalColumns"],[4,"ngIf"],["role","presentation","class","k-table-td k-hierarchy-cell",4,"ngIf"],["class","k-table-td k-group-cell k-table-group-td","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"k-table-td","k-group-cell","k-table-group-td"],["role","presentation",1,"k-table-td","k-hierarchy-cell"],[4,"ngFor","ngForOf","ngForTrackBy"],["kendoGridLogicalCell","","class","k-table-td","role","gridcell","aria-selected","false",3,"logicalRowIndex","logicalColIndex","k-grid-footer-sticky","ngClass","ngStyle",4,"ngIf"],["kendoGridLogicalCell","","role","gridcell","aria-selected","false",1,"k-table-td",3,"logicalRowIndex","logicalColIndex","ngClass","ngStyle"],[3,"templateContext"],["kendoGridLogicalCell","","role","gridcell","aria-selected","false",1,"k-table-td",3,"logicalRowIndex","logicalColIndex"],[1,"k-grid-column-template"],["class","k-column-template-item",4,"ngIf"],[1,"k-column-template-item"]],template:function(i,s){1&i&&(e.qex(0),e.j41(1,"tr",0),e.DNE(2,cN,2,1,"ng-container",1)(3,dN,1,0,"td",2)(4,mN,2,2,"ng-container",1)(5,vN,4,4,"ng-container",1),e.k0s(),e.bVm()),2&i&&(e.R7$(),e.Y8G("logicalRowIndex",s.logicalRowIndex)("logicalSlaveRow",s.lockedColumnsCount>0&&!s.isStacked)("logicalCellsCount",s.columns.length)("logicalSlaveCellsCount",s.unlockedColumnsCount)("totalColumns",s.totalColumns),e.R7$(),e.Y8G("ngIf",!s.isStacked),e.R7$(),e.Y8G("ngIf",(null==s.detailTemplate?null:s.detailTemplate.templateRef)&&!s.isStacked),e.R7$(),e.Y8G("ngIf",!s.isStacked),e.R7$(),e.Y8G("ngIf",s.isStacked))},dependencies:[zu,w.pM,w.bT,fc,w.YU,w.B3,E.b2],encapsulation:2})}return n})(),SS=(()=>{class n extends Un{parent;template;constructor(t,i){super(t,i),this.parent=t}get templateRef(){return this.template?this.template.templateRef:void 0}set cellRowspan(t){super.cellRowspan=t}get cellRowspan(){return super.cellRowspan}static \u0275fac=function(i){return new(i||n)(e.rXU(Un,13),e.rXU(Ro,8))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-command-column"]],contentQueries:function(i,s,r){if(1&i&&e.wni(r,mc,5),2&i){let l;e.mGM(l=e.lsd())&&(s.template=l.first)}},standalone:!0,features:[e.Jv_([{provide:Un,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),bS=(()=>{class n extends Un{selectionService;cellSelectionService;parent;showSelectAll;showDisabledCheckbox=!0;isCheckboxColumn=!0;template;constructor(t,i,s,r){super(s,r),this.selectionService=t,this.cellSelectionService=i,this.parent=s}get templateRef(){return this.template?this.template.templateRef:void 0}rowSelectable(t){return!this.selectionService.nonSelectableRows.has(t)&&!this.cellSelectionService.nonSelectableRows.has(t)}set cellRowspan(t){super.cellRowspan=t}get cellRowspan(){return super.cellRowspan}static \u0275fac=function(i){return new(i||n)(e.rXU(wr),e.rXU(Gl),e.rXU(Un,13),e.rXU(Ro,8))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-checkbox-column"]],contentQueries:function(i,s,r){if(1&i&&e.wni(r,mc,5),2&i){let l;e.mGM(l=e.lsd())&&(s.template=l.first)}},inputs:{showSelectAll:"showSelectAll",showDisabledCheckbox:"showDisabledCheckbox"},standalone:!0,features:[e.Jv_([{provide:Un,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),ES=(()=>{class n{selectionService;cellSelectionService;aggregateService;el;renderer;ngZone;checkbox;itemIndex;destroyClick;destroyKeyDown;ngAfterContentChecked(){this.setCheckedState()}constructor(t,i,s,r,l,u,f){this.selectionService=t,this.cellSelectionService=i,this.aggregateService=s,this.el=r,this.renderer=l,this.ngZone=u,this.checkbox=f,this.ngZone.runOutsideAngular(()=>{this.destroyClick=this.renderer.listen(this.el.nativeElement,"click",this.onClick.bind(this)),this.destroyKeyDown=this.renderer.listen(this.el.nativeElement,"keydown",this.onKeyDown.bind(this))})}ngOnDestroy(){this.destroyClick&&this.destroyClick(),this.destroyKeyDown&&this.destroyKeyDown()}onClick(t){this.selectionService.nonSelectableRows.has(this.itemIndex)||this.cellSelectionService.nonSelectableRows.has(this.itemIndex)||this.cellSelectionService.options.cell?t.preventDefault():this.selectionService.options.enabled&&this.ngZone.run(()=>{let s;s=t.shiftKey&&"multiple"===this.selectionService.options.mode?this.selectionService.addAllTo({index:this.itemIndex},t.ctrlKey||t.metaKey,!1,t.shiftKey):this.selectionService.toggleByIndex(this.itemIndex),s.ctrlKey=t.ctrlKey,s.shiftKey=t.shiftKey,this.selectionService.options.cellAggregates&&(s.cellAggregates=this.aggregateService.onSelectionChange(s)),this.selectionService.changes.emit(s)})}onKeyDown(t){(t.code===E.D$.Enter||t.code===E.D$.NumpadEnter)&&this.onClick(t)}setCheckedState(){const t=!this.selectionService.nonSelectableRows.has(this.itemIndex)&&this.selectionService.isSelected(this.itemIndex);this.checkbox?this.checkbox.checkedState=t:this.renderer.setProperty(this.el.nativeElement,"checked",t)}static \u0275fac=function(i){return new(i||n)(e.rXU(wr),e.rXU(Gl),e.rXU(Dd),e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(e.SKi),e.rXU(re.$W,9))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridSelectionCheckbox",""]],inputs:{itemIndex:[e.Mj6.None,"kendoGridSelectionCheckbox","itemIndex"]},standalone:!0})}return n})(),Td=(()=>{class n{ngZone;changes=new e.bkB;subscription;constructor(t){this.ngZone=t}notify(){(!this.subscription||this.subscription.closed)&&(this.subscription=this.ngZone.onStable.asObservable().pipe((0,st.s)(1)).subscribe(()=>this.changes.emit()))}static \u0275fac=function(i){return new(i||n)(e.KVO(e.SKi))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),Xm=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridNoRecordsTemplate",""]],standalone:!0})}return n})();function Wm(n,o){return"data"===o.type&&o.isEditing?o.data:n}const kS="k-hierarchy-cell k-detail-cell k-group-cell";let RS=(()=>{class n{editService;idService;ctx;detailsService;localization;cellContext;get commandCellClass(){return this.isCommand(this.column)}get dragHandleCellClass(){return um(this.column)}get dragRowHandleLabel(){return um(this.column)?this.ctx.localization.get("dragRowHandleLabel"):void 0}column;columns;columnIndex;isNew=!1;isLoading=!1;isVirtual=!1;loadingTemplate;detailTemplate;item;set rowIndex(t){this._rowIndex=t,this.updateCellContext()}get rowIndex(){return this._rowIndex}dataItem;reorderIcon=ne.Zu2;minusIcon=ne.cmS;plusIcon=ne.WWM;detailButtonIconName(t){return t.isExpanded?"minus":"plus"}detailButtonSvgIcon(t){return t.isExpanded?this.minusIcon:this.plusIcon}detailButtonText(t){return this.localization.get(t.isExpanded?"detailCollapse":"detailExpand")}toggleRow(t,i){return this.detailsService.toggleRow(t,i),!1}get stackedRowClass(){const t=this.ctx.grid.stackedColumns?.columns.length;if(this.ctx.grid.stackedColumns.areDefault&&t>1)return`k-grid-cols-${t}`}get stackedRowStyle(){const t=this.ctx.grid.stackedColumns.columns.map(i=>i.width).join(" ");if(!this.ctx.grid.stackedColumns.areDefault&&t)return{"grid-template-columns":`${t}`}}isEdited(t){const i=t||this.column;if(!this.editService.isEditing()&&!this.isNew||!this.isColumnEditable(t))return!1;const s=this.editService.columnContext(this.rowIndex,i);return this.isFieldEditable(s,i)}get showLoading(){return this.isVirtual&&this.isLoading}get formGroup(){return this.editService.context(this.rowIndex).group}getTemplateContext(t){return this._templateContext.isNew=this.isNew,this._templateContext.column=t||this.column,this._templateContext.dataItem=this.dataItem,this._templateContext.rowIndex=this.rowIndex,this._templateContext.columnIndex=this.columnIndex,this._templateContext.$implicit=this.dataItem,this._templateContext}get isStackedLayoutMode(){return this.ctx.grid?.isStacked}getEditTemplateContext(t){return this._editTemplateContext.$implicit=this.formGroup,this._editTemplateContext.isNew=this.isNew,this._editTemplateContext.column=t||this.column,this._editTemplateContext.dataItem=this.dataItem,this._editTemplateContext.formGroup=this.formGroup,this._editTemplateContext.rowIndex=this.rowIndex,this._editTemplateContext}get rowReorderTemplateContext(){return this._rowReorderTemplateContext.$implicit=this.dataItem,this._rowReorderTemplateContext.columnIndex=this.columnIndex,this._rowReorderTemplateContext.rowIndex=this.rowIndex,this._rowReorderTemplateContext}get format(){if(hd(this.column)&&!Jn(this.column.format))return sm(this.column.format)}isBoundColumn(t){const i=t||this.column;return i.field&&!i.templateRef}isCheckboxColumn(t){const i=t||this.column;return iC(i)&&!i.templateRef}get selectionCheckboxId(){return this.idService.selectionCheckboxId(this.rowIndex)}get selectionCheckboxLabel(){return this.ctx.localization.get("selectionCheckboxLabel")}get isSpanColumn(){return dm(this.column)&&!this.column.templateRef}get children(){return Fa([this.column])}isRowReorderColumn(t){const i=t||this.column;return um(i)&&!i.templateRef}isRowSelectable(t){return(t||this.column).rowSelectable(this._rowIndex)}_rowIndex;isColumnEditable(t){const i=t||this.column;return!(!i||this.isCommand(i))&&!1!==i.editable}_templateContext={};_editTemplateContext={};_rowReorderTemplateContext={};constructor(t,i,s,r,l,u){this.editService=t,this.idService=i,this.ctx=s,this.detailsService=r,this.localization=l,this.cellContext=u}ngDoCheck(){this.updateCellContext()}isCommand(t){return t instanceof SS}isFieldEditable(t,i){return!!Oe(t)&&(!!Oe(i.editTemplate)||Oe(t.group)&&Oe(t.group.get(i.field)))}updateCellContext(){this.cellContext&&(this.cellContext.rowIndex=this._rowIndex)}static \u0275fac=function(i){return new(i||n)(e.rXU(Us),e.rXU(Ro),e.rXU(Me),e.rXU(Il),e.rXU(ve.Pi),e.rXU(el,8))};static \u0275cmp=e.VBU({type:n,selectors:[["","kendoGridCell",""]],hostVars:7,hostBindings:function(i,s){2&i&&(e.BMQ("aria-label",s.dragRowHandleLabel),e.AVh("k-command-cell",s.commandCellClass)("k-drag-cell",s.dragHandleCellClass)("k-touch-action-none",s.dragHandleCellClass))},inputs:{column:"column",columns:"columns",columnIndex:"columnIndex",isNew:"isNew",isLoading:"isLoading",isVirtual:"isVirtual",loadingTemplate:"loadingTemplate",detailTemplate:"detailTemplate",item:"item",rowIndex:"rowIndex",dataItem:"dataItem"},standalone:!0,features:[e.aNF],attrs:CN,decls:2,vars:2,consts:[["headerTemplate",""],["template",""],["nonSelectableRow",""],["loading",""],[4,"ngIf"],[1,"k-grid-stack-row",3,"ngClass","ngStyle"],["class","k-grid-stack-cell",3,"k-grid-stack-edit-cell","k-drag-cell","k-command-cell","kendoGridFocusable",4,"ngFor","ngForOf"],["class","k-grid-stack-cell",4,"ngIf"],[1,"k-grid-stack-cell",3,"kendoGridFocusable"],[1,"k-grid-stack-header"],[4,"ngIf","ngIfElse"],[3,"templateContext"],[1,"k-grid-stack-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"kendoGridSelectionCheckbox","inputAttributes","title"],[3,"kendoGridSelectionCheckbox","inputAttributes","title","disabled",4,"ngIf"],[3,"kendoGridSelectionCheckbox","inputAttributes","title","disabled"],["name","reorder",3,"svgIcon",4,"ngIf"],["name","reorder",3,"svgIcon"],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],["kendoGridFocusable","",3,"format","formControl",4,"ngSwitchCase"],["kendoGridFocusable","",3,"formControl",4,"ngSwitchCase"],["kendoGridFocusable","",3,"formControl",4,"ngSwitchDefault"],["kendoGridFocusable","",3,"format","formControl"],["kendoGridFocusable","",3,"formControl"],[1,"k-grid-stack-cell"],["kendoButton","","fillMode","flat","themeColor","primary",3,"click","icon","svgIcon"],[4,"ngSwitchCase"],[4,"ngFor","ngForOf"],["class","k-skeleton-text k-skeleton",4,"ngIf"],[1,"k-skeleton-text","k-skeleton"]],template:function(i,s){1&i&&e.DNE(0,jN,4,4,"ng-container",4)(1,CG,4,3,"ng-container",4),2&i&&(e.Y8G("ngIf",s.isStackedLayoutMode),e.R7$(),e.Y8G("ngIf",!s.isStackedLayoutMode))},dependencies:[w.ux,w.e1,w.bT,w.T3,w.pM,ga,ES,E.b2,ct.QK,re.Jh,nc,w.fG,Em,Ne.X1,Ne.BC,Ne.l_,re.$W,re.OV,w.YU,w.B3,Te.Qp],encapsulation:2})}return n})(),Ym=(()=>{class n{detailsService;groupsService;changeNotification;editService;ctx;ngZone;renderer;element;domEvents;selectionService;cellSelectionService;columnInfoService;navigationService;columns=[];allColumns;groups=[];detailTemplate;noRecordsTemplate;rowsToRender;skip=0;selectable;filterable;noRecordsText;isLocked=!1;isLoading;isVirtual;cellLoadingTemplate;skipGroupDecoration=!1;lockedColumnsCount=0;totalColumnsCount=0;virtualColumns;trackBy=Wm;rowSticky;totalColumns;rowClass=()=>null;hostClass=!0;groupHeaderSlaveCellsCount;groupHeaderColumns;clickSubscription;touchSubscription;l10nSubscription;cellKeydownSubscription;clickTimeout;minusIcon=ne.cmS;plusIcon=ne.WWM;constructor(t,i,s,r,l,u,f,C,T,O,G,P,Q){this.detailsService=t,this.groupsService=i,this.changeNotification=s,this.editService=r,this.ctx=l,this.ngZone=u,this.renderer=f,this.element=C,this.domEvents=T,this.selectionService=O,this.cellSelectionService=G,this.columnInfoService=P,this.navigationService=Q,this.noRecordsText=this.ctx.localization.get("noRecords"),this.cellKeydownSubscription=this.navigationService.cellKeydown.subscribe(z=>this.cellKeydownHandler(z)),this.trackByWrapper=this.trackByWrapper.bind(this),this.trackByColumns=this.trackByColumns.bind(this)}get newDataItem(){return this.editService.newDataItem}unlockedColumnsCount(t){const i=this.allColumns||this.columns;let s=i.length;return i.forEach(u=>{u.isSpanColumn&&(s+=u.colspan-1)}),t&&"data"===t.type?this.totalColumnsCount-(this.isStackedMode?0:this.lockedColumnsCount)-s:this.totalColumnsCount-(this.isStackedMode?0:this.lockedColumnsCount)-i.length}isAriaSelected(t,i){return this.cellSelectionService.isCellSelected(t,i)||this.isRowSelected(t)?"true":"false"}toggleRow(t,i){return this.detailsService.toggleRow(t,i),!1}detailButtonIconName(t){return t.isExpanded?"minus":"plus"}detailButtonSvgIcon(t){return t.isExpanded?this.minusIcon:this.plusIcon}detailButtonTitle(t){return this.ctx.localization.get(t.isExpanded?"detailCollapse":"detailExpand")}isOdd(t){return t.index%2!=0}isSelectable(t){const i=this.isRowSelectable(t);return this.selectable&&!1!==this.selectable.enabled&&i}isRowSelected(t){return this.selectionService.isSelected(t.index)}isRowSelectable(t){return this.selectionService.settings?.isRowSelectable(t)||this.cellSelectionService.settings?.isRowSelectable(t)}trackByWrapper(t,i){return"data"===i.type&&(i.isEditing=this.editService.hasEdited(i.index)),this.trackBy(t,i)}trackByColumns(t,i){return this.virtualColumns?t:i}ngDoCheck(){this.groupHeaderColumns=this.hasGroupHeaderColumn?Fa(this.skipGroupDecoration?this.columns:this.columns.toArray().slice(1)):[],this.groupHeaderSlaveCellsCount=this.isLocked?this.hasGroupHeaderColumn?this.columnsContainer.nonLockedColumnsToRender.length:1:0}ngAfterViewChecked(){this.rowSticky&&this.applyStickyRowsStyling()}ngOnChanges(t){(0,E.Hq)("columns",t,!1)&&this.changeNotification.notify()}logicalRowIndex(t){let i=this.skip+t;this.hasDetailTemplate&&!this.isStackedMode&&(i*=2);const s=this.isStackedMode?i:1+i,r=this.editService.hasNewItem?1:0,l=Id(this.filterable)?1:0;return s+(this.columnInfoService.totalLevels+l+r)}addRowLogicalIndex(){return this.columnInfoService.totalLevels+1+(Id(this.filterable)?1:0)}logicalColIndex(t){return Oe(t.leafIndex)?t.leafIndex+(this.hasDetailTemplate?1:0):-1}ngOnInit(){this.ngZone.runOutsideAngular(()=>{const i=this.clickHandler.bind(this),s=this.renderer.listen(this.element.nativeElement,"mousedown",i),r=this.renderer.listen(this.element.nativeElement,"mouseup",i),l=this.renderer.listen(this.element.nativeElement,"click",i),u=this.renderer.listen(this.element.nativeElement,"contextmenu",i),f=this.renderer.listen(this.element.nativeElement,"touchstart",i),C=this.renderer.listen(this.element.nativeElement,"touchend",i);this.clickSubscription=()=>{s(),r(),l(),u()},this.touchSubscription=()=>{f(),C()}});let t=this.ctx.localization.get("noRecords");this.l10nSubscription=this.ctx.localization.changes.subscribe(()=>{this.noRecordsText===t&&(this.noRecordsText=this.ctx.localization.get("noRecords"),t=this.noRecordsText)})}ngOnDestroy(){this.clickSubscription&&this.clickSubscription(),this.touchSubscription&&this.touchSubscription(),this.l10nSubscription&&this.l10nSubscription.unsubscribe(),this.cellKeydownSubscription.unsubscribe(),clearTimeout(this.clickTimeout)}isEditingCell(t,i){return this.editService.isEditing()&&this.editService.isEditedColumn(t,i)}isEditingRow(t){return this.editService.isEditing()&&this.editService.hasEdited(t)}get isStackedMode(){return this.ctx.grid?.isStacked}get hasGroupHeaderColumn(){return this.columnsContainer.hasGroupHeaderColumn}get columnsContainer(){return this.columnInfoService.columnsContainer}get columnsSpan(){return Vu(this.columns)}get allColumnsSpan(){return Vu(this.allColumns||this.columns)}get colSpan(){return this.columnsSpan+this.groups.length+(this.hasDetailTemplate?1:0)}get footerColumns(){return Array.from(this.columns).reduce((i,s)=>[...i,...s instanceof aC?Array.from(s.children):[s]],[])}showGroupHeader(t){return!t.data.skipHeader}addStickyColumnStyles(t){const i=this.columnInfoService.stickyColumnsStyles(t);return{...t.style,...i}}resizeHandler(){this.applyStickyRowsStyling()}get hasDetailTemplate(){return Oe(this.detailTemplate)}clickHandler(t){const i=this.element.nativeElement,s=this.eventTarget(t),r=this.selectable&&!1!==this.selectable.enabled;if(t.code===E.D$.Space){if(!r)return;const P=bn(s,this.isStackedMode?as("td"):z=>{as("td")&&ma(z,"k-grid-stack-content")})?.classList.contains("k-focus");P&&!(t.shiftKey||t.ctrlKey||t.metaKey)&&t.preventDefault()}let l,u,f;const C=s;if(!bn(C,G=>as("tbody")(G)&&G===i))return;let O=bn(C,G=>{if(!as("td")(G))return!1;const P=G.parentElement;return!(!P||!as("tr")(P))&&P.parentElement===i});if(O&&(l=O.parentElement,u=i,f=null),O&&!ma(O,kS)&&!ma(l,"k-grouping-row k-group-footer k-detail-row k-grid-norecords")&&u===i&&!f){const G=ma(C,"k-grid-stack-cell");this.isStackedMode&&(O=bn(C,z=>{if(!am(s,Fr("k-grid-stack-row"),O))return!1;const de=G?C:z.parentElement;return de&&ma(de,"k-grid-stack-cell")}),G&&(O=kr(C,z=>ma(z,"k-grid-stack-content"))),O&&(l=O.parentElement.parentElement)),this.editService.preventCellClose();const P=!G&&s!==O&&dd(s,!1),Q=!!G||!am(s,Fr("k-grid k-grid-ignore-click"),O);if(!P&&!as("label")(s)&&!ma(s,"k-icon k-svg-icon")&&Q){const z=this.cellClickArgs(O,l,t);if(!z||r&&!this.isRowSelectable({index:z.rowIndex,dataItem:z.dataItem}))return;"mousedown"===t.type||"touchstart"===t.type?this.domEvents.cellMousedown.emit(z):"mouseup"===t.type||"touchend"===t.type?this.domEvents.cellMouseup.emit(z):(z.isEditedColumn||!this.editService.closeCell(t))&&("click"===t.type?this.clickTimeout=setTimeout(()=>{this.emitCellClick(z)},0):this.emitCellClick(z))}}}emitCellClick(t){this.domEvents.cellClick.emit(Object.assign(t,{isEdited:t.isEditedRow||t.isEditedColumn}))}cellKeydownHandler(t){(t.code===E.D$.Enter||t.code===E.D$.NumpadEnter||t.code===E.D$.Space||this.navigationService.tableCellEntered&&t.code===E.D$.F2)&&this.clickHandler(t)}cellClickArgs(t,i,s){const l=((n,o,t)=>{let i=0;for(let s=0;s<o.length;s++){if(n===o[s]||t&&n.parentNode===o[s])return i;ma(o[s],"k-hierarchy-cell k-group-cell")||i++}})(t,this.isStackedMode?i.querySelectorAll(".k-grid-stack-cell"):i.cells,this.isStackedMode);if(!Oe(l))return;const u=this.columns.toArray()[l],f=(this.isStackedMode?0:this.lockedColumnsCount)+l;let C=(this.isStackedMode?i.parentElement.parentElement:i).getAttribute("data-kendo-grid-item-index");return C=C?parseInt(C,10):-1,{column:u,columnIndex:f,dataItem:-1===C?this.editService.newDataItem:this.rowsToRender.find(Q=>+Q.index===C&&"data"===Q.type)?.data,isEditedColumn:this.editService.isEditedColumn(C,u),isEditedRow:this.editService.isEdited(C),originalEvent:s,rowIndex:C,type:"keydown"===s.type?"click":s.type}}eventTarget(t){if((0,E.nm)()){if("touchend"===t.type){const i=t.changedTouches[0];return document.elementFromPoint(i.clientX,i.clientY)}return t.target}}applyStickyRowsStyling(){if(!(0,E.nm)())return;const t=(n=>[].slice.call(n))(this.element.nativeElement.querySelectorAll(".k-grid-row-sticky"));if(t.length){let s=0;const r=[];t.forEach(l=>{const u=l.getBoundingClientRect().height;r.push({accumulatedHeight:s,rowHeight:u}),s+=u}),t.forEach((l,u)=>{this.renderer.setStyle(l,"top",`${r[u].accumulatedHeight}px`),this.renderer.setStyle(l,"bottom",s-r[u].accumulatedHeight-r[u].rowHeight+"px")})}}static \u0275fac=function(i){return new(i||n)(e.rXU(Il),e.rXU(tl),e.rXU(Td),e.rXU(Us),e.rXU(Me),e.rXU(e.SKi),e.rXU(e.sFG),e.rXU(e.aKT),e.rXU(kl),e.rXU(wr),e.rXU(Gl),e.rXU(Qn),e.rXU(ar))};static \u0275cmp=e.VBU({type:n,selectors:[["","kendoGridTableBody",""]],hostVars:2,hostBindings:function(i,s){2&i&&e.AVh("k-table-tbody",s.hostClass)},inputs:{columns:"columns",allColumns:"allColumns",groups:"groups",detailTemplate:"detailTemplate",noRecordsTemplate:"noRecordsTemplate",rowsToRender:"rowsToRender",skip:"skip",selectable:"selectable",filterable:"filterable",noRecordsText:"noRecordsText",isLocked:"isLocked",isLoading:"isLoading",isVirtual:"isVirtual",cellLoadingTemplate:"cellLoadingTemplate",skipGroupDecoration:"skipGroupDecoration",lockedColumnsCount:"lockedColumnsCount",totalColumnsCount:"totalColumnsCount",virtualColumns:"virtualColumns",trackBy:"trackBy",rowSticky:"rowSticky",totalColumns:"totalColumns",rowClass:"rowClass"},standalone:!0,features:[e.OA$,e.aNF],attrs:SG,decls:4,vars:5,consts:[["columnsTemplate",""],[4,"ngIf"],["class","k-grid-norecords","role","row",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"resize",4,"ngIf"],["kendoGridLogicalRow","",1,"k-grid-add-row","k-grid-edit-row","k-master-row",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","totalColumns"],["class","k-hierarchy-cell k-table-td","kendoGridLogicalCell","","aria-selected","false",3,"logicalRowIndex","logicalColIndex",4,"ngIf"],[4,"ngIf","ngIfElse"],["class","k-group-cell k-table-td k-table-group-td","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"k-group-cell","k-table-td","k-table-group-td"],["kendoGridLogicalCell","","aria-selected","false",1,"k-hierarchy-cell","k-table-td",3,"logicalRowIndex","logicalColIndex"],["class","k-table-td","kendoGridCell","","kendoGridLogicalCell","",3,"rowIndex","columnIndex","isNew","columns","dataItem","logicalRowIndex","logicalColIndex",4,"ngFor","ngForOf","ngForTrackBy"],["kendoGridCell","","kendoGridLogicalCell","",1,"k-table-td",3,"rowIndex","columnIndex","isNew","columns","dataItem","logicalRowIndex","logicalColIndex"],["class","k-table-td","kendoGridCell","","kendoGridLogicalCell","",3,"rowIndex","columnIndex","isNew","column","dataItem","k-grid-content-sticky","ngClass","left","ngStyle","logicalRowIndex","logicalColIndex","colSpan",4,"ngFor","ngForOf","ngForTrackBy"],["kendoGridCell","","kendoGridLogicalCell","",1,"k-table-td",3,"rowIndex","columnIndex","isNew","column","dataItem","ngClass","ngStyle","logicalRowIndex","logicalColIndex","colSpan"],["role","row",1,"k-grid-norecords"],[1,"k-table-td"],[3,"templateContext"],["kendoGridGroupHeader","","kendoGridLogicalRow","",3,"columns","groups","item","hasDetails","skipGroupDecoration","hasGroupHeaderColumn","groupHeaderColumns","rowIndex","totalColumnsCount","logicalRowIndex","logicalSlaveRow","totalColumns","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoGridLogicalRow","",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","totalColumns","logicalCellsCount","logicalSlaveCellsCount","class","k-grid-row-sticky","ngClass","k-master-row","k-expanded","k-grid-edit-row","k-selected","k-highlighted",4,"ngIf"],["class","k-detail-row","kendoGridLogicalRow","",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount",4,"ngIf"],["class","k-group-footer","kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","totalColumns","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoGridGroupHeader","","kendoGridLogicalRow","",3,"columns","groups","item","hasDetails","skipGroupDecoration","hasGroupHeaderColumn","groupHeaderColumns","rowIndex","totalColumnsCount","logicalRowIndex","logicalSlaveRow","totalColumns","logicalCellsCount","logicalSlaveCellsCount"],["kendoGridLogicalRow","",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","totalColumns","logicalCellsCount","logicalSlaveCellsCount","ngClass"],["class","k-hierarchy-cell k-table-td","kendoGridLogicalCell","","aria-selected","false","role","gridcell",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","detailExpandCell",4,"ngIf"],["kendoGridLogicalCell","","aria-selected","false","role","gridcell",1,"k-hierarchy-cell","k-table-td",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","detailExpandCell"],["href","#","tabindex","-1",3,"click",4,"ngIf"],["href","#","tabindex","-1",3,"click"],[3,"name","svgIcon"],["kendoGridCell","","kendoGridLogicalCell","",1,"k-table-td",3,"rowIndex","detailTemplate","item","columnIndex","columns","dataItem","isLoading","isVirtual","loadingTemplate","logicalRowIndex","logicalColIndex","dataRowIndex","colIndex"],["kendoGridCell","","kendoGridLogicalCell","","class","k-table-td",3,"rowIndex","columnIndex","column","columns","dataItem","isLoading","isVirtual","loadingTemplate","logicalRowIndex","logicalColIndex","dataRowIndex","colIndex","colSpan","rowSpan","k-grid-content-sticky","k-touch-action-none","ngClass","k-grid-edit-cell","ngStyle","k-selected","k-highlighted",4,"ngIf"],["kendoGridCell","","kendoGridLogicalCell","",1,"k-table-td",3,"rowIndex","columnIndex","column","columns","dataItem","isLoading","isVirtual","loadingTemplate","logicalRowIndex","logicalColIndex","dataRowIndex","colIndex","colSpan","rowSpan","ngClass","ngStyle"],["kendoGridLogicalRow","",1,"k-detail-row",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount"],["class","k-group-cell k-table-td k-table-group-td",4,"ngFor","ngForOf"],[1,"k-hierarchy-cell","k-table-td"],["kendoGridLogicalCell","","role","gridcell","aria-selected","false",1,"k-detail-cell","k-table-td",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","colIndex","colSpan"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-group-cell","k-table-td","k-table-group-td"],["kendoGridLogicalRow","",1,"k-group-footer",3,"logicalRowIndex","logicalSlaveRow","totalColumns","logicalCellsCount","logicalSlaveCellsCount"],["kendoGridLogicalCell","","class","k-table-td",3,"logicalRowIndex","logicalColIndex",4,"ngFor","ngForOf","ngForTrackBy"],["kendoGridLogicalCell","",1,"k-table-td",3,"logicalRowIndex","logicalColIndex"],[1,"k-grid-column-template"],[4,"ngFor","ngForOf"],["class","k-column-template-item",4,"ngIf"],[1,"k-column-template-item"],[3,"resize"]],template:function(i,s){1&i&&e.DNE(0,xG,7,9,"ng-container",1)(1,NG,4,3,"tr",2)(2,aA,5,4,"ng-container",3)(3,lA,1,0,"kendo-resize-sensor",4),2&i&&(e.Y8G("ngIf",s.editService.hasNewItem),e.R7$(),e.Y8G("ngIf",!(null!=s.rowsToRender&&s.rowsToRender.length)),e.R7$(),e.Y8G("ngForOf",s.rowsToRender)("ngForTrackBy",s.trackByWrapper),e.R7$(),e.Y8G("ngIf",s.rowSticky))},dependencies:[w.bT,zu,w.pM,fc,RS,w.YU,w.B3,E.b2,EC,ct.QK,w.T3,E.M0],encapsulation:2})}return n})(),wS=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridCellLoadingTemplate",""]],standalone:!0})}return n})();class qm extends e.bkB{ngZone;constructor(o,t=!1){super(t),this.ngZone=o}subscribe(o,t,i){let s,r=u=>null,l=()=>null;return o&&"object"==typeof o?(s=u=>{this.ngZone.run(()=>o.next(u))},o.error&&(r=u=>{this.ngZone.run(()=>o.error(u))}),o.complete&&(l=()=>{this.ngZone.run(()=>o.complete())})):(s=u=>{this.ngZone.run(()=>o(u))},t&&(r=u=>{this.ngZone.run(()=>t(u))}),i&&(l=()=>{this.ngZone.run(()=>i())})),super.subscribe(s,r,l)}}const TS={name:"@progress/kendo-angular-grid",productName:"Kendo UI for Angular",productCode:"KENDOUIANGULAR",productCodes:["KENDOUIANGULAR"],publishDate:1755030618,version:"19.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"},xS=()=>(0,E.nm)()&&document.createElement;let OS,ih=null,Jm=null,Qm=(()=>{class n{zone;changeDetector;changes=new e.bkB;subscriptions;constructor(t,i){this.zone=t,this.changeDetector=i,!(typeof window>"u")&&this.zone.runOutsideAngular(()=>{this.subscriptions=(0,Ot.R)(window,"resize").pipe((0,Ji.Z)(100)).subscribe(()=>{OS!==window.devicePixelRatio&&t.run(()=>{ih=null,this.changes.emit(),this.changeDetector.markForCheck()})})})}ngOnDestroy(){this.subscriptions&&(this.subscriptions.unsubscribe(),this.subscriptions=null)}get scrollbarWidth(){return function NU(){if(null===ih&&xS()){OS=window.devicePixelRatio||1;const n=document.createElement("div");n.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",n.innerHTML="&nbsp;",document.body.appendChild(n),ih=n.offsetWidth-n.scrollWidth,document.body.removeChild(n)}return ih}()}get rtlScrollLeft(){return function GU(){if(null===Jm&&xS()){const n=document.createElement("div");n.style.direction="rtl",n.style.display="block",n.style.clear="both",n.style.width="100px",n.style.visibility="hidden",n.style.position="absolute",n.style.left="-10000px",n.style.overflow="scroll",n.style.zoom="1";const o=document.createElement("div");o.style.width="200px",o.style.height="1px",n.append(o),document.body.appendChild(n);const t=n.scrollLeft;n.scrollLeft=-1,Jm=n.scrollLeft<0?n.scrollLeft:t,document.body.removeChild(n)}return Jm}()}static \u0275fac=function(i){return new(i||n)(e.KVO(e.SKi),e.KVO(e.gRc))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();const Zm=n=>void 0!==n.items&&void 0!==n.field,MS=n=>n.reduce((o,t)=>Zm(t)?o.concat(MS(t.items)):o.concat([t]),[]),yS=(n,{footers:o,level:t,dataIndex:i,parentGroupIndex:s,groupIndex:r,parentGroup:l})=>{const u=n[0];return Oe(u)&&Zm(u)?((n=>void 0!==n.offset&&void 0!==n.skipHeader)(u)&&(r=Oe(u.offset)?u.offset:r),new UU(n,o,t,i,s,r,l)):new BU(n,i,s,l)};class FU{arr;idx;constructor(o,t=0){this.arr=o,this.idx=t,this.arr=o||[]}[pa](){return this}next(){return this.idx<this.arr.length?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}}}class NS{dataIndex;resultMap;_innerIterator;constructor(o,t=0,i=(s=>s)){this.dataIndex=t,this.resultMap=i,this._innerIterator=o[pa]?o[pa]():new FU(o)}[pa](){return this}next(){return this.resultMap(this._innerIterator.next(),this.dataIndex++)}}class BU extends NS{constructor(o,t,i,s){super(o,t,(r,l)=>({done:r.done,value:{data:r.value,groupIndex:i,index:l,type:"data",group:s}}))}get index(){return this.dataIndex}}class UU{arr;outputFooters;level;dataIndex;parentIndex;groupIndex;parentGroup;current;_innerIterator;_iterator;currentGroupIndex="";constructor(o,t=!1,i=0,s=0,r="",l=0,u=void 0){this.arr=o,this.outputFooters=t,this.level=i,this.dataIndex=s,this.parentIndex=r,this.groupIndex=l,this.parentGroup=u,this.arr=o||[],this._iterator=new NS(this.arr,this.dataIndex)}[pa](){return this}nextGroupItem(){return this.current=this._iterator.next().value,this._innerIterator=null,this.current?(this.currentGroupIndex=((n,o)=>`${n&&n+"_"}${this.groupIndex++}`)(this.parentIndex),{done:!1,value:{data:this.current,index:this.currentGroupIndex,level:this.level,type:"group",parentGroup:this.parentGroup}}):(this.current=null,{done:!0,value:void 0})}footerItem(){if(this.current){const o=this.current;return this.current=null,{done:!1,value:{data:o,groupIndex:this.currentGroupIndex,level:this.level,type:"footer",group:{data:o,index:this.currentGroupIndex,level:this.level,type:"group",parentGroup:this.parentGroup}}}}return this.current=null,{done:!0,value:void 0}}innerIterator(o){return this._innerIterator||(this._innerIterator=yS(o.items,{dataIndex:this.dataIndex,footers:this.outputFooters,level:this.level+1,parentGroupIndex:this.currentGroupIndex,parentGroup:{data:this.current,index:this.currentGroupIndex,level:this.level,type:"group",parentGroup:this.parentGroup}})),this._innerIterator}nextDataItem(o){const i=this.innerIterator(o).next();return Oe(i.value)&&!i.done&&"data"===i.value.type&&(this.dataIndex=i.value.index+1),i.done?void 0:i}next(){return Oe(this.current)?this.nextDataItem(this.current)||(this.outputFooters?this.footerItem():this.nextGroupItem()):this.nextGroupItem()}get index(){return this.dataIndex+1}}class VU{source;skip;groupFooters;isObject;constructor(o,t=0,i=!1){this.source=o,this.skip=t,this.groupFooters=i,this.source=this.source?this.source:[],this.isObject=this.isGridDataResult(this.source)}isGridDataResult(o){return void 0!==o.total&&void 0!==o.data}get total(){return this.isObject?this.source.total:this.source.length}get data(){return this.isObject?this.source.data:this.source}map(o){return this.data.map(o)}filter(o){return this.data.filter(o)}reduce(o,t){return this.data.reduce(o,t)}forEach(o){this.data.forEach(o)}some(o){return this.data.some(o)}[pa](){return yS(this.data,{dataIndex:this.skip,footers:this.groupFooters,groupIndex:this.skip})}toString(){return this.data.toString()}}class zU{accessor;constructor(o){this.accessor=o}get total(){return this.accessor().total}get length(){return this.accessor().data.length}get first(){return this.accessor().data[0]}get last(){return this.accessor().data[this.length-1]}at(o){return((n,o)=>{const t=n[0];return Oe(t)&&Zm(t)?MS(n)[o]:n[o]})(this.accessor().data,o)}map(o){return this.accessor().map(o)}filter(o){return this.accessor().filter(o)}reduce(o,t){return this.accessor().reduce(o,t)}forEach(o){this.accessor().forEach(o)}some(o){return this.accessor().some(o)}[pa](){return this.accessor()[pa]()}toString(){return this.accessor().toString()}}class va{static SINGLE_KEY_SYMBOL=Symbol("SINGLE_KEY");get size(){return this.totalKeysCount}keysX=new Map;totalKeysCount=0;constructor(o,t,i){o&&t&&o.forEach(s=>{i&&void 0!==s[i]?this.add(s[t],s[i]):this.addSingle(s[t])})}addSingle(o){this.keysX.has(o)||this.keysX.set(o,new Set),this.hasSingle(o)||(this.keysX.get(o).add(va.SINGLE_KEY_SYMBOL),this.totalKeysCount+=1)}add(o,t){this.keysX.has(o)||this.keysX.set(o,new Set),this.has(o,t)||(this.keysX.get(o).add(t),this.totalKeysCount+=1)}deleteSingle(o){this.hasSingle(o)&&(this.keysX.get(o).delete(va.SINGLE_KEY_SYMBOL),this.totalKeysCount-=1,0===this.keysX.get(o).size&&this.keysX.delete(o))}delete(o,t){this.has(o,t)&&(this.keysX.get(o).delete(t),this.totalKeysCount-=1,0===this.keysX.get(o).size&&this.keysX.delete(o))}hasSingle(o){return this.keysX.has(o)&&this.keysX.get(o).has(va.SINGLE_KEY_SYMBOL)}has(o,t){return this.keysX.has(o)&&this.keysX.get(o).has(t)}hasX(o){return this.keysX.has(o)&&this.keysX.get(o).size>0}getYKeys(o){return this.keysX.has(o)?Array.from(this.keysX.get(o)).filter(i=>i!==va.SINGLE_KEY_SYMBOL):[]}clear(){this.keysX.clear(),this.totalKeysCount=0}toArray(o,t){return Array.from(this.keysX).reduce((i,s)=>{const[r,l]=s;return Array.from(l).forEach(u=>{if(u===va.SINGLE_KEY_SYMBOL)i.push({[o]:r});else{const f={[o]:r};t&&(f[t]=u),i.push(f)}}),i},[])}}let GS=(()=>{class n{ctx;cd;selectedKeys=[];rangeSelectionStartRow;rangeSelectionStartColumnIndex=0;selectionKey;columnKey;selectedKeysChange=new e.bkB;rowSelectionState=new Set;cellSelectionState=new va;get isCellSelectionMode(){return Oe(this.ctx.grid.selectable)&&this.ctx.grid.selectable.cell}lastSelectionState;selectionChangeSubscription;constructor(t,i){this.ctx=t,this.cd=i,this.init()}ngOnChanges(t){Oe(t.selectedKeys)&&this.lastSelectionState!==this.selectedKeys&&this.setState(this.selectedKeys)}init(){Oe(this.ctx.grid.rowSelected)||(this.ctx.grid.rowSelected=t=>this.rowSelectionState.has(this.getItemKey(t))),Oe(this.ctx.grid.isRowSelectable)||(this.ctx.grid.isRowSelectable=()=>!!this.ctx.grid.selectable),Oe(this.ctx.grid.cellSelected)||(this.ctx.grid.cellSelected=(t,i,s)=>{const r=this.getSelectionItem(t,i,s);return{selected:this.cellSelectionState.has(r.itemKey,r.columnKey),item:r}}),this.selectionChangeSubscription=this.ctx.grid.selectionChange.subscribe(this.onSelectionChange.bind(this))}destroy(){this.selectionChangeSubscription.unsubscribe()}reset(){this.rowSelectionState.clear(),this.cellSelectionState.clear()}getItemKey(t){if(this.selectionKey){if("string"==typeof this.selectionKey)return t.dataItem[this.selectionKey];if("function"==typeof this.selectionKey)return this.selectionKey(t)}return t.index}stateToArray(){return this.isCellSelectionMode?this.cellSelectionState.toArray("itemKey","columnKey"):Array.from(this.rowSelectionState)}getSelectionItem(t,i,s){const r={};return r.itemKey=this.getItemKey(t),Oe(i)||Oe(s)?(this.columnKey&&("string"==typeof this.columnKey&&(r.columnKey=t.dataItem[this.columnKey]),"function"==typeof this.columnKey&&(r.columnKey=this.columnKey(i,s))),{itemKey:r.itemKey,columnKey:r.columnKey?r.columnKey:s}):r}onSelectionChange(t){t.selectedRows?(t.deselectedRows.forEach(i=>{const s=this.getItemKey(i);this.rowSelectionState.delete(s)}),"single"===this.ctx.grid.selectableSettings.mode&&this.rowSelectionState.size>0&&this.reset(),t.selectedRows.forEach(i=>{const s=this.getItemKey(i);this.rowSelectionState.add(s)})):(t.deselectedCells.forEach(({itemKey:i,columnKey:s})=>{this.cellSelectionState.delete(i,s)}),"single"===this.ctx.grid.selectableSettings.mode&&this.cellSelectionState.size>0&&this.reset(),t.selectedCells.forEach(({itemKey:i,columnKey:s})=>{this.cellSelectionState.add(i,s)})),this.cd.markForCheck(),this.notifyChange()}notifyChange(){this.lastSelectionState=this.stateToArray(),this.selectedKeysChange.emit(this.lastSelectionState)}setState(t){this.reset(),this.isCellSelectionMode?this.cellSelectionState=new va(t,"itemKey","columnKey"):this.rowSelectionState=new Set(t)}static \u0275fac=function(i){return new(i||n)(e.rXU(Me),e.rXU(e.gRc))};static \u0275dir=e.FsC({type:n,selectors:[["kendo-grid-selection-base"]],inputs:{selectedKeys:"selectedKeys",rangeSelectionStartRow:"rangeSelectionStartRow",rangeSelectionStartColumnIndex:"rangeSelectionStartColumnIndex",selectionKey:[e.Mj6.None,"kendoGridSelectBy","selectionKey"],columnKey:"columnKey"},outputs:{selectedKeysChange:"selectedKeysChange"},features:[e.OA$]})}return n})();const AS=n=>o=>o.forEach(t=>t.style.height=n),PS=(n,o)=>{if(!(0,E.nm)())return;const t=document.activeElement,i=((n,o)=>{const t=[];for(let i=0,s=n.length;i<s&&o[i];i++)t.push([n[i],o[i]]);return t})(n.rows,o.rows);(n=>{n.filter(([o,t])=>o.style.height||t.style.height).forEach(AS(""))})(i);const s=(n=>n.map(([o,t])=>{const i=o.offsetHeight,s=t.offsetHeight;return i<s?s:i}))(i);[n,o].forEach(r=>r.style.display="none"),i.forEach((n=>(o,t)=>AS(`${n[t]+1}px`)(o))(s)),[n,o].forEach(r=>r.style.display=""),document.activeElement!==t&&(n.contains(t)||o.contains(t))&&t.focus()};class XU extends Rl{constructor(){super()}}const YU=n=>window.matchMedia(n).matches;let FS=(()=>{class n{matchMedia=YU;matchesMedia(t){return!t||this.matchMedia((n=>({xs:"(max-width: 576px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"}[n]||n))(t))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),eg=(()=>{class n{templateRef;_position="top";set position(t){this._position=t}get position(){return this._position}constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridToolbarTemplate",""]],inputs:{position:"position"},standalone:!0})}return n})();class qU{dataRows;headerRows;isVirtual;hasPager;hasDetailTemplate;gridElement;virtualColumns;columns;isStacked;get maxLogicalRowIndex(){return this.headerRows+(this.hasDetailTemplate?2*this.dataRows:this.dataRows)-1}constructor(o,t,i,s,r,l,u,f,C){this.dataRows=o,this.headerRows=t,this.isVirtual=i,this.hasPager=s,this.hasDetailTemplate=r,this.gridElement=l,this.virtualColumns=u,this.columns=f,this.isStacked=C}}class JU{columns;constructor(o){this.columns=o}}class BS{columns;constructor(o){this.columns=o}}class QU{columns;constructor(o){this.columns=o}}const nV={forbidden:"cancel",before:"insert-middle",after:"insert-middle"},sV={forbidden:ne.YAr,before:ne.yWw,after:ne.yWw},LS={zIndex:"20000",display:"flex",position:"fixed"},oV=["k-drag-clue","k-reorder-clue"],US={zIndex:"19000",position:"absolute"},rV=["k-drop-hint","k-drop-hint-h"],aV=n=>({handle:n?".k-grid-stack-cell.k-drag-cell":".k-table-td.k-drag-cell",dragTarget:".k-master-row",dropTarget:".k-master-row"});let tg=(()=>{class n{renderer;hintElement=null;defaultSelectors=aV;hintText="";skip;dropIndicator;lastDropPosition="forbidden";dragTarget=null;dropTarget=null;offsetY;rowReorder=new e.bkB;constructor(t){this.renderer=t}ngOnDestroy(){this.destroyDropIndicator(),this.destroyHintElement()}press(t){this.dragTarget=t.dragTarget,this.offsetY=t.dragEvent.offsetY}dragStart(){this.createDropIndicator()}drag(t){(0,E.Wo)(t.hintElement)&&!(0,E.Wo)(this.hintElement)&&(this.hintElement=t.hintElement,this.decorateHint());const i_x=t.dragEvent.clientX,i_y=t.dragEvent.clientY-this.offsetY;(0,E.Wo)(this.hintElement)&&(this.renderer.setStyle(this.hintElement,"left",`${i_x}px`),this.renderer.setStyle(this.hintElement,"top",`${i_y}px`)),this.positionDropIndicator(t)}dragEnter(t){this.dropTarget=t.dropTarget}dragLeave(){this.dropTarget=null,this.hide()}dragEnd(){this.destroyDropIndicator(),this.destroyHintElement(),this.dragTarget=null,this.dropTarget=null,this.hintElement=null}drop(t){this.destroyDropIndicator(),this.destroyHintElement();const i=this.rowReorderArgs(this.dragTarget,this.dropTarget,t.dragData);this.rowReorder.emit(i)}reorderRows(t,i){if("forbidden"===this.lastDropPosition)return;const{draggedRows:s,dropTargetRow:r}=t,l=s[0].dataItem,u=r.dataItem,f=i.indexOf(l),C=i.indexOf(u),T=this.calculateIndexToAdd(f,C);i.splice(f,1),i.splice(T,0,l)}get hintIcon(){return nV[this.lastDropPosition]}get hintSVGIcon(){return sV[this.lastDropPosition]}getDefaultHintText(t,i){let s="";const r=t.toArray().filter(f=>!f.hidden&&(0,E.Wo)(f.field)).map(f=>f.field),u=this.getDragRowPerElement(this.dragTarget,i)?.dataItem;return(0,E.Wo)(u)&&r.forEach(f=>{const C=u[f];(0,E.Wo)(C)&&(s+=`${C} `)}),s.trim()}getDraggedRow(t){return this.getDragRowPerElement(this.dragTarget,t)}rowReorderArgs(t,i,s){return{draggedRows:[this.getDragRowPerElement(t,s)],dropTargetRow:this.getDragRowPerElement(i,s),dropPosition:this.lastDropPosition}}getDragRowPerElement(t,i){let s=t?.getAttribute("data-kendo-grid-item-index");return s=s?parseInt(s,10):-1,{dataItem:-1===s?null:i[s-(this.skip||0)],rowIndex:s,element:t}}createDropIndicator(){(0,E.nm)()&&(this.dropIndicator=document.createElement("div"),this.decorateDropIndicator(),this.dropIndicator.innerHTML='\n            <div class="k-drop-hint-start"></div>\n            <div class="k-drop-hint-line"></div>\n        ',document.body.appendChild(this.dropIndicator),this.hide())}destroyDropIndicator(){(0,E.nm)()&&this.dropIndicator&&this.dropIndicator.parentElement&&(document.body.removeChild(this.dropIndicator),this.dropIndicator=null)}destroyHintElement(){(0,E.nm)()&&this.hintElement?.parentElement&&(this.hintElement.parentElement.removeChild(this.hintElement),this.hintElement=null)}decorateHint(){oV.forEach(t=>this.renderer.addClass(this.hintElement,t)),Object.keys(LS).forEach(t=>this.renderer.setStyle(this.hintElement,t,LS[t]))}positionDropIndicator(t){this.lastDropPosition=this.getDropPosition(t.dragEvent),this.updateDropIndicatorPosition()}calculateIndexToAdd(t,i){return t>i&&"after"===this.lastDropPosition?i+1:t>i&&"before"===this.lastDropPosition||t<i&&"after"===this.lastDropPosition?i:t<i&&"before"===this.lastDropPosition?i-1:void 0}decorateDropIndicator(){rV.forEach(t=>this.renderer.addClass(this.dropIndicator,t)),Object.keys(US).forEach(t=>this.renderer.setStyle(this.dropIndicator,t,US[t]))}getDropPosition(t){if(this.dropTarget===this.dragTarget||!(0,E.Wo)(this.dropTarget)||((n,o)=>n?.parentElement!==o?.parentElement)(this.dropTarget,this.dragTarget))return"forbidden";const i=this.dropTarget.getBoundingClientRect(),r=i.height/2,l=t.clientY,u=i.top;let f=null;return l<u+r?f="before":l>=u+i.height-r&&(f="after"),("before"===f&&((n,o)=>this.dropTarget===this.dragTarget.nextElementSibling)()||"after"===f&&((n,o)=>this.dropTarget===this.dragTarget.previousElementSibling)())&&(f="forbidden"),f}updateDropIndicatorPosition(){if(this.shouldHideDropIndicator()||!this.dropTarget)return void this.hide();this.show();const t=function iV(n){const{clientTop:o,clientLeft:t}=(n=>n?.ownerDocument.documentElement)(n),{pageYOffset:i,pageXOffset:s}=(n=>n?.ownerDocument.defaultView)(n),{top:r,left:l}=n.getBoundingClientRect();return{top:r+i-o,left:l+s-t}}(this.dropTarget);let i=t.top;"after"===this.lastDropPosition&&(i+=this.dropTarget.offsetHeight),this.renderer.setStyle(this.dropIndicator,"left",`${t.left+this.dropIndicator.offsetWidth/2}px`),this.renderer.setStyle(this.dropIndicator,"top",`${i}px`)}shouldHideDropIndicator(){return"forbidden"===this.lastDropPosition}hide(){(0,E.Wo)(this.dropIndicator)&&(this.dropIndicator.style.display="none")}show(){(0,E.Wo)(this.dropIndicator)&&(this.dropIndicator.style.display="")}static \u0275fac=function(i){return new(i||n)(e.KVO(e.sFG))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),ig=(()=>{class n{templateRef;constructor(t){this.templateRef=t}static \u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridStatusBarTemplate",""]],standalone:!0})}return n})(),ng=(()=>{class n{contextService;targetColField;targetRowIndex;constructor(t){this.contextService=t}createClipboardData(t,i,s){let r={gridItems:[],dataString:""};const l=i.flatMap(C=>C instanceof rr&&(0,E.Wo)(C.field)?[C]:[]),u={items:[],dataStrings:[]},f=l.map(C=>C.field);if(s.wholeRow)this.targetColField=l[0]?.field,this.targetRowIndex=t[0].dataRowIndex,t.forEach(C=>{u.items.push({dataItem:{...C.dataItem},fields:f}),u.dataStrings.push(this.itemToString(C.dataItem,l))}),r={gridItems:"cut"===s.operationType?u.items.map(C=>(C.fields.forEach(T=>C.dataItem[T]=null),C)):[...u.items],dataString:s.copyHeaders?this.addHeaders(u.dataStrings.join("\r\n"),l):u.dataStrings.join("\n")};else if("selection"===s.target){const{tabular:C,groups:T}=this.groupSelection(),O=this.contextService.grid.selectionDirective,G=O.columnKey;if(C){const P=T[0].items.map(de=>de.columnKey),Q=i.flatMap((de,le)=>de instanceof rr&&de.field&&(0,E.Wo)(P.find(Ce=>"function"==typeof G?Ce===G(de,le):Ce===le))?[de]:[]),z=Q.map(de=>de.field);this.targetColField=z[0],r.dataString=t.flatMap(de=>{const le=this.itemToString(de.dataItem,Q),Ce=(0,E.Wo)(le);return!(0,E.Wo)(this.targetRowIndex)&&(0,E.Wo)(le)&&(this.targetRowIndex=de.dataRowIndex),"cut"===s.operationType&&z.forEach(_e=>de.dataItem[_e]=null),r.gridItems.push({dataItem:de.dataItem,fields:z}),Ce?[le]:[]}).join("\r\n"),s.copyHeaders&&(r.dataString=this.addHeaders(r.dataString,Q))}else{const P=O.selectionKey;r.dataString=t.flatMap(Q=>{const z=P?"string"==typeof P?Q.dataItem[P]:P({index:Q.dataRowIndex,dataItem:Q.dataItem}):Q.dataRowIndex,de=T.find(ge=>ge.value===z).items.map(ge=>ge.columnKey),le=i.flatMap((ge,$e)=>ge instanceof rr&&ge.field&&(0,E.Wo)(de.find(ft=>"function"==typeof G?ft===G(ge,$e):ft===$e))?[ge]:[]),Ce=le.map(ge=>ge.field);this.targetColField||(this.targetColField=Ce[0]);const _e=this.itemToString(Q.dataItem,le),Ge=(0,E.Wo)(_e);return!(0,E.Wo)(this.targetRowIndex)&&Ge&&(this.targetRowIndex=Q.dataRowIndex),Ge&&("cut"===s.operationType&&Ce.forEach(ge=>Q.dataItem[ge]=null),r.gridItems.push({dataItem:Q.dataItem,fields:Ce})),Ge?s.copyHeaders?[this.addHeaders(_e,le)]:[_e]:[]}).join("\r\n")}}else{const C=t[0],T=i[C.colIndex],O=T.field,G=T.title,P=C.dataItem[O];this.targetRowIndex=C.dataRowIndex,this.targetColField=O,"cut"===s.operationType&&O&&(C.dataItem[O]=null),r={gridItems:[{dataItem:C.dataItem,fields:O?[O]:[]}],dataString:s.copyHeaders?[G||O,P].join("\r\n"):O?P:""}}return r}getGridData(t,i,s,r,l){const u=t.includes("\r\n")?"\r\n":t.includes("\n")?"\n":null,f=u?t.split(u).filter(T=>T.length):[t];if(this.targetRowIndex=r,"activeCell"===s)if(l.wholeRow)this.targetColField=i.find(T=>T instanceof rr&&T.field)?.field;else{const T=this.contextService.grid.activeCell.colIndex;for(let O=0;O<i.length;O++){const G=i[O];if(G instanceof rr&&G.field&&O>=T){this.targetColField=G.field;break}}}else if(l.wholeRow||!l.isCellSelection)this.targetColField=i.filter(T=>T instanceof rr&&T.field)[0].field;else{const{groups:T}=this.groupSelection(),G=this.contextService.grid.selectionDirective.columnKey,P=i.filter(le=>le.isVisible),Q=T[0].items.map(le=>le.columnKey),de=P.flatMap((le,Ce)=>le instanceof rr&&le.field&&(0,E.Wo)(Q.find(_e=>"function"==typeof G?_e===G(le,Ce):_e===Ce))?[le]:[]).map(le=>le.field);this.targetColField=de[0]}return f.map(T=>{const O=T.includes("\t")?T.split("\t"):[T],G=i.flatMap(de=>de instanceof rr&&de.field?[de.field]:[]),P=G.indexOf(this.targetColField),Q=G.slice(P,P+O.length),z={};return G.slice(P,P+O.length).forEach((de,le)=>z[de]=O[le]),{dataItem:z,fields:Q}})}itemToString=(t,i)=>i.length?i.map(s=>t[s.field]).join("\t"):null;groupSelection(){const i=(0,ki.$z)(this.contextService.grid.selection,[{field:"itemKey"}]).map(s=>(s.items.sort((r,l)=>r.columnKey-l.columnKey),s));for(let s=1;s<i.length;s++)if(!this.areEqual(i[s].items,i[s-1].items))return{tabular:!1,groups:i};return{tabular:!0,groups:i}}areEqual(t,i){if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].columnKey!==i[s].columnKey)return!1;return!0}addHeaders(t,i){return`${i.map(r=>r.title||r.field).join("\t")}\r\n${t}`}static \u0275fac=function(i){return new(i||n)(e.KVO(Me))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),VS=(()=>{class n{aggregateService;hostClasses=!0;get isStatusBarTemplate(){return this.statusBarTemplate?"":"none"}hostAriaLive="polite";statusBarTemplate;constructor(t){this.aggregateService=t}ngOnInit(){this.aggregateService.init()}get aggregates(){return this.aggregateService.aggregates}static \u0275fac=function(i){return new(i||n)(e.rXU(Dd))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-status-bar"]],hostVars:7,hostBindings:function(i,s){2&i&&(e.BMQ("aria-live",s.hostAriaLive),e.xc7("display",s.isStatusBarTemplate),e.AVh("k-selection-aggregates",s.hostClasses)("k-grid-selection-aggregates",s.hostClasses))},inputs:{statusBarTemplate:"statusBarTemplate"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,s){1&i&&e.DNE(0,MA,1,4,null,0),2&i&&e.Y8G("ngIf",s.statusBarTemplate)},dependencies:[w.bT,w.T3],encapsulation:2})}return n})();const zS={topLeft:{x:2,y:2},topRight:{x:-2,y:2},bottomLeft:{x:2,y:-2},bottomRight:{x:-2,y:-2}};let KS=(()=>{class n{draggable;selection;cellSelection;domEvents;host;renderer;pressArgs;marqueeElement;pressTarget;subscriptions;selectionStarted=!1;dragEndSubscription;constructor(t,i,s,r,l,u){this.draggable=t,this.selection=i,this.cellSelection=s,this.domEvents=r,this.host=l,this.renderer=u}ngOnInit(){this.subscriptions=this.draggable.kendoPress.subscribe(this.start.bind(this)),this.subscriptions.add(this.draggable.kendoDrag.subscribe(this.moveMarquee.bind(this)))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.clean()}start(t){const i=t.originalEvent.target.matches(".k-grid-content, .k-grid-content-locked, .k-grid-aria-root, .k-checkbox"),s=(0,E.Wo)(t.originalEvent.target.closest(".k-drag-cell"));i||s?this.pressArgs=null:(this.pressArgs=t,this.pressTarget=null)}moveMarquee(t){this.pressTarget||(this.pressTarget=this.cellSelection.active?this.cellSelection.mouseDownEventArgs:this.selection.mouseDownEventArgs);const i=this.pressArgs;if(!i)return;if(!this.selectionStarted){if(!(Math.sqrt((t.pageX-i.pageX)**2+(t.pageY-i.pageY)**2)>5))return;this.selectionStarted=!0,this.renderer.addClass(this.host.nativeElement,"user-select-none"),this.renderer.setStyle(this.host.nativeElement,"user-select","none"),this.dragEndSubscription=(0,qe.h)(this.domEvents.cellMouseup.pipe((0,st.s)(1)),this.draggable.kendoRelease.pipe((0,Bt.c)(1),(0,st.s)(1))).subscribe(this.endSelection.bind(this))}this.initMarquee();const s=this.marqueeElement,r=this.getMarqueeQuadrant(t.pageX,t.pageY,i.pageX,i.pageY);let l=Math.min(t.pageX,i.pageX),u=Math.min(t.pageY,i.pageY);const f=Math.abs(t.pageX-i.pageX),C=Math.abs(t.pageY-i.pageY);r&&(l+=zS[r].x,u+=zS[r].y),s.style.left=`${l}px`,s.style.top=`${u}px`,s.style.width=`${f}px`,s.style.height=`${C}px`}endSelection(t){if("mouseup"===t.type||"touchend"===t.type){const s=(t.originalEvent.ctrlKey||t.originalEvent.metaKey)&&(Gu(this.selection.settings)||Gu(this.cellSelection.settings));this.cellSelection.active?(this.cellSelection.dragging=!0,this.cellSelection.changes.emit(this.cellSelection.selectRange(this.pressTarget.rowIndex,this.pressTarget.column.leafIndex,t.rowIndex,t.column.leafIndex,s))):this.selection.active&&(this.selection.dragging=!0,this.selection.changes.emit(this.selection.selectRange(this.pressTarget.rowIndex,t.rowIndex,s)))}this.clean()}clean(){this.marqueeElement&&(document.body.removeChild(this.marqueeElement),this.marqueeElement=null),this.dragEndSubscription&&this.dragEndSubscription.unsubscribe(),this.renderer.removeClass(this.host.nativeElement,"user-select-none"),this.renderer.removeStyle(this.host.nativeElement,"user-select"),this.dragEndSubscription=null,this.pressTarget=null,this.pressArgs=null,this.selectionStarted=!1,this.cellSelection.active?this.cellSelection.dragging=!1:this.selection.dragging=!1}initMarquee(){(0,E.nm)()&&(this.marqueeElement||(this.marqueeElement=(()=>{if(!(0,E.nm)())return;const n=document.createElement("div");n.className="k-marquee";const o=document.createElement("div");return o.className="k-marquee-color",n.appendChild(o),n})(),document.body.appendChild(this.marqueeElement)))}getMarqueeQuadrant(t,i,s,r){const l=t<s,u=t>s,f=i<r,C=i>r;return l&&f?"topLeft":l&&C?"bottomLeft":u&&f?"topRight":u&&C?"bottomRight":null}static \u0275fac=function(i){return new(i||n)(e.rXU(E.T5),e.rXU(wr),e.rXU(Gl),e.rXU(kl),e.rXU(e.aKT),e.rXU(e.sFG))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridSelectionMarquee",""]],standalone:!0})}return n})();class pV{total;rowHeight;detailRowHeight;offsets=[];heights=[];constructor(o=0,t,i){this.total=o,this.rowHeight=t,this.detailRowHeight=i;let s=0;for(let r=0;r<o;r++)this.offsets.push(s),s+=t,this.heights.push(t)}height(o){return this.heights[o]}expandDetail(o){this.height(o)===this.rowHeight&&this.updateRowHeight(o,this.detailRowHeight)}collapseDetail(o){this.height(o)>this.rowHeight&&this.updateRowHeight(o,-1*this.detailRowHeight)}isExpanded(o){return this.height(o)>this.rowHeight}index(o){if(o<0)return;const t=this.offsets.reduce((i,s,r)=>void 0!==i?i:s===o?r:s>o?r-1:void 0,void 0);return void 0===t?this.total-1:t}offset(o,t=!1){if(t){let i=0,s=0;for(let r=0;r<o;r++)if(i+=this.rowHeight,s++,s===o||this.isExpanded(r)&&(i+=this.detailRowHeight,s++,s===o))return i;return i}return this.offsets[o]}totalHeight(){return this.heights.reduce((o,t)=>o+t,0)}updateRowHeight(o,t){this.total>0&&(this.heights[o]+=t,this.offsets=((n,o,t)=>[...n.slice(0,o+1),...n.slice(o+1).map(i=>i+t)])(this.offsets,o,t))}}class sh{offset;constructor(o){this.offset=o}}class sg{skip;take;constructor(o,t){this.skip=o,this.take=t}}class $S{}class gV{scrollObservable;firstLoaded=0;lastLoaded;lastScrollTop;take;total;rowHeightService;scrollSubscription;subscription;constructor(o){this.scrollObservable=o}create(o,t,i,s){this.rowHeightService=o,this.firstLoaded=t,this.lastLoaded=t+i,this.take=i,this.total=s,this.lastScrollTop=0;const r=new Wt.t(new sh(this.rowHeightService.offset(t)));return this.subscription=xe.c.create(l=>{this.unsubscribe(),this.scrollSubscription=this.scrollObservable.subscribe(u=>this.onScroll(u,l))}).subscribe(l=>r.next(l)),r}destroy(){this.unsubscribe(),this.subscription&&this.subscription.unsubscribe()}onScroll({scrollTop:o,offsetHeight:t,scrollHeight:i,clientHeight:s},r){if(!(0,E.nm)()||this.lastScrollTop===o)return;const l=this.lastScrollTop>=o;this.lastScrollTop=o;let u=this.rowHeightService.index(o),f=this.rowHeightService.offset(u);const C=this.rowHeightService.index(o+t);if(!l)if(C>=this.lastLoaded&&this.lastLoaded<this.total){const T=u+this.take-this.total;T>0&&(u-=T,f=this.rowHeightService.offset(u)),this.firstLoaded=u,r.next(new sh(f));let O=this.firstLoaded+this.take;this.lastLoaded=Math.min(O,this.total),O=O>this.total?this.total-this.firstLoaded:this.take,r.next(new sg(this.firstLoaded,this.take))}else i-s-o<2&&r.next(new $S);if(l&&u<this.firstLoaded){const T=Math.floor(.3*this.take);this.firstLoaded=Math.max(u-T,0),r.next(new sh(this.rowHeightService.offset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),r.next(new sg(this.firstLoaded,this.take))}}unsubscribe(){this.scrollSubscription&&(this.scrollSubscription.unsubscribe(),this.scrollSubscription=void 0)}}const fV=({columns:n})=>Math.max(1,(n=>n.filter(o=>$o(o.resizable)&&o.isVisible))(n).filter(o=>!o.isColumnGroup).length),jS=n=>o=>o.querySelector(n),og=(n,o="td")=>t=>t.querySelectorAll(`${o}:not(.k-group-cell):not(.k-hierarchy-cell)`)[n],oh=n=>n.offsetWidth,rg=(...n)=>o=>n.reduce((t,i)=>t?i(t):0,o);let HS=(()=>{class n{element;renderer;service;zone;cdr;ctx;locked=!1;virtualColumns;get minWidth(){return this.firstResize?0:null}firstResize=!1;subscription;autoFitSubscription;constructor(t,i,s,r,l,u){this.element=t,this.renderer=i,this.service=s,this.zone=r,this.cdr=l,this.ctx=u}ngOnInit(){const t=this.service.changes.pipe((0,We.p)(i=>this.locked===i.locked));this.subscription=t.pipe((0,We.p)(i=>"start"===i.type),(0,Tt.M)(this.initState.bind(this)),(0,tt.T)(fV),(0,Dt.n)(i=>t.pipe((0,We.p)(s=>"resizeTable"===s.type),(0,tt.T)(s=>s.delta),function Cn(n,o=null){return o=o??n,(0,qi.N)((t,i)=>{let s=[],r=0;t.subscribe((0,De._)(i,l=>{let u=null;r++%o==0&&s.push([]);for(const f of s)f.push(l),n<=f.length&&(u=u??[],u.push(f));if(u)for(const f of u)(0,nn.o)(s,f),i.next(f)},()=>{for(const l of s)i.next(l);i.complete()},void 0,()=>{s=null}))})}(i)))).subscribe(this.resize.bind(this)),this.autoFitSubscription=this.service.registerTable({autoFit:this.autoFitObservable.bind(this),locked:this.locked})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.autoFitSubscription&&(this.autoFitSubscription(),this.autoFitSubscription=null)}initState(){this.firstResize=!0,(!this.virtualColumns||this.locked||"constrained"===this.ctx.grid?.resizable&&this.virtualColumns)&&(this.service.originalWidth=oh(this.element.nativeElement))}resize(t){if(("constrained"!==this.ctx.grid?.resizable||this.service.isShiftPressed)&&(!0!==this.ctx.grid?.resizable&&"unconstrained"!==this.ctx.grid?.resizable||!this.service.isShiftPressed)||this.service.autoFitResize){if(!this.virtualColumns||this.locked){const l=t.reduce((f,C)=>f+C,0);this.renderer.setStyle(this.element.nativeElement,"width",this.service.originalWidth+l+"px")}}else this.renderer.setStyle(this.element.nativeElement,"width",this.service.originalWidth+"px");this.cdr.detectChanges()}autoFitObservable(t){return xe.c.create(i=>{this.zone.runOutsideAngular(()=>{this.renderer.addClass(this.element.nativeElement,"k-autofitting"),this.cdr.detectChanges();const s=t.map(this.measureColumn.bind(this));this.renderer.removeClass(this.element.nativeElement,"k-autofitting"),i.next(s)})})}measureColumn(t){const i=this.element.nativeElement,s=rg((n=>o=>o.querySelectorAll("thead>tr")[n])(t.level),og(t.headerIndex,"th"),oh)(i);let r=0;(!t.isParentSpan||t.isParentSpan&&t.isLastInSpan)&&(r=rg(jS("tbody>tr:not(.k-grouping-row):not(.k-grid-norecords)"),og(t.index),oh)(i));const l=rg(jS("tfoot>tr"),og(t.index),oh)(i);return Math.max(s,r,l)}static \u0275fac=function(i){return new(i||n)(e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(gc),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(Me))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridResizableTable",""]],hostVars:2,hostBindings:function(i,s){2&i&&e.xc7("min-width",s.minWidth)},inputs:{locked:"locked",virtualColumns:"virtualColumns"},standalone:!0})}return n})();class XS{skipCells=[];addCells(o,t,i){for(let s=1;s<i;s++)this.skipCells.some(this.cellExists(o+s,t))||this.skipCells.push({rowIndex:o+s,colIndex:t})}reset(){this.skipCells=[]}shouldSkip(o,t){return!!this.skipCells.find(this.cellExists(o,t))}cellExists=(o,t)=>i=>i.rowIndex===o&&i.colIndex===t}let ag=(()=>{class n{rowspanService;groupsService;detailsService;ctx;recalculateRowspan=!0;dataArray=null;constructor(t,i,s,r){this.rowspanService=t,this.groupsService=i,this.detailsService=s,this.ctx=r}isGroup(t){return"group"===t.type}dataMapper(t,i,s,r,l){const u=[];if(!t||!i&&!s)return[];let f=0;for(const C of t){if(this.shouldRenderItem(C,r,l)){if("data"===C.type){C.cells=[];for(let T=0;T<s.length+i.length;T++){const O=T<s.length?s.get(T):i.get(T-s.length),G={};O.cellRowspan&&this.shouldSkipCell(f,T)?G.skip=!0:G.rowspan=O.cellRowspan?this.getRowspan({index:f,dataItem:C},O,T,t):1,(0,E.Wo)(this.ctx.highlightDirective)&&(G.isHighlighted=this.ctx.highlightDirective.isCellHighlighted(C,O,T)),C.cells.push(G)}(0,E.Wo)(this.ctx.highlightDirective)&&(C.isHighlighted=this.ctx.highlightDirective.isRowHighlighted(C))}u.push(C)}f++}return this.recalculateRowspan=!0,this.rowspanService.reset(),u}isDataItem(t){return!this.isGroup(t)&&!this.isFooter(t)}isFooter(t){return"footer"===t.type}isFooterItemInExpandedGroup(t){return this.isInExpandedGroup({data:t.data,index:t.groupIndex,parentGroup:t.group.parentGroup})}isDataItemInExpandedGroup(t){return this.isInExpandedGroup({data:t.group.data,index:t.groupIndex,parentGroup:t.group.parentGroup})}isInExpandedGroup(t){return this.groupsService.isInExpandedGroup(t)}isParentGroupExpanded(t){return this.groupsService.isInExpandedGroup(t.parentGroup)}isExpanded(t){return this.detailsService.isExpanded(t.index,t.data)}shouldRenderItem(t,i,s){const r=this.isGroup(t)&&this.isParentGroupExpanded(t),l=this.isDataItem(t)&&(!t.group||this.isDataItemInExpandedGroup(t)),u=l&&i?.templateRef&&i.showIf(t.data,t.index)&&this.isExpanded(t),C=this.isFooter(t)&&t.group&&(this.isFooterItemInExpandedGroup(t)||s&&this.isParentGroupExpanded(t.group))&&!t.data.hideFooter;return t.showDataItem=l,t.showDetailRow=l&&u,t.isExpanded=this.isExpanded(t),r||l||u||C}shouldSkipCell(t,i){return this.rowspanService.shouldSkip(t,i)}cachedDataArray(t){return this.dataArray||(this.dataArray=t.map(i=>i)),this.dataArray}getRowspan(t,i,s,r){this.recalculateRowspan&&(this.dataArray=null,this.recalculateRowspan=!1);const l=i.cellRowspan(t,i,this.cachedDataArray(r));return l>1&&this.rowspanService.addCells(t.index,s,l),l}static \u0275fac=function(i){return new(i||n)(e.KVO(XS),e.KVO(tl),e.KVO(Il),e.KVO(Me))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();const WS=(n,o,t)=>{for(let i=0,s=0;i<o.length;i++){const r=t(o[i]);if(s<=n&&n<=s+r-1)return o[i];s+=r}},YS=(n,o)=>WS(n,o,()=>1),qS={},JS=new e.nKC("grid-scroll-service-factory");function CV(n){return new gV(n)}const QS=n=>{const o=n.wheelDeltaY;return n.wheelDelta&&(void 0===o||o)?n.wheelDelta:n.detail&&n.axis===n.VERTICAL_AXIS?10*-n.detail:0},lg=n=>n?n.nativeElement:null;let cg=(()=>{class n{changeNotification;suspendService;groupsService;ngZone;renderer;scrollSyncService;resizeService;editService;supportService;navigationService;ctx;columnResizingService;changeDetector;pdfService;columnInfo;dataMappingService;hostClass=!0;hostRole="presentation";data;groups=[];total;rowHeight;detailRowHeight;take;skip=0;columns=new bm(()=>[]);detailTemplate;noRecordsTemplate;selectable=!1;groupable=!1;filterable;rowClass;rowSticky;loading;trackBy=Wm;virtualColumns;isVirtual;cellLoadingTemplate;loadingTemplate;sort=new Array;size="medium";contentScroll=new e.bkB;pageChange=new e.bkB;scrollBottom=new e.bkB;totalHeight;columnsStartIdx=0;allItems=[];get showFooter(){return this.groupable&&this.groupable.showFooter}get totalWidth(){if(this.virtualColumns&&this.columns.unlockedWidth)return this.columns.unlockedWidth}container;lockedContainer;lockedTable;table;resizeSensors=new e.rOR;scroller;subscriptions;scrollerSubscription;dispatcher=new me.B;rowHeightService;skipScroll;rebind;containerScrollTop=0;viewportColumns;columnsEndIdx;viewportColumnsWidth;scrollLeft=0;observer;get lockedLeafColumns(){return this.columns.lockedLeafColumns}get nonLockedLeafColumns(){return this.columns.nonLockedLeafColumns}get nonLockedColumnsToRender(){return!this.virtualColumns||this.pdfService.exporting||this.isStacked?this.nonLockedLeafColumns:this.viewportColumns}get leafColumns(){return this.columns.leafColumnsToRender}get lockedWidth(){const t=32*this.groups.length;return fa(this.lockedLeafColumns.toArray()).reduce((i,s)=>i+(s.width||0),t)}get nonLockedWidth(){if((!this.rtl&&this.lockedLeafColumns.length||this.virtualColumns)&&!this.isStacked)return fB(fa(this.nonLockedColumnsToRender.toArray()))}get isLocked(){return this.lockedLeafColumns.length>0&&!this.isStacked}rtl=!1;columnUpdateFrame;hasLockedContainer;minRowHeight;constructor(t,i,s,r,l,u,f,C,T,O,G,P,Q,z,de,le,Ce,_e,Ge){this.changeNotification=s,this.suspendService=r,this.groupsService=l,this.ngZone=u,this.renderer=f,this.scrollSyncService=C,this.resizeService=T,this.editService=O,this.supportService=G,this.navigationService=P,this.ctx=z,this.columnResizingService=de,this.changeDetector=le,this.pdfService=Ce,this.columnInfo=_e,this.dataMappingService=Ge,this.scroller=t(this.dispatcher),this.subscriptions=i.changes.subscribe(ge=>this.detailExpand(ge)),this.subscriptions.add(Q.requests.subscribe(ge=>Oe(ge.adjustIndex)?this.scrollTo(ge.request,ge.adjustIndex):this.scrollToItem(ge.request)))}ngOnInit(){this.minRowHeight=this.isVirtual?this.rowHeight||(n=>{let o=0;if(!(0,E.nm)())return o;if(n){const t=n.insertRow(0);t.insertCell(0).textContent="&nbsp;",o=t.getBoundingClientRect().height,n.deleteRow(0)}return o})(this.table.nativeElement):this.rowHeight,this.init(),this.subscriptions.add(this.ngZone.runOutsideAngular(this.handleRowSync.bind(this))),this.subscriptions.add(this.ngZone.runOutsideAngular(this.handleRowNavigationLocked.bind(this))),this.subscriptions.add((0,qe.h)(this.columns.changes,this.resizeService.changes).subscribe(()=>{this.virtualColumns&&this.ngZone.run(()=>{this.updateViewportColumns(),this.changeDetector.markForCheck()})})),this.subscriptions.add(this.ctx.localization.changes.subscribe(({rtl:t})=>this.rtl=t))}ngOnChanges(t){if(!(0,E.nm)())return;const i=t.skip;i&&i.firstChange&&i.currentValue>0&&this.handleInitialScrollToSkip(),(0,E.Hq)("skip",t)&&!this.rebind&&(this.skipScroll=!0,this.container.nativeElement.scrollTop=this.rowHeightService.offset(this.skip)),(0,E.TI)(["total","take"],t)&&this.init(),this.rebind=!1}ngDoCheck(){if(this.virtualColumns&&(!this.viewportColumns||this.viewportWidthChange())&&this.updateViewportColumns(),(0,E.nm)()&&this.isVirtual&&this.ctx.grid&&!Oe(this.ctx.grid.pageSize)){const i=this.calcVirtualPageSize();i>0&&this.ngZone.onStable.pipe((0,st.s)(1)).subscribe(()=>{this.ctx.grid.pageSize=i,this.ngZone.run(()=>{this.pageChange.emit({skip:this.skip||0,take:i})})})}this.allItems=this.dataMappingService.dataMapper(this.data,this.nonLockedColumnsToRender,this.lockedLeafColumns,this.detailTemplate,this.showFooter)}ngAfterViewInit(){(0,E.nm)()&&(this.skip&&this.isVirtual&&(this.container.nativeElement.scrollTop=this.rowHeightService.offset(this.skip)),this.resetNavigationViewport(),this.attachContainerScroll(),this.initResizeService())}ngAfterViewChecked(){const t=this.isLocked;t&&!this.hasLockedContainer&&this.syncRowsHeight(),this.hasLockedContainer=t}syncRowsHeight(){this.lockedContainer&&PS(this.lockedTable.nativeElement,this.table.nativeElement)}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe(),this.resizeService&&this.resizeService.destroy(),this.observer?.disconnect(),this.cleanupScroller()}init(){this.suspendService.scroll||(this.rowHeightService=new pV(this.total,this.rowHeight||this.minRowHeight,this.detailRowHeight),this.totalHeight=this.rowHeightService.totalHeight(),El()||this.ngZone.runOutsideAngular(this.createScroller.bind(this)))}lockedScroll(){if(!this.suspendService.scroll){const t=this.lockedContainer.nativeElement.scrollTop;t!==this.containerScrollTop&&(this.container.nativeElement.scrollTop=this.containerScrollTop=t)}}lockedMousewheel(t){if(!t.ctrlKey){((n,o)=>{const t=QS(n),i=o.scrollTop;0===i&&0<t||o.scrollHeight<=o.offsetHeight+i&&t<0||event.preventDefault()})(t,this.container.nativeElement);const i=QS(t);this.container.nativeElement.scrollTop-=i}}lockedKeydown(t){const i=(0,E.tq)(t);if(i===E.D$.PageDown||i===E.D$.PageUp){const r=this.container.nativeElement;r.scrollTop+=r.offsetHeight*(i===E.D$.PageDown?1:-1)*.8,t.preventDefault()}}updateViewportColumns(t){const i=this.columns.nonLockedLeafColumns.toArray();let{startIdx:s,endIdx:r,offset:l}=t||this.calculateViewportColumns();const u=Math.max(0,s-1),f=Math.min(r+1,i.length-1);if(u<s)for(let G=s-1;G>=u;G--)l-=i[G].width;let C=i.slice(u,f+1);this.viewportColumnsWidth=C.reduce((G,P)=>G+P.width,0);const T=i.slice(0,u).filter(G=>G.sticky&&!C.some(P=>P===G)),O=i.slice(f,i.length).filter(G=>G.sticky&&!C.some(P=>P===G));if(C=[...T,...C,...O],u>0){const G=new Un;G.width=l,C.unshift(G)}this.viewportColumns=new e.rOR,this.viewportColumns.reset(C),this.columnsStartIdx=u,this.columnsEndIdx=f,this.columnInfo.columnRangeChange.emit({start:u,end:f,offset:l}),t||this.updateColumnViewport(s,r)}get isStacked(){return this.ctx.grid?.isStacked}detailExpand({index:t,expand:i}){i?this.rowHeightService.expandDetail(t):this.rowHeightService.collapseDetail(t),this.totalHeight=this.rowHeightService.totalHeight(),this.resetNavigationViewport()}attachContainerScroll(){El()||(this.ngZone.runOutsideAngular(()=>{this.subscriptions.add((0,Ot.R)(this.container.nativeElement,"scroll").pipe((0,tt.T)(t=>t.target),(0,We.p)(()=>!this.suspendService.scroll),(0,Tt.M)(t=>{this.onContainerScroll(t),this.resetNavigationViewport(),(this.virtualColumns||this.isVirtual)&&this.handleColumnScroll();const i=this.navigationService.viewport||qS,s=this.navigationService.columnViewport||qS;this.contentScroll.emit({scrollLeft:t.scrollLeft,scrollTop:t.scrollTop,startRow:i.firstItemIndex,endRow:i.lastItemIndex,startColumn:s.firstItemIndex,endColumn:s.lastItemIndex})})).subscribe(this.dispatcher))}),this.scrollSyncService.registerEmitter(this.container.nativeElement,"body"))}createScroller(){this.cleanupScroller();const t=this.scroller.create(this.rowHeightService,this.skip,this.take,this.total);this.skipScroll=!1,this.scrollerSubscription=t.pipe((0,We.p)(i=>i instanceof sg),(0,We.p)(i=>{const s=this.skipScroll;return this.skipScroll=!1,!s&&i.skip!==this.skip}),(0,Tt.M)(()=>this.rebind=!0)).subscribe(i=>this.ngZone.run(()=>this.pageChange.emit(i))),this.scrollerSubscription.add(t.pipe((0,We.p)(i=>i instanceof sh)).subscribe(this.scroll.bind(this))),this.scrollerSubscription.add(t.pipe((0,We.p)(i=>i instanceof $S)).subscribe(()=>this.scrollBottom.emit()))}scroll({offset:t=0}){this.isVirtual&&[lg(this.table),lg(this.lockedTable)].filter(Oe).forEach(((n,o)=>t=>n.setStyle(t,"transform",`translateY(${o}px)`))(this.renderer,t)),this.resetNavigationViewport()}onContainerScroll({scrollTop:t}){this.containerScrollTop=t,this.lockedContainer&&(this.lockedContainer.nativeElement.scrollTop=t)}handleInitialScrollToSkip(){const i=this.changeNotification.changes.pipe((0,We.p)(()=>this.isVirtual&&this.skip>0&&this.total>0)).subscribe(()=>{this.scrollTo({row:this.skip}),i.unsubscribe()})}handleRowSync(){const t=()=>Oe(this.lockedContainer);return(0,qe.h)(this.changeNotification.changes,this.groupsService.changes.pipe((0,We.p)(t),Ui((()=>this.ngZone.onStable.asObservable().pipe((0,st.s)(1)))())),this.editService.changed,this.resizeService.changes,this.columnResizingService.changes.pipe((0,We.p)(s=>"end"===s.type)),this.supportService.changes).pipe((0,Tt.M)(()=>{this.resetNavigationViewport()}),(0,We.p)(t)).subscribe(()=>{const s=this.container.nativeElement.scrollTop,r=this.container.nativeElement.scrollLeft;this.syncRowsHeight(),this.syncContainerHeight(),this.lockedContainer.nativeElement.scrollTop=this.container.nativeElement.scrollTop=s,this.container.nativeElement.scrollLeft=r,this.resizeSensors.forEach(l=>l.acceptSize())})}handleRowNavigationLocked(){return this.navigationService.changes.pipe((0,We.p)(()=>Oe(this.lockedContainer)),(0,Bt.c)(10)).subscribe(t=>{if(this.lockedLeafColumns.length<=t.prevColIndex&&t.colIndex<this.lockedLeafColumns.length){const i=this.navigationService.activeCell;i&&i.colIndex+i.colSpan<t.prevColIndex&&(this.container.nativeElement.scrollLeft=0)}})}scrollToVirtualRow(t,i=!0){if(!(0,E.nm)())return;Oe(this.detailTemplate)&&i&&(t=Math.floor(t/2));const s=this.rowHeightService.offset(t,!i);this.container.nativeElement.scrollTop=s,this.resetNavigationViewport()}scrollTo({row:t,column:i},s=!1){if($v(t))if(this.isVirtual)this.scrollToVirtualRow(t,s);else{const r=YS(t,this.table.nativeElement.rows);r&&(this.container.nativeElement.scrollTop=r.offsetTop)}if($v(i))if(i-=this.lockedLeafColumns.length,this.virtualColumns){const r=this.columns.leafColumnsToRender;let l=0;for(let f=0;f<i;f++)l+=r[f].width||0;this.container.nativeElement.scrollLeft=this.normalizeScrollLeft(l+(this.lockedLeafColumns.length?0:32*this.groups.length+(this.detailTemplate&&i>0?32:0)))}else if(0===i&&this.detailTemplate)this.container.nativeElement.scrollLeft=this.normalizeScrollLeft(0);else{const r=YS(0,this.table.nativeElement.rows);if(r){const l=((n,o)=>WS(n,o,t=>ma(t,kS)?0:parseInt(t.getAttribute("colSpan"),10)||1))(i,r.cells);l&&(this.container.nativeElement.scrollLeft=this.elementScrollLeft(l))}}}scrollToItem(t){if(!(0,E.nm)())return;const i=this.ctx.grid.data,l=(Array.isArray(i)?i:i.data).flatMap(pc).findIndex(u=>u[t.idField]===t.id);if(-1!==l){const u=Array.from(this.table.nativeElement.rows).find(f=>{const C=f.getAttribute("data-kendo-grid-item-index");return C&&+C===this.ctx.grid.skip+l});u&&u.scrollIntoView(),this.isVirtual&&this.resetNavigationViewport()}}resetNavigationViewport(){if(!(E.nm&&this.container&&this.navigationService.tableEnabled&&this.navigationService.needsViewport()&&0!==this.data.length))return;const{scrollTop:t,offsetHeight:i}=this.container.nativeElement,s=t+i,r=this.rowHeightService.index(t),l=this.rowHeightService.index(s),u=this.rowHeightService.offset(l);let f=r,C=l;if(Oe(this.detailTemplate)){f*=2,C*=2,this.rowHeightService.offset(r)+this.rowHeight<t&&f++;const O=this.rowHeightService.height(l);this.rowHeightService.isExpanded(l)&&!(u+O>s)&&C++}this.navigationService.setViewport(f,C)}cleanupScroller(){this.scrollerSubscription&&this.scrollerSubscription.unsubscribe(),this.scroller&&this.scroller.destroy()}initResizeService(){this.resizeService.connect((0,qe.h)(...this.resizeSensors.map(t=>t.resize)))}syncContainerHeight(){[lg(this.lockedContainer)].filter(Oe).map(t=>{t.style.height="";let i=this.container.nativeElement.offsetHeight;return((n,o)=>this.table.nativeElement.offsetWidth>this.container.nativeElement.clientWidth)()&&(i-=this.supportService.scrollbarWidth),{el:t,height:i}}).forEach((n=>({el:o,height:t})=>n.setStyle(o,"height",`${t}px`))(this.renderer))}handleColumnScroll(){const i=this.container.nativeElement.scrollLeft;if(this.scrollLeft!==i){this.scrollLeft=i;const s=this.calculateViewportColumns();this.updateColumnViewport(s.startIdx,s.endIdx),(s.startIdx<this.columnsStartIdx||this.columnsEndIdx<s.endIdx)&&(LF(this.columnUpdateFrame),this.columnUpdateFrame=BF(()=>{this.ngZone.run(()=>{this.updateViewportColumns(s),this.changeDetector.markForCheck()})}))}}updateColumnViewport(t,i){const s=this.lockedLeafColumns.length,r=this.nonLockedLeafColumns.toArray(),l=s+t+(this.detailTemplate&&t>0?1:0);let u=s+i+(this.detailTemplate?1:0);for(let f=0;f<r.length;f++){const C=r[f];C.isSpanColumn&&(u+=C.children.length)}this.navigationService.setColumnViewport(l,u)}calculateViewportColumns(){const{scrollLeft:t,clientWidth:i}=this.container.nativeElement,s=this.columns.nonLockedLeafColumns.toArray(),r=this.normalizeScrollLeft(t),l=r+i;let u,O,f=0,C=0,T=0;for(O=0;O<s.length;O++){const G=s[O];if(C+=G.width||0,void 0===u&&C>r&&(u=O,T=C-(G.width||0)),C>=l){f=O;break}}return!f&&O>0&&(f=s.length-1),{startIdx:u,endIdx:f,offset:T}}viewportWidthChange(){return this.viewportColumns.toArray().reduce((i,s)=>i+s.width,0)!==this.viewportColumnsWidth}normalizeScrollLeft(t){return this.rtl?function YF(n,o,t){let i=n;return t<0?i=-n:t>0&&(i=o.scrollWidth-o.offsetWidth-n),i}(t,this.container.nativeElement,this.supportService.rtlScrollLeft):t}elementScrollLeft(t){return this.rtl?this.normalizeScrollLeft(this.container.nativeElement.scrollWidth-t.offsetLeft-t.offsetWidth):t.offsetLeft}calcVirtualPageSize=()=>{const t=this.container.nativeElement.offsetHeight;return t&&(this.rowHeight??this.minRowHeight)?Math.ceil(t/(this.rowHeight??this.minRowHeight)*1.5):0};static \u0275fac=function(i){return new(i||n)(e.rXU(JS),e.rXU(Il),e.rXU(Td),e.rXU(Lm),e.rXU(tl),e.rXU(e.SKi),e.rXU(e.sFG),e.rXU(fd),e.rXU(vm),e.rXU(Us),e.rXU(Qm),e.rXU(ar),e.rXU(Fu),e.rXU(Me),e.rXU(gc),e.rXU(e.gRc),e.rXU(Dc),e.rXU(Qn),e.rXU(ag))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-list"]],viewQuery:function(i,s){if(1&i&&(e.GBs(Av,7),e.GBs(yA,5),e.GBs(NA,5),e.GBs(GA,7),e.GBs(E.M0,5)),2&i){let r;e.mGM(r=e.lsd())&&(s.container=r.first),e.mGM(r=e.lsd())&&(s.lockedContainer=r.first),e.mGM(r=e.lsd())&&(s.lockedTable=r.first),e.mGM(r=e.lsd())&&(s.table=r.first),e.mGM(r=e.lsd())&&(s.resizeSensors=r)}},hostVars:3,hostBindings:function(i,s){2&i&&(e.BMQ("role",s.hostRole),e.AVh("k-grid-container",s.hostClass))},inputs:{data:"data",groups:"groups",total:"total",rowHeight:"rowHeight",detailRowHeight:"detailRowHeight",take:"take",skip:"skip",columns:"columns",detailTemplate:"detailTemplate",noRecordsTemplate:"noRecordsTemplate",selectable:"selectable",groupable:"groupable",filterable:"filterable",rowClass:"rowClass",rowSticky:"rowSticky",loading:"loading",trackBy:"trackBy",virtualColumns:"virtualColumns",isVirtual:"isVirtual",cellLoadingTemplate:"cellLoadingTemplate",loadingTemplate:"loadingTemplate",sort:"sort",size:"size"},outputs:{contentScroll:"contentScroll",pageChange:"pageChange",scrollBottom:"scrollBottom"},standalone:!0,features:[e.Jv_([{provide:JS,useValue:CV}]),e.OA$,e.aNF],decls:12,vars:36,consts:[["container",""],["table",""],["lockedContainer",""],["lockedTable",""],["class","k-grid-content-locked","role","presentation","tabindex","-1",3,"width","kendoEventsOutsideAngular","scope",4,"ngIf"],[1,"k-grid-content","k-virtual-content",3,"kendoGridResizableContainer","lockedWidth"],["role","presentation"],["kendoGridResizableTable","","kendoGridTable","","role","presentation",1,"k-grid-table",3,"virtualColumns","size"],["kendoGridColGroup","",3,"groups","columns","detailTemplate","sort"],["kendoGridTableBody","","role","rowgroup",3,"skipGroupDecoration","rowsToRender","groups","columns","allColumns","detailTemplate","noRecordsTemplate","lockedColumnsCount","totalColumnsCount","totalColumns","skip","selectable","trackBy","filterable","rowClass","rowSticky","virtualColumns","isLoading","isVirtual","cellLoadingTemplate"],[4,"ngIf"],["class","k-height-container","role","presentation",4,"ngIf"],["class","k-width-container","role","presentation",4,"ngIf"],["role","presentation","tabindex","-1",1,"k-grid-content-locked",3,"kendoEventsOutsideAngular","scope"],["kendoGridResizableTable","","role","presentation","kendoGridTable","",1,"k-grid-table",3,"locked","size"],["kendoGridTableBody","","role","presentation",3,"groups","isLocked","rowsToRender","noRecordsText","columns","totalColumnsCount","totalColumns","detailTemplate","skip","selectable","trackBy","filterable","rowClass","isLoading","isVirtual","cellLoadingTemplate"],["role","presentation",1,"k-height-container"],["role","presentation",1,"k-width-container"]],template:function(i,s){1&i&&(e.DNE(0,FA,9,34,"div",4),e.j41(1,"div",5,0)(3,"div",6)(4,"table",7,1),e.nrm(6,"colgroup",8)(7,"tbody",9),e.k0s(),e.DNE(8,BA,1,0,"kendo-resize-sensor",10),e.k0s(),e.DNE(9,LA,1,0,"kendo-resize-sensor",10)(10,UA,2,2,"div",11)(11,VA,2,2,"div",12),e.k0s()),2&i&&(e.Y8G("ngIf",s.isLocked&&!s.isStacked),e.R7$(),e.Y8G("kendoGridResizableContainer",s.lockedLeafColumns.length>0)("lockedWidth",s.lockedWidth+1),e.R7$(3),e.xc7("width",s.nonLockedWidth,"px"),e.Y8G("virtualColumns",s.virtualColumns)("size",s.size),e.R7$(2),e.Y8G("groups",s.isLocked?e.lJ4(35,ad):s.groups)("columns",s.nonLockedColumnsToRender)("detailTemplate",s.detailTemplate)("sort",s.sort),e.R7$(),e.Y8G("skipGroupDecoration",s.isLocked)("rowsToRender",s.allItems)("groups",s.groups)("columns",s.nonLockedColumnsToRender)("allColumns",s.nonLockedLeafColumns)("detailTemplate",s.detailTemplate)("noRecordsTemplate",s.noRecordsTemplate)("lockedColumnsCount",s.lockedLeafColumns.length)("totalColumnsCount",s.leafColumns.length)("totalColumns",s.columns)("skip",s.skip)("selectable",s.selectable)("trackBy",s.trackBy)("filterable",s.filterable)("rowClass",s.rowClass)("rowSticky",s.rowSticky)("virtualColumns",s.virtualColumns)("isLoading",s.loading)("isVirtual",s.isVirtual)("cellLoadingTemplate",s.cellLoadingTemplate),e.R7$(),e.Y8G("ngIf",s.isLocked),e.R7$(),e.Y8G("ngIf",s.isLocked||s.virtualColumns),e.R7$(),e.Y8G("ngIf",s.isVirtual),e.R7$(),e.Y8G("ngIf",s.virtualColumns&&!s.isStacked))},dependencies:[w.bT,E.Uj,HS,km,_m,Ym,E.M0,Cm],encapsulation:2})}return n})(),dg=(()=>{class n{ctx;wrapper;context={};role="toolbar";hostClasses=!0;get sizeSmallClass(){return"small"===this.size}get sizeMediumClass(){return"medium"===this.size||!this.size}set position(t){this.context.position=t}set size(t){this._size=t,"none"===t&&this.wrapper.nativeElement.classList.remove("k-toolbar-sm","k-toolbar-md")}get size(){return this._size}clickHandler(t){if(this.navigable&&(0,E.nm)()){const i=(0,E.lG)(t.target,E.tp,this.wrapper.nativeElement)?.closest("[kendoGridToolbarFocusable]"),s=this.navigationService.navigableElements.indexOf(i);s>-1&&(this.navigationService.currentActiveIndex=s),this.navigationService.updateFocus(),t.target===this.wrapper.nativeElement&&this.navigationService.focus()}}arrowLeftListener(){this.navigable&&(0,E.nm)()&&this.navigationService.navigableElements.length&&(this.navigationService.currentActiveIndex--,this.navigationService.currentActiveIndex<0&&(this.navigationService.currentActiveIndex=this.navigationService.navigableElements.length-1),this.navigationService.updateFocus())}arrowRightListener(){this.navigable&&(0,E.nm)()&&this.navigationService.navigableElements.length&&(this.navigationService.currentActiveIndex++,this.navigationService.currentActiveIndex>=this.navigationService.navigableElements.length&&(this.navigationService.currentActiveIndex=0),this.navigationService.updateFocus())}homeKeyListener(t){this.navigable&&(0,E.nm)()&&this.navigationService.navigableElements.length&&(t.preventDefault(),this.navigationService.currentActiveIndex=0,this.navigationService.updateFocus())}endKeyListener(t){this.navigable&&(0,E.nm)()&&this.navigationService.navigableElements.length&&(t.preventDefault(),this.navigationService.currentActiveIndex=this.navigationService.navigableElements.length-1,this.navigationService.updateFocus())}navigable;get toolbarTemplateRef(){return this.ctx.grid.toolbarTemplate?this.ctx.grid.toolbarTemplate.templateRef:void 0}_size="medium";navigationService;constructor(t,i){this.ctx=t,this.wrapper=i,this.navigationService=this.ctx[`${this.wrapper.nativeElement.getAttribute("position")}ToolbarNavigation`],this.navigationService&&(this.navigationService.toolbarElement=this.wrapper.nativeElement)}static \u0275fac=function(i){return new(i||n)(e.rXU(Me),e.rXU(e.aKT))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-toolbar"]],hostVars:11,hostBindings:function(i,s){1&i&&e.bIt("click",function(l){return s.clickHandler(l)})("keydown.arrowleft",function(l){return s.arrowLeftListener(l)})("keydown.arrowright",function(l){return s.arrowRightListener(l)})("keydown.home",function(l){return s.homeKeyListener(l)})("keydown.end",function(l){return s.endKeyListener(l)}),2&i&&(e.BMQ("role",s.role),e.AVh("k-toolbar",s.hostClasses)("k-grid-toolbar",s.hostClasses)("k-toolbar-solid",s.hostClasses)("k-toolbar-sm",s.sizeSmallClass)("k-toolbar-md",s.sizeMediumClass))},inputs:{position:"position",size:"size",navigable:"navigable"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,s){1&i&&e.DNE(0,KA,1,2,null,0),2&i&&e.Y8G("ngIf",s.toolbarTemplateRef)},dependencies:[w.bT,w.T3],encapsulation:2})}return n})(),rh=(()=>{class n extends ve.EX{groupPanelEmpty;noRecords;pagerLabel;pagerFirstPage;pagerLastPage;pagerPreviousPage;pagerNextPage;pagerPage;pagerItemsPerPage;pagerOf;pagerItems;pagerPageNumberInputTitle;pagerInputLabel;pagerSelectPage;filter;filterInputLabel;filterMenuTitle;filterMenuOperatorsDropDownLabel;filterMenuLogicDropDownLabel;filterCellOperatorLabel;booleanFilterCellLabel;aiAssistantApplyButtonText;aiAssistantToolbarToolText;aiAssistantWindowTitle;aiAssistantWindowCloseTitle;aiAssistantOutputCardTitle;aiAssistantOutputCardBodyContent;aiAssistantWindowMaximizeTitle;aiAssistantWindowMinimizeTitle;aiAssistantWindowRestoreTitle;filterEqOperator;filterNotEqOperator;filterIsNullOperator;filterIsNotNullOperator;filterIsEmptyOperator;filterIsNotEmptyOperator;filterStartsWithOperator;filterContainsOperator;filterNotContainsOperator;filterEndsWithOperator;filterGteOperator;filterGtOperator;filterLteOperator;filterLtOperator;filterIsTrue;filterIsFalse;filterBooleanAll;adaptiveFilterOperatorsTitle;filterAfterOrEqualOperator;filterAfterOperator;filterBeforeOperator;filterBeforeOrEqualOperator;filterFilterButton;filterClearButton;adaptiveCloseButtonTitle;adaptiveBackButtonTitle;filterAndLogic;filterOrLogic;filterToolbarToolText;loading;gridLabel;columnMenu;setColumnPosition;columns;columnsSubtitle;adaptiveFilterTitle;adaptiveSortTitle;adaptiveGroupTitle;filterClearAllButton;groupClearButton;sortClearButton;sortDoneButton;groupDoneButton;lock;unlock;stick;unstick;sortable;sortAscending;sortDescending;autosizeThisColumn;autosizeAllColumns;sortedAscending;sortedDescending;sortedDefault;sortToolbarToolText;columnsApply;columnsReset;detailExpand;detailCollapse;filterDateToday;filterDateToggle;filterNumericDecrement;filterNumericIncrement;selectionCheckboxLabel;selectAllCheckboxLabel;groupCollapse;groupExpand;topToolbarLabel;bottomToolbarLabel;editToolbarToolText;saveToolbarToolText;addToolbarToolText;cancelToolbarToolText;removeToolbarToolText;excelExportToolbarToolText;pdfExportToolbarToolText;groupPanelLabel;dragRowHandleLabel;columnMenuFilterTabTitle;columnMenuGeneralTabTitle;columnMenuColumnsTabTitle;groupChipMenuPrevious;groupChipMenuNext;groupToolbarToolText;formValidationErrorText;removeConfirmationDialogTitle;removeConfirmationDialogContent;removeConfirmationDialogConfirmText;removeConfirmationDialogRejectText;externalEditingTitle;externalEditingAddTitle;externalEditingSaveText;externalEditingCancelText;static \u0275fac=(()=>{let t;return function(s){return(t||(t=e.xGo(n)))(s||n)}})();static \u0275dir=e.FsC({type:n,selectors:[["kendo-grid-messages-base"]],inputs:{groupPanelEmpty:"groupPanelEmpty",noRecords:"noRecords",pagerLabel:"pagerLabel",pagerFirstPage:"pagerFirstPage",pagerLastPage:"pagerLastPage",pagerPreviousPage:"pagerPreviousPage",pagerNextPage:"pagerNextPage",pagerPage:"pagerPage",pagerItemsPerPage:"pagerItemsPerPage",pagerOf:"pagerOf",pagerItems:"pagerItems",pagerPageNumberInputTitle:"pagerPageNumberInputTitle",pagerInputLabel:"pagerInputLabel",pagerSelectPage:"pagerSelectPage",filter:"filter",filterInputLabel:"filterInputLabel",filterMenuTitle:"filterMenuTitle",filterMenuOperatorsDropDownLabel:"filterMenuOperatorsDropDownLabel",filterMenuLogicDropDownLabel:"filterMenuLogicDropDownLabel",filterCellOperatorLabel:"filterCellOperatorLabel",booleanFilterCellLabel:"booleanFilterCellLabel",aiAssistantApplyButtonText:"aiAssistantApplyButtonText",aiAssistantToolbarToolText:"aiAssistantToolbarToolText",aiAssistantWindowTitle:"aiAssistantWindowTitle",aiAssistantWindowCloseTitle:"aiAssistantWindowCloseTitle",aiAssistantOutputCardTitle:"aiAssistantOutputCardTitle",aiAssistantOutputCardBodyContent:"aiAssistantOutputCardBodyContent",aiAssistantWindowMaximizeTitle:"aiAssistantWindowMaximizeTitle",aiAssistantWindowMinimizeTitle:"aiAssistantWindowMinimizeTitle",aiAssistantWindowRestoreTitle:"aiAssistantWindowRestoreTitle",filterEqOperator:"filterEqOperator",filterNotEqOperator:"filterNotEqOperator",filterIsNullOperator:"filterIsNullOperator",filterIsNotNullOperator:"filterIsNotNullOperator",filterIsEmptyOperator:"filterIsEmptyOperator",filterIsNotEmptyOperator:"filterIsNotEmptyOperator",filterStartsWithOperator:"filterStartsWithOperator",filterContainsOperator:"filterContainsOperator",filterNotContainsOperator:"filterNotContainsOperator",filterEndsWithOperator:"filterEndsWithOperator",filterGteOperator:"filterGteOperator",filterGtOperator:"filterGtOperator",filterLteOperator:"filterLteOperator",filterLtOperator:"filterLtOperator",filterIsTrue:"filterIsTrue",filterIsFalse:"filterIsFalse",filterBooleanAll:"filterBooleanAll",adaptiveFilterOperatorsTitle:"adaptiveFilterOperatorsTitle",filterAfterOrEqualOperator:"filterAfterOrEqualOperator",filterAfterOperator:"filterAfterOperator",filterBeforeOperator:"filterBeforeOperator",filterBeforeOrEqualOperator:"filterBeforeOrEqualOperator",filterFilterButton:"filterFilterButton",filterClearButton:"filterClearButton",adaptiveCloseButtonTitle:"adaptiveCloseButtonTitle",adaptiveBackButtonTitle:"adaptiveBackButtonTitle",filterAndLogic:"filterAndLogic",filterOrLogic:"filterOrLogic",filterToolbarToolText:"filterToolbarToolText",loading:"loading",gridLabel:"gridLabel",columnMenu:"columnMenu",setColumnPosition:"setColumnPosition",columns:"columns",columnsSubtitle:"columnsSubtitle",adaptiveFilterTitle:"adaptiveFilterTitle",adaptiveSortTitle:"adaptiveSortTitle",adaptiveGroupTitle:"adaptiveGroupTitle",filterClearAllButton:"filterClearAllButton",groupClearButton:"groupClearButton",sortClearButton:"sortClearButton",sortDoneButton:"sortDoneButton",groupDoneButton:"groupDoneButton",lock:"lock",unlock:"unlock",stick:"stick",unstick:"unstick",sortable:"sortable",sortAscending:"sortAscending",sortDescending:"sortDescending",autosizeThisColumn:"autosizeThisColumn",autosizeAllColumns:"autosizeAllColumns",sortedAscending:"sortedAscending",sortedDescending:"sortedDescending",sortedDefault:"sortedDefault",sortToolbarToolText:"sortToolbarToolText",columnsApply:"columnsApply",columnsReset:"columnsReset",detailExpand:"detailExpand",detailCollapse:"detailCollapse",filterDateToday:"filterDateToday",filterDateToggle:"filterDateToggle",filterNumericDecrement:"filterNumericDecrement",filterNumericIncrement:"filterNumericIncrement",selectionCheckboxLabel:"selectionCheckboxLabel",selectAllCheckboxLabel:"selectAllCheckboxLabel",groupCollapse:"groupCollapse",groupExpand:"groupExpand",topToolbarLabel:"topToolbarLabel",bottomToolbarLabel:"bottomToolbarLabel",editToolbarToolText:"editToolbarToolText",saveToolbarToolText:"saveToolbarToolText",addToolbarToolText:"addToolbarToolText",cancelToolbarToolText:"cancelToolbarToolText",removeToolbarToolText:"removeToolbarToolText",excelExportToolbarToolText:"excelExportToolbarToolText",pdfExportToolbarToolText:"pdfExportToolbarToolText",groupPanelLabel:"groupPanelLabel",dragRowHandleLabel:"dragRowHandleLabel",columnMenuFilterTabTitle:"columnMenuFilterTabTitle",columnMenuGeneralTabTitle:"columnMenuGeneralTabTitle",columnMenuColumnsTabTitle:"columnMenuColumnsTabTitle",groupChipMenuPrevious:"groupChipMenuPrevious",groupChipMenuNext:"groupChipMenuNext",groupToolbarToolText:"groupToolbarToolText",formValidationErrorText:"formValidationErrorText",removeConfirmationDialogTitle:"removeConfirmationDialogTitle",removeConfirmationDialogContent:"removeConfirmationDialogContent",removeConfirmationDialogConfirmText:"removeConfirmationDialogConfirmText",removeConfirmationDialogRejectText:"removeConfirmationDialogRejectText",externalEditingTitle:"externalEditingTitle",externalEditingAddTitle:"externalEditingAddTitle",externalEditingSaveText:"externalEditingSaveText",externalEditingCancelText:"externalEditingCancelText"},features:[e.Vt3]})}return n})(),eb=(()=>{class n extends rh{service;constructor(t){super(),this.service=t}static \u0275fac=function(i){return new(i||n)(e.rXU(ve.Pi))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridLocalizedMessages",""]],standalone:!0,features:[e.Jv_([{provide:rh,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3]})}return n})(),tb=(()=>{class n{element;filterService;ctx;columnInfoService;ngZone;adaptiveGridService;filterItems;menuItems;filterContainers;close=new e.bkB;get hostStyles(){return{maxHeight:"400px",overflowX:"hidden",overflowY:"auto"}}columnMenuService;columns;filter;isFilterApplied(t){if(!this.filter?.filters)return!1;if(Array.isArray(this.filter.filters))for(const i of this.filter.filters)if(i.filters&&Array.isArray(i.filters)){for(const s of i.filters)if(s.field===t.field)return!0}else if(i.field===t.field)return!0;return!1}isItemFocused(t){return this.currentFocusedItem===t}onItemFocus(t){this.currentFocusedItem=t}onItemFocusOut(){this.currentFocusedItem=null}currentFocusedItem=null;subscriptions;constructor(t,i,s,r,l,u){this.element=t,this.filterService=i,this.ctx=s,this.columnInfoService=r,this.ngZone=l,this.adaptiveGridService=u}ngOnInit(){this.columns=this.columnInfoService.leafNamedColumns.filter(t=>t?.filterable),this.filter=this.ctx.grid.filter,this.subscriptions=this.filterService.changes.subscribe(t=>{this.filter=Ol(t)})}ngAfterViewInit(){this.ngZone.onStable.pipe((0,st.s)(1)).subscribe(()=>{this.filterItems?.get(0)?.nativeElement.focus()})}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}navigateView(t){if(this.ctx.grid.isActionSheetExpanded&&"filterToolbarTool"===this.adaptiveGridService.viewType){const i=this.ctx.grid.adaptiveRenderer.filterToolbarToolTemplate.createComponent(Ml);i.instance.column=this.getColumnComponent(t),i.instance.filter=this.filter,this.subscriptions.add(i.instance.close.subscribe(()=>{this.adaptiveGridService.reset()})),this.adaptiveGridService.filterMenuContainerComponentRef=i,this.adaptiveGridService.secondaryView="columnFilter",this.adaptiveGridService.column=this.getColumnComponent(t),this.ctx.grid.adaptiveRenderer.actionSheet.nextView()}}getColumnComponent(t){return t}handleClose(t){t.expanded=!1,t.contentState="collapsed";const i=this.filterContainers.find(s=>s.column===t.column);i&&i.resetChildFilters()}toggleItem(t,i){const s=this.menuItems.get(i);!s||t.target.closest(".k-filter-menu-container")||(s.expanded?(this.filterContainers.get(i).isExpanded=!1,s.expanded=!1,s.contentState="collapsed"):(this.filterContainers.get(i).isExpanded=!0,s.expanded=!0,s.contentState="expanded"))}static \u0275fac=function(i){return new(i||n)(e.rXU(e.aKT),e.rXU(Zn),e.rXU(Me),e.rXU(Qn),e.rXU(e.SKi),e.rXU(Ys))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-filter-toolbar-tool"]],viewQuery:function(i,s){if(1&i&&(e.GBs(Pv,5,e.aKT),e.GBs(Pv,5),e.GBs($A,5)),2&i){let r;e.mGM(r=e.lsd())&&(s.filterItems=r),e.mGM(r=e.lsd())&&(s.menuItems=r),e.mGM(r=e.lsd())&&(s.filterContainers=r)}},outputs:{close:"close"},standalone:!0,features:[e.aNF],decls:2,vars:3,consts:[["filterItem",""],["filterContainer",""],["class","k-columnmenu-item-wrapper","role","button","tabindex","0",3,"column","text","indicatorIcon","expanded","focused","focus","focusout","keydown.enter","itemClick",4,"ngFor","ngForOf"],["role","button","tabindex","0",1,"k-columnmenu-item-wrapper",3,"focus","focusout","keydown.enter","itemClick","column","text","indicatorIcon","expanded","focused"],["kendoGridColumnMenuItemContentTemplate",""],[3,"keydown.shift.tab","close","column","filter","isExpanded"]],template:function(i,s){1&i&&(e.j41(0,"div"),e.DNE(1,HA,3,5,"kendo-grid-columnmenu-item",2),e.k0s()),2&i&&(e.Aen(s.hostStyles),e.R7$(),e.Y8G("ngForOf",s.columns))},dependencies:[w.pM,Ml,Rr,yl],encapsulation:2})}return n})();const ib=n=>"asc"===n?["asc","desc"]:["desc","asc"];let nb=(()=>{class n{localization;cdr;control;floatingLabel;showError;input;constructor(t,i){this.localization=t,this.cdr=i}ngAfterContentInit(){this.cdr.detectChanges()}messageFor(t,i,s){return(0,E.DG)((0,E.DG)(this.localization.get(t),"fieldName",s),"errorName",i)}static \u0275fac=function(i){return new(i||n)(e.rXU(ve.Pi),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-form-formfield"]],viewQuery:function(i,s){if(1&i&&e.GBs(JA,5),2&i){let r;e.mGM(r=e.lsd())&&(s.input=r.first)}},inputs:{control:"control",floatingLabel:"floatingLabel",showError:"showError"},standalone:!0,features:[e.aNF],decls:9,vars:9,consts:[["input",""],["cb",""],[3,"orientation"],["labelCssClass","k-form-label",3,"text",4,"ngIf"],["labelCssClass","k-form-label",3,"align-items","text","for",4,"ngIf"],[3,"formControl",4,"ngIf"],["class","k-form-field-checkbox-wrap",4,"ngIf"],[4,"ngIf"],["labelCssClass","k-form-label",3,"text"],[3,"formControl"],["labelCssClass","k-form-label",3,"text","for"],[1,"k-form-field-checkbox-wrap"],["class","k-checkbox-label",3,"for","text",4,"ngIf"],[1,"k-checkbox-label",3,"for","text"],[4,"ngFor","ngForOf"]],template:function(i,s){1&i&&(e.j41(0,"kendo-formfield",2),e.DNE(1,tP,4,4,"kendo-floatinglabel",3)(2,iP,1,4,"kendo-label",4)(3,nP,2,1,"kendo-textbox",5)(4,sP,2,1,"kendo-numerictextbox",5)(5,oP,2,1,"kendo-datepicker",5)(6,aP,4,2,"div",6)(7,lP,2,1,"kendo-formhint",7)(8,dP,3,3,"ng-container",7),e.k0s()),2&i&&(e.Y8G("orientation",s.control.orientation),e.R7$(),e.Y8G("ngIf",s.control.label&&s.floatingLabel&&"boolean"!==s.control.dataType),e.R7$(),e.Y8G("ngIf",s.control.label&&!s.floatingLabel&&"boolean"!==s.control.dataType),e.R7$(),e.Y8G("ngIf",!s.floatingLabel&&"text"===s.control.dataType),e.R7$(),e.Y8G("ngIf",!s.floatingLabel&&"numeric"===s.control.dataType),e.R7$(),e.Y8G("ngIf",!s.floatingLabel&&"date"===s.control.dataType),e.R7$(),e.Y8G("ngIf",s.control.label&&"boolean"===s.control.dataType),e.R7$(),e.Y8G("ngIf",null==s.control?null:s.control.hint),e.R7$(),e.Y8G("ngIf",s.showError&&(null==s.control.formControl?null:s.control.formControl.invalid)&&s.control.formControl.touched))},dependencies:[w.lG,w.pM,w.bT,Ne.X1,Ne.BC,Ne.l_,Bp.UF,Bp.wM,re.KS,re.p5,re.Ax,re.OV,re.Jh,re.$W,nc],encapsulation:2})}return n})(),sb=0,ug=(()=>{class n{controls=[];set formSettings(t){this._formSettings={...this._formSettings,...t}}get formSettings(){return this._formSettings}formGroup;set actionButtons(t){"boolean"==typeof t?this.normalizeActionButtonSettings(t):this._actionButtons=t}get actionButtons(){return this._actionButtons}formSubmit=new e.bkB;get componentIndex(){return sb++}_formSettings={orientation:"vertical",showErrors:!0,floatingLabels:!1};defaultActionButtons=[{actionType:"submit",text:"Submit",svgIcon:ne.DLl,icon:"save",themeColor:"primary"},{actionType:"reset",svgIcon:ne.YAr,text:"Reset",icon:"cancel"}];_actionButtons=this.defaultActionButtons;ngOnInit(){sb++}normalizeActionButtonSettings(t){this._actionButtons=t?this.defaultActionButtons:[]}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-external-form"]],inputs:{controls:"controls",formSettings:"formSettings",formGroup:"formGroup",actionButtons:"actionButtons"},outputs:{formSubmit:"formSubmit"},standalone:!0,features:[e.aNF],decls:3,vars:5,consts:[["template",""],["role","form",1,"k-form","k-form-md",3,"ngSubmit","reset","formGroup"],[4,"ngFor","ngForOf"],["class","k-form-buttons",4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"control","showError","floatingLabel"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-form-buttons"],["kendoButton","",3,"k-form-submit","size","themeColor","rounded","svgIcon","icon",4,"ngFor","ngForOf"],["kendoButton","",3,"size","themeColor","rounded","svgIcon","icon"]],template:function(i,s){1&i&&(e.j41(0,"div",1),e.bIt("ngSubmit",function(l){return s.formSubmit.next({originalEvent:l,formGroup:s.formGroup})})("reset",function(l){return l.preventDefault()}),e.DNE(1,pP,4,2,"ng-container",2)(2,gP,2,1,"div",3),e.k0s()),2&i&&(e.AVh("k-form-horizontal","horizontal"===s.formSettings.orientation),e.Y8G("formGroup",s.formGroup),e.R7$(),e.Y8G("ngForOf",s.controls),e.R7$(),e.Y8G("ngIf",s.actionButtons.length))},dependencies:[w.pM,w.bT,w.T3,Ne.X1,Ne.cb,Ne.j4,nb,Te.Qp],encapsulation:2})}return n})(),hg=(()=>{class n{element;ngZone;hostClass=!0;get lgClass(){return this.adaptive}get mdClass(){return!this.adaptive}onEscKeyDown(t){t.preventDefault(),this.hostButton?.focus(t),this.close.emit()}set groupItems(t){this._groupItems=t,t?.first&&(!(0,E.Wo)(this.currentFocusedItemIndex)||this.currentFocusedItemIndex>=t.length||this.currentFocusedItemIndex<0)?this.ngZone.onStable.pipe((0,st.s)(1)).subscribe(()=>{this.currentFocusedItemIndex=0,this.groupItems.first.nativeElement.focus()}):t?.first&&t.get(this.currentFocusedItemIndex).nativeElement.focus()}get groupItems(){return this._groupItems}_groupItems;adaptive=!1;close=new e.bkB;groupClear=new e.bkB;currentFocusedItemIndex;group=new Array;columns=[];iconSize="medium";upIcon=ne.mAq;downIcon=ne.brG;removeIcon=ne.aVR;addIcon=ne.IVf;clearIcon=ne.i3N;_ctx;set ctx(t){!t||!t.grid||(this._ctx=t,this.group=t.grid.group,this.subscription=t.grid.groupChange.subscribe(i=>{this.group=i,this.updateGroupedColumns()}),this.ngZone.onStable.pipe((0,st.s)(1)).subscribe(()=>{this.updateGroupedColumns()}))}get ctx(){return this._ctx}groupedColumns=[];ungroupedColumns=[];subscription;hostButton;constructor(t,i){this.element=t,this.ngZone=i}ngOnInit(){this.iconSize=this.adaptive?"large":"medium"}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}addGroup(t,i){i.stopImmediatePropagation();const s=this.group.length,r=this.group.filter(l=>l.field!==t?.field);(r.length||0===this.group.length)&&(this.group=[...r.slice(0,s),{field:t?.field},...r.slice(s)],this.ctx.grid.groupChange.emit(this.group),this.updateGroupedColumns(),this.ngZone.onStable.pipe((0,st.s)(1)).subscribe(()=>{const l=this.groupedColumns.length-1,u=this.groupItems.get(l);u&&(this.currentFocusedItemIndex=(this.groupedColumns?.length||0)+l,u.nativeElement.focus())}))}removeGroup(t,i){i.stopImmediatePropagation(),this.group=this.group.filter(s=>s.field!==t?.field),this.ctx.grid.groupChange.emit(this.group),this.updateGroupedColumns(),this.ngZone.onStable.pipe((0,st.s)(1)).subscribe(()=>{const s=this.ungroupedColumns.findIndex(l=>l?.field===t?.field),r=this.groupItems.get(s+this.groupedColumns.length);r&&r.nativeElement.focus()})}moveGroupUp(t,i){i.stopImmediatePropagation();const s=this.group.findIndex(r=>r.field===t?.field);if(s>0){const r=this.group[s];this.group.splice(s,1),this.group.splice(s-1,0,r),this.ctx.grid.groupChange.emit(this.group),this.updateGroupedColumns(),this.ngZone.onStable.pipe((0,st.s)(1)).subscribe(()=>{const l=this.groupItems.get(s-1);l&&(l.nativeElement.focus(),this.currentFocusedItemIndex=s-1)})}}moveGroupDown(t,i){i.stopImmediatePropagation();const s=this.group.findIndex(r=>r.field===t?.field);if(s<this.group.length-1){const r=this.group[s];this.group.splice(s,1),this.group.splice(s+1,0,r),this.ctx.grid.groupChange.emit(this.group),this.updateGroupedColumns(),this.ngZone.onStable.pipe((0,st.s)(1)).subscribe(()=>{const l=this.groupItems.get(s+1);l&&(l.nativeElement.focus(),this.currentFocusedItemIndex=s+1)})}}clear(){this.group=[],this.ctx.grid.groupChange.emit(this.group),this.groupClear.emit(this.group)}getColumnComponent(t){return t}onItemFocus(t,i){this.currentFocusedItemIndex=("number"==typeof t?t:this.groupedColumns?.length||0)+i}handleGroupedKeydown(t,i,s){const r=(0,E.tq)(s);r===E.D$.Enter||r===E.D$.Backspace||r===E.D$.Delete?this.removeGroup(t,s):r===E.D$.ArrowUp&&s.shiftKey?this.moveGroupUp(t,s):r===E.D$.ArrowDown&&s.shiftKey?this.moveGroupDown(t,s):r===E.D$.ArrowUp?this.navigateToPreviousItem():r===E.D$.ArrowDown&&this.navigateToNextItem()}handleUngroupedKeydown(t,i,s){const r=(0,E.tq)(s);r===E.D$.Enter?this.addGroup(t,s):r===E.D$.ArrowUp?this.navigateToPreviousItem():r===E.D$.ArrowDown&&this.navigateToNextItem()}updateGroupedColumns(){this.groupedColumns=this.group.map(t=>this.ctx.grid.columns.find(i=>i?.field===t.field)).filter(t=>!!t),this.ungroupedColumns=this.ctx.grid.columns.filter(t=>t?.groupable&&!this.groupedColumns.some(i=>i?.field===t?.field))}navigateToNextItem(){this.currentFocusedItemIndex<this.groupItems.length-1?(this.currentFocusedItemIndex++,this.groupItems.get(this.currentFocusedItemIndex).nativeElement.focus()):this.currentFocusedItemIndex===this.groupItems.length-1&&(this.currentFocusedItemIndex=0,this.groupItems.get(this.currentFocusedItemIndex).nativeElement.focus())}navigateToPreviousItem(){this.currentFocusedItemIndex>0?(this.currentFocusedItemIndex--,this.groupItems.get(this.currentFocusedItemIndex).nativeElement.focus()):0===this.currentFocusedItemIndex&&(this.currentFocusedItemIndex=this.groupItems.length-1,this.groupItems.get(this.currentFocusedItemIndex).nativeElement.focus())}static \u0275fac=function(i){return new(i||n)(e.rXU(e.aKT),e.rXU(e.SKi))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-group-toolbar-tool"]],viewQuery:function(i,s){if(1&i&&e.GBs(fP,5,e.aKT),2&i){let r;e.mGM(r=e.lsd())&&(s.groupItems=r)}},hostVars:6,hostBindings:function(i,s){1&i&&e.bIt("keydown.escape",function(l){return s.onEscKeyDown(l)}),2&i&&e.AVh("k-group-menu",s.hostClass)("k-group-menu-lg",s.lgClass)("k-group-menu-md",s.mdClass)},inputs:{adaptive:"adaptive"},outputs:{close:"close",groupClear:"groupClear"},standalone:!0,features:[e.aNF],decls:3,vars:3,consts:[["groupItem",""],["class","k-group-menu-item-wrap",4,"ngIf"],["class","k-actions k-actions-stretched k-actions-horizontal k-column-menu-footer",4,"ngIf"],[1,"k-group-menu-item-wrap"],["role","button","class","k-group-menu-item","tabindex","0",3,"keydown","focus",4,"ngFor","ngForOf"],["role","button","tabindex","0",1,"k-group-menu-item",3,"keydown","focus"],["class","k-group-menu-item-actions",4,"ngIf"],[1,"k-group-item-text"],[1,"k-spacer"],[1,"k-group-menu-item-actions"],[1,"k-group-menu-item-action","k-group-menu-item-remove-action",3,"click"],["name","x-circle",3,"svgIcon","size"],[1,"k-group-menu-item-action","k-group-menu-item-up-action",3,"click"],["name","arrow-chevron-up",3,"svgIcon","size"],[1,"k-group-menu-item-action","k-group-menu-item-down-action",3,"click"],["name","arrow-chevron-down",3,"svgIcon","size"],[1,"k-group-menu-item-action","k-group-menu-item-add-action",3,"click"],["name","plus-circle",3,"svgIcon","size"],[1,"k-actions","k-actions-stretched","k-actions-horizontal","k-column-menu-footer"],["kendoButton","","icon","x",3,"click","svgIcon"]],template:function(i,s){1&i&&e.DNE(0,CP,2,1,"div",1)(1,bP,2,1,"div",1)(2,EP,3,2,"div",2),2&i&&(e.Y8G("ngIf",s.groupedColumns.length),e.R7$(),e.Y8G("ngIf",s.ungroupedColumns.length),e.R7$(),e.Y8G("ngIf",!s.adaptive))},dependencies:[w.pM,w.bT,ct.QK,Te.Qp],encapsulation:2})}return n})(),rb=(()=>{class n{service;adaptiveGridService;filterService;ctx;adaptiveService;sortService;columnInfoService;xIcon=ne.i3N;checkIcon=ne.oEo;filterIcon=ne.Sj_;arrowRotateCcwIcon=ne.rjQ;chevronLeft=ne.IlG;filterClearIcon=ne.LjL;cancelIcon=ne.YAr;saveIcon=ne.DLl;columns;actionsClass="k-actions";externalEditingSettings;get hasSort(){return Nm(this.ctx.grid.columnMenu,this.adaptiveGridService.column)}get hasColumnChooser(){return Am(this.ctx.grid.columnMenu)}get hasFilter(){return ym(this.ctx.grid.columnMenu,this.adaptiveGridService.column)}get hasAutoSizeColumn(){return Pm(this.ctx.grid.columnMenu)}get hasAutoSizeAllColumns(){return Fm(this.ctx.grid.columnMenu)}get hasLock(){return Gm(this.ctx.grid.columnMenu,this.adaptiveGridService.column)}get hasStick(){return tS(this.ctx.grid.columnMenu,this.adaptiveGridService.column)}get hasPosition(){return iS(this.ctx.grid.columnMenu,this.adaptiveGridService.column)}getColumnComponent(t){return t}get hasTitle(){return"columnMenu"===this.adaptiveGridService.viewType||"filterToolbarTool"===this.adaptiveGridService.viewType||"columnChooserToolbarTool"===this.adaptiveGridService.viewType||"filterMenu"===this.adaptiveGridService.viewType||"sortToolbarTool"===this.adaptiveGridService.viewType||"groupToolbarTool"===this.adaptiveGridService.viewType||"externalEditing"===this.adaptiveGridService.viewType}get hasSubtitle(){return"columnMenu"===this.adaptiveGridService.viewType&&"columnChooser"===this.adaptiveGridService.secondaryView||"columnChooserToolbarTool"===this.adaptiveGridService.viewType}get actionSheetTitle(){return"columnMenu"===this.adaptiveGridService.viewType?"columnChooser"===this.adaptiveGridService.secondaryView?this.messageFor("columns"):"columnPosition"===this.adaptiveGridService.secondaryView?this.messageFor("setColumnPosition"):"columnFilter"===this.adaptiveGridService.secondaryView?this.adaptiveGridService.column.title||this.adaptiveGridService.column.field:this.columnMenuTitle:"filterToolbarTool"===this.adaptiveGridService.viewType?"columnFilter"===this.adaptiveGridService.secondaryView?this.adaptiveGridService.column.title||this.adaptiveGridService.column.field:this.messageFor("adaptiveFilterTitle"):"filterMenu"===this.adaptiveGridService.viewType?this.adaptiveGridService.column.title||this.adaptiveGridService.column.field:"columnChooserToolbarTool"===this.adaptiveGridService.viewType?this.messageFor("columns"):"sortToolbarTool"===this.adaptiveGridService.viewType?this.messageFor("adaptiveSortTitle"):"groupToolbarTool"===this.adaptiveGridService.viewType?this.messageFor("adaptiveGroupTitle"):"externalEditing"===this.adaptiveGridService.viewType?this.messageFor(this.externalEditingSettings.event.isNew?"externalEditingAddTitle":"externalEditingTitle"):void 0}get adaptiveFilterTitle(){const t=this.adaptiveGridService.column.title||this.adaptiveGridService.column.field;return`${this.messageFor("adaptiveFilterTitle")} ${t}`}get columnMenuTitle(){return this.adaptiveGridService.column.title||this.adaptiveGridService.column.field}get filterLabel(){const t=this.messageFor("filterMenuTitle")||"";return(0,E.DG)(t,"columnName",this.adaptiveGridService.column.title||this.adaptiveGridService.column.field)}get hasXCloseIcon(){return"sortToolbarTool"!==this.adaptiveGridService.viewType&&"groupToolbarTool"!==this.adaptiveGridService.viewType}get hasCheckCloseIcon(){return"sortToolbarTool"===this.adaptiveGridService.viewType||"groupToolbarTool"===this.adaptiveGridService.viewType}columnList;filterToolbarToolTemplate;filterMenuContainer;actionSheet;set groupToolbarTool(t){t&&(t.ctx=this.ctx)}adaptiveSizeChangeSubscription;constructor(t,i,s,r,l,u,f){this.service=t,this.adaptiveGridService=i,this.filterService=s,this.ctx=r,this.adaptiveService=l,this.sortService=u,this.columnInfoService=f,this.adaptiveSizeChangeSubscription=this.adaptiveService.sizeChanges.subscribe(()=>{this.ctx.grid.isOpen&&(this.actionSheet.expanded?this.actionSheet.toggle(!1):(this.adaptiveGridService.popupRef.close(),this.adaptiveGridService.popupRef=null))})}ngOnInit(){this.columns=this.columnInfoService.leafNamedColumns.filter(t=>t?.sortable)}ngOnDestroy(){this.adaptiveSizeChangeSubscription&&this.adaptiveSizeChangeSubscription.unsubscribe()}messageFor=t=>this.ctx.localization.get(t);close(){this.actionSheet.toggle(!1),this.adaptiveGridService.reset()}prevView(){this.adaptiveGridService.secondaryView=null,this.adaptiveGridService.filterMenuContainerComponentRef?.destroy(),this.actionSheet.prevView()}clearFilters(){this.filterService.filter({logic:"and",filters:[]}),this.actionSheet.toggle(!1)}navigateToColumnsView(){this.adaptiveGridService.secondaryView="columnChooser",this.actionSheet.nextView()}navigateToFilterView(){this.adaptiveGridService.secondaryView="columnFilter",this.actionSheet.nextView()}navigateToPositionView(){this.adaptiveGridService.secondaryView="columnPosition",this.actionSheet.nextView()}applyChanges(){this.columnList.applyChanges(),this.actionSheet.toggle(!1)}sortBy(t){this.toggleSort(this.getColumnComponent(t))}toggleSort(t){if(!t?.field)return;const s=this.getDescriptor(t);this.sortService.sort(s)}getDescriptor(t){const{allowUnsort:i,mode:s,initialDirection:r}=Nl(this.ctx.grid.sortable,t.sortable),l=t?.field;if(!l)return;const u=this.ctx.grid.sort.find(G=>G.field===l)||{field:l},[f,C]=ib(r);let T=f;u.dir===f?T=C:u.dir===C&&i&&(T=void 0);const O={field:l,dir:T};return"single"===s?[O]:[...this.ctx.grid.sort.filter(G=>G.field!==l),O]}clearSorting(){this.ctx.grid.sort.length>0&&this.sortService.sort([]),this.actionSheet.toggle(!1)}clearGrouping(){this.ctx.grid.group.length>0&&(this.ctx.grid.group=[],this.ctx.grid.groupChange.emit(this.ctx.grid.group)),this.actionSheet.toggle(!1)}onAnimationEnd(){this.adaptiveGridService.notifyAnimationEnd()}cancelChanges(){this.columnList.cancelChanges()}onTab(t){this.columnList.onTab(t)}saveEditing(){const{event:t,formGroup:i,externalEditingDirective:s}=this.externalEditingSettings;s.saveHandler({...t,formGroup:i}),this.actionSheet.toggle(!1)}static \u0275fac=function(i){return new(i||n)(e.rXU(vd),e.rXU(Ys),e.rXU(Zn),e.rXU(Me),e.rXU(ae.k),e.rXU(Ic),e.rXU(Qn))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid-adaptive-renderer"]],viewQuery:function(i,s){if(1&i&&(e.GBs(yv,5),e.GBs(kP,5,e.c1b),e.GBs(RP,5),e.GBs(In.vL,5),e.GBs(hg,5)),2&i){let r;e.mGM(r=e.lsd())&&(s.columnList=r.first),e.mGM(r=e.lsd())&&(s.filterToolbarToolTemplate=r.first),e.mGM(r=e.lsd())&&(s.filterMenuContainer=r.first),e.mGM(r=e.lsd())&&(s.actionSheet=r.first),e.mGM(r=e.lsd())&&(s.groupToolbarTool=r.first)}},standalone:!0,features:[e.aNF],decls:16,vars:17,consts:[["actionSheetHeaderTemplate",""],["actionSheetFooterTemplate",""],["filterFooterButtons",""],["columnList",""],["filterToolbarToolTemplate",""],["filterMenuContainer",""],["sortItem",""],["lockItem",""],["stickItem",""],["positionItem",""],["chooserItem",""],["autoSizeColumnItem",""],["autoSizeAllColumnsItem",""],["filterItem",""],["resetButton",""],["applyButton",""],[3,"collapse","cssClass","cssStyle","overlayClickClose"],[4,"ngIf"],[3,"kendoEventsOutsideAngular","scope",4,"ngIf"],["kendoActionSheetHeaderTemplate",""],["kendoActionSheetContentTemplate",""],["kendoActionSheetFooterTemplate",""],[3,"ngTemplateOutlet"],[1,"k-column-menu","k-column-menu-lg"],[1,"k-columnmenu-item-wrapper"],[3,"column","text","itemClick",4,"ngFor","ngForOf"],[3,"itemClick","column","text"],["kendoButton","","size","large","fillMode","solid","icon","x",3,"click","svgIcon"],["kendoButton","","size","large","fillMode","solid","icon","check","themeColor","primary",3,"click","svgIcon"],[3,"columns","ariaLabel","isLast","showActions","applyText","resetText","autoSync","actionsClass","allowHideAll"],[3,"kendoEventsOutsideAngular","scope"],["kendoButton","","icon","filter-clear","size","large",3,"click","svgIcon"],[3,"close","keydown.enter","column","filter"],[3,"kendoGridColumnMenuItem","service",4,"ngIf"],[3,"showLock","showStick","kendoGridColumnMenuItem","service","expanded","collapse",4,"ngIf"],["class","k-separator",3,"borderColor",4,"ngIf"],[3,"kendoGridColumnMenuItem","service","expanded","collapse",4,"ngIf"],[3,"service","kendoGridColumnMenuItem","column",4,"ngIf"],[3,"service","kendoGridColumnMenuItem",4,"ngIf"],[3,"kendoGridColumnMenuItem","service"],[3,"collapse","showLock","showStick","kendoGridColumnMenuItem","service","expanded"],[1,"k-separator"],[3,"collapse","kendoGridColumnMenuItem","service","expanded"],[3,"service","kendoGridColumnMenuItem","column"],[3,"service","kendoGridColumnMenuItem"],[3,"columns","ariaLabel","isLast","showActions","applyText","resetText","autoSync","actionsClass","allowHideAll",4,"ngIf"],[3,"column","filter","kendoEventsOutsideAngular","scope","close",4,"ngIf"],[3,"service",4,"ngIf"],[3,"close","column","filter","kendoEventsOutsideAngular","scope"],[3,"service"],[3,"controls","formGroup","formSettings","actionButtons"],["kendoButton","","size","large","icon","cancel",3,"click","svgIcon"],["kendoButton","","themeColor","primary","size","large","icon","save",3,"click","svgIcon","disabled"],[3,"adaptive"],[1,"k-actionsheet-titlebar-group"],["class","k-actionsheet-actions",4,"ngIf"],[1,"k-actionsheet-title"],["class","k-text-center",4,"ngIf"],["class","k-actionsheet-subtitle k-text-center",4,"ngIf"],[1,"k-actionsheet-actions"],["kendoButton","","icon","chevron-left","fillMode","flat","size","large",3,"click","svgIcon","title"],[1,"k-text-center"],[1,"k-actionsheet-subtitle","k-text-center"],["kendoButton","","icon","x","fillMode","flat","size","large",3,"click","svgIcon","title"],["kendoButton","","icon","check","fillMode","flat","size","large","themeColor","primary",3,"click","svgIcon","title"],["kendoButton","","size","large","fillMode","solid","icon","arrow-rotate-ccw","type","button",3,"svgIcon","kendoEventsOutsideAngular","scope"],["kendoButton","","type","button","icon","check","size","large","fillMode","solid","themeColor","primary",3,"svgIcon","kendoEventsOutsideAngular","scope"],["kendoButton","","size","large","fillMode","solid",3,"click"],["kendoButton","","size","large","fillMode","solid","themeColor","primary",3,"click","disabled"]],template:function(i,s){if(1&i){const r=e.RV6();e.j41(0,"kendo-actionsheet",16),e.bIt("collapse",function(){return e.eBV(r),e.Njj(s.adaptiveGridService.reset())}),e.DNE(1,GP,4,0,"kendo-actionsheet-view",17)(2,BP,4,0,"kendo-actionsheet-view",17)(3,zP,4,4,"kendo-actionsheet-view",18)(4,HP,4,0,"kendo-actionsheet-view",17)(5,qP,4,0,"kendo-actionsheet-view",17)(6,c2,3,4,"kendo-actionsheet-view",18)(7,S2,5,2,"kendo-actionsheet-view",17)(8,R2,4,0,"kendo-actionsheet-view",17)(9,T2,4,0,"kendo-actionsheet-view",17),e.k0s(),e.DNE(10,G2,7,5,"ng-template",null,0,e.C5r)(12,A2,6,17,"ng-template",null,1,e.C5r)(14,P2,4,3,"ng-template",null,2,e.C5r)}2&i&&(e.Y8G("cssClass",e.l_i(12,wP,"small"===s.adaptiveService.size,"medium"===s.adaptiveService.size))("cssStyle",e.eq3(15,IP,"small"===s.adaptiveService.size?"100vh":"60vh"))("overlayClickClose",!0),e.R7$(),e.Y8G("ngIf","sortToolbarTool"===s.adaptiveGridService.viewType),e.R7$(),e.Y8G("ngIf","columnChooserToolbarTool"===s.adaptiveGridService.viewType),e.R7$(),e.Y8G("ngIf","filterToolbarTool"===s.adaptiveGridService.viewType),e.R7$(),e.Y8G("ngIf","filterToolbarTool"===s.adaptiveGridService.viewType),e.R7$(),e.Y8G("ngIf","filterMenu"===s.adaptiveGridService.viewType),e.R7$(),e.Y8G("ngIf","columnMenu"===s.adaptiveGridService.viewType),e.R7$(),e.Y8G("ngIf","columnMenu"===s.adaptiveGridService.viewType),e.R7$(),e.Y8G("ngIf","externalEditing"===s.adaptiveGridService.viewType),e.R7$(),e.Y8G("ngIf","groupToolbarTool"===s.adaptiveGridService.viewType))},dependencies:[w.bT,w.pM,w.T3,In.vL,In.cq,tb,hg,Te._f,In.k4,In.yd,In.g7,Ju,wc,Qu,Ed,bd,kd,Sd,qu,Yu,Rr,Rd,Rc,Ml,E.Uj,ug],encapsulation:2})}return n})();const wV={headers:new em.Lr({"Content-Type":"application/json"}),role:"user",method:"POST",responseType:"json"},ab=(n,o)=>n&&(n.filters&&Array.isArray(n.filters)?{...n,filters:n.filters.map(t=>ab(t,o))}:n.field&&void 0!==n.value&&o.find(i=>i.field===n.field)&&IV(n.field,o)?{...n,value:new Date(n.value)}:n),IV=(n,o)=>"date"===o.find(i=>i.field===n)?.filter;class DV extends E.PM{response;constructor(o){super(),this.response=o}}class TV extends E.PM{error;constructor(o){super(),this.error=o}}let xV=(()=>{class n{http;ctx;columnInfoService;aiPrompt;activeView=0;requestUrl;requestOptions;aiPromptSettings;aiToolDirective;streaming=!1;disabledGenerateButton=!1;lastMessage;requestData;currentRequestSubscription=null;loadingOutput={id:"k-loading-item",output:"",prompt:""};columns=[];idCounter=0;constructor(t,i,s){this.http=t,this.ctx=i,this.columnInfoService=s}ngAfterViewInit(){this.columns=this.columnInfoService.leafNamedColumns.map(t=>({field:t.field,title:t.title||t.field}))}ngOnDestroy(){this.unsubscribeCurrentRequest()}message(t){return this.ctx.localization.get(t)}cancelRequest(){this.aiToolDirective.cancelRequest.emit(),this.unsubscribeCurrentRequest(),this.streaming=!1}onPromptRequest(t){0===this.aiToolDirective.promptOutputs.length&&this.aiToolDirective.promptOutputs.push(this.loadingOutput),this.unsubscribeCurrentRequest(),this.streaming=!0,this.activeView=1,t.prompt&&(this.lastMessage=t.prompt),this.requestData={columns:this.columns,promptMessage:t.prompt,url:this.requestUrl,requestOptions:{...this.requestOptions}},this.requestOptions.body||(this.requestData.requestOptions.body={role:this.requestData.requestOptions.role,contents:[{text:this.requestData.promptMessage}],columns:this.requestData.columns}),this.aiToolDirective.promptRequest.emit({requestData:this.requestData,isRetry:t.isRetry}),this.requestUrl&&(this.currentRequestSubscription=this.sendPromptRequest().subscribe(i=>{i.body&&(this.processResponse(i),this.streaming=!1),this.currentRequestSubscription=null},i=>{this.handleError(i),this.streaming=!1,this.currentRequestSubscription=null}))}sendPromptRequest(){const t=new em.Kd(this.requestData.requestOptions.method,this.requestData.url,this.requestData.requestOptions.body,this.requestData.requestOptions);return this.http.request(t)}processResponse(t){this.aiToolDirective.autoClose&&(this.aiToolDirective.emitOpenClose=!0,this.aiToolDirective.toggleWindow());const i=t.body,s=new DV(t);if(this.aiToolDirective.responseSuccess.emit(s),s.isDefaultPrevented())return void this.deleteLoadingOutput();const l=!!this.ctx.grid.sortable,u=!!this.ctx.grid.groupable;!!this.ctx.grid.filterable&&i.filter&&this.processFilterResponse(i.filter),l&&i.sort&&this.processArrayResponse(i.sort,this.ctx.grid.currentState.sort||[],O=>O.field,O=>this.ctx.grid.sortChange.next(O)),u&&i.group&&this.processArrayResponse(i.group,this.ctx.grid.currentState.group||[],O=>O.field,O=>this.ctx.grid.groupChange.next(O));const f=[`${this.ctx.localization.get("aiAssistantOutputCardBodyContent")} \n`],C=i.messages.map((O,G)=>`${G+1} ${O}`).join("\n"),T={id:this.idCounter++,title:this.ctx.localization.get("aiAssistantOutputCardTitle"),prompt:this.lastMessage,output:f.concat(C).join("")};this.deleteLoadingOutput(),this.aiToolDirective.promptOutputs.unshift(T)}handleError(t){const i=new TV(t);if(this.aiToolDirective.responseError.emit(i),i.isDefaultPrevented())return void this.deleteLoadingOutput();const s={id:this.idCounter++,prompt:this.lastMessage,output:t.message};this.deleteLoadingOutput(),this.aiToolDirective.promptOutputs.unshift(s)}deleteLoadingOutput(){this.aiToolDirective.promptOutputs[0]?.id===this.loadingOutput.id&&this.aiToolDirective.promptOutputs.splice(0,1)}unsubscribeCurrentRequest(){this.currentRequestSubscription&&(this.currentRequestSubscription.unsubscribe(),this.currentRequestSubscription=null)}processArrayResponse(t,i,s,r){if(0===t?.length)r([]);else if(t?.length){let l=[...t];const u=t.map(s),f=i.filter(C=>!u.includes(s(C)));l=[...l,...f],r(l)}}processFilterResponse(t){const i=ab(t,this.columnInfoService.leafNamedColumns);if(0===Object.keys(i).length)this.ctx.grid.filterChange.next(void 0);else if(i?.filters.length){const r=this.ctx.grid.currentState.filter;let l=i;r&&r.filters?.length>0&&(l={logic:"and",filters:[r,i]}),this.ctx.grid.filterChange.next(l)}}static \u0275fac=function(i){return new(i||n)(e.rXU(em.Qq),e.rXU(Me),e.rXU(Qn))};static \u0275cmp=e.VBU({type:n,selectors:[["ng-component"]],viewQuery:function(i,s){if(1&i&&e.GBs(Zp,5),2&i){let r;e.mGM(r=e.lsd())&&(s.aiPrompt=r.first)}},standalone:!0,features:[e.aNF],decls:8,vars:13,consts:[["aiPrompt",""],["promptView",""],[3,"activeViewChange","promptRequest","promptRequestCancel","promptSuggestions","showOutputRating","streaming","speechToTextButton","activeView","generateButtonSVGIcon","generateButtonIcon","disabledGenerateButton","promptOutputs","textAreaSettings"],[4,"ngIf"],[3,"generateOutput"],["kendoAIPromptOutputTemplate",""],[1,"k-card"],[1,"k-card-header"],[1,"k-card-title"],[1,"k-skeleton","k-skeleton-text","k-skeleton-pulse"],[1,"k-card-subtitle"],[1,"k-skeleton","k-skeleton-text","k-skeleton-pulse",2,"width","100%"],[1,"k-card-body"],[1,"k-skeleton","k-skeleton-rect","k-skeleton-pulse",2,"height","80px"],[1,"k-card-actions"],["kendoAIPromptOutputBodyTemplate",""]],template:function(i,s){if(1&i){const r=e.RV6();e.j41(0,"kendo-aiprompt",2,0),e.mxI("activeViewChange",function(u){return e.eBV(r),e.DH7(s.activeView,u)||(s.activeView=u),e.Njj(u)}),e.bIt("promptRequest",function(u){return e.eBV(r),e.Njj(s.onPromptRequest(u))})("promptRequestCancel",function(){return e.eBV(r),e.Njj(s.cancelRequest())}),e.nrm(2,"kendo-aiprompt-prompt-view",null,1)(4,"kendo-aiprompt-output-view"),e.DNE(5,B2,1,0,null,3)(6,U2,1,0,null,3),e.nrm(7,"kendo-aiprompt-messages",4),e.k0s()}if(2&i){const r=e.sdS(1),l=e.sdS(3);e.Y8G("promptSuggestions",null==s.aiPromptSettings?null:s.aiPromptSettings.promptSuggestions)("showOutputRating",null==s.aiPromptSettings?null:s.aiPromptSettings.showOutputRating)("streaming",s.streaming)("speechToTextButton",null==s.aiPromptSettings?null:s.aiPromptSettings.speechToTextButton),e.R50("activeView",s.activeView),e.Y8G("generateButtonSVGIcon",null==s.aiPromptSettings?null:s.aiPromptSettings.generateButtonSVGIcon)("generateButtonIcon",null==s.aiPromptSettings?null:s.aiPromptSettings.generateButtonIcon)("disabledGenerateButton",s.disabledGenerateButton||0===(null==l.textAreaValue?null:l.textAreaValue.length))("promptOutputs",null==s.aiPromptSettings?null:s.aiPromptSettings.promptOutputs)("textAreaSettings",null==s.aiPromptSettings?null:s.aiPromptSettings.textAreaSettings),e.R7$(5),e.Y8G("ngIf",s.streaming&&r.streaming),e.R7$(),e.Y8G("ngIf",!(s.streaming&&r.streaming)),e.R7$(),e.Y8G("generateOutput",s.message("aiAssistantApplyButtonText"))}},dependencies:[w.bT,Zp,vv,Sv,Cv,Jp,Qp],encapsulation:2})}return n})(),lb=(()=>{class n extends Cd{windowService;host;ctx;zone;refresh;requestUrl;requestOptions;aiWindowSettings;aiPromptSettings;autoClose=!0;keepOutputHistory=!1;promptRequest=new e.bkB;cancelRequest=new e.bkB;responseSuccess=new e.bkB;responseError=new e.bkB;close=new e.bkB;open=new e.bkB;tableWizardIcon=ne.F_$;emitOpenClose=!1;promptOutputs=[];windowRef;subs=new He.yU;defaultAiPromptSettings={speechToTextButton:!0,generateButtonSVGIcon:this.tableWizardIcon,generateButtonIcon:"table-wizard"};constructor(t,i,s,r,l,u){super(i,"aiAssistant",s,r,u),this.windowService=t,this.host=i,this.ctx=s,this.zone=r,this.refresh=l,this.host.rounded="full",this.host.themeColor="primary",this.host.showText="never"}ngOnInit(){this.subs.add(this.host.click.subscribe(()=>this.onClick()));const t=(0,E.Wo)(this.host.toolbarOptions.icon)&&""!==this.host.toolbarOptions.icon,i=(0,E.Wo)(this.host.overflowOptions.icon)&&""!==this.host.overflowOptions.icon,s=t&&i,r=(0,E.Wo)(this.host.toolbarOptions.svgIcon)&&(0,E.Wo)(this.host.overflowOptions.svgIcon);s||(this.host.icon="sparkles"),r||(this.host.svgIcon=ne.XsT),this.requestOptions={...wV,...this.requestOptions}}ngAfterViewInit(){super.ngAfterViewInit(),this.zone.onStable.pipe((0,st.s)(1)).subscribe(()=>{this.buttonElement?.setAttribute("aria-haspopup","dialog"),this.buttonElement?.setAttribute("aria-expanded","false"),"always"!==this.host.showText&&"toolbar"!==this.host.showText&&!this.host.title&&this.buttonElement?.setAttribute("title",this.ctx.localization.get("aiAssistantToolbarToolText"))}),this.subs.add(this.refresh.onRefresh.pipe((0,We.p)(t=>t===this.host)).subscribe(t=>{t.overflows&&this.windowRef&&this.windowRef.close()}))}ngOnDestroy(){super.ngOnDestroy(),this.subs.unsubscribe(),this.promptOutputs=[]}onClick(){this.emitOpenClose=!0,this.toggleWindow()}toggleWindow(){this.windowRef?this.closeWindow():this.openWindow()}openWindow(){this.keepOutputHistory||(this.promptOutputs=[]);const s={left:this.ctx.localization.rtl?this.buttonElement.offsetLeft-(this.aiWindowSettings.width||437):this.buttonElement.offsetLeft+this.buttonElement.offsetWidth,top:this.buttonElement.offsetTop+this.buttonElement.offsetHeight,width:437,title:this.ctx.localization.get("aiAssistantWindowTitle"),cssClass:"k-grid-assistant-window",content:xV,autoFocusedElement:".k-input-inner",appendTo:this.ctx.grid.windowContainer};this.aiWindowSettings={...s,...this.aiWindowSettings},this.windowRef=this.windowService.open(this.aiWindowSettings),this.windowRef.window.instance.messages={closeTitle:this.ctx.localization.get("aiAssistantWindowCloseTitle"),maximizeTitle:this.ctx.localization.get("aiAssistantWindowMaximizeTitle"),minimizeTitle:this.ctx.localization.get("aiAssistantWindowMinimizeTitle"),restoreTitle:this.ctx.localization.get("aiAssistantWindowRestoreTitle")};const r=this.windowRef.content.instance;r.requestUrl=this.requestUrl,r.requestOptions=this.requestOptions,r.aiToolDirective=this,r.disabledGenerateButton=this.aiPromptSettings?.disabledGenerateButton,r.streaming=this.aiPromptSettings?.streaming||!1,r.activeView=this.aiPromptSettings?.activeView||0,r.aiPromptSettings={...this.defaultAiPromptSettings,...this.aiPromptSettings},r.aiPromptSettings.promptOutputs||(r.aiPromptSettings.promptOutputs=this.promptOutputs),this.emitOpenClose&&this.zone.onStable.pipe((0,st.s)(1)).subscribe(()=>{this.open.emit({aiWindow:this.windowRef.window.instance,aiPrompt:this.windowRef.content.instance.aiPrompt}),this.emitOpenClose=!1}),this.subs.add(this.windowRef.window.instance.close.subscribe(()=>{this.emitOpenClose=!0,this.closeWindow(!0)})),this.host.selected=!0}closeWindow(t=!1){this.windowRef.close(),this.emitOpenClose&&(this.close.emit(),this.emitOpenClose=!1),this.windowRef=null,this.buttonElement?.setAttribute("aria-expanded","false"),this.buttonElement?.removeAttribute("aria-controls"),this.host.selected=!1,t&&this.buttonElement?.focus()}static \u0275fac=function(i){return new(i||n)(e.rXU(vl.s7),e.rXU(Ls),e.rXU(Me),e.rXU(e.SKi),e.rXU(Vc),e.rXU(e.gRc))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridAIAssistantTool",""]],inputs:{requestUrl:"requestUrl",requestOptions:"requestOptions",aiWindowSettings:"aiWindowSettings",aiPromptSettings:"aiPromptSettings",autoClose:"autoClose",keepOutputHistory:"keepOutputHistory"},outputs:{promptRequest:"promptRequest",cancelRequest:"cancelRequest",responseSuccess:"responseSuccess",responseError:"responseError",close:"close",open:"open"},standalone:!0,features:[e.Vt3]})}return n})();const cb=(n,o,t=!1)=>(bn(n,Fr("k-grid-edit-cell"))||t&&bn(n,Fr("k-grid-stack-edit-cell")))&&bn(n,as("kendo-grid"))===o;let lr=(()=>{class n{supportService;selectionService;cellSelectionService;wrapper;groupInfoService;groupsService;changeNotification;detailsService;editService;filterService;pdfService;responsiveService;renderer;excelService;ngZone;scrollSyncService;domEvents;columnResizingService;changeDetectorRef;columnReorderService;columnInfoService;navigationService;sortService;scrollRequestService;localization;ctx;sizingService;adaptiveGridService;rowReorderService;dataMappingService;set data(t){this._data=t,this.selectable&&this.selectableSettings?.enabled&&this.isVirtual&&(this.blockArrowSelection=!1),this.notifyTimeout&&(clearTimeout(this.notifyTimeout),this.notifyTimeout=null),this.rowReorderable&&this.ngZone.runOutsideAngular(()=>{this.notifyTimeout=setTimeout(()=>{this.notifyReorderContainers()},500)})}get data(){return this._data}get hintText(){return this.rowReorderService.getDefaultHintText(this.columnList,this.flatData)}get customHintTemplate(){if(this.rowReorderable)return this.columnList.toArray().find(s=>s.isRowReorderColumn).rowDragHintTemplateRef}get hintContext(){if(this.customHintTemplate){const t=this.rowReorderService?.getDraggedRow(this.flatData);return{$implicit:t?.dataItem,rowIndex:t?.rowIndex}}}pageSize;height;rowHeight;adaptiveMode="none";detailRowHeight;get skip(){return this._skip}set skip(t){"number"==typeof t&&t>=0&&(this._skip=this.rowReorderService.skip=t)}scrollable="scrollable";selectable=!1;set sort(t){Ou(t)&&(this._sort=t)}get sort(){return this._sort}set size(t){this._size=t,"none"===t&&this.wrapper.nativeElement.classList.remove("k-grid-sm","k-grid-md"),this.sizingService.changes.next(this.size)}get size(){return this._size}trackBy=Wm;filter;set group(t){Ou(t)&&(this._group=t)}get group(){return this._group}virtualColumns=!1;get showStatusBar(){return!!this.selectable}get showTopToolbar(){return this.toolbarTemplate&&["top","both"].indexOf(this.toolbarTemplate.position)>-1}get showBottomToolbar(){return this.toolbarTemplate&&["bottom","both"].indexOf(this.toolbarTemplate.position)>-1}get isLocked(){return this.lockedLeafColumns.length>0&&!this.isStacked}get showTopPager(){return!this.isVirtual&&!1!==this.pageable&&["top","both"].indexOf(this.pageable.position)>-1}get showBottomPager(){return!this.isVirtual&&!1!==this.pageable&&"top"!==this.pageable.position}get hasPager(){return this.showTopPager||this.showBottomPager}get showGroupPanel(){const t=this.groupable&&!1!==this.groupable.enabled;return this.isStacked?t&&this.group?.length>0:t}get groupableEmptyText(){return this.groupable.emptyText}get marqueeSelection(){return this.selectionService.enableMarquee||this.cellSelectionService.enableMarquee}get isAdaptiveModeEnabled(){return"auto"===this.adaptiveMode}get isOpen(){return Oe(this.adaptiveGridService.popupRef)||this.isActionSheetExpanded}get isActionSheetExpanded(){return!!this.adaptiveRenderer?.actionSheet?.expanded}gridData=()=>this.flatData;filterable=!1;sortable=!1;pageable=!1;get normalizedPageableSettings(){return(n=>(({buttonCount:n=10,info:o=!0,type:t="numeric",pageSizes:i=!1,previousNext:s=!0,responsive:r=!0,position:l="bottom"})=>({buttonCount:n,info:o,pageSizes:i,previousNext:s,type:t,responsive:r,position:l}))(!0===n?{}:n))(this.pageable)}groupable=!1;gridResizable=!1;set rowReorderable(t){this._rowReorderable=t,t?this.rowReorderSubscription=this.rowReorderService.rowReorder.subscribe(i=>{this.ngZone.run(()=>{this.rowReorder.emit(i)})}):this.rowReorderSubscription?.unsubscribe()}get rowReorderable(){return this._rowReorderable}set navigable(t){if("boolean"==typeof t)return this._navigable=t?["table","pager","toolbar"]:[],void(this.ctx.navigable=t);this.ctx.navigable=t.includes("table"),this._navigable=t}get navigable(){return this._navigable}autoSize=!1;set rowClass(t){if((0,e.naY)()&&"function"!=typeof t)throw new Error(Yn_functionType("rowClass",t));this._rowClass=t}get rowClass(){return this._rowClass}set rowSticky(t){if((0,e.naY)()&&Oe(t)&&"function"!=typeof t)throw new Error(Yn_functionType("rowSticky",t));Oe(t)&&(this._rowSticky=t)}get rowSticky(){return this._rowSticky}set rowSelected(t){if((0,e.naY)()&&"function"!=typeof t)throw new Error(Yn_functionType("rowSelected",t));this._rowSelected=t}get rowSelected(){return this._rowSelected}set isRowSelectable(t){if((0,e.naY)()&&"function"!=typeof t)throw new Error(Yn_functionType("isRowSelectable",t));this._isRowSelectable=t}get isRowSelectable(){return this._isRowSelectable}set cellSelected(t){if((0,e.naY)()&&"function"!=typeof t)throw new Error(Yn_functionType("cellSelected",t));this._cellSelected=t}get cellSelected(){return this._cellSelected}get activeCell(){return this.navigationService.activeCell}get activeRow(){return this.navigationService.activeRow}get selection(){return this.selectable||this.selectionDirective?this.defaultSelection?this.defaultSelection.stateToArray():this.selectionDirective.stateToArray():[]}get currentState(){return{filter:this.filter,group:this.group,sort:this.sort,skip:this.skip,take:this.pageSize,columnsState:this.columns.toArray().flatMap(Hv),currentData:structuredClone(this.data)}}resizable=!1;reorderable=!1;set loading(t){this._loading=t,this.rowReorderable&&this.notifyReorderContainers()}get loading(){return this._loading}columnMenu=!1;hideHeader=!1;showInactiveTools=!1;set isDetailExpanded(t){this.detailsService.userCallback=t}get isDetailExpanded(){return this.detailsService.userCallback}set isGroupExpanded(t){this.groupsService.userCallback=t,this.groupable=Oe(t)}get isGroupExpanded(){return this.groupsService.userCallback}dataLayoutMode="columns";filterChange=new e.bkB;pageChange=new e.bkB;groupChange;sortChange=new e.bkB;selectionChange=new e.bkB;rowReorder=new e.bkB;dataStateChange=new e.bkB;gridStateChange=new e.bkB;groupExpand=new e.bkB;groupCollapse=new e.bkB;detailExpand=new e.bkB;detailCollapse=new e.bkB;edit=new e.bkB;cancel=new e.bkB;save=new e.bkB;remove=new e.bkB;add=new e.bkB;cellClose=new e.bkB;cellClick;pdfExport=new e.bkB;excelExport=new e.bkB;columnResize;columnReorder=new e.bkB;columnVisibilityChange=new e.bkB;columnLockedChange=new e.bkB;columnStickyChange=new e.bkB;scrollBottom=new e.bkB;contentScroll=new e.bkB;columns=new e.rOR;get dir(){return this.direction}hostClass=!0;get sizeSmallClass(){return"small"===this.size}get sizeMediumClass(){return"medium"===this.size||!this.size}get stackedClass(){return"stacked"===this.dataLayoutMode}get lockedClasses(){return this.lockedLeafColumns.length>0&&!this.isStacked}get virtualClasses(){return this.isVirtual}get noScrollbarClass(){return 0===this.scrollbarWidth}get isResizable(){return!!this.gridResizable}get minWidth(){return this.gridResizable.minWidth}get maxWidth(){return this.gridResizable.maxWidth}get minHeight(){return this.gridResizable.minHeight}get maxHeight(){return this.gridResizable.maxHeight}detailTemplateChildren;get detailTemplate(){return this._customDetailTemplate?this._customDetailTemplate:this.detailTemplateChildren?this.detailTemplateChildren.first:void 0}set detailTemplate(t){this._customDetailTemplate=t}cellLoadingTemplateChildren;get cellLoadingTemplate(){return this._cellLoadingTemplate?this._customDetailTemplate:this.cellLoadingTemplateChildren?this.cellLoadingTemplateChildren.first:void 0}set cellLoadingTemplate(t){this._cellLoadingTemplate=t}loadingTemplateChildren;get loadingTemplate(){return this._loadingTemplate?this._loadingTemplate:this.loadingTemplateChildren?this.loadingTemplateChildren.first:void 0}set loadingTemplate(t){this._loadingTemplate=t}statusBarTemplateChildren;get statusBarTemplate(){return this._statusBarTemplate?this._statusBarTemplate:this.statusBarTemplateChildren?this.statusBarTemplateChildren.first:void 0}set statusBarTemplate(t){this._statusBarTemplate=t}noRecordsTemplateChildren;get noRecordsTemplate(){return this._customNoRecordsTemplate?this._customNoRecordsTemplate:this.noRecordsTemplateChildren?this.noRecordsTemplateChildren.first:void 0}set noRecordsTemplate(t){this._customNoRecordsTemplate=t}pagerTemplateChildren;get pagerTemplate(){return this._customPagerTemplate?this._customPagerTemplate:this.pagerTemplateChildren?this.pagerTemplateChildren.first:void 0}set pagerTemplate(t){this._customPagerTemplate=t}toolbarTemplateChildren;get toolbarTemplate(){return this._customToolbarTemplate?this._customToolbarTemplate:this.toolbarTemplateChildren?this.toolbarTemplateChildren.first:void 0}set toolbarTemplate(t){this._customToolbarTemplate=t}columnMenuTemplates;aiAssistantToolbarTool;lockedHeader;header;footer=new e.rOR;ariaRoot;dragTargetContainer;dropTargetContainer;dialogContainer;windowContainer;adaptiveRenderer;listComponent;get scrollbarWidth(){return this.supportService.scrollbarWidth}get showPagerInput(){return this._showPagerInput}set showPagerInput(t){this._showPagerInput!==t&&(this._showPagerInput=t)}get showPagerPageText(){return this._showPagerPageText}set showPagerPageText(t){this.normalizedPageableSettings?.responsive||(this._showPagerPageText=!0),this._showPagerPageText!==t&&(this._showPagerPageText=t)}get showPagerItemsText(){return this._showPagerItemsText}set showPagerItemsText(t){this.normalizedPageableSettings?.responsive||(this._showPagerItemsText=!0),this._showPagerItemsText!==t&&(this._showPagerItemsText=t)}get headerPadding(){if(El())return"";const t=Math.max(0,this.scrollbarWidth)+"px";return`0 ${this.rtl?0:t} 0 ${this.rtl?t:0}`}columnMenuOptions;columnList;selectionDirective=!1;ariaRootId=`k-${(0,E.Os)()}`;showLicenseWatermark=!1;licenseMessage;columnsContainer=new bm(()=>this.columnList.filterHierarchy(t=>(El()||(t.matchesMedia=this.matchesMedia(t)),t.isVisible)));view=new zU(()=>new VU(this.data,this.skip,this.hasGroupFooters));get hasGroupFooters(){return this.columnsContainer.hasGroupFooter}get showFooter(){return this.columnsContainer.hasFooter}get showGroupFooters(){return this.groupable&&this.groupable.showFooter}get ariaRowCount(){return this.totalColumnLevels+1+this.view.total+(Id(this.filterable)?1:0)}get ariaColCount(){return this.columnsContainer.leafColumnsToRender.length}get navigation(){return this.navigationService}get flatData(){return Ou(this.data)?this.data:this.data.data}shouldGenerateColumns=!0;direction;notifyTimeout=null;_sort=new Array;_group=new Array;_skip=0;_data=[];cachedWindowWidth=0;defaultSelection;_rowSelected=null;_isRowSelectable=null;_cellSelected=null;_customDetailTemplate;_cellLoadingTemplate;_loadingTemplate;_statusBarTemplate;_customNoRecordsTemplate;_customPagerTemplate;_customToolbarTemplate;_rowReorderable=!1;leafViewportColumns;viewportColumns;_navigable=["table","pager","toolbar"];_size="medium";_loading=!1;_showPagerInput=!0;_showPagerPageText=!0;_showPagerItemsText=!0;get isVirtual(){return"virtual"===this.scrollable}get isScrollable(){return"none"!==this.scrollable}get isStacked(){return"string"==typeof this.dataLayoutMode?"columns"!==this.dataLayoutMode:"columns"!==this.dataLayoutMode.mode}get visibleColumns(){return this.columnsContainer.allColumns}get lockedColumns(){return this.columnsContainer.lockedColumns}get nonLockedColumns(){return this.columnsContainer.nonLockedColumns}get lockedLeafColumns(){return this.columnsContainer.lockedLeafColumns}get stickyColumns(){return this.columns.filter(t=>t.sticky)}get nonLockedLeafColumns(){return this.columnsContainer.nonLockedLeafColumns}get leafColumns(){return this.columnsContainer.leafColumns}get totalColumnLevels(){return this.columnsContainer.totalLevels}get headerColumns(){return this.virtualColumns&&!this.pdfService.exporting?this.viewportColumns:this.nonLockedColumns}get headerLeafColumns(){return this.virtualColumns&&!this.pdfService.exporting?this.leafViewportColumns:this.nonLockedLeafColumns}get lockedWidth(){if(this.isStacked)return 0;const t=32*this.group.length;return fa(this.lockedLeafColumns.toArray()).reduce((i,s)=>i+(s.width||0),t)}get nonLockedWidth(){if((!this.rtl&&this.lockedLeafColumns.length||this.virtualColumns)&&!this.isStacked)return this.virtualColumns?this.leafViewportColumns.reduce((t,i)=>t+(i.width||0),0):this.columnsContainer.unlockedWidth}get selectableSettings(){if(this.selectionService)return this.selectionService.options}get columnMenuTemplate(){const t=this.columnMenuTemplates.first;return t?t.templateRef:null}get totalCount(){return this.isVirtual||!Oe(this.pageSize)?this.view.total:this.pageSize}getDefaultSelectors(t){return this.rowReorderService.defaultSelectors(this.isStacked)[t]}getHintSettings(t){return this.rowReorderService[t]}blockArrowSelection=!1;undoRedoService;rowsToRender;selectionSubscription;stateChangeSubscription;groupExpandCollapseSubscription;editServiceSubscription;detailsServiceSubscription;filterSubscription;sortSubscription;columnsChangeSubscription;pdfSubscription;excelSubscription;columnsContainerChangeSubscription;cellClickSubscription;footerChangeSubscription;columnResizingSubscription;columnReorderSubscription;detachElementEventHandlers;localizationSubscription;columnVisibilityChangeSubscription;columnLockedChangeSubscription;columnStickyChangeSubscription;focusElementSubscription;columnRangeChangeSubscription;rowReorderSubscription;rtl=!1;_rowSticky;constructor(t,i,s,r,l,u,f,C,T,O,G,P,Q,z,de,le,Ce,_e,Ge,ge,$e,ft,ke,Kt,$t,Le,jt,Ie,Xe,he){this.supportService=t,this.selectionService=i,this.cellSelectionService=s,this.wrapper=r,this.groupInfoService=l,this.groupsService=u,this.changeNotification=f,this.detailsService=C,this.editService=T,this.filterService=O,this.pdfService=G,this.responsiveService=P,this.renderer=Q,this.excelService=z,this.ngZone=de,this.scrollSyncService=le,this.domEvents=Ce,this.columnResizingService=_e,this.changeDetectorRef=Ge,this.columnReorderService=ge,this.columnInfoService=$e,this.navigationService=ft,this.sortService=ke,this.scrollRequestService=Kt,this.localization=$t,this.ctx=Le,this.sizingService=jt,this.adaptiveGridService=Ie,this.rowReorderService=Xe,this.dataMappingService=he;const Re=(0,Vt.$j)(TS);this.licenseMessage=(0,E.FK)(TS),this.showLicenseWatermark=(0,E.Em)(Re),this.ctx.grid=this,this.ctx.navigable="boolean"==typeof this.navigable?this.navigable:this.navigable.includes("table"),this.groupChange=new qm(this.ngZone),this.cellClick=new qm(this.ngZone),this.columnResize=new qm(this.ngZone),this.localizationSubscription=this.localization.changes.subscribe(({rtl:je})=>{this.rtl=je,this.direction=this.rtl?"rtl":"ltr"}),this.groupInfoService.registerColumnsContainer(()=>this.columnList),this.columnInfoService.init(this.columnsContainer,()=>this.columnList),this.columnVisibilityChangeSubscription=this.columnInfoService.visibilityChange.subscribe(je=>{this.columnVisibilityChange.emit(new JU(je))}),this.columnLockedChangeSubscription=this.columnInfoService.lockedChange.subscribe(je=>{this.columnLockedChange.emit(new BS(je))}),this.columnStickyChangeSubscription=this.columnInfoService.stickyChange.subscribe(je=>{this.columnStickyChange.emit(new QU(je))}),this.groupExpandCollapseSubscription=((n,o,t,i)=>n.changes.pipe((0,We.p)(({group:s,emit:r})=>r&&Oe(s))).subscribe(s=>s.expand?o.emit(i(s)):t.emit(i(s))))(u,this.groupExpand,this.groupCollapse,({group:je,groupIndex:xt,parentGroup:ot})=>({group:je,groupIndex:xt,parentGroup:ot})),this.detailsServiceSubscription=((n,o,t,i)=>n.changes.pipe((0,We.p)(({dataItem:s})=>Oe(s))).subscribe(s=>s.expand?o.emit(s):t.emit(s)))(C,this.detailExpand,this.detailCollapse),this.filterSubscription=this.filterService.changes.subscribe(je=>{this.filterChange.emit(je)}),this.sortSubscription=this.sortService.changes.subscribe(je=>{this.sortChange.emit(je)}),this.attachStateChangesEmitter(),this.attachEditHandlers(),this.attachDomEventHandlers(),this.pdfSubscription=this.pdfService.exportClick.subscribe(this.emitPDFExportEvent.bind(this)),this.excelSubscription=this.excelService.exportClick.subscribe(this.saveAsExcel.bind(this)),this.columnsContainerChange(),this.handleColumnResize(),this.columnList=new gd(this.columns),this.columnReorderSubscription=this.columnReorderService.changes.subscribe(this.reorder.bind(this)),this.columnRangeChangeSubscription=this.columnInfoService.columnRangeChange.subscribe(this.onColumnRangeChange.bind(this)),this.columnsContainer.isStacked=this.isStacked}expandRow(t){this.toggleDetailRowLegacy(t,!0)}collapseRow(t){this.toggleDetailRowLegacy(t,!1)}expandGroup(t){this.toggleGroupRowLegacy(t,!0)}collapseGroup(t){this.toggleGroupRowLegacy(t,!1)}resetGroupsState(){this.groupsService.reset()}onDataChange(){this.autoGenerateColumns(),this.changeNotification.notify(),this.pdfService.dataChanged.emit(),Oe(this.defaultSelection)&&this.defaultSelection.reset(),this.initSelectionService(),this.updateNavigationMetadata()}ngDoCheck(){this.isScrollable||(this.rowsToRender=this.dataMappingService.dataMapper(this.view,this.nonLockedLeafColumns,this.lockedLeafColumns,this.detailTemplate,this.showGroupFooters))}ngOnChanges(t){(0,E.Hq)("data",t)&&this.onDataChange(),this.lockedLeafColumns.length&&(0,E.TI)(["pageSize","skip","sort","group"],t)&&this.changeNotification.notify(),(0,E.TI)(["pageSize","scrollable","virtualColumns"],t)&&this.updateNavigationMetadata(),(0,E.Hq)("virtualColumns",t)&&(this.viewportColumns=this.leafViewportColumns=null),(0,E.Hq)("height",t,!1)&&this.renderer.setStyle(this.wrapper.nativeElement,"height",`${this.height}px`),(0,E.Hq)("filterable",t)&&this.lockedColumns.length&&this.syncHeaderHeight(this.ngZone.onStable.asObservable().pipe((0,st.s)(1))),(0,E.TI)(["columnMenu","sortable","filterable"],t,!1)&&(this.columnMenuOptions=this.columnMenu&&Object.assign({filter:!!this.filterable,sort:!!this.sortable},this.columnMenu)),(0,E.Hq)("scrollable",t)&&this.isScrollable&&this.ngZone.onStable.pipe((0,st.s)(1)).subscribe(()=>this.attachScrollSync()),(0,E.Hq)("selectable",t)&&this.shouldResetSelection(t.selectable)&&(this.defaultSelection?this.defaultSelection.reset():this.selectionDirective&&this.selectionDirective.reset()),(0,E.Hq)("groupable",t,!0)&&(this.groupable=t.groupable.currentValue),(0,E.Hq)("navigable",t,!0)&&(this.navigationService.enabled?this.navigationService.setActiveSections(this.navigable):this.navigable.length&&this.navigationService.init(this.navigationMetadata(),this.navigable)),(0,E.Hq)("dataLayoutMode",t)&&(this.isStacked?this.generateStackedColumns():this.stackedColumns={columns:[],areDefault:!1},this.columnsContainer.isStacked=this.isStacked)}ngAfterContentInit(){this.shouldGenerateColumns=!this.columns.length,this.autoGenerateColumns(),this.columnList=new gd(this.columns),this.columnsChangeSubscription=this.columns.changes.subscribe(()=>this.verifySettings())}ngAfterViewInit(){this.attachScrollSync(),this.attachElementEventHandlers(),this.updateNavigationMetadata(),this.applyAutoSize();const t=this.wrapper?.nativeElement?.querySelector("kendo-toolbar");t&&this.renderer.addClass(t,"k-grid-toolbar")}ngAfterContentChecked(){this.columnsContainer.refresh(),this.verifySettings(),this.initSelectionService()}ngOnInit(){this.navigable.length&&this.navigationService.init(this.navigationMetadata(),this.navigable),this.isStacked&&this.generateStackedColumns()}ngOnDestroy(){this.selectionSubscription&&this.selectionSubscription.unsubscribe(),this.rowReorderSubscription&&this.rowReorderSubscription.unsubscribe(),this.columnReorderSubscription&&this.columnReorderSubscription.unsubscribe(),this.stateChangeSubscription&&this.stateChangeSubscription.unsubscribe(),this.groupExpandCollapseSubscription&&this.groupExpandCollapseSubscription.unsubscribe(),this.detailsServiceSubscription&&this.detailsServiceSubscription.unsubscribe(),this.editServiceSubscription&&this.editServiceSubscription.unsubscribe(),this.pdfSubscription&&this.pdfSubscription.unsubscribe(),this.filterSubscription&&this.filterSubscription.unsubscribe(),this.sortSubscription&&this.sortSubscription.unsubscribe(),this.columnsChangeSubscription&&this.columnsChangeSubscription.unsubscribe(),this.excelSubscription&&this.excelSubscription.unsubscribe(),this.columnsContainerChangeSubscription&&this.columnsContainerChangeSubscription.unsubscribe(),this.scrollSyncService&&this.scrollSyncService.destroy(),this.detachElementEventHandlers&&this.detachElementEventHandlers(),this.defaultSelection&&this.defaultSelection.destroy(),this.cellClickSubscription&&this.cellClickSubscription.unsubscribe(),this.footerChangeSubscription&&this.footerChangeSubscription.unsubscribe(),this.ngZone=null,this.columnResizingSubscription&&this.columnResizingSubscription.unsubscribe(),this.columnReorderSubscription&&this.columnReorderSubscription.unsubscribe(),this.localizationSubscription&&this.localizationSubscription.unsubscribe(),this.columnVisibilityChangeSubscription&&this.columnVisibilityChangeSubscription.unsubscribe(),this.columnLockedChangeSubscription&&this.columnLockedChangeSubscription.unsubscribe(),this.columnStickyChangeSubscription&&this.columnStickyChangeSubscription.unsubscribe(),this.focusElementSubscription&&this.focusElementSubscription.unsubscribe(),this.rowReorderSubscription&&this.rowReorderSubscription.unsubscribe(),this.columnRangeChangeSubscription.unsubscribe()}attachScrollSync(){El()||(this.header&&this.scrollSyncService.registerEmitter(this.header.nativeElement,"header"),this.footer&&(this.footerChangeSubscription=Mu(this.footer).subscribe(t=>t.map(i=>i.nativeElement).filter(Oe).forEach(i=>{this.scrollSyncService.registerEmitter(i,"footer"),i.scrollLeft=this.wrapper.nativeElement.querySelector(".k-grid-content")?.scrollLeft}))))}get ariaLabel(){return this.localization.get("gridLabel")}messageFor=t=>this.localization.get(t);editRow(t,i,s){if(this.editService.editRow(t,i),Oe(s)&&s.skipFocus)return;const r=`tr[data-kendo-grid-item-index="${t}"]`,l=s&&s.columnIndex,u=isNaN(l)?r:`${r} td[data-kendo-grid-column-index="${l}"]`;this.focusEditElement(u)}handleReorderEvents(t,i){this.rowReorderService[i](t)}closeRow(t){this.editService.close(t),this.isStacked&&(this.navigationService.stackedCellEntered=!1)}addRow(t){if(!(t instanceof Ne.gE)){const s=Object.keys(t).reduce((n=>(o,t)=>(o[t]=new Ne.MJ(n[t]),o))(t),{});t=new Ne.gE(s)}this.editService.addRow(t),this.focusEditElement(".k-grid-add-row")}editCell(t,i,s){const r=this.columnInstance(i);this.editService.editCell(t,r,s),this.focusEditElement(this.isStacked?".k-grid-stack-edit-cell":".k-grid-edit-cell")}closeCell(){return!this.editService.closeCell()}cancelCell(){this.editService.cancelCell()}isEditing(){return this.editService.isEditing()}isEditingCell(){return this.editService.isEditingCell()}saveAsPDF(){this.pdfService.save(this)}drawPDF(){const t=(()=>{let n,o;const t=new Promise((i,s)=>{n=r=>(i(r),t),o=r=>(s(r),t)});return t.resolve=n,t.reject=o,t})();return this.pdfService.draw(this,t),t}saveAsExcel(){this.excelService.save(this)}loadState(t){t.columnsState&&(this.traverseColumns(this.columns,i=>{const s=t.columnsState.find(r=>r.id===i.id);s&&(i.width=s.width,i.hidden=s.hidden,i.locked=s.locked,i.sticky=s.sticky,i.orderIndex=s.orderIndex)}),this.columns.reset(this.columns.toArray()),this.columnsContainer.refresh()),this.sort=t.sort,this.group=t.group,this.filter=t.filter,this.skip=t.skip,this.pageSize=t.take,t.currentData&&(this.data=t.currentData),this.changeDetectorRef.markForCheck()}traverseColumns(t,i){t.forEach(s=>{s.isColumnGroup||s.isSpanColumn?this.traverseColumns(s.children,i):i(s)})}autoFitColumn(t){this.columnResizingService.autoFit(t)}autoFitColumns(t=this.columns){let i;i=t instanceof e.rOR?t.toArray():t,this.columnResizingService.autoFit(...i)}notifyPageChange(t,i){"list"===t&&!this.isVirtual||this.pageChange.emit(i)}handlePagerVisibilityChange(t,i){this[t]=i}notifyScrollBottom(){"none"!==this.scrollable&&(0,E.SF)(this.scrollBottom)&&this.ngZone.run(()=>this.scrollBottom.emit({sender:this}))}focusEditElement(t){this.focusElementSubscription&&this.focusElementSubscription.unsubscribe(),this.ngZone.runOutsideAngular(()=>{this.focusElementSubscription=this.ngZone.onStable.asObservable().pipe((0,st.s)(1)).subscribe(()=>{const i=this.wrapper.nativeElement;!this.setEditFocus(i.querySelector(t))&&this.isLocked&&this.setEditFocus(i.querySelector(`.k-grid-content ${t}`)),this.focusElementSubscription=null})})}focus(){return this.assertNavigable(),this.navigationService.focusCell()}focusCell(t,i){return this.assertNavigable(),this.navigationService.focusCell(t,i)}focusNextCell(t=!0){return this.assertNavigable(),this.navigationService.focusNextCell(t)}focusPrevCell(t=!0){return this.assertNavigable(),this.navigationService.focusPrevCell(t)}scrollTo(t){this.scrollRequestService.scrollTo(t,!1)}scrollToItem(t){this.scrollRequestService.scrollToItem(t)}reorderColumn(t,i,s={before:!1}){let l=Dl(this.allColumnsForLevel(t.level))[i];!l||l.isLocked&&!t.isLocked&&1===this.columnsContainer.nonLockedColumns.length||(Uu(l)&&!s.before&&(l=l.children.last),this.reorder({before:s.before,source:t,target:l}))}updateNavigationMetadata(){this.navigationService.metadata=this.navigationMetadata()}reorder({target:t,source:i,before:s,changeContainer:r}){this.ngZone.run(()=>{const l=Dl(this.allColumnsForLevel(i.level));let u=l.indexOf(t);t.parent&&t.parent.isSpanColumn&&(u=l.indexOf(t.parent),s&&(t=t.parent));const f=l.indexOf(i);r&&(s&&0<u&&f<u?u--:!s&&f>u&&u++);const C=new pS({column:i,oldIndex:f,newIndex:u});this.columnReorder.emit(C),!C.isDefaultPrevented()&&(r&&this.columnLockedChange.emit(new BS([i])),this.updateColumnIndices({columnsForLevel:l,source:i,target:t,before:s}),i.locked!==t.locked&&(i.locked=t.locked),this.columnsContainer.refresh(),this.virtualColumns&&this.listComponent.updateViewportColumns(),this.changeDetectorRef.markForCheck())})}updateColumnIndices({columnsForLevel:t,source:i,target:s,before:r}){const l=lC(t),u=l.indexOf(i);let f=0,C=0,T=1;i.isSpanColumn&&(T+=i.children.length);let O=0;for(;O<l.length;){const G=l[O];if(G===s)f=r?C:C+1,C=r?C+T:C,G.orderIndex=C,f===C+1&&(C+=T);else{if(G===i){O+=T,G.isReordered=!0;continue}G.orderIndex=C}G.isReordered=!0,C++,O++}for(O=u;O<u+T;O++)l[O].orderIndex=f++,l[O].isReordered=!0;this.updateIndicesForLevel(i.level+1),this.columnResizingService.areColumnsReordered=!0}updateIndicesForLevel(t){const i=this.allColumnsForLevel(t-1),s=[];Dl(i).forEach(r=>{r.isColumnGroup&&s.push(...r.childrenArray.sort((l,u)=>l.orderIndex-u.orderIndex))}),lC(s).forEach((r,l)=>{r.orderIndex=l,r.isReordered=!0}),t<this.columnList.totalColumnLevels()&&this.updateIndicesForLevel(t+1)}allColumnsForLevel(t){return this.columnList.toArray().filter(i=>i.level===t)}initSelectionService(){if(!this.selectable)return this.selectionService.ngOnDestroy(),void this.cellSelectionService.ngOnDestroy();!this.selectionDirective&&!Oe(this.defaultSelection)&&(this.defaultSelection=new GS(this.ctx,this.changeDetectorRef));const t=this.selectable.cell,i=t?this.cellSelectionService:this.selectionService,s=t?this.selectionService:this.cellSelectionService;s.active&&(s.ngOnDestroy(),i.addSubscriptions(),s.active=!1),i.active=!0,i.init({cellSelected:t?this.cellSelected:void 0,rowSelected:t?void 0:this.rowSelected,isRowSelectable:this.isRowSelectable,selectable:this.selectable,view:this.view,columns:t?this.columnList.toArray():void 0,isStacked:this.isStacked}),!this.selectionDirective&&!this.selectableSettings.enabled&&this.defaultSelection.reset(),this.selectionSubscription&&this.selectionSubscription.unsubscribe(),this.selectionSubscription=t?this.cellSelectionService.changes.subscribe(r=>{this.ngZone.run(()=>this.selectionChange.emit(r))}):this.selectionService.changes.subscribe(r=>{this.ngZone.run(()=>this.selectionChange.emit(r))})}setEditFocus(t){if(t)return this.navigationService.tryFocus(t)}columnInstance(t){let i;if(i="number"==typeof t?this.columnsContainer.lockedLeafColumns.toArray().concat(this.columnsContainer.nonLockedLeafColumns.toArray())[t]:"string"==typeof t?this.columnList.filter(s=>s.field===t)[0]:t,!i&&(0,e.naY)())throw new Error((n=>`Invalid column ${n}.`)(t));return i}verifySettings(){if((0,e.naY)()){const t=this.lockedLeafColumns.length||this.columnMenu&&this.columnMenu.lock,i=this.stickyColumns.length||this.columnMenu&&this.columnMenu.stick;if(t&&this.detailTemplate)throw new Error(Yn_incompatibleFeatures("detail template","locked columns"));if(i&&this.detailTemplate)throw new Error(Yn_incompatibleFeatures("detail template","sticky columns"));if(this.lockedLeafColumns.length&&!this.nonLockedLeafColumns.length&&console.warn(Yn_nonLockedColumnPresent),!this.isStacked&&(t||this.virtualColumns)&&fa(this.columnList.toArray()).filter(s=>!s.width&&!xl(s)).length&&console.warn(lo_requiredWidth(t?"Locked":"Virtual")),t&&!this.isScrollable&&console.warn(lo_requiredScroll("Locked")),i&&!this.isScrollable&&console.warn(lo_requiredScroll("Sticky")),this.virtualColumns&&!this.isScrollable&&console.warn(lo_requiredScroll("Virtual")),this.columnList.filter(xl).filter(s=>!s.hasChildren).length)throw new Error("ColumnGroupComponent should contain ColumnComponent or CommandColumnComponent.");if(this.columnList.filter(s=>s.locked&&s.parent&&!s.parent.isLocked).length)throw new Error("Locked child columns require their parent columns to be locked.");if(this.detailRowHeight&&!this.isVirtual&&console.warn(Yn_rowHeightVirtual),!this.detailRowHeight&&this.isVirtual&&this.detailTemplate&&console.warn(Yn_rowHeightVirtual),!this.isStacked&&i&&fa(this.columnList.toArray()).filter(s=>!s.width&&!xl(s)).length&&console.warn(lo_requiredWidth("Sticky")),this.rowSticky&&"virtual"===this.scrollable)throw new Error(Yn_incompatibleFeatures("sticky rows",'row virtualization (scrollable="virtual")'));if(this.rowSticky&&this.groupable)throw new Error(Yn_incompatibleFeatures("sticky rows","grouping"));this.wrapper?.nativeElement?.querySelector("kendo-toolbar")&&this.toolbarTemplate&&console.warn(Yn_unsupportedToolbarConfig),(n=>{fa(n.toArray()).filter(hd).filter(({field:o})=>!(n=>!Jn(n)&&_B.test(n)&&"."!==n[0]&&"."!==n[n.length-1])(o)).forEach(({field:o})=>console.warn((n=>`Grid column field name '${n}' does not look like a valid JavaScript identifier.\n        Identifiers can contain only alphanumeric characters (including "$" or "_"), and may not start with a digit.\n        Please use only valid identifier names to ensure error-free operation.`)(o)))})(this.columnList)}}autoGenerateColumns(){this.shouldGenerateColumns&&!this.columns.length&&this.view.length&&this.columns.reset(Object.keys(this.view.at(0)).map(t=>{const i=new rr;return i.field=t,i}))}stackedColumns={columns:[],areDefault:!1};generateStackedColumns(){if(this.isStacked&&Oe(this.dataLayoutMode))if(this.stackedColumns.columns=[],"object"==typeof this.dataLayoutMode){if("stacked"===this.dataLayoutMode.mode&&this.dataLayoutMode.stackedCols){const t=this.dataLayoutMode.stackedCols;if("number"==typeof t){for(let i=0;i<t;i++)this.stackedColumns.columns.push({width:this.wrapper.nativeElement.clientWidth/t+"px"});this.stackedColumns.areDefault=!0}else Array.isArray(t)&&(this.stackedColumns.columns=t.map(i=>{const s={};return"number"==typeof i?s.width=`${i}px`:"object"==typeof i&&i?.width?s.width="number"==typeof i.width?`${i.width}px`:i.width:"string"==typeof i&&(s.width=i),s}),this.stackedColumns.areDefault=!1)}}else this.stackedColumns={columns:[{width:this.wrapper.nativeElement.clientWidth}],areDefault:!0}}attachStateChangesEmitter(){this.stateChangeSubscription=(0,qe.h)(this.pageChange.pipe((0,tt.T)(t=>({filter:this.filter,group:this.group,skip:t.skip,sort:this.sort,take:t.take}))),this.sortChange.pipe((0,tt.T)(t=>({filter:this.filter,group:this.group,skip:this.skip,sort:t,take:this.pageSize}))),this.groupChange.pipe((0,tt.T)(t=>({filter:this.filter,group:t,skip:this.skip,sort:this.sort,take:this.pageSize}))),this.filterChange.pipe((0,tt.T)(t=>({filter:t,group:this.group,skip:0,sort:this.sort,take:this.pageSize})))).subscribe(t=>{this.closeCell(),this.cancelCell(),this.selectable&&this.selectableSettings?.enabled&&this.isVirtual&&(this.blockArrowSelection=!0),this.dataStateChange.emit(t),(0,E.SF)(this.gridStateChange)&&this.gridStateChange.emit({...this.currentState,...t})}),this.stateChangeSubscription.add((0,qe.h)(this.columnReorder,this.columnResize,this.columnVisibilityChange,this.columnLockedChange,this.columnStickyChange).pipe(cs(()=>this.ngZone.onStable.pipe((0,st.s)(1)))).subscribe(()=>this.ngZone.run(()=>(0,E.SF)(this.gridStateChange)&&this.gridStateChange.emit(this.currentState))))}attachEditHandlers(){this.editService&&(this.editServiceSubscription=this.editService.changes.subscribe(this.emitCRUDEvent.bind(this)))}emitCRUDEvent(t){const{action:i,rowIndex:s,formGroup:r}=t;let l=this.view.at(s-this.skip);switch("add"!==i&&!l&&(l=r.value),this.closeCell(),Object.assign(t,{dataItem:l,sender:this}),i){case"add":this.add.emit(t);break;case"cancel":this.cancel.emit(t);break;case"edit":this.edit.emit(t);break;case"remove":this.remove.emit(t);break;case"save":this.save.emit(t);break;case"cellClose":this.cellClose.emit(t)}}attachDomEventHandlers(){this.cellClickSubscription=this.domEvents.cellClick.subscribe(t=>{this.cellClick.emit(Object.assign({sender:this},t))})}attachElementEventHandlers(){if(El())return;const t=this.wrapper.nativeElement,i=this.ariaRoot.nativeElement;this.ngZone.runOutsideAngular(()=>{const s=this.resizeCheck.bind(this),r=this.renderer.listen("window","resize",s),l=this.renderer.listen("window","orientationchange",s),u=this.renderer.listen("document","click",z=>{const de=document.activeElement;this.editService.shouldCloseCell()&&!bn(z.target,Fr("k-animation-container k-grid-ignore-click"))&&(!de||!bn(de,Fr("k-animation-container"))&&!cb(de,this.wrapper.nativeElement,this.isStacked))&&this.editService.closeCell(z)}),f=this.renderer.listen("window","blur",z=>{const de=document.activeElement;de&&!(as("input")(de)&&"file"===de.type&&cb(de,this.wrapper.nativeElement,this.isStacked))&&this.editService.closeCell(z),this.domEvents.windowBlur.emit(z)}),C=this.renderer.listen(t,"click",z=>{this.domEvents.click.emit(z)}),T=this.renderer.listen(t,"keydown",z=>{this.domEvents.keydown.emit(z)}),O=this.renderer.listen(t,"keyup",z=>{"Shift"===z.key&&this.domEvents.shiftKeyup.emit(z)});let G=!1;const P=this.renderer.listen(i,"focusin",z=>{this.domEvents.focus.emit(z),G||(this.domEvents.focusIn.emit(z),G=!0)}),Q=this.renderer.listen(i,"focusout",z=>{const de=z.relatedTarget||document.activeElement;!bn(de,Ce=>Ce===i)&&(this.domEvents.focusOut.emit(z),this.domEvents.shiftKeyup.emit(z),G=!1)});this.detachElementEventHandlers=()=>{r(),l(),u(),f(),C(),T(),O(),P(),Q()}})}matchesMedia(t){return this.responsiveService.matchesMedia(t.media)}resizeCheck(){if(window.innerWidth!==this.cachedWindowWidth){this.cachedWindowWidth=window.innerWidth;let t=!1;this.columnList.filterHierarchy(i=>{const s=this.matchesMedia(i);return i.matchesMedia!==s&&(t=!0,i.matchesMedia=s),i.isVisible}),t&&this.ngZone.run(()=>{this.changeDetectorRef.markForCheck()})}}emitPDFExportEvent(){const t=new XU;this.pdfExport.emit(t),t.isDefaultPrevented()||this.saveAsPDF()}syncHeaderHeight(t){return t.pipe((0,We.p)(()=>Oe(this.lockedHeader))).subscribe(()=>PS(this.lockedHeader.nativeElement.children[0],this.header.nativeElement.children[0]))}columnsContainerChange(){this.columnsContainerChangeSubscription=this.syncHeaderHeight(this.columnsContainer.changes.pipe((0,We.p)(()=>this.lockedColumns.length>0),(0,Dt.n)(()=>this.ngZone.onStable.asObservable().pipe((0,st.s)(1)))))}handleColumnResize(){const t=this.columnResizingService.changes;this.columnResizingSubscription=t.pipe((0,Tt.M)(i=>{"start"===i.type?this.renderer.addClass(this.wrapper.nativeElement,"k-grid-column-resizing"):"end"===i.type&&this.renderer.removeClass(this.wrapper.nativeElement,"k-grid-column-resizing")}),(0,We.p)(i=>"start"===i.type),(0,Dt.n)(()=>t.pipe((0,ii.Q)(t.pipe((0,We.p)(i=>"triggerAutoFit"===i.type))),(0,We.p)(i=>"end"===i.type)))).subscribe(this.notifyResize.bind(this))}notifyResize(t){const i=t.resizedColumns.filter(s=>$o(s.column.resizable)&&!s.column.isColumnGroup).map(s=>({column:s.column,newWidth:Xv(s.column.width),oldWidth:Xv(s.oldWidth)}));this.columnResize.emit(i)}assertNavigable(){if((0,e.naY)()&&!this.navigationService.enabled)throw new Error(Yn_focusNavigable)}_rowClass=()=>null;navigationMetadata(){const t=this.isVirtual,s=t?this.view.total:this.pageSize,r=this.editService.hasNewItem?1:0,l=Id(this.filterable)?1:0;return new qU(s,this.isStacked?0:this.totalColumnLevels+1+l+r,t,this.hasPager,Oe(this.detailTemplate),this.wrapper,this.virtualColumns,this.columnsContainer,this.isStacked)}applyAutoSize(){const t=this.columns.filter(i=>this.autoSize?!1!==i.autoSize:i.autoSize);t.length>0&&this.ngZone.onStable.pipe((0,st.s)(1)).subscribe(()=>this.autoFitColumns(t))}onColumnRangeChange(t){const i=this.viewportColumns=[],s=this.columnsContainer.nonLockedLeafColumns.toArray();let r=s.slice(t.start,t.end+1);const l=s.slice(0,t.start).filter(f=>f.sticky&&!r.some(C=>C===f)),u=s.slice(t.end,s.length).filter(f=>f.sticky&&!r.some(C=>C===f));r=[...l,...r,...u];for(let f=0;f<r.length;f++){let C=r[f];for(;C.parent;)C=C.parent;const T=[C];for(;T.length;)if(C=T.shift(),i.push(C),C.isColumnGroup){const G=s.filter(P=>P.parent&&P.parent.id===C.id);T.unshift(...G)}const O=i[i.length-1];for(C=r[f];C!==O&&f<r.length;)f++,C=r[f]}if(t.start>0){const f=r[0];let C=t.offset,T=i[0],O=0;for(;T!==f;)C-=T.isColumnGroup?0:T.width,O++,T=i[O];if(C>0){const G=this.columnsContainer.totalLevels;let P;for(let Q=0;Q<=G;Q++){const z=Q<G?new _C(P):new Un(P);P=z,z.title="\xa0",z.width=C,i.unshift(z)}}}this.leafViewportColumns=i.filter(f=>!f.isColumnGroup)}toggleDetailRowLegacy(t,i){const s="function"==typeof this.isDetailExpanded;if((0,e.naY)()&&s)throw new Error(Yn_expandCollapseMethods("expandRow","collapseRow","kendoGridDetailsExpandBy","isDetailExpanded"));!(0,e.naY)()&&s||this.detailsService.isExpanded(t,null)!==i&&this.detailsService.toggleRow(t,null)}toggleGroupRowLegacy(t,i){const s="function"==typeof this.isGroupExpanded;if((0,e.naY)()&&s)throw new Error(Yn_expandCollapseMethods("expandGroup","collapseGroup","kendoGridExpandGroupBy","isGroupExpanded"));!(0,e.naY)()&&s||this.groupsService.isExpanded({groupIndex:t})!==i&&(this.groupsService.toggleRow({index:t},!1),this.ctx.dataBindingDirective&&Oe(this.ctx.dataBindingDirective.groupExpand)&&this.ctx.dataBindingDirective["group"+(i?"Expand":"Collapse")]({groupIndex:t}))}shouldResetSelection(t){const i=t.previousValue;if(!i)return!1;const s=t.currentValue;return!s||!1===s.enabled||i.cell!==s.cell}notifyReorderContainers(){this.dragTargetContainer?.notify(),this.dropTargetContainer?.notify()}static \u0275fac=function(i){return new(i||n)(e.rXU(Qm),e.rXU(wr),e.rXU(Gl),e.rXU(e.aKT),e.rXU($u),e.rXU(tl),e.rXU(Td),e.rXU(Il),e.rXU(Us),e.rXU(Zn),e.rXU(Dc),e.rXU(FS),e.rXU(e.sFG),e.rXU(wd),e.rXU(e.SKi),e.rXU(fd),e.rXU(kl),e.rXU(gc),e.rXU(e.gRc),e.rXU(Km),e.rXU(Qn),e.rXU(ar),e.rXU(Ic),e.rXU(Fu),e.rXU(ve.Pi),e.rXU(Me),e.rXU(il),e.rXU(Ys),e.rXU(tg),e.rXU(ag))};static \u0275cmp=e.VBU({type:n,selectors:[["kendo-grid"]],contentQueries:function(i,s,r){if(1&i&&(e.wni(r,lb,5),e.wni(r,Un,4),e.wni(r,vC,4),e.wni(r,wS,4),e.wni(r,CC,4),e.wni(r,ig,4),e.wni(r,Xm,4),e.wni(r,Fi.HG,4),e.wni(r,eg,4),e.wni(r,Lu,4)),2&i){let l;e.mGM(l=e.lsd())&&(s.aiAssistantToolbarTool=l.first),e.mGM(l=e.lsd())&&(s.columns=l),e.mGM(l=e.lsd())&&(s.detailTemplateChildren=l),e.mGM(l=e.lsd())&&(s.cellLoadingTemplateChildren=l),e.mGM(l=e.lsd())&&(s.loadingTemplateChildren=l),e.mGM(l=e.lsd())&&(s.statusBarTemplateChildren=l),e.mGM(l=e.lsd())&&(s.noRecordsTemplateChildren=l),e.mGM(l=e.lsd())&&(s.pagerTemplateChildren=l),e.mGM(l=e.lsd())&&(s.toolbarTemplateChildren=l),e.mGM(l=e.lsd())&&(s.columnMenuTemplates=l)}},viewQuery:function(i,s){if(1&i&&(e.GBs(V2,5),e.GBs(z2,5),e.GBs(K2,7),e.GBs(ae.YY,5),e.GBs(ae.Bw,5),e.GBs($2,5,e.c1b),e.GBs(j2,5,e.c1b),e.GBs(rb,5),e.GBs(cg,5),e.GBs(H2,5)),2&i){let r;e.mGM(r=e.lsd())&&(s.lockedHeader=r.first),e.mGM(r=e.lsd())&&(s.header=r.first),e.mGM(r=e.lsd())&&(s.ariaRoot=r.first),e.mGM(r=e.lsd())&&(s.dragTargetContainer=r.first),e.mGM(r=e.lsd())&&(s.dropTargetContainer=r.first),e.mGM(r=e.lsd())&&(s.dialogContainer=r.first),e.mGM(r=e.lsd())&&(s.windowContainer=r.first),e.mGM(r=e.lsd())&&(s.adaptiveRenderer=r.first),e.mGM(r=e.lsd())&&(s.listComponent=r.first),e.mGM(r=e.lsd())&&(s.footer=r)}},hostVars:25,hostBindings:function(i,s){2&i&&(e.BMQ("dir",s.dir),e.xc7("min-width",s.minWidth)("max-width",s.maxWidth)("min-height",s.minHeight)("max-height",s.maxHeight),e.AVh("k-grid",s.hostClass)("k-grid-sm",s.sizeSmallClass)("k-grid-md",s.sizeMediumClass)("k-grid-stack",s.stackedClass)("k-grid-lockedcolumns",s.lockedClasses)("k-grid-virtual",s.virtualClasses)("k-grid-no-scrollbar",s.noScrollbarClass)("k-grid-resizable",s.isResizable))},inputs:{data:"data",pageSize:"pageSize",height:"height",rowHeight:"rowHeight",adaptiveMode:"adaptiveMode",detailRowHeight:"detailRowHeight",skip:"skip",scrollable:"scrollable",selectable:"selectable",sort:"sort",size:"size",trackBy:"trackBy",filter:"filter",group:"group",virtualColumns:"virtualColumns",filterable:"filterable",sortable:"sortable",pageable:"pageable",groupable:"groupable",gridResizable:"gridResizable",rowReorderable:"rowReorderable",navigable:"navigable",autoSize:"autoSize",rowClass:"rowClass",rowSticky:"rowSticky",rowSelected:"rowSelected",isRowSelectable:"isRowSelectable",cellSelected:"cellSelected",resizable:"resizable",reorderable:"reorderable",loading:"loading",columnMenu:"columnMenu",hideHeader:"hideHeader",showInactiveTools:"showInactiveTools",isDetailExpanded:"isDetailExpanded",isGroupExpanded:"isGroupExpanded",dataLayoutMode:"dataLayoutMode"},outputs:{filterChange:"filterChange",pageChange:"pageChange",groupChange:"groupChange",sortChange:"sortChange",selectionChange:"selectionChange",rowReorder:"rowReorder",dataStateChange:"dataStateChange",gridStateChange:"gridStateChange",groupExpand:"groupExpand",groupCollapse:"groupCollapse",detailExpand:"detailExpand",detailCollapse:"detailCollapse",edit:"edit",cancel:"cancel",save:"save",remove:"remove",add:"add",cellClose:"cellClose",cellClick:"cellClick",pdfExport:"pdfExport",excelExport:"excelExport",columnResize:"columnResize",columnReorder:"columnReorder",columnVisibilityChange:"columnVisibilityChange",columnLockedChange:"columnLockedChange",columnStickyChange:"columnStickyChange",scrollBottom:"scrollBottom",contentScroll:"contentScroll"},exportAs:["kendoGrid"],standalone:!0,features:[e.Jv_([Qm,ve.Pi,Qn,wr,Gl,Il,tl,$u,Td,Us,Dc,Lm,{provide:el,useValue:nB},{provide:ve.$R,useValue:"kendo.grid"},Zn,FS,Fi.OT,Fi.X9,wd,fd,vm,Br,kl,gc,vc,im,Tu,xu,Km,ar,Au,Ro,Dd,Fu,Ic,Me,il,tg,ng,XS,Ys,vd,_c,ag]),e.OA$,e.aNF],ngContentSelectors:W2,decls:23,vars:35,consts:()=>{let t,i,s,r,l,u,f,C,T,O,G,P,Q,z,de,le,Ce,_e,Ge,ge,$e,ft,ke,Kt,$t,Le,jt,Ie,Xe,he,Re,je,xt,ot,dt,Ii,hi,Di,ut,_t,Ct,oi,bs,vn,fi,Ai,Vs,Wi,Tn,ol,rl,al,Al,Ca,Ba,qs,Lr,ll,Tc,Ab,Pb,Fb,Bb,Lb,Ub,Vb,zb,Kb,$b,jb,Hb,Xb,Wb,Yb,qb,Jb,Qb,Zb,eE,tE,iE,nE,sE,oE,rE,aE,lE,cE,dE,uE,hE,pE,mE,gE,fE,_E,vE,CE,SE,bE,EE,kE,RE,wE,IE,DE,TE,xE,OE,ME,yE,NE,GE,AE,PE,FE,BE,LE,UE,VE,zE,KE,$E,jE;return t=$localize`:kendo.grid.groupPanelEmpty|The label visible in the Grid group panel when it is empty:Drag a column header and drop it here to group by that column`,i=$localize`:kendo.grid.noRecords|The label visible in the Grid when there are no records:No records available.`,s=$localize`:kendo.grid.pagerFirstPage|The label for the first page button in Grid pager:Go to the first page`,r=$localize`:kendo.grid.pagerPreviousPage|The label for the previous page button in Grid pager:Go to the previous page`,l=$localize`:kendo.grid.pagerNextPage|The label for the next page button in Grid pager:Go to the next page`,u=$localize`:kendo.grid.pagerLastPage|The label for the last page button in Grid pager:Go to the last page`,f=$localize`:kendo.grid.pagerPage|The label before the current page number in the Grid pager:Page`,C=$localize`:kendo.grid.pagerOf|The label before the total pages number in the Grid pager:of`,T=$localize`:kendo.grid.pagerItems|The label after the total pages number in the Grid pager:items`,O=$localize`:kendo.grid.pagerPageNumberInputTitle|The label for the pager input in the Grid pager:Page Number`,G=$localize`:kendo.grid.pagerItemsPerPage|The label for the page size chooser in the Grid pager:items per page`,P=$localize`:kendo.grid.pagerInputLabel|The text of the aria-label attribute applied to the input element for entering the page number:Type a page number`,Q=$localize`:kendo.grid.filter|The label of the filter cell or icon:Filter`,z=$localize`:kendo.grid.filterEqOperator|The text of the equal filter operator:Is equal to`,de=$localize`:kendo.grid.filterNotEqOperator|The text of the not equal filter operator:Is not equal to`,le=$localize`:kendo.grid.filterIsNullOperator|The text of the is null filter operator:Is null`,Ce=$localize`:kendo.grid.filterIsNotNullOperator|The text of the is not null filter operator:Is not null`,_e=$localize`:kendo.grid.filterIsEmptyOperator|The text of the is empty filter operator:Is empty`,Ge=$localize`:kendo.grid.filterIsNotEmptyOperator|The text of the is not empty filter operator:Is not empty`,ge=$localize`:kendo.grid.filterStartsWithOperator|The text of the starts with filter operator:Starts with`,$e=$localize`:kendo.grid.filterContainsOperator|The text of the contains filter operator:Contains`,ft=$localize`:kendo.grid.filterNotContainsOperator|The text of the does not contain filter operator:Does not contain`,ke=$localize`:kendo.grid.filterEndsWithOperator|The text of the ends with filter operator:Ends with`,Kt=$localize`:kendo.grid.filterGteOperator|The text of the greater than or equal filter operator:Is greater than or equal to`,$t=$localize`:kendo.grid.filterGtOperator|The text of the greater than filter operator:Is greater than`,Le=$localize`:kendo.grid.filterLteOperator|The text of the less than or equal filter operator:Is less than or equal to`,jt=$localize`:kendo.grid.filterLtOperator|The text of the less than filter operator:Is less than`,Ie=$localize`:kendo.grid.filterIsTrue|The text of the IsTrue boolean filter option:Is True`,Xe=$localize`:kendo.grid.filterIsFalse|The text of the IsFalse boolean filter option:Is False`,he=$localize`:kendo.grid.filterBooleanAll|The text of the (All) boolean filter option:(All)`,Re=$localize`:kendo.grid.filterAfterOrEqualOperator|The text of the after or equal date filter operator:Is after or equal to`,je=$localize`:kendo.grid.filterAfterOperator|The text of the after date filter operator:Is after`,xt=$localize`:kendo.grid.filterBeforeOperator|The text of the before date filter operator:Is before`,ot=$localize`:kendo.grid.filterBeforeOrEqualOperator|The text of the before or equal date filter operator:Is before or equal to`,dt=$localize`:kendo.grid.filterFilterButton|The text of the filter button:Filter`,Ii=$localize`:kendo.grid.filterClearButton|The text of the clear filter button:Clear`,hi=$localize`:kendo.grid.sortClearButton|The text of the clear sort button located in the Sort Toolbar Tool and adaptive Sort Toolbar Tool:Clear sorting`,Di=$localize`:kendo.grid.adaptiveCloseButtonTitle|The title of the Close button of the ActionSheet that is rendered instead of the Popup when using small screen devices in adaptive mode:Close`,ut=$localize`:kendo.grid.adaptiveBackButtonTitle|The title of the Back button of the ActionSheet that is rendered instead of the Popup when using small screen devices in adaptive mode:Back`,_t=$localize`:kendo.grid.filterClearAllButton|The text of the clear all filters button located in the Filter Toolbar Tool and adaptive Filter Toolbar Tool:Clear all filters`,Ct=$localize`:kendo.grid.groupClearButton|The text of the clear grouping button in the Group Toolbar Tool and adaptive Group Toolbar Tool:Clear grouping`,oi=$localize`:kendo.grid.sortDoneButton|The text of the done sort button:Done`,bs=$localize`:kendo.grid.groupDoneButton|The text of the done group button in the adaptive Group Toolbar Tool:Done`,vn=$localize`:kendo.grid.filterAndLogic|The text of the And filter logic:And`,fi=$localize`:kendo.grid.filterOrLogic|The text of the Or filter logic:Or`,Ai=$localize`:kendo.grid.filterToolbarToolText|The button text of the Filter toolbar tool:Filter`,Vs=$localize`:kendo.grid.loading|The loading text:Loading`,Wi=$localize`:kendo.grid.gridLabel|The Grid aria-label:Data table`,Tn=$localize`:kendo.grid.columns|The text for the Grid Column Chooser and Column Chooser toolbar tool:Columns`,ol=$localize`:kendo.grid.columnsSubtitle|The subtitle for the adaptive Grid Column Chooser and Column Chooser toolbar tool:Selected fields are visible`,rl=$localize`:kendo.grid.adaptiveFilterTitle|The title that is displayed in the adaptive Filter Toolbar Tool and Filter Menu:Filter by`,al=$localize`:kendo.grid.adaptiveFilterOperatorsTitle|The title that is displayed in the Operators Action Sheet:Operators`,Al=$localize`:kendo.grid.adaptiveSortTitle|The title that is displayed in the adaptive Sort Toolbar Tool:Sort by`,Ca=$localize`:kendo.grid.adaptiveGroupTitle|The title that is displayed in the adaptive Group Toolbar Tool.:Group by`,Ba=$localize`:kendo.grid.lock|The text shown in the column menu for the lock item:Lock`,qs=$localize`:kendo.grid.unlock|The text shown in the column menu for the unlock item:Unlock`,Lr=$localize`:kendo.grid.setColumnPosition|The text shown in the column menu for the set column position item:Set Column Position`,ll=$localize`:kendo.grid.stick|The text shown in the column menu for the stick item:Stick`,Tc=$localize`:kendo.grid.unstick|The text shown in the column menu for the unstick item:Unstick`,Ab=$localize`:kendo.grid.sortable|The label of the sort icon:Sortable`,Pb=$localize`:kendo.grid.sortAscending|The text shown in the column menu for the sort ascending item:Sort Ascending`,Fb=$localize`:kendo.grid.sortDescending|The text shown in the column menu for the sort descending item:Sort Descending`,Bb=$localize`:kendo.grid.autosizeAllColumns|The text shown in the column menu for the autosize all columns item:Autosize All Columns`,Lb=$localize`:kendo.grid.autosizeThisColumn|The text shown in the column menu for the autosize this column item:Autosize This Column`,Ub=$localize`:kendo.grid.sortedDefault|The status announcement when a column is no longer sorted:Not Sorted`,Vb=$localize`:kendo.grid.sortedAscending|The title of the Group Chip indicating the ascending sorting order of the groups:Sorted Ascending`,zb=$localize`:kendo.grid.sortedDescending|The title of the Group Chip indicating the descending sorting order of the groups:Sorted Descending`,Kb=$localize`:kendo.grid.columnsApply|The text shown in the column menu or column chooser for the columns apply button:Apply`,$b=$localize`:kendo.grid.columnsReset|The text shown in the column menu or column chooser for the columns reset button:Reset`,jb=$localize`:kendo.grid.detailExpand|The title of the expand icon of detail rows. Applies also to the expand button text in stacked mode.:Expand Details`,Hb=$localize`:kendo.grid.detailCollapse|The title of the collapse icon of detail rows. Applies also to the collapse button text in stacked mode.:Collapse Details`,Xb=$localize`:kendo.grid.filterDateToday|The text of the Today button of the Date filter.:TODAY`,Wb=$localize`:kendo.grid.filterDateToggle|The title of the Toggle button of the Date filter.:Toggle Calendar`,Yb=$localize`:kendo.grid.filterNumericDecrement|The title of the Decrement button of the Numeric filter.:Decrement`,qb=$localize`:kendo.grid.filterNumericIncrement|The title of the Increment button of the Numeric filter.:Increment`,Jb=$localize`:kendo.grid.selectionCheckboxLabel|The labels of the checkbox column checkboxes.:Select Row`,Qb=$localize`:kendo.grid.selectAllCheckboxLabel|The label of the checkbox column select all checkbox.:Select All Rows`,Zb=$localize`:kendo.grid.sortToolbarToolText|The button text of the Sort toolbar tool.:Sort`,eE=$localize`:kendo.grid.groupCollapse|The text of the title and aria-label attributes applied to the collapse icon of group rows.:Collapse Group`,tE=$localize`:kendo.grid.groupExpand|The text of the title and aria-label attributes applied to the expand icon of group rows.:Expand Group`,iE=$localize`:kendo.grid.pagerSelectPage|The text of the title and aria-label attributes applied to the page chooser in the Grid Pager:Select page`,nE=$localize`:kendo.grid.topToolbarLabel|The label for the Grid top toolbar:Top toolbar`,sE=$localize`:kendo.grid.bottomToolbarLabel|The label for the Grid bottom toolbar:Bottom toolbar`,oE=$localize`:kendo.grid.editToolbarToolText|The text for the Grid Edit toolbar tool:Edit`,rE=$localize`:kendo.grid.saveToolbarToolText|The text for the Grid Save toolbar tool:Save`,aE=$localize`:kendo.grid.addToolbarToolText|The text for the Grid Add toolbar tool:Add`,lE=$localize`:kendo.grid.cancelToolbarToolText|The text for the Grid Cancel toolbar tool:Cancel`,cE=$localize`:kendo.grid.removeToolbarToolText|The text for the Grid Remove toolbar tool:Delete`,dE=$localize`:kendo.grid.excelExportToolbarToolText|The text for the Grid Excel export toolbar tool:Excel Export`,uE=$localize`:kendo.grid.pdfExportToolbarToolText|The text for the Grid PDF export toolbar tool:PDF Export`,hE=$localize`:kendo.grid.groupPanelLabel|The label for the Grid group panel toolbar:Group panel`,pE=$localize`:kendo.grid.dragRowHandleLabel|The label for the Grid drag row handle:Drag row`,mE=$localize`:kendo.grid.columnMenuFilterTabTitle|The title for the column menu Filter tab:Filter`,gE=$localize`:kendo.grid.columnMenuGeneralTabTitle|The title for the column menu General tab:General`,fE=$localize`:kendo.grid.columnMenuColumnsTabTitle|The title for the column menu Columns tab:Columns`,_E=$localize`:kendo.grid.groupChipMenuPrevious|The text for the Group pane Chip Menu Move as previous item:Move as previous`,vE=$localize`:kendo.grid.groupChipMenuNext|The text for the Group pane Chip Menu Move as next item:Move as next`,CE=$localize`:kendo.grid.groupToolbarToolText|The button text of the Group toolbar tool:Group`,SE=$localize`:kendo.grid.removeConfirmationDialogTitle|The title of the built-in remove item confirmation Dialog:Please confirm`,bE=$localize`:kendo.grid.removeConfirmationDialogContent|The content of the built-in remove item confirmation Dialog:Are you sure you want to delete this item?`,EE=$localize`:kendo.grid.removeConfirmationDialogConfirmText|The text of the built-in remove item confirmation Dialog confirm action button:Yes`,kE=$localize`:kendo.grid.removeConfirmationDialogRejectText|The text of the built-in remove item confirmation Dialog reject action button:No`,RE=$localize`:kendo.grid.externalEditingTitle|The title of the built-in external editing form container when editing an item:Edit`,wE=$localize`:kendo.grid.externalEditingAddTitle|The title of the built-in external editing form container when adding a new item:Add`,IE=$localize`:kendo.grid.externalEditingSaveText|The text of the external editing form Save button:Save`,DE=$localize`:kendo.grid.externalEditingCancelText|The text of the external editing form Cancel button:Cancel`,TE=$localize`:kendo.grid.aiAssistantToolbarToolText|The text of the AI Assistant toolbar tool:AI Assistant`,xE=$localize`:kendo.grid.aiAssistantWindowTitle|The text of the AI Assistant Window title:AI Assistant`,OE=$localize`:kendo.grid.aiAssistantApplyButtonText|The text of the AI Assistant Apply button:Apply`,ME=$localize`:kendo.grid.aiAssistantWindowCloseTitle|The title of the AI Assistant Window close button:Close`,yE=$localize`:kendo.grid.aiAssistantWindowMaximizeTitle|The title of the AI Assistant Window maximize button:Maximize`,NE=$localize`:kendo.grid.aiAssistantWindowMinimizeTitle|The title of the AI Assistant Window minimize button:Minimize`,GE=$localize`:kendo.grid.aiAssistantWindowRestoreTitle|The title of the AI Assistant Window restore button:Restore`,AE=$localize`:kendo.grid.aiAssistantOutputCardTitle|The title of the AI Assistant Prompt Output Card:Generated with AI`,PE=$localize`:kendo.grid.aiAssistantOutputCardBodyContent|The success message dispayed in the AI Assistant Prompt Output Card's body:Operation is successful. Data is:`,FE=$localize`:kendo.grid.pagerLabel|The label for the Grid pager:${"\ufffd0\ufffd"}:INTERPOLATION:`,BE=$localize`:kendo.grid.filterInputLabel|The label of the filter row and menu inputs:${"\ufffd0\ufffd"}:INTERPOLATION:`,LE=$localize`:kendo.grid.filterMenuTitle|The title of the filter menu icon:${"\ufffd0\ufffd"}:INTERPOLATION:`,UE=$localize`:kendo.grid.filterMenuOperatorsDropDownLabel|The label of the filter menu operators dropdown:${"\ufffd0\ufffd"}:INTERPOLATION:`,VE=$localize`:kendo.grid.filterCellOperatorLabel|The label of the filter cell operators dropdown:${"\ufffd0\ufffd"}:INTERPOLATION:`,zE=$localize`:kendo.grid.booleanFilterCellLabel|The label of the boolean filter cell dropdown:${"\ufffd0\ufffd"}:INTERPOLATION:`,KE=$localize`:kendo.grid.filterMenuLogicDropDownLabel|The label of the filter menu logic dropdown:${"\ufffd0\ufffd"}:INTERPOLATION:`,$E=$localize`:kendo.grid.columnMenu|The title of the column menu icon:${"\ufffd0\ufffd"}:INTERPOLATION:`,jE=$localize`:kendo.grid.formValidationErrorText|The default text of a form validation error when using external editing.:${"\ufffd0\ufffd"}:INTERPOLATION:`,[["ariaRoot",""],["defaultHint",""],["defaultPager",""],["dialogContainer",""],["topPager",""],["header",""],["lockedHeader",""],["footer",""],["bottomPager",""],["windowContainer",""],["pagerLabel",FE,"filterInputLabel",BE,"filterMenuTitle",LE,"filterMenuOperatorsDropDownLabel",UE,"filterCellOperatorLabel",VE,"booleanFilterCellLabel",zE,"filterMenuLogicDropDownLabel",KE,"columnMenu",$E,"formValidationErrorText",jE],["kendoGridLocalizedMessages","","groupPanelEmpty",t,"noRecords",i,"pagerFirstPage",s,"pagerPreviousPage",r,"pagerNextPage",l,"pagerLastPage",u,"pagerPage",f,"pagerOf",C,"pagerItems",T,"pagerPageNumberInputTitle",O,"pagerItemsPerPage",G,"pagerInputLabel",P,"filter",Q,"filterEqOperator",z,"filterNotEqOperator",de,"filterIsNullOperator",le,"filterIsNotNullOperator",Ce,"filterIsEmptyOperator",_e,"filterIsNotEmptyOperator",Ge,"filterStartsWithOperator",ge,"filterContainsOperator",$e,"filterNotContainsOperator",ft,"filterEndsWithOperator",ke,"filterGteOperator",Kt,"filterGtOperator",$t,"filterLteOperator",Le,"filterLtOperator",jt,"filterIsTrue",Ie,"filterIsFalse",Xe,"filterBooleanAll",he,"filterAfterOrEqualOperator",Re,"filterAfterOperator",je,"filterBeforeOperator",xt,"filterBeforeOrEqualOperator",ot,"filterFilterButton",dt,"filterClearButton",Ii,"sortClearButton",hi,"adaptiveCloseButtonTitle",Di,"adaptiveBackButtonTitle",ut,"filterClearAllButton",_t,"groupClearButton",Ct,"sortDoneButton",oi,"groupDoneButton",bs,"filterAndLogic",vn,"filterOrLogic",fi,"filterToolbarToolText",Ai,"loading",Vs,"gridLabel",Wi,"columns",Tn,"columnsSubtitle",ol,"adaptiveFilterTitle",rl,"adaptiveFilterOperatorsTitle",al,"adaptiveSortTitle",Al,"adaptiveGroupTitle",Ca,"lock",Ba,"unlock",qs,"setColumnPosition",Lr,"stick",ll,"unstick",Tc,"sortable",Ab,"sortAscending",Pb,"sortDescending",Fb,"autosizeAllColumns",Bb,"autosizeThisColumn",Lb,"sortedDefault",Ub,"sortedAscending",Vb,"sortedDescending",zb,"columnsApply",Kb,"columnsReset",$b,"detailExpand",jb,"detailCollapse",Hb,"filterDateToday",Xb,"filterDateToggle",Wb,"filterNumericDecrement",Yb,"filterNumericIncrement",qb,"selectionCheckboxLabel",Jb,"selectAllCheckboxLabel",Qb,"sortToolbarToolText",Zb,"groupCollapse",eE,"groupExpand",tE,"pagerSelectPage",iE,"topToolbarLabel",nE,"bottomToolbarLabel",sE,"editToolbarToolText",oE,"saveToolbarToolText",rE,"addToolbarToolText",aE,"cancelToolbarToolText",lE,"removeToolbarToolText",cE,"excelExportToolbarToolText",dE,"pdfExportToolbarToolText",uE,"groupPanelLabel",hE,"dragRowHandleLabel",pE,"columnMenuFilterTabTitle",mE,"columnMenuGeneralTabTitle",gE,"columnMenuColumnsTabTitle",fE,"groupChipMenuPrevious",_E,"groupChipMenuNext",vE,"groupToolbarToolText",CE,"removeConfirmationDialogTitle",SE,"removeConfirmationDialogContent",bE,"removeConfirmationDialogConfirmText",EE,"removeConfirmationDialogRejectText",kE,"externalEditingTitle",RE,"externalEditingAddTitle",wE,"externalEditingSaveText",IE,"externalEditingCancelText",DE,"aiAssistantToolbarToolText",TE,"aiAssistantWindowTitle",xE,"aiAssistantApplyButtonText",OE,"aiAssistantWindowCloseTitle",ME,"aiAssistantWindowMaximizeTitle",yE,"aiAssistantWindowMinimizeTitle",NE,"aiAssistantWindowRestoreTitle",GE,"aiAssistantOutputCardTitle",AE,"aiAssistantOutputCardBodyContent",PE,6,"pagerLabel","filterInputLabel","filterMenuTitle","filterMenuOperatorsDropDownLabel","filterCellOperatorLabel","booleanFilterCellLabel","filterMenuLogicDropDownLabel","columnMenu","formValidationErrorText"],["position","top",3,"size","navigable",4,"ngIf"],["class","k-grid-pager k-grid-pager-top",3,"navigable","pageSize","total","skip","size","responsive","buttonCount","info","pageSizeValues","previousNext","type","pageChange","pagerInputVisibilityChange","pageTextVisibilityChange","itemsTextVisibilityChange",4,"ngIf"],["role","toolbar",3,"navigable","text","groups","change",4,"ngIf"],["role","grid","kendoDragTargetContainer","","kendoDropTargetContainer","","mode","manual",1,"k-grid-aria-root",3,"onPress","onDragStart","onDrag","onDragEnter","onDragLeave","onDragEnd","onDrop","dragDisabled","dropDisabled","dragTargetFilter","dropTargetFilter","dragHandle","hint","hintContext","dragData","id"],[4,"ngIf"],["kendoGridLoading","",3,"loadingTemplate",4,"ngIf"],[3,"statusBarTemplate",4,"ngIf"],["class","k-grid-pager",3,"navigable","pageSize","total","skip","size","responsive","buttonCount","info","pageSizeValues","previousNext","type","pageChange","pagerInputVisibilityChange","pageTextVisibilityChange","itemsTextVisibilityChange",4,"ngIf"],["class","k-grid-toolbar-bottom","position","bottom",3,"size","navigable",4,"ngIf"],["kendoWatermarkOverlay","",3,"licenseMessage",4,"ngIf"],["position","top",3,"size","navigable"],[1,"k-grid-pager","k-grid-pager-top",3,"pageChange","pagerInputVisibilityChange","pageTextVisibilityChange","itemsTextVisibilityChange","navigable","pageSize","total","skip","size","responsive","buttonCount","info","pageSizeValues","previousNext","type"],["kendoPagerTemplate",""],[3,"ariaLabel","firstPage","inputLabel","previousPage","nextPage","lastPage","selectPage","page","itemsPerPage","items","of","pageNumberInputTitle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","toolbar",3,"change","navigable","text","groups"],["class","k-grid-header","role","presentation",3,"k-grid-draggable-header","padding",4,"ngIf"],["kendoDraggable","","kendoGridSelectionMarquee","",3,"pageChange","scrollBottom","contentScroll","data","rowHeight","detailRowHeight","total","take","groups","groupable","skip","trackBy","columns","selectable","filterable","detailTemplate","noRecordsTemplate","size","rowClass","rowSticky","loading","isVirtual","cellLoadingTemplate","loadingTemplate","virtualColumns","enableDrag","sort"],["class","k-grid-footer",3,"padding",4,"ngIf"],["role","presentation",1,"k-grid-header"],["role","presentation","class","k-grid-header-locked",3,"width",4,"ngIf"],["role","presentation","data-scrollable","",1,"k-grid-header-wrap",3,"kendoGridResizableContainer","lockedWidth"],["role","presentation","kendoGridResizableTable","","kendoGridTable","",1,"k-grid-header-table",3,"virtualColumns","size"],["kendoGridColGroup","",3,"columns","groups","detailTemplate"],["kendoGridHeader","","role","rowgroup",3,"resizable","scrollable","columns","totalColumnLevels","sort","filter","filterable","groupable","reorderable","groups","sortable","columnMenu","columnMenuTemplate","lockedColumnsCount","totalColumnsCount","totalColumns","detailTemplate","tabIndex"],["class","k-width-container","role","presentation",4,"ngIf"],["role","presentation",1,"k-grid-header-locked"],["kendoGridResizableTable","","role","presentation","kendoGridTable","",1,"k-grid-header-table",3,"locked","size"],["kendoGridHeader","","role","rowgroup",3,"resizable","scrollable","columns","totalColumnLevels","sort","groups","filter","filterable","groupable","reorderable","sortable","columnMenu","columnMenuTemplate","totalColumnsCount","totalColumns","detailTemplate","tabIndex"],["role","presentation",1,"k-width-container"],[1,"k-grid-footer"],["class","k-grid-footer-locked",3,"width",4,"ngIf"],["data-scrollable","",1,"k-grid-footer-wrap",3,"kendoGridResizableContainer","lockedWidth"],["role","presentation","kendoGridTable","","kendoGridResizableTable","",1,"k-grid-footer-table",3,"size"],["kendoGridColGroup","",3,"columns","groups","detailTemplate",4,"ngIf"],["kendoGridFooter","",3,"logicalRowIndex","scrollable","groups","columns","lockedColumnsCount","detailTemplate","totalColumns","totalColumnsCount"],[1,"k-grid-footer-locked"],["role","presentation","kendoGridResizableTable","","kendoGridTable","",1,"k-grid-footer-table",3,"locked","size"],["kendoGridFooter","",3,"scrollable","groups","columns","detailTemplate","logicalRowIndex","totalColumns","totalColumnsCount"],["kendoGridTable","","kendoGridResizableTable","","role","presentation",1,"k-grid-table",3,"size"],["kendoGridColGroup","",3,"columns","groups","sort","detailTemplate"],["kendoGridHeader","","class","k-grid-header","role","rowgroup",3,"k-grid-draggable-header","resizable","scrollable","columns","totalColumnLevels","totalColumns","groups","groupable","reorderable","sort","sortable","filter","filterable","columnMenu","columnMenuTemplate","detailTemplate","tabIndex",4,"ngIf"],["kendoGridTableBody","","kendoDraggable","","kendoGridSelectionMarquee","",3,"isLoading","groups","rowsToRender","skip","columns","totalColumnsCount","totalColumns","selectable","filterable","noRecordsTemplate","detailTemplate","trackBy","rowClass","enableDrag"],["kendoGridFooter","",3,"scrollable","logicalRowIndex","groups","columns","detailTemplate","totalColumns","totalColumnsCount",4,"ngIf"],["kendoGridHeader","","role","rowgroup",1,"k-grid-header",3,"resizable","scrollable","columns","totalColumnLevels","totalColumns","groups","groupable","reorderable","sort","sortable","filter","filterable","columnMenu","columnMenuTemplate","detailTemplate","tabIndex"],["kendoGridFooter","",3,"scrollable","logicalRowIndex","groups","columns","detailTemplate","totalColumns","totalColumnsCount"],["kendoGridLoading","",3,"loadingTemplate"],[3,"statusBarTemplate"],[1,"k-grid-pager",3,"pageChange","pagerInputVisibilityChange","pageTextVisibilityChange","itemsTextVisibilityChange","navigable","pageSize","total","skip","size","responsive","buttonCount","info","pageSizeValues","previousNext","type"],["position","bottom",1,"k-grid-toolbar-bottom",3,"size","navigable"],["innerCssClass","k-drag-status",3,"name","svgIcon"],[1,"k-pager-numbers-wrap"],[3,"size",4,"ngIf"],[3,"size","buttonCount",4,"ngIf"],[3,"size","showPageText",4,"ngIf"],[3,"size","pageSizes","showItemsText",4,"ngIf"],[3,"size"],[3,"size","buttonCount"],[3,"size","showPageText"],[3,"size","pageSizes","showItemsText"],["kendoWatermarkOverlay","",3,"licenseMessage"]]},template:function(i,s){if(1&i){const r=e.RV6();e.NAR(X2),e.qex(0,11),e.ehv(1,10),e.bVm(),e.DNE(2,q2,1,4,"kendo-grid-toolbar",12),e.SdG(3),e.DNE(4,Q2,4,23,"kendo-pager",13)(5,Z2,1,5,"kendo-grid-group-panel",14),e.j41(6,"div",15,0),e.bIt("onPress",function(u){return e.eBV(r),e.Njj(s.handleReorderEvents(u,"press"))})("onDragStart",function(u){return e.eBV(r),e.Njj(s.handleReorderEvents(u,"dragStart"))})("onDrag",function(u){return e.eBV(r),e.Njj(s.handleReorderEvents(u,"drag"))})("onDragEnter",function(u){return e.eBV(r),e.Njj(s.handleReorderEvents(u,"dragEnter"))})("onDragLeave",function(u){return e.eBV(r),e.Njj(s.handleReorderEvents(u,"dragLeave"))})("onDragEnd",function(u){return e.eBV(r),e.Njj(s.handleReorderEvents(u,"dragEnd"))})("onDrop",function(u){return e.eBV(r),e.Njj(s.handleReorderEvents(u,"drop"))}),e.DNE(8,aF,4,26,"ng-container",16)(9,dF,6,23,"ng-container",16)(10,uF,1,1,"div",17),e.k0s(),e.DNE(11,hF,1,1,"kendo-grid-status-bar",18)(12,mF,4,23,"kendo-pager",19)(13,gF,1,4,"kendo-grid-toolbar",20)(14,fF,2,3,"ng-template",null,1,e.C5r)(16,kF,7,6,"ng-template",null,2,e.C5r),e.nrm(18,"div",null,3),e.DNE(20,RF,1,0,"kendo-grid-adaptive-renderer",16)(21,wF,2,0,"div",16)(22,IF,1,1,"div",21)}if(2&i){const r=e.sdS(15);e.uP7("Page navigation, page {currentPage} of {totalPages}")("{columnName} Filter")("{columnName} Filter Menu")("{columnName} Filter Operators")("Filter cell operators for {columnName}")("Boolean filter cell for {columnName}")("{columnName} Filter Logic")("{columnName} Column Menu")("The {fieldName} field has {errorName} validation error"),e.nnv(1),e.R7$(2),e.Y8G("ngIf",s.showTopToolbar),e.R7$(2),e.Y8G("ngIf",s.showTopPager),e.R7$(),e.Y8G("ngIf",s.showGroupPanel),e.R7$(),e.Y8G("dragDisabled",!s.rowReorderable)("dropDisabled",!s.rowReorderable)("dragTargetFilter",s.getDefaultSelectors("dragTarget"))("dropTargetFilter",s.getDefaultSelectors("dropTarget"))("dragHandle",s.getDefaultSelectors("handle"))("hint",e.eq3(33,Y2,s.customHintTemplate||r))("hintContext",s.hintContext)("dragData",s.gridData)("id",s.ariaRootId),e.BMQ("aria-label",s.ariaLabel)("aria-rowcount",s.ariaRowCount)("aria-colcount",s.ariaColCount),e.R7$(2),e.Y8G("ngIf",s.isScrollable),e.R7$(),e.Y8G("ngIf",!s.isScrollable),e.R7$(),e.Y8G("ngIf",s.loading),e.R7$(),e.Y8G("ngIf",s.showStatusBar),e.R7$(),e.Y8G("ngIf",s.showBottomPager),e.R7$(),e.Y8G("ngIf",s.showBottomToolbar),e.R7$(7),e.Y8G("ngIf",s.isAdaptiveModeEnabled),e.R7$(),e.Y8G("ngIf",s.aiAssistantToolbarTool),e.R7$(),e.Y8G("ngIf",s.showLicenseWatermark)}},dependencies:[eb,w.bT,dg,kC,HS,km,_m,vS,Cm,cg,ae.YY,ae.Bw,E.T5,KS,CS,Ym,SC,VS,ct.QK,E.S$,Fi.Xh,Fi.Ti,Fi.RJ,Fi.Zc,Fi.F$,Fi.Gj,Fi.hw,Fi.HG,Fi.Bz,w.T3,rb],encapsulation:2})}return n})();class hb{grid;localDataChangesService;constructor(o,t){this.grid=o,this.localDataChangesService=t}create(o){this.hasLocalData&&this.grid.skip?this.localDataChangesService.data.splice(this.grid.skip,0,o):this.data.unshift(o),this.dataChanged()}update(o){}remove(o){const t=this.data;for(let i=0;i<t.length;i++)if(o===t[i]){t.splice(i,1),this.dataChanged({action:"remove",item:o});break}}assignValues(o,t){Object.assign(o,t)}dataChanged(o={}){this.hasLocalData&&this.localDataChangesService.changes.emit(o)}get hasLocalData(){return Array.isArray(this.localDataChangesService.data)}get data(){if(this.hasLocalData)return this.localDataChangesService.data;const o=this.grid.data;if(Array.isArray(o))return o;if((0,e.naY)())throw new Error(Yn_requiredEditService);return[]}}let mg=(()=>{class n{grid;localDataChangesService;set editService(t){this.userEditService=t}get editService(){return this.userEditService||this.defaultEditService}removeConfirmationSubject=new me.B;dialogService;localization;defaultRemoveConfirmation=t=>(this.dialogService.open({appendTo:this.grid.dialogContainer,title:this.localization.get("removeConfirmationDialogTitle"),content:this.localization.get("removeConfirmationDialogContent"),actions:[{text:this.localization.get("removeConfirmationDialogConfirmText"),themeColor:"primary",svgIcon:ne.oEo,icon:"check"},{text:this.localization.get("removeConfirmationDialogRejectText"),svgIcon:ne.i3N,icon:"x"}]}).result.pipe((0,st.s)(1)).subscribe(s=>this.removeConfirmationSubject.next(s.text===this.localization.get("removeConfirmationDialogConfirmText"))),this.removeConfirmationSubject);removeConfirmation=!0;subscriptions=new He.yU;defaultEditService;userEditService;navigationService;constructor(t,i){this.grid=t,this.localDataChangesService=i,this.defaultEditService=this.createDefaultService(),this.dialogService=(0,e.WQX)(vl.o3),this.localization=(0,e.WQX)(ve.Pi),this.navigationService=(0,e.WQX)(ar)}ngOnInit(){this.subscriptions.add(this.grid.add.subscribe(this.addHandler.bind(this))),this.subscriptions.add(this.grid.remove.subscribe(this.removeHandler.bind(this))),this.subscriptions.add(this.grid.cancel.subscribe(this.cancelHandler.bind(this))),this.subscriptions.add(this.grid.save.subscribe(this.saveHandler.bind(this))),this.subscriptions.add(this.grid.dataStateChange.subscribe(this.onStateChange.bind(this)))}ngOnDestroy(){this.subscriptions.unsubscribe()}createDefaultService(){return new hb(this.grid,this.localDataChangesService)}addHandler(t){this.grid.addRow(this.createModel({isNew:!0}))}saveHandler(t){const i=this.saveModel(t);i&&(t.isNew?this.editService.create(i):this.editService.update(i)),this.grid.closeRow(t.rowIndex)}cancelHandler({rowIndex:t}){this.closeEditor(t)}removeHandler({dataItem:t}){const i=s=>{s&&this.editService.remove(t)};if(this.removeConfirmation){const r=("boolean"==typeof this.removeConfirmation?this.defaultRemoveConfirmation:this.removeConfirmation)(t);r instanceof Promise?r.then(l=>{i(l),this.returnFocusToGrid()}):r instanceof xe.c?r.pipe((0,st.s)(1)).subscribe(l=>{i(l),this.returnFocusToGrid()}):(i(r),this.returnFocusToGrid())}else i(!0)}onStateChange(){this.closeEditor()}closeEditor(t){this.grid.closeRow(t)}returnFocusToGrid(){this.navigationService.focusCell()||this.navigationService.focusPrevCell()||this.navigationService.focusNextCell()}static \u0275fac=function(i){return new(i||n)(e.rXU(lr),e.rXU(Br))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridEditingDirectiveBase",""]],inputs:{editService:"editService",removeConfirmation:"removeConfirmation"}})}return n})();const ah=n=>{if(n.markAsTouched(),n.hasOwnProperty("controls")){const o=n.controls;for(const t in o)o.hasOwnProperty(t)&&ah(o[t])}};let gg=(()=>{class n extends mg{grid;localDataChangesService;cdr;createFormGroup;constructor(t,i,s){super(t,i),this.grid=t,this.localDataChangesService=i,this.cdr=s}createModel(t){return this.createFormGroup(t)}saveModel({dataItem:t,formGroup:i,isNew:s}){if(i.dirty||s){if(i.valid)return this.editService.assignValues(t,i.value),t;ah(i)}}ngOnInit(){super.ngOnInit(),this.subscriptions.add(this.grid.cellClick.subscribe(this.cellClickHandler.bind(this))),this.subscriptions.add(this.grid.cellClose.subscribe(this.cellCloseHandler.bind(this)))}removeHandler(t){super.removeHandler(t),this.grid.cancelCell()}cellClickHandler(t){t.isEdited||"contextmenu"===t.type||(this.grid.editCell(t.rowIndex,this.grid.isStacked?t.column.leafIndex:t.columnIndex,this.createFormGroup(t)),this.cdr.markForCheck())}cellCloseHandler(t){const{formGroup:i,dataItem:s}=t;if(i.valid){if(i.dirty){if(t.originalEvent&&t.originalEvent.code===E.D$.Escape)return;this.editService.assignValues(s,i.value),this.editService.update(s)}}else t.preventDefault();this.cdr.markForCheck()}static \u0275fac=function(i){return new(i||n)(e.rXU(lr),e.rXU(Br),e.rXU(e.gRc))};static \u0275dir=e.FsC({type:n,selectors:[["","kendoGridInCellEditing",""]],inputs:{createFormGroup:[e.Mj6.None,"kendoGridInCellEditing","createFormGroup"]},standalone:!0,features:[e.Vt3]})}return n})();const mz=()=>({allowUnsort:!0,mode:"multiple"}),gz=()=>({filter:!0,stick:!0,sort:!1}),fz=()=>({checkboxOnly:!0,mode:"multiple"});function _z(n,o){1&n&&e.EFF(0," No data available. ")}function vz(n,o){1&n&&e.nrm(0,"kendo-grid-checkbox-column",7),2&n&&e.Y8G("width",50)}function Cz(n,o){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"span",13),e.bIt("click",function(){e.eBV(t);const s=e.XpG().dataItem,r=e.XpG(2);return e.Njj(r.openResourceDialog(s))}),e.EFF(2,"assignment_ind"),e.k0s(),e.bVm()}}function Sz(n,o){if(1&n&&(e.EFF(0),e.DNE(1,Cz,3,0,"ng-container",12)),2&n){const t=o.dataItem,i=e.XpG().$implicit;e.SpI(" ",t[i.field]," "),e.R7$(),e.Y8G("ngIf","PRIMARY_RESOURCE_NAME"===i.field)}}function bz(n,o){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"kendo-datepicker",14),e.mxI("ngModelChange",function(s){e.eBV(t);const r=e.XpG().dataItem,l=e.XpG().$implicit;return e.DH7(r[l.field],s)||(r[l.field]=s),e.Njj(s)}),e.k0s(),e.bVm()}if(2&n){const t=e.XpG().dataItem,i=e.XpG().$implicit;e.R7$(),e.R50("ngModel",t[i.field])}}function Ez(n,o){if(1&n&&e.DNE(0,bz,2,1,"ng-container",12),2&n){const t=e.XpG().$implicit;e.Y8G("ngIf","PROMISE_DATE"===t.field||"ACKNOWLEDGE_DATE"===t.field)}}function kz(n,o){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"label")(2,"input",17),e.bIt("change",function(s){const r=e.eBV(t).$implicit,l=e.XpG(2).$implicit,u=e.XpG();return e.Njj(u.onColumnValueCheck(l,r,s))}),e.k0s(),e.EFF(3),e.k0s(),e.bVm()}if(2&n){const t=o.$implicit,i=e.XpG(2).$implicit;e.R7$(2),e.Y8G("checked",null==i.selectedValues?null:i.selectedValues.includes(t)),e.R7$(),e.SpI(" ",t," ")}}function Rz(n,o){if(1&n){const t=e.RV6();e.j41(0,"input",15),e.mxI("ngModelChange",function(s){e.eBV(t);const r=e.XpG().$implicit;return e.DH7(r.filterValue,s)||(r.filterValue=s),e.Njj(s)}),e.bIt("ngModelChange",function(s){const r=e.eBV(t).filterService,l=e.XpG().$implicit,u=e.XpG();return e.Njj(u.onColumnFilterChange(l,s,r))}),e.k0s(),e.j41(1,"div",16),e.DNE(2,kz,4,2,"ng-container",3),e.k0s()}if(2&n){const t=o.column,i=e.XpG().$implicit,s=e.XpG();e.Y8G("placeholder","Search "+t.title),e.R50("ngModel",i.filterValue),e.R7$(2),e.Y8G("ngForOf",s.getFilteredColumnValues(i))}}function wz(n,o){if(1&n&&(e.qex(0),e.j41(1,"kendo-grid-column",8),e.DNE(2,Sz,2,2,"ng-template",9)(3,Ez,1,1,"ng-template",10)(4,Rz,3,3,"ng-template",11),e.k0s(),e.bVm()),2&n){const t=o.$implicit;e.R7$(),e.Y8G("field",t.field)("title",t.title)("sortable",!0)("width",150)("editable","PROMISE_DATE"===t.field||"ACKNOWLEDGE_DATE"===t.field)}}function Iz(n,o){if(1&n&&(e.j41(0,"div")(1,"pre"),e.EFF(2),e.nI1(3,"json"),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,1,t.resourceDialogData))}}function Dz(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-dialog",18),e.bIt("close",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.closeResourceDialog())}),e.j41(1,"kendo-dialog-titlebar")(2,"span"),e.EFF(3,"Resource Details"),e.k0s()(),e.DNE(4,Iz,4,3,"div",12),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("width",400),e.R7$(4),e.Y8G("ngIf",t.resourceDialogData)}}function Tz(n,o){if(1&n&&(e.j41(0,"div")(1,"pre"),e.EFF(2),e.nI1(3,"json"),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,1,t.resourceDialogData))}}function xz(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",21)(1,"div",22)(2,"h3"),e.EFF(3,"ECN Details"),e.k0s(),e.EFF(4),e.nrm(5,"br"),e.EFF(6),e.nrm(7,"br"),e.EFF(8),e.nrm(9,"br"),e.EFF(10),e.k0s(),e.j41(11,"div",23)(12,"h3"),e.EFF(13,"All Action"),e.k0s(),e.j41(14,"kendo-expansionpanel",24)(15,"div",25)(16,"kendo-textarea",26),e.mxI("ngModelChange",function(s){e.eBV(t);const r=e.XpG(2);return e.DH7(r.resourceDialogData.COMMENT,s)||(r.resourceDialogData.COMMENT=s),e.Njj(s)}),e.k0s()()(),e.j41(17,"kendo-expansionpanel",24)(18,"div",25),e.EFF(19," ACKNOWLEDGE DATE"),e.j41(20,"kendo-datepicker",14),e.mxI("ngModelChange",function(s){e.eBV(t);const r=e.XpG(2);return e.DH7(r.resourceDialogData.ACKNOWLEDGE_DATE,s)||(r.resourceDialogData.ACKNOWLEDGE_DATE=s),e.Njj(s)}),e.k0s(),e.EFF(21," PROMISE DATE "),e.j41(22,"kendo-datepicker",14),e.mxI("ngModelChange",function(s){e.eBV(t);const r=e.XpG(2);return e.DH7(r.resourceDialogData.PROMISE_DATE,s)||(r.resourceDialogData.PROMISE_DATE=s),e.Njj(s)}),e.k0s()()()()()}if(2&n){const t=e.XpG(2);e.R7$(4),e.SpI(" ECN Code : ",null==t.resourceDialogData?null:t.resourceDialogData.ECN_CODE,""),e.R7$(2),e.SpI(" ECN Type : ",null==t.resourceDialogData?null:t.resourceDialogData.ECN_TYPE,""),e.R7$(2),e.SpI(" ECN Description : ",null==t.resourceDialogData?null:t.resourceDialogData.ECN_DESCRIPTION,""),e.R7$(2),e.SpI(" Execution :",null==t.resourceDialogData?null:t.resourceDialogData.ECN_EXECUTION,"\n"),e.R7$(4),e.Y8G("title","Comment")("expanded",!0),e.R7$(2),e.R50("ngModel",t.resourceDialogData.COMMENT),e.Y8G("rows",3),e.R7$(),e.Y8G("title","Acknowledge Date And Promise Date")("expanded",!0),e.R7$(3),e.R50("ngModel",t.resourceDialogData.ACKNOWLEDGE_DATE),e.R7$(2),e.R50("ngModel",t.resourceDialogData.PROMISE_DATE)}}function Oz(n,o){if(1&n){const t=e.RV6();e.j41(0,"kendo-dialog",19),e.bIt("close",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.closeEditDialog())}),e.j41(1,"kendo-dialog-titlebar")(2,"span"),e.EFF(3,"Edit Details"),e.k0s()(),e.DNE(4,Tz,4,3,"div",12)(5,xz,23,12,"div",20),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("width",600),e.R7$(4),e.Y8G("ngIf",t.resourceDialogData&&"ecn"!=t.source),e.R7$(),e.Y8G("ngIf","ecn"==t.source)}}function Mz(n,o){if(1&n){const t=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.acknowledge())}),e.EFF(1,"Acknowledge"),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("disabled",0==t.selectedKeys.length)}}let yz=(()=>{class n{constructor(t){this.formBuilder=t,this.data=[],this.columns=[],this.pageable=!0,this.enablescrolling=!1,this.selectable=!1,this.acknowledgeable=!1,this.source="",this.selectionChange=new e.bkB,this.gridView=[],this.pageSize=10,this.skip=0,this.sort=[],this.selectedKeys=[],this.resourceDialogOpen=!1,this.editDialogOpen=!1,this.resourceDialogData=null,this.createFormGroup=this.createFormGroup.bind(this)}createFormGroup(t){return this.formGroup=this.formBuilder.group({PROMISE_DATE:t.dataItem.PROMISE_DATE}),this.formGroup}ngOnInit(){this.loadGrid(),console.log(this.source)}ngOnChanges(){this.loadGrid()}loadGrid(){this.gridView=this.data.slice(this.skip,this.skip+this.pageSize)}pageChange(t){this.skip=t.skip,this.loadGrid()}sortChange(t){this.sort=t}onColumnFilterChange(t,i,s){t.filterValue=i;let r=this.data;this.columns.forEach(l=>{l.filterValue&&""!==l.filterValue.trim()&&(r=r.filter(u=>{const f=(u[l.field]??"").toString().toLowerCase(),C=(l.filterValue??"").toString().toLowerCase();return f.includes(C)})),l.selectedValues&&l.selectedValues.length>0&&(r=r.filter(u=>(l.selectedValues??[]).includes(u[l.field])))}),this.gridView=r.slice(this.skip,this.skip+this.pageSize)}getFilteredColumnValues(t){return this.data.map(i=>i[t.field]).filter((i,s,r)=>r.indexOf(i)===s&&null!=i&&""!==i)}onColumnValueCheck(t,i,s){t.selectedValues||(t.selectedValues=[]),s.target.checked?t.selectedValues.push(i):t.selectedValues=t.selectedValues.filter(l=>l!==i),this.onColumnFilterChange(t,t.filterValue,null)}onSelectionChange(t){this.selectedKeys.push(t.selectedRows.map(i=>i.dataItem)),this.selectionChange.emit(this.selectedKeys)}loadMore(){const t=this.gridView.length;this.gridView=[...this.gridView,...this.data.slice(t,t+50)]}openResourceDialog(t){this.resourceDialogData=t,this.resourceDialogOpen=!0}closeResourceDialog(){this.resourceDialogOpen=!1,this.resourceDialogData=null}acknowledge(){this.acknowledgeable&&this.selectedKeys.length>0?(console.log("Acknowledging:",this.selectedKeys),this.selectionChange.emit(this.selectedKeys)):console.warn("No items selected for acknowledgment")}onCellClick(t){this.clickedRowItem=t.dataItem}onColumnDblClick(t){console.log("Column double-clicked:",this.clickedRowItem),this.resourceDialogData=this.clickedRowItem,this.editDialogOpen=!0}closeEditDialog(){this.editDialogOpen=!1,this.resourceDialogData=null}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(Ne.ok))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["iep-grid"]],inputs:{data:"data",columns:"columns",pageable:"pageable",enablescrolling:"enablescrolling",selectable:"selectable",acknowledgeable:"acknowledgeable",source:"source"},outputs:{selectionChange:"selectionChange"},standalone:!0,features:[e.OA$,e.aNF],decls:7,vars:23,consts:[[1,"testgrid",3,"scrollBottom","sortChange","selectionChange","cellClick","dblclick","data","pageSize","skip","sortable","pageable","scrollable","height","groupable","reorderable","resizable","columnMenu","selectable","kendoGridInCellEditing","navigable"],["kendoGridNoRecordsTemplate",""],[3,"width",4,"ngIf"],[4,"ngFor","ngForOf"],["class","resource-dialog",3,"width","close",4,"ngIf"],["class","right-dialog",3,"width","close",4,"ngIf"],[3,"disabled","click",4,"ngIf"],[3,"width"],[3,"field","title","sortable","width","editable"],["kendoGridCellTemplate",""],["kendoGridEditTemplate",""],["kendoGridFilterMenuTemplate",""],[4,"ngIf"],[1,"material-symbols-outlined","user-group-icon",3,"click"],[3,"ngModelChange","ngModel"],["kendoTextBox","","type","text",3,"ngModelChange","placeholder","ngModel"],[1,"filter-checkbox-list"],["type","checkbox",3,"change","checked"],[1,"resource-dialog",3,"close","width"],[1,"right-dialog",3,"close","width"],["class","dialog-dat",4,"ngIf"],[1,"dialog-dat"],[1,"non-editable"],[1,"editable"],[3,"title","expanded"],[1,"content"],[3,"ngModelChange","ngModel","rows"],[3,"click","disabled"]],template:function(i,s){1&i&&(e.j41(0,"kendo-grid",0),e.bIt("scrollBottom",function(){return s.loadMore()})("sortChange",function(l){return s.sortChange(l)})("selectionChange",function(l){return s.onSelectionChange(l)})("cellClick",function(l){return s.onCellClick(l)})("dblclick",function(l){return s.onColumnDblClick(l)}),e.DNE(1,_z,1,0,"ng-template",1)(2,vz,1,1,"kendo-grid-checkbox-column",2)(3,wz,5,5,"ng-container",3),e.k0s(),e.DNE(4,Dz,5,2,"kendo-dialog",4)(5,Oz,6,3,"kendo-dialog",5)(6,Mz,2,1,"button",6)),2&i&&(e.Y8G("data",s.gridView)("pageSize",s.pageSize)("skip",s.skip)("sortable",!0)("pageable",s.pageable)("sortable",e.lJ4(20,mz))("scrollable",s.enablescrolling?"virtual":"none")("height",300)("groupable",!1)("reorderable",!0)("resizable",!0)("columnMenu",e.lJ4(21,gz))("selectable",!!s.selectable&&e.lJ4(22,fz))("kendoGridInCellEditing",s.createFormGroup)("navigable",!0),e.R7$(2),e.Y8G("ngIf",s.selectable),e.R7$(),e.Y8G("ngForOf",s.columns),e.R7$(),e.Y8G("ngIf",s.resourceDialogOpen),e.R7$(),e.Y8G("ngIf",s.editDialogOpen),e.R7$(),e.Y8G("ngIf",s.acknowledgeable))},dependencies:[w.MD,w.Sq,w.bT,w.TG,lr,gg,rr,bS,mc,Bu,Xm,hm,re.gl,re.QS,la.d3,Ne.YN,Ne.me,Ne.BC,Ne.vS,vl.mq,vl.Hx,nc],styles:[".iep-grid-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.iep-grid-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .iep-grid-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ccc;padding:8px;text-align:left}.iep-grid-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f5f5f5}kendo-grid[_ngcontent-%COMP%]{width:100%}.filter-checkbox-list[_ngcontent-%COMP%]{max-height:180px;overflow-y:auto;margin-top:8px;margin-bottom:8px;padding-left:4px}.filter-checkbox-list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:13px;margin-bottom:4px;cursor:pointer}.filter-checkbox-list[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:6px}.user-group-icon[_ngcontent-%COMP%]{vertical-align:middle}.dialog-dat[_ngcontent-%COMP%]{display:flex}.non-editable[_ngcontent-%COMP%]{flex:1;margin-right:16px;width:50%}.editable[_ngcontent-%COMP%]{flex:1;width:50%}"]})}}return n})()},8430:(Ts,xi,$)=>{$.d(xi,{WP:()=>Ms,$z:()=>gs,HG:()=>we,My:()=>ys,eh:()=>Ks});const e=y=>null!=y,w=y=>null==y,Ne=y=>Array.isArray(y),qe=y=>"function"==typeof y,Je=y=>"string"==typeof y,Be=y=>!isNaN(y-parseFloat(y)),It=y=>y&&y.getTime,we=y=>e(y.filters),De=(y,K,oe)=>Se=>y(Se)?K(Se):oe(Se),Ae=(...y)=>K=>y.reduceRight((oe,Se)=>Se(oe),K),ct=("",{}),ne=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;ct.undefined=y=>y;const Dt=(y,K)=>{const oe=y+K;if(ct[oe])return ct[oe];const Se=[];return y.replace(ne,(St,mi,di,Hi)=>{Se.push(e(mi)?mi:di||Hi)}),ct[oe]=St=>{let mi=St;for(let di=0;di<Se.length;di++)if(mi=mi[Se[di]],!e(mi)&&K)return mi;return mi},ct[oe]},qi=y=>K=>[y,K],Et=()=>null,xn=y=>K=>e(y(K)),Ji=y=>K=>(y=>e(y)&&Ne(y)&&y.length>0)(y(K)),nn=(y,K)=>De(y,K,Et),on=(y,K)=>oe=>y(oe).map(K).join("~"),Fi=Ae(...[['"',""],[":","-"]].map(([K,oe])=>Se=>Se.replace(new RegExp(K,"g"),oe))),ki=K=>K.slice(0,K.indexOf(".")),sn=({field:y,dir:K="asc"})=>`${y}-${K}`,pe=Dt("take"),Te=Dt("aggregates"),J=Dt("skip"),ae=Dt("group"),re=Dt("sort",!0),W=on(re,sn),qt=on(ae,sn),Oi=on(Te,({field:y,aggregate:K})=>`${y}-${K}`),Ri=Ae(y=>`datetime'${y}'`,ki,Fi,JSON.stringify,y=>new Date(Date.UTC(y.getFullYear(),y.getMonth(),y.getDate(),y.getHours(),y.getMinutes(),y.getSeconds(),y.getMilliseconds()))),At=Ae(qi("page"),({skip:y,take:K})=>Math.floor((y||0)/K)+1),Gt=Ae(qi("pageSize"),pe),Vn=Ae(qi("group"),qt),ts=Ae(qi("sort"),W),zs=Ae(qi("aggregate"),Oi),wt=(nn(xn(J),At),nn(xn(pe),Gt),nn(Ji(ae),Vn),nn(xn(Te),zs),Ae(nn(Ji(re),ts),y=>Object.assign({},y,{sort:(re(y)||[]).filter(({dir:K})=>(y=>!(y=>w(y)||0===y.trim().length)(y))(K))})),({field:y,operator:K,value:oe})=>`${y}~${K}~${oe}`),Kn=(De(y=>It(y.value),Ae(wt,({field:y,value:K,ignoreCase:oe,operator:Se})=>({value:Ri(K),field:y,ignoreCase:oe,operator:Se})),wt),(y,K,oe)=>(K[y]=oe,K)),xs=y=>K=>{const oe=K[y];return e(oe)?oe:K[(y=>y.replace(/(^[A-Z])/g,(K,oe)=>oe.toLowerCase()))(y)]},$n=(xs("Member"),xs("AggregateMethodName"),xs("Value"),y=>K=>Object.keys(K).reduce(y.bind(null,K),{})),Pt=$n((y,K,oe)=>Kn(oe.toLowerCase(),K,y[oe])),us=$n((y,K,oe)=>Kn(oe,K,Pt(y[oe]))),kn=(y,K)=>e(y)?y:K,Vt=Ae(({field:y,hasSubgroups:K,value:oe,aggregates:Se,items:St})=>({aggregates:us(Se),field:y,items:K?St.map(Vt):St,value:oe}),y=>({aggregates:y.Aggregates||y.aggregates,field:y.Member||y.member||y.field,hasSubgroups:y.HasSubgroups||y.hasSubgroups||!1,items:y.Items||y.items,value:kn(y.Key,kn(y.key,y.value))})),Io=(y,K)=>w(y)?y===K?0:-1:w(K)?1:y.localeCompare?y.localeCompare(K):y>K?1:y<K?-1:0,hs=(y,K)=>Io(K,y),ur=y=>{if("function"==typeof y.compare)return y.compare;const K=Dt(y.field,!0);return(oe,Se)=>("asc"===y.dir?Io:hs)(K(oe),K(Se))},uo=(y,K)=>0,ri=(y,K)=>(y.push(K),y),Es=y=>K=>(oe,Se,St)=>K(oe,y(Se,St)),ps=y=>K=>(oe,Se)=>y(Se)?K(oe,Se):oe,Mi=y=>e(y.__value),Os=(y,K,oe)=>{let Se=K;for(let St=0,mi=oe.length;St<mi;St++)if(Se=y(Se,oe[St],St),Mi(Se)){Se=Se.__value;break}return Se},Dr=Es(y=>y),wi=(y,K=[],oe=Dr)=>{const Se={};return K.length?((y={})=>(Object.keys(y).forEach(K=>{const oe=y[K];Object.keys(oe).forEach(Se=>{oe[Se]=oe[Se].result()})}),y))(Os(oe((y=>{const K=y.map(oe=>{const Se=Dt(oe.field,!0),St=(oe.aggregate||"").toLowerCase(),mi=Dt(St,!0);return(di,Hi)=>{const Mn=di[oe.field]||{},Rn=mi(Mn)||(y=>({average:()=>{let K=0,oe=0;return{calc:Se=>{Be(Se)?(K+=Se,oe++):K=Se},result:()=>Be(K)?K/oe:K}},count:()=>{let K=0;return{calc:()=>K++,result:()=>K}},max:()=>{let K=Number.NEGATIVE_INFINITY;return{calc:oe=>{K=Be(K)||It(K)?K:oe,K<oe&&(Be(oe)||It(oe))&&(K=oe)},result:()=>K}},min:()=>{let K=Number.POSITIVE_INFINITY;return{calc:oe=>{K=Be(K)||It(K)?K:oe,K>oe&&(Be(oe)||It(oe))&&(K=oe)},result:()=>K}},sum:()=>{let K=0;return{calc:oe=>{oe=e(oe)?oe:0,K+=oe},result:()=>K}}}[y]()))(St);return Rn.calc(Se(Hi)),Mn[oe.aggregate]=Rn,di[oe.field]=Mn,di}});return(oe,Se)=>K.reduce((St,mi)=>mi(St,Se),oe)})(K)),Se,y)):Se},Js=y=>{y.filters&&(y.filters=y.filters.map(K=>{const oe=Object.assign({},K);return!we(K)&&Je(K.operator)&&(oe.operator=(y=>({"!=":"neq","<":"lt","<=":"lte","==":"eq",">":"gt",">=":"gte",equal:"eq",equals:"eq",equalto:"eq",ge:"gte",greater:"gt",greaterthan:"gt",greaterthanequal:"gte",isempty:"isempty",isequalto:"eq",isgreaterthan:"gt",isgreaterthanorequalto:"gte",islessthan:"lt",islessthanorequalto:"lte",isnotempty:"isnotempty",isnotequalto:"neq",isnull:"isnull",le:"lte",less:"lt",lessthan:"lt",lessthanequal:"lte",ne:"neq",notequal:"neq",notequals:"neq",notequalto:"neq",notsubstringof:"doesnotcontain"}[y.toLowerCase()]||y))(K.operator)),we(K)&&Js(oe),oe}))},yo=y=>(e(y)&&(y=(y=>we(y)?Object.assign({},y):{filters:Ne(y)?y:[y],logic:"and"})(y),Js(y)),y),ms={or:{concat:(y,K)=>oe=>y(oe)||K(oe),identity:()=>!1},and:{concat:(y,K)=>oe=>y(oe)&&K(oe),identity:()=>!0}},vi={contains:(y,K)=>(y||"").indexOf(K)>=0,doesnotcontain:(y,K)=>-1===(y||"").indexOf(K),doesnotendwith:(y,K)=>(y||"").indexOf(K,(y||"").length-(K||"").length)<0,doesnotstartwith:(y,K)=>-1===(y||"").lastIndexOf(K,0),endswith:(y,K)=>(y||"").indexOf(K,(y||"").length-(K||"").length)>=0,eq:(y,K)=>y===K,gt:(y,K)=>y>K,gte:(y,K)=>y>=K,isempty:y=>""===y,isnotempty:y=>""!==y,isnotnull:y=>e(y),isnull:y=>w(y),lt:(y,K)=>y<K,lte:(y,K)=>y<=K,neq:(y,K)=>y!=K,startswith:(y,K)=>0===(y||"").lastIndexOf(K,0)},No=/^\/Date\((.*?)\)\/$/,mr=y=>{const K=ms[y.logic];return y.filters.filter(e).map(oe=>we(oe)?mr(oe):(({field:y,ignoreCase:K,value:oe,operator:Se})=>{y=e(y)?y:di=>di,K=!e(K)||K;const St=((y,K,oe)=>{if(!e(K))return y;let Se=y;if(Je(K)){const St=No.exec(K);St?K=new Date(+St[1]):Se=mi=>{const di=y(mi);if(null===di)return di;const Hi="string"==typeof di?di:di+"";return oe?Hi.toLowerCase():Hi}}return It(K)?St=>{const mi=Se(St);return It(mi)?mi.getTime():mi}:Se})(qe(y)?y:Dt(y,!0),oe,K);oe=((y,K)=>{if(null!=y&&Je(y)){const oe=No.exec(y);if(oe)return new Date(+oe[1]).getTime();if(K)return y.toLowerCase()}else if(null!=y&&It(y))return y.getTime();return y})(oe,K);const mi=qe(Se)?Se:vi[Se];return di=>mi(St(di),oe,K)})(oe)).reduce(K.concat,K.identity)},go=y=>y&&0!==y.filters.length?mr(y):()=>!0,Ms=(y,K)=>!e(K)||we(K)&&0===K.filters.length?y:y.filter(go(yo(K))),fo=y=>(y=Ne(y)?y:[y]).map(K=>Object.assign({dir:"asc"},K)),an=Es(y=>y),gs=(y,K=[],oe=an,Se=y)=>{if(!(K=fo(K)).length)return y;const St=K[0],di=Os(oe((y=>{const K=Dt(y,!0);let oe=0;return(Se,St)=>{Se[y]=Se[y]||{};const mi=K(St),di=(y=>(y=e(y)&&y.getTime?y.getTime():y)+"")(mi),Hi=Se[y][di]||{__position:oe++,aggregates:{},items:[],value:mi};return Hi.items.push(St),Se[y][di]=Hi,Se}})(St.field)),{},y),Hi=[];return Object.keys(di).forEach(Mn=>{Object.keys(di[Mn]).forEach(Rn=>{const yn=di[Mn][Rn];let wn={},ln=Se;e(St.aggregates)&&(ln=Ms(Se,{field:St.field,ignoreCase:!1,operator:"eq",value:yn.value}),wn=wi(ln,St.aggregates)),Hi[yn.__position]={aggregates:wn,field:Mn,items:K.length>1?gs(yn.items,K.slice(1),an,ln):yn.items,value:yn.value}})}),Hi},ys=(y,K)=>{if(K.some(oe=>e(oe.dir)||e(oe.compare))){y=y.slice(0);const oe=(y=>y.filter(K=>e(K.dir)||e(K.compare)).map(K=>ur(K)).reduce((K,oe)=>(Se,St)=>K(Se,St)||oe(Se,St),uo))(K);y.sort(oe)}return y},Qs=(y,K)=>K?y.filter(K):y,Ks=(y,K)=>{const{skip:oe,take:Se,filter:St,sort:mi,group:di}=K,Hi=[...fo(di||[]),...mi||[]];Hi.length&&(y=ys(y,Hi));const Mn=e(St)&&ps.length,Rn=e(di)&&di.length;if(!Mn&&!Rn)return{data:Se?y.slice(oe,oe+Se):y,total:y.length};let yn;const wn=[];let ln;if(Mn?(ln=go(yo(St)),yn=((y,K)=>{let oe=0;for(let Se=0,St=y.length;Se<St;Se++)K(y[Se])&&oe++;return oe})(y,ln),wn.push(ps(ln))):yn=y.length,e(oe)&&e(Se)&&(wn.push((y=>K=>(oe,Se)=>y--<=0?K(oe,Se):oe)(oe)),wn.push((y=>K=>(oe,Se)=>y-- >0?K(oe,Se):(y=>Mi(y)?y:{__value:y,reduced:!0})(oe))(Se))),wn.length){const fs=Ae(...wn);return{data:Rn?gs(y,di,fs,Qs(y,ln)):Os(fs(ri),[],y),total:yn}}return{data:Rn?gs(y,di):y,total:yn}}},2907:(Ts,xi,$)=>{$.d(xi,{A:()=>Be});var e=$(8304),w=$(4305),Ne=$(7577),qe=$(726),Je=$(9674),me=$(3500);const xe=Math.PI/2;class Ve extends((0,e.A)(Je.A,["radius"])){constructor(we=new w.A,De=0){super(),this.setCenter(we),this.setRadius(De)}setCenter(we){return this._observerField("center",w.A.create(we)),this.geometryChange(),this}getCenter(){return this.center}equals(we){return we&&we.center.equals(this.center)&&we.radius===this.radius}clone(){return new Ve(this.center.clone(),this.radius)}pointAt(we){return this._pointAt((0,me.A)(we))}bbox(we){const De=(0,qe.A)(this.center,this.radius,this.radius,we);let Ae=w.A.maxPoint(),Pe=w.A.minPoint();for(let Ze=0;Ze<4;Ze++){let He=this._pointAt(De.x+Ze*xe).transformCopy(we),Ei=this._pointAt(De.y+Ze*xe).transformCopy(we),Ot=new w.A(He.x,Ei.y);Ae=w.A.min(Ae,Ot),Pe=w.A.max(Pe,Ot)}return Ne.A.fromPoints(Ae,Pe)}_pointAt(we){const{center:De,radius:Ae}=this;return new w.A(De.x+Ae*Math.cos(we),De.y+Ae*Math.sin(we))}containsPoint(we){const{center:De,radius:Ae}=this;return Math.pow(we.x-De.x,2)+Math.pow(we.y-De.y,2)<=Math.pow(Ae,2)}_isOnPath(we,De){const{center:Ae,radius:Pe}=this,Ze=Ae.distanceTo(we);return Pe-De<=Ze&&Ze<=Pe+De}}const Be=Ve},6702:(Ts,xi,$)=>{$.d(xi,{AU:()=>Wt,bT:()=>He,ls:()=>E,rO:()=>Ei,t7:()=>Ot,zJ:()=>Pe});var e=$(626),w=$(7577),Ne=$(2907),qe=$(4391),Je=$(8309),me=$(3039),xe=$(2542),Ve=$(3158),Be=$(5169);const It="#aba4a6",we={width:2,gap:18},De={radius:10,gap:10},Ae={size:18,gap:2};class Pe extends xe.A{get nodeType(){return Be.XF}constructor(ct){super();const{width:ne,height:Dt}=ct;this._size=e.A.create([ne,Dt]),this.id=(0,Ve.A)()}size(ct){return ct?(this._size=e.A.create(ct),this):this._size}}const Ze=(Yt,ct,ne)=>{ct&&Yt.append(new qe.A(new w.A([0,0],ne),{fill:{color:ct},stroke:null}))};function He(Yt={}){const{gap:ct=De.gap,radius:ne=De.radius,color:Dt=It,background:st}=Yt,tt={fill:{color:Dt},stroke:null},We=4*ne+2*ct,ii=3*ne+1.5*ct,zi=[We/2,ne+.5*ct],Ui=[0,ii],Bt=[We,ii],Tt=new Pe({width:We,height:We});return Ze(Tt,st,[We,We]),Tt.append(new Je.A(new Ne.A(zi,ne),tt),new Je.A(new Ne.A(Ui,ne),tt),new Je.A(new Ne.A(Bt,ne),tt)),Tt}function Ei(Yt={}){const{gap:ct=we.gap,width:ne=we.width,color:Dt=It,background:st}=Yt,tt=ne+ct,We={fill:null,stroke:{color:Dt,width:ne/2}},ii=new Pe({width:tt,height:tt});Ze(ii,st,[tt,tt]);const zi=ne/4,Ui=tt-ne/4,Bt=new me.w(We);Bt.moveTo(zi,0).lineTo(zi,tt);const Tt=new me.w(We);return Tt.moveTo(Ui,0).lineTo(Ui,tt),ii.append(Bt,Tt),ii}function Ot(Yt={}){const{gap:ct=we.gap,width:ne=we.width,color:Dt=It,background:st}=Yt,tt=Math.sqrt(2)*(ne+ct),We={fill:null,stroke:{color:Dt,width:ne}},ii=new Pe({width:tt,height:tt});Ze(ii,st,[tt,tt]);const zi=new me.w(We);zi.moveTo(0,0).lineTo(tt,tt);const Ui=new me.w(We);return Ui.moveTo(tt,0).lineTo(0,tt),ii.append(zi,Ui),ii}function Wt(Yt={}){const{gap:ct=we.gap,width:ne=we.width,color:Dt=It,background:st}=Yt,tt=Math.sqrt(2)*(ne+ct),We={fill:null,stroke:{color:Dt,width:ne,lineCap:"square"}},ii=new Pe({width:tt,height:tt});Ze(ii,st,[tt,tt]);const zi=new me.w(We);zi.moveTo(0,tt/2).lineTo(tt/2,0);const Ui=new me.w(We);return Ui.moveTo(tt/2,tt).lineTo(tt,tt/2),ii.append(zi,Ui),ii}function E(Yt={}){const{gap:ct=Ae.gap,size:ne=Ae.size,color:Dt=It,background:st}=Yt,tt=ne+ct,We=ct/2,ii={fill:{color:Dt},stroke:null},zi=new Pe({width:tt,height:tt});Ze(zi,st,[tt,tt]);const Ui=new qe.A(new w.A([We,We],[ne,ne]),ii);return zi.append(Ui),zi}},8309:(Ts,xi,$)=>{$.d(xi,{A:()=>Be});var e=$(2907),w=$(7233),Ne=$(3199),qe=$(3970),Je=$(3461),me=$(178);class Ve extends((0,w.A)((0,Ne.A)((0,qe.A)(Je.A)))){get nodeType(){return"Circle"}constructor(we=new e.A,De={}){super(De),this.geometry(we),(0,me.A)(this.options.stroke)||this.stroke("#000")}rawBBox(){return this._geometry.bbox()}_bbox(we){return this._geometry.bbox(we)}_containsPoint(we){return this.geometry().containsPoint(we)}_isOnPath(we){return this.geometry()._isOnPath(we,this.options.stroke.width/2)}}const Be=Ve},4391:(Ts,xi,$)=>{$.d(xi,{A:()=>Ve});var e=$(3970),w=$(3461),Ne=$(7233),qe=$(3199),Je=$(7577),me=$(178);class xe extends((0,Ne.A)((0,qe.A)((0,e.A)(w.A)))){get nodeType(){return"Rect"}constructor(It=new Je.A,we={}){super(we),this.geometry(It),(0,me.A)(this.options.stroke)||this.stroke("#000")}_bbox(It){return this._geometry.bbox(It)}rawBBox(){return this._geometry.bbox()}_containsPoint(It){return this._geometry.containsPoint(It)}_isOnPath(It){return this.geometry()._isOnPath(It,this.options.stroke.width/2)}}const Ve=xe},786:(Ts,xi,$)=>{$.d(xi,{A:()=>De});var e=$(3461),w=$(4305),Ne=$(7577),qe=$(2614),Je=$(7233),me=$(2689),xe=$(178),Ve=$(2821);class we extends((0,Je.A)((0,me.A)(e.A,["position"]))){get nodeType(){return"Text"}constructor(Pe,Ze=new w.A,He={}){super(He),this.content(Pe),this.position(Ze),this.options.font||(this.options.font="12px sans-serif"),(0,xe.A)(this.options.fill)||this.fill("#000")}content(Pe){return(0,xe.A)(Pe)?(this.options.set("content",Pe),this):this.options.get("content")}measure(){return(0,Ve.A)(this.content(),{font:this.options.get("font")})}rect(){const Pe=this.measure(),Ze=this.position().clone();return new Ne.A(Ze,[Pe.width,Pe.height])}bbox(Pe){const Ze=(0,qe.A)(this.currentTransform(Pe));return this.rect().bbox(Ze)}rawBBox(){return this.rect().bbox()}_containsPoint(Pe){return this.rect().containsPoint(Pe)}}const De=we},2821:(Ts,xi,$)=>{$.d(xi,{A:()=>It});var e=$(5678);const Ne=class w extends e.A{constructor(De){super(),this._size=De,this._length=0,this._map={}}put(De,Ae){const Pe=this._map,Ze={key:De,value:Ae};Pe[De]=Ze,this._head?(this._tail.newer=Ze,Ze.older=this._tail,this._tail=Ze):this._head=this._tail=Ze,this._length>=this._size?(Pe[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++}get(De){const Ae=this._map[De];if(Ae)return Ae===this._head&&Ae!==this._tail&&(this._head=Ae.newer,this._head.older=null),Ae!==this._tail&&(Ae.older&&(Ae.older.newer=Ae.newer,Ae.newer.older=Ae.older),Ae.older=this._tail,Ae.newer=null,this._tail.newer=Ae,this._tail=Ae),Ae.value}};var qe=$(7314);const me={baselineMarkerSize:1};let xe;typeof document<"u"&&(xe=document.createElement("div"),xe.style.setProperty("position","absolute","important"),xe.style.setProperty("top","-4000px","important"),xe.style.setProperty("width","auto","important"),xe.style.setProperty("height","auto","important"),xe.style.setProperty("padding","0","important"),xe.style.setProperty("margin","0","important"),xe.style.setProperty("border","0","important"),xe.style.setProperty("line-height","normal","important"),xe.style.setProperty("visibility","hidden","important"),xe.style.setProperty("white-space","pre","important"));class Ve extends e.A{constructor(De){super(),this._cache=new Ne(1e3),this.options=Object.assign({},me,De)}measure(De,Ae,Pe={}){if(typeof De>"u"||null===De)return{width:0,height:0,baseline:0};const Ze=(0,qe.T5)(Ae),He=(0,qe.EN)(De+Ze),Ei=this._cache.get(He);if(Ei)return Ei;const Ot={width:0,height:0,baseline:0},Wt=Pe.box||xe,E=this._baselineMarker().cloneNode(!1);for(let ct in Ae){let ne=Ae[ct];typeof ne<"u"&&(Wt.style[ct]=ne)}const Yt=!1!==Pe.normalizeText?(0,qe.fQ)(De):String(De);return Wt.textContent=Yt,Wt.appendChild(E),document.body.appendChild(Wt),Yt.length&&(Ot.width=Wt.offsetWidth-this.options.baselineMarkerSize,Ot.height=Wt.offsetHeight,Ot.baseline=E.offsetTop+this.options.baselineMarkerSize),Ot.width>0&&Ot.height>0&&this._cache.put(He,Ot),Wt.parentNode.removeChild(Wt),Ot}_baselineMarker(){const De=document.createElement("div");return De.style.display="inline-block",De.style.verticalAlign="baseline",De.style.width=this.options.baselineMarkerSize+"px",De.style.height=this.options.baselineMarkerSize+"px",De.style.overflow="hidden",De}}Ve.current=new Ve;const Be=Ve;function It(we,De,Ae){return Be.current.measure(we,De,Ae)}},7793:(Ts,xi,$)=>{$.d(xi,{A:()=>Ne});var e=$(9021);const w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ne(qe){let Je="",me=0;const xe=(0,e.YH)(qe);for(;me<xe.length;){let Ve=xe.charCodeAt(me++),Be=xe.charCodeAt(me++),It=xe.charCodeAt(me++),we=Ve>>2,De=(3&Ve)<<4|Be>>4,Ae=(15&Be)<<2|It>>6,Pe=63&It;isNaN(Be)?Ae=Pe=64:isNaN(It)&&(Pe=64),Je=Je+w.charAt(we)+w.charAt(De)+w.charAt(Ae)+w.charAt(Pe)}return Je}},9021:(Ts,xi,$)=>{$.d(xi,{CH:()=>Je,YH:()=>Ne,bh:()=>w});const e=String.fromCharCode,w="\xfe\xff";function Ne(me){let xe="";for(let Ve=0;Ve<me.length;Ve++){let Be=me.charCodeAt(Ve);if(55296<=Be&&Be<=56319){const It=Be,we=me.charCodeAt(++Ve);isNaN(we)||(Be=1024*(It-55296)+(we-56320)+65536)}Be<128?xe+=e(Be):Be<2048?(xe+=e(192|Be>>>6),xe+=e(128|63&Be)):Be<65536?(xe+=e(224|Be>>>12),xe+=e(128|Be>>>6&63),xe+=e(128|63&Be)):Be<1114111&&(xe+=e(240|Be>>>18),xe+=e(128|Be>>>12&63),xe+=e(128|Be>>>6&63),xe+=e(128|63&Be))}return xe}function qe(me){return e(me>>8)+e(255&me)}function Je(me){let xe="";for(let Ve=0;Ve<me.length;Ve++){const Be=me.charCodeAt(Ve);if(Be<65535)xe+=qe(Be);else{const we=56320+(Be-65536&1023);xe+=qe(55296+(Be-65536>>10)),xe+=qe(we)}}return xe}},9257:(Ts,xi,$)=>{function e(we,De,Ae={}){let Pe=me;if(Ae.forceProxy&&!Ae.proxyURL)throw new Error("No proxyURL is set, but forceProxy is true");Ae.forceProxy||(Ne()&&(Pe=Je),navigator.msSaveBlob&&(Pe=qe)),Pe(we,De,Ae)}$.d(xi,{U:()=>e});const w=()=>document.createElement("a"),Ne=()=>"download"in w();function qe(we,De){let Ae=we;if("string"==typeof we){const Pe=we.split(";base64,"),Ze=Pe[0],He=atob(Pe[1]),Ei=new Uint8Array(He.length);for(let Ot=0;Ot<He.length;Ot++)Ei[Ot]=He.charCodeAt(Ot);Ae=new Blob([Ei.buffer],{type:Ze})}navigator.msSaveBlob(Ae,De)}function Je(we,De){let Ae=we;window.Blob&&we instanceof Blob&&(Ae=URL.createObjectURL(we));const Pe=w();Pe.download=De,Pe.href=Ae;const Ze=document.createEvent("MouseEvents");Ze.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),Pe.dispatchEvent(Ze),setTimeout(()=>URL.revokeObjectURL(Ae))}function me(we,De,Ae){if(!Ae.proxyURL)return;const Pe=document.createElement("form");Pe.setAttribute("action",Ae.proxyURL),Pe.setAttribute("method","POST"),Pe.setAttribute("target",Ae.proxyTarget||"_self");const Ze=Ae.proxyData||{};Ze.fileName=De;const He=we.split(";base64,");Ze.contentType=He[0].replace("data:",""),Ze.base64=He[1];for(let Ei in Ze)if(Ze.hasOwnProperty(Ei)){const Ot=document.createElement("input");Ot.setAttribute("type","hidden"),Ot.setAttribute("name",Ei),Ot.setAttribute("value",Ze[Ei]),Pe.appendChild(Ot)}document.body.appendChild(Pe),Pe.submit(),document.body.removeChild(Pe)}},6965:(Ts,xi,$)=>{$.d(xi,{EL:()=>ys,Gy:()=>Ua,Kc:()=>cl});var ct=4,Dt=0,st=1,tt=2;function ii(h,M){return Object.prototype.hasOwnProperty.call(h,M)}function zi(h){for(var M=Array.prototype.slice.call(arguments,1);M.length;){var S=M.shift();if(S){if("object"!=typeof S)throw new TypeError(S+"must be non-object");for(var _ in S)ii(S,_)&&(h[_]=S[_])}}return h}function Ui(h,M){return h.length===M?h:h.subarray?h.subarray(0,M):(h.length=M,h)}var Bt={arraySet:function(h,M,S,_,X){if(M.subarray&&h.subarray)h.set(M.subarray(S,S+_),X);else for(var j=0;j<_;j++)h[X+j]=M[S+j]},flattenChunks:function(h){var M,S,_,X,j,ce;for(_=0,M=0,S=h.length;M<S;M++)_+=h[M].length;for(ce=new Uint8Array(_),X=0,M=0,S=h.length;M<S;M++)ce.set(j=h[M],X),X+=j.length;return ce},Buf8:function(h){return new Uint8Array(h)},Buf16:function(h){return new Uint16Array(h)},Buf32:function(h){return new Int32Array(h)}},Tt={arraySet:function(h,M,S,_,X){for(var j=0;j<_;j++)h[X+j]=M[S+j]},flattenChunks:function(h){return[].concat.apply([],h)},Buf8:function(h){return new Array(h)},Buf16:function(h){return new Array(h)},Buf32:function(h){return new Array(h)}};let tn=()=>{const h=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";return tn=()=>h,h},Yi=(h,M,S,_,X)=>(Yi=tn()?Bt.arraySet:Tt.arraySet,Yi(h,M,S,_,X)),ls=h=>(ls=tn()?Bt.flattenChunks:Tt.flattenChunks,ls(h)),qi=h=>(qi=tn()?Bt.Buf8:Tt.Buf8,qi(h)),Et=h=>(Et=tn()?Bt.Buf16:Tt.Buf16,Et(h)),es=h=>(es=tn()?Bt.Buf32:Tt.Buf32,es(h)),xn=function(){let h=!0;try{String.fromCharCode.apply(null,[0])}catch{h=!1}return xn=()=>h,h},Ji=function(){let h=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}return Ji=()=>h,h},nn=function(h){for(var M=qi(256),S=0;S<256;S++)M[S]=S>=252?6:S>=248?5:S>=240?4:S>=224?3:S>=192?2:1;return M[254]=M[254]=1,nn=_=>M[_],M[h]};function Cn(h){var M,S,_,X,j,ce=h.length,ie=0;for(X=0;X<ce;X++)55296==(64512&(S=h.charCodeAt(X)))&&X+1<ce&&56320==(64512&(_=h.charCodeAt(X+1)))&&(S=65536+(S-55296<<10)+(_-56320),X++),ie+=S<128?1:S<2048?2:S<65536?3:4;for(M=new Uint8Array(ie),j=0,X=0;j<ie;X++)55296==(64512&(S=h.charCodeAt(X)))&&X+1<ce&&56320==(64512&(_=h.charCodeAt(X+1)))&&(S=65536+(S-55296<<10)+(_-56320),X++),S<128?M[j++]=S:S<2048?(M[j++]=192|S>>>6,M[j++]=128|63&S):S<65536?(M[j++]=224|S>>>12,M[j++]=128|S>>>6&63,M[j++]=128|63&S):(M[j++]=240|S>>>18,M[j++]=128|S>>>12&63,M[j++]=128|S>>>6&63,M[j++]=128|63&S);return M}function on(h,M){if(M<65534&&(h.subarray&&Ji()||!h.subarray&&xn()))return String.fromCharCode.apply(null,Ui(h,M));for(var S="",_=0;_<M;_++)S+=String.fromCharCode(h[_]);return S}function Fi(h,M){var S,_,X,j,ce=M||h.length,ie=new Array(2*ce);for(_=0,S=0;S<ce;)if((X=h[S++])<128)ie[_++]=X;else if((j=nn(X))>4)ie[_++]=65533,S+=j-1;else{for(X&=2===j?31:3===j?15:7;j>1&&S<ce;)X=X<<6|63&h[S++],j--;j>1?ie[_++]=65533:X<65536?ie[_++]=X:(ie[_++]=55296|(X-=65536)>>10&1023,ie[_++]=56320|1023&X)}return on(ie,_)}function ki(h,M){var S;for((M=M||h.length)>h.length&&(M=h.length),S=M-1;S>=0&&128==(192&h[S]);)S--;return S<0||0===S?M:S+nn(h[S])>M?S:M}function sn(h,M,S,_){for(var X=65535&h,j=h>>>16&65535,ce=0;0!==S;){S-=ce=S>2e3?2e3:S;do{j=j+(X=X+M[_++]|0)|0}while(--ce);X%=65521,j%=65521}return X|j<<16}let pe=function(){const h=function Bi(){for(var h,M=[],S=0;S<256;S++){h=S;for(var _=0;_<8;_++)h=1&h?3988292384^h>>>1:h>>>1;M[S]=h}return M}();return pe=()=>h,h};function Te(h,M,S,_){var X=pe(),j=_+S;h^=-1;for(var ce=_;ce<j;ce++)h=h>>>8^X[255&(h^M[ce])];return~h}var J=30,ae=12;function re(h,M){var S,_,X,j,ce,ie,ht,te,ue,Si,at,Fe,Lt,ye,yi,ai,Vi,bi,pt,Pi,Zi,Mt,en,$i,ni;$i=h.input,X=(_=h.next_in)+(h.avail_in-5),ni=h.output,ce=(j=h.next_out)-(M-h.avail_out),ie=j+(h.avail_out-257),ht=(S=h.state).dmax,te=S.wsize,ue=S.whave,Si=S.wnext,at=S.window,Fe=S.hold,Lt=S.bits,ye=S.lencode,yi=S.distcode,ai=(1<<S.lenbits)-1,Vi=(1<<S.distbits)-1;e:do{Lt<15&&(Fe+=$i[_++]<<Lt,Fe+=$i[_++]<<(Lt+=8),Lt+=8),bi=ye[Fe&ai];t:for(;;){if(Fe>>>=pt=bi>>>24,Lt-=pt,0==(pt=bi>>>16&255))ni[j++]=65535&bi;else{if(!(16&pt)){if(64&pt){if(32&pt){S.mode=ae;break e}h.msg="invalid literal/length code",S.mode=J;break e}bi=ye[(65535&bi)+(Fe&(1<<pt)-1)];continue t}for(Pi=65535&bi,(pt&=15)&&(Lt<pt&&(Fe+=$i[_++]<<Lt,Lt+=8),Pi+=Fe&(1<<pt)-1,Fe>>>=pt,Lt-=pt),Lt<15&&(Fe+=$i[_++]<<Lt,Fe+=$i[_++]<<(Lt+=8),Lt+=8),bi=yi[Fe&Vi];;){if(Fe>>>=pt=bi>>>24,Lt-=pt,16&(pt=bi>>>16&255)){if(Zi=65535&bi,Lt<(pt&=15)&&(Fe+=$i[_++]<<Lt,(Lt+=8)<pt&&(Fe+=$i[_++]<<Lt,Lt+=8)),(Zi+=Fe&(1<<pt)-1)>ht){h.msg="invalid distance too far back",S.mode=J;break e}if(Fe>>>=pt,Lt-=pt,Zi>(pt=j-ce)){if((pt=Zi-pt)>ue&&S.sane){h.msg="invalid distance too far back",S.mode=J;break e}if(Mt=0,en=at,0===Si){if(Mt+=te-pt,pt<Pi){Pi-=pt;do{ni[j++]=at[Mt++]}while(--pt);Mt=j-Zi,en=ni}}else if(Si<pt){if(Mt+=te+Si-pt,(pt-=Si)<Pi){Pi-=pt;do{ni[j++]=at[Mt++]}while(--pt);if(Mt=0,Si<Pi){Pi-=pt=Si;do{ni[j++]=at[Mt++]}while(--pt);Mt=j-Zi,en=ni}}}else if(Mt+=Si-pt,pt<Pi){Pi-=pt;do{ni[j++]=at[Mt++]}while(--pt);Mt=j-Zi,en=ni}for(;Pi>2;)ni[j++]=en[Mt++],ni[j++]=en[Mt++],ni[j++]=en[Mt++],Pi-=3;Pi&&(ni[j++]=en[Mt++],Pi>1&&(ni[j++]=en[Mt++]))}else{Mt=j-Zi;do{ni[j++]=ni[Mt++],ni[j++]=ni[Mt++],ni[j++]=ni[Mt++],Pi-=3}while(Pi>2);Pi&&(ni[j++]=ni[Mt++],Pi>1&&(ni[j++]=ni[Mt++]))}break}if(64&pt){h.msg="invalid distance code",S.mode=J;break e}bi=yi[(65535&bi)+(Fe&(1<<pt)-1)]}}break}}while(_<X&&j<ie);Fe&=(1<<(Lt-=(Pi=Lt>>3)<<3))-1,h.next_in=_-=Pi,h.next_out=j,h.avail_in=_<X?X-_+5:5-(_-X),h.avail_out=j<ie?ie-j+257:257-(j-ie),S.hold=Fe,S.bits=Lt}var W=15,qt=852,Oi=592,pi=0,Ri=1,ei=2,li=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],At=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Gt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Vn=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function ts(h,M,S,_,X,j,ce,ie){var bi,pt,Pi,Zi,Mt,ni,Ti,dn,Dn,ht=ie.bits,te=0,ue=0,Si=0,at=0,Fe=0,Lt=0,ye=0,yi=0,ai=0,Vi=0,en=null,$i=0,_n=Et(W+1),Zo=Et(W+1),Gr=null,er=0;for(te=0;te<=W;te++)_n[te]=0;for(ue=0;ue<_;ue++)_n[M[S+ue]]++;for(Fe=ht,at=W;at>=1&&0===_n[at];at--);if(Fe>at&&(Fe=at),0===at)return X[j++]=20971520,X[j++]=20971520,ie.bits=1,0;for(Si=1;Si<at&&0===_n[Si];Si++);for(Fe<Si&&(Fe=Si),yi=1,te=1;te<=W;te++)if(yi<<=1,(yi-=_n[te])<0)return-1;if(yi>0&&(h===pi||1!==at))return-1;for(Zo[1]=0,te=1;te<W;te++)Zo[te+1]=Zo[te]+_n[te];for(ue=0;ue<_;ue++)0!==M[S+ue]&&(ce[Zo[M[S+ue]]++]=ue);if(h===pi?(en=Gr=ce,ni=19):h===Ri?(en=li,$i-=257,Gr=At,er-=257,ni=256):(en=Gt,Gr=Vn,ni=-1),Vi=0,ue=0,te=Si,Mt=j,Lt=Fe,ye=0,Pi=-1,Zi=(ai=1<<Fe)-1,h===Ri&&ai>qt||h===ei&&ai>Oi)return 1;for(;;){Ti=te-ye,ce[ue]<ni?(dn=0,Dn=ce[ue]):ce[ue]>ni?(dn=Gr[er+ce[ue]],Dn=en[$i+ce[ue]]):(dn=96,Dn=0),bi=1<<te-ye,Si=pt=1<<Lt;do{X[Mt+(Vi>>ye)+(pt-=bi)]=Ti<<24|dn<<16|Dn}while(0!==pt);for(bi=1<<te-1;Vi&bi;)bi>>=1;if(0!==bi?(Vi&=bi-1,Vi+=bi):Vi=0,ue++,0==--_n[te]){if(te===at)break;te=M[S+ce[ue]]}if(te>Fe&&(Vi&Zi)!==Pi){for(0===ye&&(ye=Fe),Mt+=Si,yi=1<<(Lt=te-ye);Lt+ye<at&&!((yi-=_n[Lt+ye])<=0);)Lt++,yi<<=1;if(ai+=1<<Lt,h===Ri&&ai>qt||h===ei&&ai>Oi)return 1;X[Pi=Vi&Zi]=Fe<<24|Lt<<16|Mt-j}}return 0!==Vi&&(X[Mt+Vi]=te-ye<<24|64<<16),ie.bits=Fe,0}var se=1,vt=2,Z=0,Qt=-2,zn=1,pr=852,Oo=592;function Os(h){return(h>>>24&255)+(h>>>8&65280)+((65280&h)<<8)+((255&h)<<24)}function Dr(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=Et(320),this.work=Et(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ns(h,M){var S,_;return h?(_=new Dr,h.state=_,_.window=null,S=function Js(h,M){var S,_;return!h||!h.state||(_=h.state,M<0?(S=0,M=-M):(S=1+(M>>4),M<48&&(M&=15)),M&&(M<8||M>15))?Qt:(null!==_.window&&_.wbits!==M&&(_.window=null),_.wrap=S,_.wbits=M,function Mo(h){var M;return h&&h.state?((M=h.state).wsize=0,M.whave=0,M.wnext=0,function wi(h){var M;return h&&h.state?(h.total_in=h.total_out=(M=h.state).total=0,h.msg="",M.wrap&&(h.adler=1&M.wrap),M.mode=zn,M.last=0,M.havedict=0,M.dmax=32768,M.head=null,M.hold=0,M.bits=0,M.lencode=M.lendyn=es(pr),M.distcode=M.distdyn=es(Oo),M.sane=1,M.back=-1,Z):Qt}(h)):Qt}(h))}(h,M),S!==Z&&(h.state=null),S):Qt}var ms,vi,yo=!0;function No(h){if(yo){var M;for(ms=es(512),vi=es(32),M=0;M<144;)h.lens[M++]=8;for(;M<256;)h.lens[M++]=9;for(;M<280;)h.lens[M++]=7;for(;M<288;)h.lens[M++]=8;for(ts(se,h.lens,0,288,ms,0,h.work,{bits:9}),M=0;M<32;)h.lens[M++]=5;ts(vt,h.lens,0,32,vi,0,h.work,{bits:5}),yo=!1}h.lencode=ms,h.lenbits=9,h.distcode=vi,h.distbits=5}function Xo(h,M,S,_){var X,j=h.state;return null===j.window&&(j.wsize=1<<j.wbits,j.wnext=0,j.whave=0,j.window=qi(j.wsize)),_>=j.wsize?(Yi(j.window,M,S-j.wsize,j.wsize,0),j.wnext=0,j.whave=j.wsize):((X=j.wsize-j.wnext)>_&&(X=_),Yi(j.window,M,S-_,X,j.wnext),(_-=X)?(Yi(j.window,M,S-_,_,0),j.wnext=_,j.whave=j.wsize):(j.wnext+=X,j.wnext===j.wsize&&(j.wnext=0),j.whave<j.wsize&&(j.whave+=X))),0}function Tr(h,M){var S,_,X,j,ce,ie,ht,te,ue,Si,at,Fe,Lt,ye,ai,Vi,bi,pt,Pi,Zi,Mt,en,ni,_n,yi=0,$i=qi(4),Zo=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!h||!h.state||!h.output||!h.input&&0!==h.avail_in)return Qt;12===(S=h.state).mode&&(S.mode=13),ce=h.next_out,X=h.output,j=h.next_in,_=h.input,te=S.hold,ue=S.bits,Si=ie=h.avail_in,at=ht=h.avail_out,en=Z;e:for(;;)switch(S.mode){case zn:if(0===S.wrap){S.mode=13;break}for(;ue<16;){if(0===ie)break e;ie--,te+=_[j++]<<ue,ue+=8}if(2&S.wrap&&35615===te){S.check=0,$i[0]=255&te,$i[1]=te>>>8&255,S.check=Te(S.check,$i,2,0),te=0,ue=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&te)<<8)+(te>>8))%31){h.msg="incorrect header check",S.mode=30;break}if(8!=(15&te)){h.msg="unknown compression method",S.mode=30;break}if(ue-=4,Mt=8+(15&(te>>>=4)),0===S.wbits)S.wbits=Mt;else if(Mt>S.wbits){h.msg="invalid window size",S.mode=30;break}S.dmax=1<<Mt,h.adler=S.check=1,S.mode=512&te?10:12,te=0,ue=0;break;case 2:for(;ue<16;){if(0===ie)break e;ie--,te+=_[j++]<<ue,ue+=8}if(S.flags=te,8!=(255&S.flags)){h.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){h.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=te>>8&1),512&S.flags&&($i[0]=255&te,$i[1]=te>>>8&255,S.check=Te(S.check,$i,2,0)),te=0,ue=0,S.mode=3;case 3:for(;ue<32;){if(0===ie)break e;ie--,te+=_[j++]<<ue,ue+=8}S.head&&(S.head.time=te),512&S.flags&&($i[0]=255&te,$i[1]=te>>>8&255,$i[2]=te>>>16&255,$i[3]=te>>>24&255,S.check=Te(S.check,$i,4,0)),te=0,ue=0,S.mode=4;case 4:for(;ue<16;){if(0===ie)break e;ie--,te+=_[j++]<<ue,ue+=8}S.head&&(S.head.xflags=255&te,S.head.os=te>>8),512&S.flags&&($i[0]=255&te,$i[1]=te>>>8&255,S.check=Te(S.check,$i,2,0)),te=0,ue=0,S.mode=5;case 5:if(1024&S.flags){for(;ue<16;){if(0===ie)break e;ie--,te+=_[j++]<<ue,ue+=8}S.length=te,S.head&&(S.head.extra_len=te),512&S.flags&&($i[0]=255&te,$i[1]=te>>>8&255,S.check=Te(S.check,$i,2,0)),te=0,ue=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&((Fe=S.length)>ie&&(Fe=ie),Fe&&(S.head&&(Mt=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),Yi(S.head.extra,_,j,Fe,Mt)),512&S.flags&&(S.check=Te(S.check,_,Fe,j)),ie-=Fe,j+=Fe,S.length-=Fe),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(0===ie)break e;Fe=0;do{Mt=_[j+Fe++],S.head&&Mt&&S.length<65536&&(S.head.name+=String.fromCharCode(Mt))}while(Mt&&Fe<ie);if(512&S.flags&&(S.check=Te(S.check,_,Fe,j)),ie-=Fe,j+=Fe,Mt)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(0===ie)break e;Fe=0;do{Mt=_[j+Fe++],S.head&&Mt&&S.length<65536&&(S.head.comment+=String.fromCharCode(Mt))}while(Mt&&Fe<ie);if(512&S.flags&&(S.check=Te(S.check,_,Fe,j)),ie-=Fe,j+=Fe,Mt)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;ue<16;){if(0===ie)break e;ie--,te+=_[j++]<<ue,ue+=8}if(te!==(65535&S.check)){h.msg="header crc mismatch",S.mode=30;break}te=0,ue=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),h.adler=S.check=0,S.mode=12;break;case 10:for(;ue<32;){if(0===ie)break e;ie--,te+=_[j++]<<ue,ue+=8}h.adler=S.check=Os(te),te=0,ue=0,S.mode=11;case 11:if(0===S.havedict)return h.next_out=ce,h.avail_out=ht,h.next_in=j,h.avail_in=ie,S.hold=te,S.bits=ue,2;h.adler=S.check=1,S.mode=12;case 12:if(5===M||6===M)break e;case 13:if(S.last){te>>>=7&ue,ue-=7&ue,S.mode=27;break}for(;ue<3;){if(0===ie)break e;ie--,te+=_[j++]<<ue,ue+=8}switch(S.last=1&te,ue-=1,3&(te>>>=1)){case 0:S.mode=14;break;case 1:if(No(S),S.mode=20,6===M){te>>>=2,ue-=2;break e}break;case 2:S.mode=17;break;case 3:h.msg="invalid block type",S.mode=30}te>>>=2,ue-=2;break;case 14:for(te>>>=7&ue,ue-=7&ue;ue<32;){if(0===ie)break e;ie--,te+=_[j++]<<ue,ue+=8}if((65535&te)!=(te>>>16^65535)){h.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&te,te=0,ue=0,S.mode=15,6===M)break e;case 15:S.mode=16;case 16:if(Fe=S.length){if(Fe>ie&&(Fe=ie),Fe>ht&&(Fe=ht),0===Fe)break e;Yi(X,_,j,Fe,ce),ie-=Fe,j+=Fe,ht-=Fe,ce+=Fe,S.length-=Fe;break}S.mode=12;break;case 17:for(;ue<14;){if(0===ie)break e;ie--,te+=_[j++]<<ue,ue+=8}if(S.nlen=257+(31&te),ue-=5,S.ndist=1+(31&(te>>>=5)),ue-=5,S.ncode=4+(15&(te>>>=5)),te>>>=4,ue-=4,S.nlen>286||S.ndist>30){h.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;ue<3;){if(0===ie)break e;ie--,te+=_[j++]<<ue,ue+=8}S.lens[Zo[S.have++]]=7&te,te>>>=3,ue-=3}for(;S.have<19;)S.lens[Zo[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,en=ts(0,S.lens,0,19,S.lencode,0,S.work,ni={bits:S.lenbits}),S.lenbits=ni.bits,en){h.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;Vi=(yi=S.lencode[te&(1<<S.lenbits)-1])>>>16&255,bi=65535&yi,!((ai=yi>>>24)<=ue);){if(0===ie)break e;ie--,te+=_[j++]<<ue,ue+=8}if(bi<16)te>>>=ai,ue-=ai,S.lens[S.have++]=bi;else{if(16===bi){for(_n=ai+2;ue<_n;){if(0===ie)break e;ie--,te+=_[j++]<<ue,ue+=8}if(te>>>=ai,ue-=ai,0===S.have){h.msg="invalid bit length repeat",S.mode=30;break}Mt=S.lens[S.have-1],Fe=3+(3&te),te>>>=2,ue-=2}else if(17===bi){for(_n=ai+3;ue<_n;){if(0===ie)break e;ie--,te+=_[j++]<<ue,ue+=8}ue-=ai,Mt=0,Fe=3+(7&(te>>>=ai)),te>>>=3,ue-=3}else{for(_n=ai+7;ue<_n;){if(0===ie)break e;ie--,te+=_[j++]<<ue,ue+=8}ue-=ai,Mt=0,Fe=11+(127&(te>>>=ai)),te>>>=7,ue-=7}if(S.have+Fe>S.nlen+S.ndist){h.msg="invalid bit length repeat",S.mode=30;break}for(;Fe--;)S.lens[S.have++]=Mt}}if(30===S.mode)break;if(0===S.lens[256]){h.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,en=ts(se,S.lens,0,S.nlen,S.lencode,0,S.work,ni={bits:S.lenbits}),S.lenbits=ni.bits,en){h.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,en=ts(vt,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,ni={bits:S.distbits}),S.distbits=ni.bits,en){h.msg="invalid distances set",S.mode=30;break}if(S.mode=20,6===M)break e;case 20:S.mode=21;case 21:if(ie>=6&&ht>=258){h.next_out=ce,h.avail_out=ht,h.next_in=j,h.avail_in=ie,S.hold=te,S.bits=ue,re(h,at),ce=h.next_out,X=h.output,ht=h.avail_out,j=h.next_in,_=h.input,ie=h.avail_in,te=S.hold,ue=S.bits,12===S.mode&&(S.back=-1);break}for(S.back=0;Vi=(yi=S.lencode[te&(1<<S.lenbits)-1])>>>16&255,bi=65535&yi,!((ai=yi>>>24)<=ue);){if(0===ie)break e;ie--,te+=_[j++]<<ue,ue+=8}if(Vi&&!(240&Vi)){for(pt=ai,Pi=Vi,Zi=bi;Vi=(yi=S.lencode[Zi+((te&(1<<pt+Pi)-1)>>pt)])>>>16&255,bi=65535&yi,!(pt+(ai=yi>>>24)<=ue);){if(0===ie)break e;ie--,te+=_[j++]<<ue,ue+=8}te>>>=pt,ue-=pt,S.back+=pt}if(te>>>=ai,ue-=ai,S.back+=ai,S.length=bi,0===Vi){S.mode=26;break}if(32&Vi){S.back=-1,S.mode=12;break}if(64&Vi){h.msg="invalid literal/length code",S.mode=30;break}S.extra=15&Vi,S.mode=22;case 22:if(S.extra){for(_n=S.extra;ue<_n;){if(0===ie)break e;ie--,te+=_[j++]<<ue,ue+=8}S.length+=te&(1<<S.extra)-1,te>>>=S.extra,ue-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;Vi=(yi=S.distcode[te&(1<<S.distbits)-1])>>>16&255,bi=65535&yi,!((ai=yi>>>24)<=ue);){if(0===ie)break e;ie--,te+=_[j++]<<ue,ue+=8}if(!(240&Vi)){for(pt=ai,Pi=Vi,Zi=bi;Vi=(yi=S.distcode[Zi+((te&(1<<pt+Pi)-1)>>pt)])>>>16&255,bi=65535&yi,!(pt+(ai=yi>>>24)<=ue);){if(0===ie)break e;ie--,te+=_[j++]<<ue,ue+=8}te>>>=pt,ue-=pt,S.back+=pt}if(te>>>=ai,ue-=ai,S.back+=ai,64&Vi){h.msg="invalid distance code",S.mode=30;break}S.offset=bi,S.extra=15&Vi,S.mode=24;case 24:if(S.extra){for(_n=S.extra;ue<_n;){if(0===ie)break e;ie--,te+=_[j++]<<ue,ue+=8}S.offset+=te&(1<<S.extra)-1,te>>>=S.extra,ue-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){h.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(0===ht)break e;if(S.offset>(Fe=at-ht)){if((Fe=S.offset-Fe)>S.whave&&S.sane){h.msg="invalid distance too far back",S.mode=30;break}Lt=Fe>S.wnext?S.wsize-(Fe-=S.wnext):S.wnext-Fe,Fe>S.length&&(Fe=S.length),ye=S.window}else ye=X,Lt=ce-S.offset,Fe=S.length;Fe>ht&&(Fe=ht),ht-=Fe,S.length-=Fe;do{X[ce++]=ye[Lt++]}while(--Fe);0===S.length&&(S.mode=21);break;case 26:if(0===ht)break e;X[ce++]=S.length,ht--,S.mode=21;break;case 27:if(S.wrap){for(;ue<32;){if(0===ie)break e;ie--,te|=_[j++]<<ue,ue+=8}if(h.total_out+=at-=ht,S.total+=at,at&&(h.adler=S.check=S.flags?Te(S.check,X,at,ce-at):sn(S.check,X,at,ce-at)),at=ht,(S.flags?te:Os(te))!==S.check){h.msg="incorrect data check",S.mode=30;break}te=0,ue=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;ue<32;){if(0===ie)break e;ie--,te+=_[j++]<<ue,ue+=8}if(te!==(4294967295&S.total)){h.msg="incorrect length check",S.mode=30;break}te=0,ue=0}S.mode=29;case 29:en=1;break e;case 30:en=-3;break e;case 31:return-4;default:return Qt}return h.next_out=ce,h.avail_out=ht,h.next_in=j,h.avail_in=ie,S.hold=te,S.bits=ue,(S.wsize||at!==h.avail_out&&S.mode<30&&(S.mode<27||4!==M))&&Xo(h,h.output,h.next_out,at-h.avail_out),at-=h.avail_out,h.total_in+=Si-=h.avail_in,h.total_out+=at,S.total+=at,S.wrap&&at&&(h.adler=S.check=S.flags?Te(S.check,X,at,h.next_out-at):sn(S.check,X,at,h.next_out-at)),h.data_type=S.bits+(S.last?64:0)+(12===S.mode?128:0)+(20===S.mode||15===S.mode?256:0),(0===Si&&0===at||4===M)&&en===Z&&(en=-5),en}function go(h,M){var _,S=M.length;return h&&h.state&&(0===(_=h.state).wrap||11===_.mode)?11===_.mode&&sn(1,M,S,0)!==_.check?-3:Xo(h,M,S,S)?(_.mode=31,-4):(_.havedict=1,Z):Qt}var Ms={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function fo(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function an(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gs=Object.prototype.toString;class ys{constructor(M){if(!(this instanceof ys))return new ys(M);this.options=zi({chunkSize:16384,windowBits:0,to:""},M||{});var S=this.options;S.raw&&S.windowBits>=0&&S.windowBits<16&&(S.windowBits=-S.windowBits,0===S.windowBits&&(S.windowBits=-15)),S.windowBits>=0&&S.windowBits<16&&!(M&&M.windowBits)&&(S.windowBits+=32),S.windowBits>15&&S.windowBits<48&&(15&S.windowBits||(S.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fo,this.strm.avail_out=0;var _=ns(this.strm,S.windowBits);if(0!==_)throw new Error(Ms[_]);if(this.header=new an,function mr(h,M){var S;h&&h.state&&2&(S=h.state).wrap&&(S.head=M,M.done=!1)}(this.strm,this.header),S.dictionary&&("string"==typeof S.dictionary?S.dictionary=Cn(S.dictionary):"[object ArrayBuffer]"===gs.call(S.dictionary)&&(S.dictionary=new Uint8Array(S.dictionary)),S.raw&&0!==(_=go(this.strm,S.dictionary))))throw new Error(Ms[_])}push(M,S){var ce,ie,ht,te,ue,Si,_=this.strm,X=this.options.chunkSize,j=this.options.dictionary,at=!1;if(this.ended)return!1;ie=S===~~S?S:!0===S?4:0,_.input="string"==typeof M?function ve(h){for(var M=new Uint8Array(h.length),S=0,_=M.length;S<_;S++)M[S]=h.charCodeAt(S);return M}(M):"[object ArrayBuffer]"===gs.call(M)?new Uint8Array(M):M,_.next_in=0,_.avail_in=_.input.length;do{if(0===_.avail_out&&(_.output=qi(X),_.next_out=0,_.avail_out=X),2===(ce=Tr(_,0))&&j&&(Si="string"==typeof j?Cn(j):"[object ArrayBuffer]"===gs.call(j)?new Uint8Array(j):j,ce=go(this.strm,Si)),-5===ce&&!0===at&&(ce=0,at=!1),1!==ce&&0!==ce)return this.onEnd(ce),this.ended=!0,!1;_.next_out&&(0===_.avail_out||1===ce||0===_.avail_in&&(4===ie||2===ie))&&("string"===this.options.to?(ht=ki(_.output,_.next_out),te=_.next_out-ht,ue=Fi(_.output,ht),_.next_out=te,_.avail_out=X-te,te&&Yi(_.output,_.output,ht,te,0),this.onData(ue)):this.onData(Ui(_.output,_.next_out))),0===_.avail_in&&0===_.avail_out&&(at=!0)}while((_.avail_in>0||0===_.avail_out)&&1!==ce);return 1===ce&&(ie=4),4===ie?(ce=function mo(h){if(!h||!h.state)return Qt;var M=h.state;return M.window&&(M.window=null),h.state=null,Z}(this.strm),this.onEnd(ce),this.ended=!0,0===ce):(2===ie&&(this.onEnd(0),_.avail_out=0),!0)}onData(M){this.chunks.push(M)}onEnd(M){0===M&&(this.result="string"===this.options.to?this.chunks.join(""):ls(this.chunks)),this.chunks=[],this.err=M,this.msg=this.strm.msg}}function ci(h){for(var M=h.length;--M>=0;)h[M]=0}var _s,vo,Zs,ks,Co,eo,Vr,to,zr,mn=0,Qs=1,Ks=2,Or=3,y=258,K=29,oe=256,Se=oe+1+K,St=30,mi=19,di=2*Se+1,Hi=15,Mn=16,Rn=7,yn=256,wn=16,ln=17,fs=18,Ns=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],_o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Ur=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Wo=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Mr=512;function In(h,M,S,_,X){this.static_tree=h,this.extra_bits=M,this.extra_base=S,this.elems=_,this.max_length=X,this.has_stree=h&&h.length}function Yo(h,M){this.dyn_tree=h,this.max_code=0,this.stat_desc=M}function Kr(h){return h<256?Zs[h]:Zs[256+(h>>>7)]}function Go(h,M){h.pending_buf[h.pending++]=255&M,h.pending_buf[h.pending++]=M>>>8&255}function Nn(h,M,S){h.bi_valid>Mn-S?(h.bi_buf|=M<<h.bi_valid&65535,Go(h,h.bi_buf),h.bi_buf=M>>Mn-h.bi_valid,h.bi_valid+=S-Mn):(h.bi_buf|=M<<h.bi_valid&65535,h.bi_valid+=S)}function Rs(h,M,S){Nn(h,S[2*M],S[2*M+1])}function $r(h,M){var S=0;do{S|=1&h,h>>>=1,S<<=1}while(--M>0);return S>>>1}function yr(h,M,S){var j,ce,_=new Array(Hi+1),X=0;for(j=1;j<=Hi;j++)_[j]=X=X+S[j-1]<<1;for(ce=0;ce<=M;ce++){var ie=h[2*ce+1];0!==ie&&(h[2*ce]=$r(_[ie]++,ie))}}function gr(h){var M;for(M=0;M<Se;M++)h.dyn_ltree[2*M]=0;for(M=0;M<St;M++)h.dyn_dtree[2*M]=0;for(M=0;M<mi;M++)h.bl_tree[2*M]=0;h.dyn_ltree[2*yn]=1,h.opt_len=h.static_len=0,h.last_lit=h.matches=0}function fr(h){h.bi_valid>8?Go(h,h.bi_buf):h.bi_valid>0&&(h.pending_buf[h.pending++]=h.bi_buf),h.bi_buf=0,h.bi_valid=0}function Hr(h,M,S,_){var X=2*M,j=2*S;return h[X]<h[j]||h[X]===h[j]&&_[M]<=_[S]}function _r(h,M,S){for(var _=h.heap[S],X=S<<1;X<=h.heap_len&&(X<h.heap_len&&Hr(M,h.heap[X+1],h.heap[X],h.depth)&&X++,!Hr(M,_,h.heap[X],h.depth));)h.heap[S]=h.heap[X],S=X,X<<=1;h.heap[S]=_}function Nr(h,M,S){var _,X,ce,ie,j=0;if(0!==h.last_lit)do{_=h.pending_buf[h.d_buf+2*j]<<8|h.pending_buf[h.d_buf+2*j+1],X=h.pending_buf[h.l_buf+j],j++,0===_?Rs(h,X,M):(Rs(h,(ce=ks[X])+oe+1,M),0!==(ie=Ns[ce])&&Nn(h,X-=Co[ce],ie),Rs(h,ce=Kr(--_),S),0!==(ie=_o[ce])&&Nn(h,_-=eo[ce],ie))}while(j<h.last_lit);Rs(h,yn,M)}function Jo(h,M){var ce,ie,te,S=M.dyn_tree,_=M.stat_desc.static_tree,X=M.stat_desc.has_stree,j=M.stat_desc.elems,ht=-1;for(h.heap_len=0,h.heap_max=di,ce=0;ce<j;ce++)0!==S[2*ce]?(h.heap[++h.heap_len]=ht=ce,h.depth[ce]=0):S[2*ce+1]=0;for(;h.heap_len<2;)S[2*(te=h.heap[++h.heap_len]=ht<2?++ht:0)]=1,h.depth[te]=0,h.opt_len--,X&&(h.static_len-=_[2*te+1]);for(M.max_code=ht,ce=h.heap_len>>1;ce>=1;ce--)_r(h,S,ce);te=j;do{ce=h.heap[1],h.heap[1]=h.heap[h.heap_len--],_r(h,S,1),ie=h.heap[1],h.heap[--h.heap_max]=ce,h.heap[--h.heap_max]=ie,S[2*te]=S[2*ce]+S[2*ie],h.depth[te]=(h.depth[ce]>=h.depth[ie]?h.depth[ce]:h.depth[ie])+1,S[2*ce+1]=S[2*ie+1]=te,h.heap[1]=te++,_r(h,S,1)}while(h.heap_len>=2);h.heap[--h.heap_max]=h.heap[1],function qo(h,M){var te,ue,Si,at,Fe,Lt,S=M.dyn_tree,_=M.max_code,X=M.stat_desc.static_tree,j=M.stat_desc.has_stree,ce=M.stat_desc.extra_bits,ie=M.stat_desc.extra_base,ht=M.stat_desc.max_length,ye=0;for(at=0;at<=Hi;at++)h.bl_count[at]=0;for(S[2*h.heap[h.heap_max]+1]=0,te=h.heap_max+1;te<di;te++)(at=S[2*S[2*(ue=h.heap[te])+1]+1]+1)>ht&&(at=ht,ye++),S[2*ue+1]=at,!(ue>_)&&(h.bl_count[at]++,Fe=0,ue>=ie&&(Fe=ce[ue-ie]),h.opt_len+=(Lt=S[2*ue])*(at+Fe),j&&(h.static_len+=Lt*(X[2*ue+1]+Fe)));if(0!==ye){do{for(at=ht-1;0===h.bl_count[at];)at--;h.bl_count[at]--,h.bl_count[at+1]+=2,h.bl_count[ht]--,ye-=2}while(ye>0);for(at=ht;0!==at;at--)for(ue=h.bl_count[at];0!==ue;)!((Si=h.heap[--te])>_)&&(S[2*Si+1]!==at&&(h.opt_len+=(at-S[2*Si+1])*S[2*Si],S[2*Si+1]=at),ue--)}}(h,M),yr(S,ht,h.bl_count)}function Xr(h,M,S){var _,j,X=-1,ce=M[1],ie=0,ht=7,te=4;for(0===ce&&(ht=138,te=3),M[2*(S+1)+1]=65535,_=0;_<=S;_++)j=ce,ce=M[2*(_+1)+1],!(++ie<ht&&j===ce)&&(ie<te?h.bl_tree[2*j]+=ie:0!==j?(j!==X&&h.bl_tree[2*j]++,h.bl_tree[2*wn]++):ie<=10?h.bl_tree[2*ln]++:h.bl_tree[2*fs]++,ie=0,X=j,0===ce?(ht=138,te=3):j===ce?(ht=6,te=3):(ht=7,te=4))}function io(h,M,S){var _,j,X=-1,ce=M[1],ie=0,ht=7,te=4;for(0===ce&&(ht=138,te=3),_=0;_<=S;_++)if(j=ce,ce=M[2*(_+1)+1],!(++ie<ht&&j===ce)){if(ie<te)do{Rs(h,j,h.bl_tree)}while(0!=--ie);else 0!==j?(j!==X&&(Rs(h,j,h.bl_tree),ie--),Rs(h,wn,h.bl_tree),Nn(h,ie-3,2)):ie<=10?(Rs(h,ln,h.bl_tree),Nn(h,ie-3,3)):(Rs(h,fs,h.bl_tree),Nn(h,ie-11,7));ie=0,X=j,0===ce?(ht=138,te=3):j===ce?(ht=6,te=3):(ht=7,te=4)}}var I=!1;function m(h,M,S,_){Nn(h,(mn<<1)+(_?1:0),3),function jr(h,M,S,_){fr(h),_&&(Go(h,S),Go(h,~S)),Yi(h.pending_buf,h.window,M,S,h.pending),h.pending+=S}(h,M,S,!0)}function H(h,M,S){return h.pending_buf[h.d_buf+2*h.last_lit]=M>>>8&255,h.pending_buf[h.d_buf+2*h.last_lit+1]=255&M,h.pending_buf[h.l_buf+h.last_lit]=255&S,h.last_lit++,0===M?h.dyn_ltree[2*S]++:(h.matches++,M--,h.dyn_ltree[2*(ks[S]+oe+1)]++,h.dyn_dtree[2*Kr(M)]++),h.last_lit===h.lit_bufsize-1}var ui=3,so=258,ws=so+ui+1,R=103,g=113,b=666;function Ke(h,M){return h.msg=Ms[M],M}function Qe(h){return(h<<1)-(h>4?9:0)}function rt(h){for(var M=h.length;--M>=0;)h[M]=0}function Jt(h){var M=h.state,S=M.pending;S>h.avail_out&&(S=h.avail_out),0!==S&&(Yi(h.output,M.pending_buf,M.pending_out,S,h.next_out),h.next_out+=S,M.pending_out+=S,h.total_out+=S,h.avail_out-=S,M.pending-=S,0===M.pending&&(M.pending_out=0))}function Ye(h,M){(function N(h,M,S,_){var X,j,ce=0;h.level>0?(h.strm.data_type===tt&&(h.strm.data_type=function Yr(h){var S,M=4093624447;for(S=0;S<=31;S++,M>>>=1)if(1&M&&0!==h.dyn_ltree[2*S])return Dt;if(0!==h.dyn_ltree[18]||0!==h.dyn_ltree[20]||0!==h.dyn_ltree[26])return st;for(S=32;S<oe;S++)if(0!==h.dyn_ltree[2*S])return st;return Dt}(h)),Jo(h,h.l_desc),Jo(h,h.d_desc),ce=function Wr(h){var M;for(Xr(h,h.dyn_ltree,h.l_desc.max_code),Xr(h,h.dyn_dtree,h.d_desc.max_code),Jo(h,h.bl_desc),M=mi-1;M>=3&&0===h.bl_tree[2*Wo[M]+1];M--);return h.opt_len+=3*(M+1)+5+5+4,M}(h),(j=h.static_len+3+7>>>3)<=(X=h.opt_len+3+7>>>3)&&(X=j)):X=j=S+5,S+4<=X&&-1!==M?m(h,M,S,_):h.strategy===ct||j===X?(Nn(h,(Qs<<1)+(_?1:0),3),Nr(h,_s,vo)):(Nn(h,(Ks<<1)+(_?1:0),3),function La(h,M,S,_){var X;for(Nn(h,M-257,5),Nn(h,S-1,5),Nn(h,_-4,4),X=0;X<_;X++)Nn(h,h.bl_tree[2*Wo[X]+1],3);io(h,h.dyn_ltree,M-1),io(h,h.dyn_dtree,S-1)}(h,h.l_desc.max_code+1,h.d_desc.max_code+1,ce+1),Nr(h,h.dyn_ltree,h.dyn_dtree)),gr(h),_&&fr(h)})(h,h.block_start>=0?h.block_start:-1,h.strstart-h.block_start,M),h.block_start=h.strstart,Jt(h.strm)}function Ht(h,M){h.pending_buf[h.pending++]=M}function cn(h,M){h.pending_buf[h.pending++]=M>>>8&255,h.pending_buf[h.pending++]=255&M}function So(h,M,S,_){var X=h.avail_in;return X>_&&(X=_),0===X?0:(h.avail_in-=X,Yi(M,h.input,h.next_in,X,S),1===h.state.wrap?h.adler=sn(h.adler,M,X,S):2===h.state.wrap&&(h.adler=Te(h.adler,M,X,S)),h.next_in+=X,h.total_in+=X,X)}function gn(h,M){var X,j,S=h.max_chain_length,_=h.strstart,ce=h.prev_length,ie=h.nice_match,ht=h.strstart>h.w_size-ws?h.strstart-(h.w_size-ws):0,te=h.window,ue=h.w_mask,Si=h.prev,at=h.strstart+so,Fe=te[_+ce-1],Lt=te[_+ce];h.prev_length>=h.good_match&&(S>>=2),ie>h.lookahead&&(ie=h.lookahead);do{if(te[(X=M)+ce]===Lt&&te[X+ce-1]===Fe&&te[X]===te[_]&&te[++X]===te[_+1]){_+=2,X++;do{}while(te[++_]===te[++X]&&te[++_]===te[++X]&&te[++_]===te[++X]&&te[++_]===te[++X]&&te[++_]===te[++X]&&te[++_]===te[++X]&&te[++_]===te[++X]&&te[++_]===te[++X]&&_<at);if(j=so-(at-_),_=at-so,j>ce){if(h.match_start=M,ce=j,j>=ie)break;Fe=te[_+ce-1],Lt=te[_+ce]}}}while((M=Si[M&ue])>ht&&0!=--S);return ce<=h.lookahead?ce:h.lookahead}function Qi(h){var S,_,X,j,ce,M=h.w_size;do{if(j=h.window_size-h.lookahead-h.strstart,h.strstart>=M+(M-ws)){Yi(h.window,h.window,M,M,0),h.match_start-=M,h.strstart-=M,h.block_start-=M,S=_=h.hash_size;do{X=h.head[--S],h.head[S]=X>=M?X-M:0}while(--_);S=_=M;do{X=h.prev[--S],h.prev[S]=X>=M?X-M:0}while(--_);j+=M}if(0===h.strm.avail_in)break;if(_=So(h.strm,h.window,h.strstart+h.lookahead,j),h.lookahead+=_,h.lookahead+h.insert>=ui)for(h.ins_h=h.window[ce=h.strstart-h.insert],h.ins_h=(h.ins_h<<h.hash_shift^h.window[ce+1])&h.hash_mask;h.insert&&(h.ins_h=(h.ins_h<<h.hash_shift^h.window[ce+ui-1])&h.hash_mask,h.prev[ce&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=ce,ce++,h.insert--,!(h.lookahead+h.insert<ui)););}while(h.lookahead<ws&&0!==h.strm.avail_in)}function oo(h,M){var S=65535;for(S>h.pending_buf_size-5&&(S=h.pending_buf_size-5);;){if(h.lookahead<=1){if(Qi(h),0===h.lookahead&&0===M)return 1;if(0===h.lookahead)break}h.strstart+=h.lookahead,h.lookahead=0;var _=h.block_start+S;if((0===h.strstart||h.strstart>=_)&&(h.lookahead=h.strstart-_,h.strstart=_,Ye(h,!1),0===h.strm.avail_out)||h.strstart-h.block_start>=h.w_size-ws&&(Ye(h,!1),0===h.strm.avail_out))return 1}return h.insert=0,4===M?(Ye(h,!0),0===h.strm.avail_out?3:4):(h.strstart>h.block_start&&Ye(h,!1),1)}function zt(h,M){for(var S,_;;){if(h.lookahead<ws){if(Qi(h),h.lookahead<ws&&0===M)return 1;if(0===h.lookahead)break}if(S=0,h.lookahead>=ui&&(h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+ui-1])&h.hash_mask,S=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart),0!==S&&h.strstart-S<=h.w_size-ws&&(h.match_length=gn(h,S)),h.match_length>=ui)if(_=H(h,h.strstart-h.match_start,h.match_length-ui),h.lookahead-=h.match_length,h.match_length<=h.max_lazy_match&&h.lookahead>=ui){h.match_length--;do{h.strstart++,h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+ui-1])&h.hash_mask,S=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart}while(0!=--h.match_length);h.strstart++}else h.strstart+=h.match_length,h.match_length=0,h.ins_h=h.window[h.strstart],h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+1])&h.hash_mask;else _=H(h,0,h.window[h.strstart]),h.lookahead--,h.strstart++;if(_&&(Ye(h,!1),0===h.strm.avail_out))return 1}return h.insert=h.strstart<ui-1?h.strstart:ui-1,4===M?(Ye(h,!0),0===h.strm.avail_out?3:4):h.last_lit&&(Ye(h,!1),0===h.strm.avail_out)?1:2}function Gn(h,M){for(var S,_,X;;){if(h.lookahead<ws){if(Qi(h),h.lookahead<ws&&0===M)return 1;if(0===h.lookahead)break}if(S=0,h.lookahead>=ui&&(h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+ui-1])&h.hash_mask,S=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart),h.prev_length=h.match_length,h.prev_match=h.match_start,h.match_length=ui-1,0!==S&&h.prev_length<h.max_lazy_match&&h.strstart-S<=h.w_size-ws&&(h.match_length=gn(h,S),h.match_length<=5&&(1===h.strategy||h.match_length===ui&&h.strstart-h.match_start>4096)&&(h.match_length=ui-1)),h.prev_length>=ui&&h.match_length<=h.prev_length){X=h.strstart+h.lookahead-ui,_=H(h,h.strstart-1-h.prev_match,h.prev_length-ui),h.lookahead-=h.prev_length-1,h.prev_length-=2;do{++h.strstart<=X&&(h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+ui-1])&h.hash_mask,S=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart)}while(0!=--h.prev_length);if(h.match_available=0,h.match_length=ui-1,h.strstart++,_&&(Ye(h,!1),0===h.strm.avail_out))return 1}else if(h.match_available){if((_=H(h,0,h.window[h.strstart-1]))&&Ye(h,!1),h.strstart++,h.lookahead--,0===h.strm.avail_out)return 1}else h.match_available=1,h.strstart++,h.lookahead--}return h.match_available&&(_=H(h,0,h.window[h.strstart-1]),h.match_available=0),h.insert=h.strstart<ui-1?h.strstart:ui-1,4===M?(Ye(h,!0),0===h.strm.avail_out?3:4):h.last_lit&&(Ye(h,!1),0===h.strm.avail_out)?1:2}function Xt(h,M,S,_,X){this.good_length=h,this.max_lazy=M,this.nice_length=S,this.max_chain=_,this.func=X}let fn=function(){const h=[new Xt(0,0,0,0,oo),new Xt(4,4,8,4,zt),new Xt(4,5,16,8,zt),new Xt(4,6,32,32,zt),new Xt(4,4,16,16,Gn),new Xt(8,16,32,32,Gn),new Xt(8,16,128,128,Gn),new Xt(8,32,128,256,Gn),new Xt(32,128,258,1024,Gn),new Xt(32,258,258,4096,Gn)];return fn=()=>h,h};function vs(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=Et(1146),this.dyn_dtree=Et(122),this.bl_tree=Et(78),rt(this.dyn_ltree),rt(this.dyn_dtree),rt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=Et(16),this.heap=Et(573),rt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=Et(573),rt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Qo(h){var M=function An(h){var M;return h&&h.state?(h.total_in=h.total_out=0,h.data_type=tt,(M=h.state).pending=0,M.pending_out=0,M.wrap<0&&(M.wrap=-M.wrap),M.status=M.wrap?42:g,h.adler=2===M.wrap?0:1,M.last_flush=0,function V(h){I||(function Sa(){var h,M,S,_,X,j=new Array(Hi+1);for(ci(_s=new Array(2*(Se+2))),ci(vo=new Array(2*St)),ci(Zs=new Array(Mr)),ci(ks=new Array(y-Or+1)),ci(Co=new Array(K)),ci(eo=new Array(St)),S=0,_=0;_<K-1;_++)for(Co[_]=S,h=0;h<1<<Ns[_];h++)ks[S++]=_;for(ks[S-1]=_,X=0,_=0;_<16;_++)for(eo[_]=X,h=0;h<1<<_o[_];h++)Zs[X++]=_;for(X>>=7;_<St;_++)for(eo[_]=X<<7,h=0;h<1<<_o[_]-7;h++)Zs[256+X++]=_;for(M=0;M<=Hi;M++)j[M]=0;for(h=0;h<=143;)_s[2*h+1]=8,h++,j[8]++;for(;h<=255;)_s[2*h+1]=9,h++,j[9]++;for(;h<=279;)_s[2*h+1]=7,h++,j[7]++;for(;h<=287;)_s[2*h+1]=8,h++,j[8]++;for(yr(_s,Se+1,j),h=0;h<St;h++)vo[2*h+1]=5,vo[2*h]=$r(h,5);Vr=new In(_s,Ns,oe+1,Se,Hi),to=new In(vo,_o,0,St,Hi),zr=new In(new Array(0),Ur,0,mi,Rn)}(),I=!0),h.l_desc=new Yo(h.dyn_ltree,Vr),h.d_desc=new Yo(h.dyn_dtree,to),h.bl_desc=new Yo(h.bl_tree,zr),h.bi_buf=0,h.bi_valid=0,gr(h)}(M),0):Ke(h,-2)}(h);return 0===M&&function Is(h){h.window_size=2*h.w_size,rt(h.head);const M=fn();h.max_lazy_match=M[h.level].max_lazy,h.good_match=M[h.level].good_length,h.nice_match=M[h.level].nice_length,h.max_chain_length=M[h.level].max_chain,h.strstart=0,h.block_start=0,h.lookahead=0,h.insert=0,h.match_length=h.prev_length=ui-1,h.match_available=0,h.ins_h=0}(h.state),M}function xc(h,M){var S,_,X,j;if(!h||!h.state||M>5||M<0)return h?Ke(h,-2):-2;if(_=h.state,!h.output||!h.input&&0!==h.avail_in||_.status===b&&4!==M)return Ke(h,0===h.avail_out?-5:-2);if(_.strm=h,S=_.last_flush,_.last_flush=M,42===_.status)if(2===_.wrap)h.adler=0,Ht(_,31),Ht(_,139),Ht(_,8),_.gzhead?(Ht(_,(_.gzhead.text?1:0)+(_.gzhead.hcrc?2:0)+(_.gzhead.extra?4:0)+(_.gzhead.name?8:0)+(_.gzhead.comment?16:0)),Ht(_,255&_.gzhead.time),Ht(_,_.gzhead.time>>8&255),Ht(_,_.gzhead.time>>16&255),Ht(_,_.gzhead.time>>24&255),Ht(_,9===_.level?2:_.strategy>=2||_.level<2?4:0),Ht(_,255&_.gzhead.os),_.gzhead.extra&&_.gzhead.extra.length&&(Ht(_,255&_.gzhead.extra.length),Ht(_,_.gzhead.extra.length>>8&255)),_.gzhead.hcrc&&(h.adler=Te(h.adler,_.pending_buf,_.pending,0)),_.gzindex=0,_.status=69):(Ht(_,0),Ht(_,0),Ht(_,0),Ht(_,0),Ht(_,0),Ht(_,9===_.level?2:_.strategy>=2||_.level<2?4:0),Ht(_,3),_.status=g);else{var ce=8+(_.w_bits-8<<4)<<8;ce|=(_.strategy>=2||_.level<2?0:_.level<6?1:6===_.level?2:3)<<6,0!==_.strstart&&(ce|=32),ce+=31-ce%31,_.status=g,cn(_,ce),0!==_.strstart&&(cn(_,h.adler>>>16),cn(_,65535&h.adler)),h.adler=1}if(69===_.status)if(_.gzhead.extra){for(X=_.pending;_.gzindex<(65535&_.gzhead.extra.length)&&(_.pending!==_.pending_buf_size||(_.gzhead.hcrc&&_.pending>X&&(h.adler=Te(h.adler,_.pending_buf,_.pending-X,X)),Jt(h),X=_.pending,_.pending!==_.pending_buf_size));)Ht(_,255&_.gzhead.extra[_.gzindex]),_.gzindex++;_.gzhead.hcrc&&_.pending>X&&(h.adler=Te(h.adler,_.pending_buf,_.pending-X,X)),_.gzindex===_.gzhead.extra.length&&(_.gzindex=0,_.status=73)}else _.status=73;if(73===_.status)if(_.gzhead.name){X=_.pending;do{if(_.pending===_.pending_buf_size&&(_.gzhead.hcrc&&_.pending>X&&(h.adler=Te(h.adler,_.pending_buf,_.pending-X,X)),Jt(h),X=_.pending,_.pending===_.pending_buf_size)){j=1;break}j=_.gzindex<_.gzhead.name.length?255&_.gzhead.name.charCodeAt(_.gzindex++):0,Ht(_,j)}while(0!==j);_.gzhead.hcrc&&_.pending>X&&(h.adler=Te(h.adler,_.pending_buf,_.pending-X,X)),0===j&&(_.gzindex=0,_.status=91)}else _.status=91;if(91===_.status)if(_.gzhead.comment){X=_.pending;do{if(_.pending===_.pending_buf_size&&(_.gzhead.hcrc&&_.pending>X&&(h.adler=Te(h.adler,_.pending_buf,_.pending-X,X)),Jt(h),X=_.pending,_.pending===_.pending_buf_size)){j=1;break}j=_.gzindex<_.gzhead.comment.length?255&_.gzhead.comment.charCodeAt(_.gzindex++):0,Ht(_,j)}while(0!==j);_.gzhead.hcrc&&_.pending>X&&(h.adler=Te(h.adler,_.pending_buf,_.pending-X,X)),0===j&&(_.status=R)}else _.status=R;if(_.status===R&&(_.gzhead.hcrc?(_.pending+2>_.pending_buf_size&&Jt(h),_.pending+2<=_.pending_buf_size&&(Ht(_,255&h.adler),Ht(_,h.adler>>8&255),h.adler=0,_.status=g)):_.status=g),0!==_.pending){if(Jt(h),0===h.avail_out)return _.last_flush=-1,0}else if(0===h.avail_in&&Qe(M)<=Qe(S)&&4!==M)return Ke(h,-5);if(_.status===b&&0!==h.avail_in)return Ke(h,-5);if(0!==h.avail_in||0!==_.lookahead||0!==M&&_.status!==b){var ht=2===_.strategy?function nt(h,M){for(var S;;){if(0===h.lookahead&&(Qi(h),0===h.lookahead)){if(0===M)return 1;break}if(h.match_length=0,S=H(h,0,h.window[h.strstart]),h.lookahead--,h.strstart++,S&&(Ye(h,!1),0===h.strm.avail_out))return 1}return h.insert=0,4===M?(Ye(h,!0),0===h.strm.avail_out?3:4):h.last_lit&&(Ye(h,!1),0===h.strm.avail_out)?1:2}(_,M):3===_.strategy?function Gs(h,M){for(var S,_,X,j,ce=h.window;;){if(h.lookahead<=so){if(Qi(h),h.lookahead<=so&&0===M)return 1;if(0===h.lookahead)break}if(h.match_length=0,h.lookahead>=ui&&h.strstart>0&&(_=ce[X=h.strstart-1])===ce[++X]&&_===ce[++X]&&_===ce[++X]){j=h.strstart+so;do{}while(_===ce[++X]&&_===ce[++X]&&_===ce[++X]&&_===ce[++X]&&_===ce[++X]&&_===ce[++X]&&_===ce[++X]&&_===ce[++X]&&X<j);h.match_length=so-(j-X),h.match_length>h.lookahead&&(h.match_length=h.lookahead)}if(h.match_length>=ui?(S=H(h,1,h.match_length-ui),h.lookahead-=h.match_length,h.strstart+=h.match_length,h.match_length=0):(S=H(h,0,h.window[h.strstart]),h.lookahead--,h.strstart++),S&&(Ye(h,!1),0===h.strm.avail_out))return 1}return h.insert=0,4===M?(Ye(h,!0),0===h.strm.avail_out?3:4):h.last_lit&&(Ye(h,!1),0===h.strm.avail_out)?1:2}(_,M):fn()[_.level].func(_,M);if((3===ht||4===ht)&&(_.status=b),1===ht||3===ht)return 0===h.avail_out&&(_.last_flush=-1),0;if(2===ht&&(1===M?function k(h){Nn(h,Qs<<1,3),Rs(h,yn,_s),function Ao(h){16===h.bi_valid?(Go(h,h.bi_buf),h.bi_buf=0,h.bi_valid=0):h.bi_valid>=8&&(h.pending_buf[h.pending++]=255&h.bi_buf,h.bi_buf>>=8,h.bi_valid-=8)}(h)}(_):5!==M&&(m(_,0,0,!1),3===M&&(rt(_.head),0===_.lookahead&&(_.strstart=0,_.block_start=0,_.insert=0))),Jt(h),0===h.avail_out))return _.last_flush=-1,0}return 4!==M?0:_.wrap<=0?1:(2===_.wrap?(Ht(_,255&h.adler),Ht(_,h.adler>>8&255),Ht(_,h.adler>>16&255),Ht(_,h.adler>>24&255),Ht(_,255&h.total_in),Ht(_,h.total_in>>8&255),Ht(_,h.total_in>>16&255),Ht(_,h.total_in>>24&255)):(cn(_,h.adler>>>16),cn(_,65535&h.adler)),Jt(h),_.wrap>0&&(_.wrap=-_.wrap),0!==_.pending?0:1)}var Pl=Object.prototype.toString;class Ua{constructor(M){this.options=zi({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},M||{});var S=this.options;S.raw&&S.windowBits>0?S.windowBits=-S.windowBits:S.gzip&&S.windowBits>0&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fo,this.strm.avail_out=0;var _=function Cr(h,M,S,_,X,j){if(!h)return-2;var ce=1;if(-1===M&&(M=6),_<0?(ce=0,_=-_):_>15&&(ce=2,_-=16),X<1||X>9||8!==S||_<8||_>15||M<0||M>9||j<0||j>ct)return Ke(h,-2);8===_&&(_=9);var ie=new vs;return h.state=ie,ie.strm=h,ie.wrap=ce,ie.gzhead=null,ie.w_bits=_,ie.w_size=1<<ie.w_bits,ie.w_mask=ie.w_size-1,ie.hash_bits=X+7,ie.hash_size=1<<ie.hash_bits,ie.hash_mask=ie.hash_size-1,ie.hash_shift=~~((ie.hash_bits+ui-1)/ui),ie.window=qi(2*ie.w_size),ie.head=Et(ie.hash_size),ie.prev=Et(ie.w_size),ie.lit_bufsize=1<<X+6,ie.pending_buf_size=4*ie.lit_bufsize,ie.pending_buf=qi(ie.pending_buf_size),ie.d_buf=1*ie.lit_bufsize,ie.l_buf=3*ie.lit_bufsize,ie.level=M,ie.strategy=j,ie.method=S,Qo(h)}(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(0!==_)throw new Error(Ms[_]);if(S.header&&function Fo(h,M){h&&h.state&&2===h.state.wrap&&(h.state.gzhead=M)}(this.strm,S.header),S.dictionary){var X;if(X="string"==typeof S.dictionary?Cn(S.dictionary):"[object ArrayBuffer]"===Pl.call(S.dictionary)?new Uint8Array(S.dictionary):S.dictionary,_=function Mc(h,M){var _,X,j,ce,ie,ht,te,ue,S=M.length;if(!h||!h.state||2===(ce=(_=h.state).wrap)||1===ce&&42!==_.status||_.lookahead)return-2;for(1===ce&&(h.adler=sn(h.adler,M,S,0)),_.wrap=0,S>=_.w_size&&(0===ce&&(rt(_.head),_.strstart=0,_.block_start=0,_.insert=0),ue=qi(_.w_size),Yi(ue,M,S-_.w_size,_.w_size,0),M=ue,S=_.w_size),ie=h.avail_in,ht=h.next_in,te=h.input,h.avail_in=S,h.next_in=0,h.input=M,Qi(_);_.lookahead>=ui;){X=_.strstart,j=_.lookahead-(ui-1);do{_.ins_h=(_.ins_h<<_.hash_shift^_.window[X+ui-1])&_.hash_mask,_.prev[X&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=X,X++}while(--j);_.strstart=X,_.lookahead=ui-1,Qi(_)}return _.strstart+=_.lookahead,_.block_start=_.strstart,_.insert=_.lookahead,_.lookahead=0,_.match_length=_.prev_length=ui-1,_.match_available=0,h.next_in=ht,h.input=te,h.avail_in=ie,_.wrap=ce,0}(this.strm,X),0!==_)throw new Error(Ms[_]);this._dict_set=!0}}push(M,S){var j,ce,h,_=this.strm,X=this.options.chunkSize;if(this.ended)return!1;ce=S===~~S?S:!0===S?4:0,_.input="string"==typeof M?Cn(M):"[object ArrayBuffer]"===Pl.call(M)?new Uint8Array(M):M,_.next_in=0,_.avail_in=_.input.length;do{if(0===_.avail_out&&(_.output=qi(X),_.next_out=0,_.avail_out=X),1!==(j=xc(_,ce))&&0!==j)return this.onEnd(j),this.ended=!0,!1;(0===_.avail_out||0===_.avail_in&&(4===ce||2===ce))&&this.onData("string"===this.options.to?on(h=Ui(_.output,_.next_out),h.length):Ui(_.output,_.next_out))}while((_.avail_in>0||0===_.avail_out)&&1!==j);return 4===ce?(j=function Oc(h){var M;return h&&h.state?42!==(M=h.state.status)&&69!==M&&73!==M&&91!==M&&M!==R&&M!==g&&M!==b?Ke(h,-2):(h.state=null,M===g?Ke(h,-3):0):-2}(this.strm),this.onEnd(j),this.ended=!0,0===j):(2===ce&&(this.onEnd(0),_.avail_out=0),!0)}onData(M){this.chunks.push(M)}onEnd(M){0===M&&(this.result="string"===this.options.to?this.chunks.join(""):ls(this.chunks)),this.chunks=[],this.err=M,this.msg=this.strm.msg}}function cl(h,M){var S=new Ua(M);if(S.push(h,!0),S.err)throw S.msg||Ms[S.err];return S.result}},7944:(Ts,xi,$)=>{$.d(xi,{SA:()=>Ul,V9:()=>ul,b3:()=>Xl});var e=$(4438),w=$(4256),Ne=$(9668),qe=$(4341),Je=$(5987),me=$(1553),xe=$(5580),Ve=$(8359),Be=$(7786),It=$(3726),we=$(1413),De=$(7673),Ae=$(605),Pe=$(1730),Ze=$(6354),He=$(5558),Ei=$(6697),Ot=$(3798),Wt=$(8141),E=$(5964);function Yt(p,B){return(a,c)=>!p.call(B,a,c)}var ne=$(3386),Dt=$(9437),st=$(9974),tt=$(4360);function We(p){return(0,st.N)((B,a)=>{let c=!1,d=0;B.subscribe((0,tt._)(a,v=>(c||(c=!p(v,d++)))&&a.next(v)))})}var ii=$(274),zi=$(6977),Bt=($(152),$(177)),Tt=$(8936),tn=$(3974),Yi=$(2446),ls=$(8911),qi=$(1704);$(280);const es=["kendoSearchbar",""],xn=["content"],Ji=["list"],nn=["virtualContainer"],Cn=p=>({"k-disabled":p}),on=(p,B)=>({templateRef:p,$implicit:B}),cs=(p,B,a)=>({"height.px":p,"minHeight.px":B,boxSizing:a}),ve=(p,B)=>({"k-disabled":p,"k-table-alt-row":B});function Fi(p,B){if(1&p&&(e.j41(0,"div",13),e.EFF(1),e.k0s()),2&p){const a=e.XpG();e.Y8G("ngClass",e.eq3(3,Cn,a.isDisabledDefaultItem))("index",-1),e.R7$(),e.SpI(" ",a.getDefaultItemText()," ")}}function ki(p,B){}function sn(p,B){if(1&p&&(e.j41(0,"div",13),e.DNE(1,ki,0,0,"ng-template",14),e.k0s()),2&p){const a=e.XpG();e.Y8G("ngClass",e.eq3(3,Cn,a.isDisabledDefaultItem))("index",-1),e.R7$(),e.Y8G("templateContext",e.l_i(5,on,a.template.templateRef,a.defaultItem))}}function Bi(p,B){}function pe(p,B){if(1&p&&e.DNE(0,Bi,0,0,"ng-template",14),2&p){const a=e.XpG(2);e.Y8G("templateContext",e.l_i(1,on,a.customItemTemplate.templateRef,a.text))}}function Te(p,B){if(1&p&&e.EFF(0),2&p){const a=e.XpG(2);e.SpI(" ",a.useCustomValueText," ")}}function J(p,B){if(1&p&&(e.j41(0,"div",15),e.DNE(1,pe,1,4,null,16)(2,Te,1,1,"ng-template",null,2,e.C5r),e.k0s()),2&p){const a=e.sdS(3),c=e.XpG();e.Y8G("multipleSelection",!0)("index",-1),e.R7$(),e.Y8G("ngIf",c.customItemTemplate)("ngIfElse",a)}}function ae(p,B){}function re(p,B){if(1&p&&e.DNE(0,ae,0,0,"ng-template",14),2&p){const a=e.XpG(2);e.Y8G("templateContext",e.l_i(1,on,a.fixedGroupTemplate.templateRef,a.currentGroup))}}function W(p,B){if(1&p&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&p){const a=e.XpG(2);e.HbH(a.listGroupStickyHeaderTextClass),e.R7$(),e.JRh(a.currentGroup)}}function qt(p,B){if(1&p&&(e.j41(0,"div",17),e.DNE(1,re,1,4,null,10)(2,W,2,3,"ng-template",18),e.k0s()),2&p){const a=e.XpG();e.HbH(a.listGroupStickyHeaderClass),e.Y8G("ngStyle",e.sMw(5,cs,null==a.virtual?null:a.virtual.itemHeight,null==a.virtual?null:a.virtual.itemHeight,a.virtual?"border-box":"inherit")),e.R7$(),e.Y8G("ngIf",a.fixedGroupTemplate),e.R7$(),e.Y8G("ngIf",!a.fixedGroupTemplate)}}function Oi(p,B){if(1&p){const a=e.RV6();e.j41(0,"input",22),e.bIt("change",function(d){e.eBV(a);const v=e.XpG().index,x=e.XpG(2);return e.Njj(x.onCheckedChange(d,v+x.startFrom))}),e.k0s()}if(2&p){const a=e.XpG().index,c=e.XpG(2);e.Y8G("ngClass",c.checkboxClasses)("checked",c.isChecked(a))}}function pi(p,B){}function Ri(p,B){if(1&p&&e.DNE(0,pi,0,0,"ng-template",14),2&p){const a=e.XpG().$implicit,c=e.XpG(2);e.Y8G("templateContext",e.l_i(1,on,c.template.templateRef,a))}}function ei(p,B){if(1&p&&(e.j41(0,"span",23),e.EFF(1),e.k0s()),2&p){const a=e.XpG().$implicit,c=e.XpG(2);e.R7$(),e.JRh(c.getText(a))}}function li(p,B){if(1&p&&(e.j41(0,"li",20),e.DNE(1,Oi,1,2,"input",21)(2,Ri,1,4,null,10)(3,ei,2,1,"ng-template",18),e.k0s()),2&p){let a;const c=B.index,d=e.XpG(2);e.HbH(d.listItemClass),e.xc7("width",null!==(a=d.rowWidth)&&void 0!==a?a:null,"px"),e.Y8G("checkboxes",d.checkboxes)("height",null==d.virtual?null:d.virtual.itemHeight)("index",c+d.startFrom)("multipleSelection",d.multipleSelection)("ngClass",e.l_i(15,ve,d.isDisabled(c),d.isAltRow(c))),e.BMQ("id",d.optionPrefix+"-"+c)("tabIndex",-1)("aria-selected",d.isItemSelected(c)),e.R7$(),e.Y8G("ngIf",d.checkboxes.enabled),e.R7$(),e.Y8G("ngIf",d.template),e.R7$(),e.Y8G("ngIf",!d.template)}}function At(p,B){if(1&p&&e.DNE(0,li,4,18,"ng-template",19),2&p){const a=e.XpG();e.Y8G("ngForOf",a.data)}}function Gt(p,B){}function Vn(p,B){if(1&p&&e.DNE(0,Gt,0,0,"ng-template",14),2&p){const a=e.XpG(2).$implicit,c=e.XpG(2);e.Y8G("templateContext",e.l_i(1,on,c.groupTemplate.templateRef,a.value))}}function ts(p,B){if(1&p&&e.EFF(0),2&p){const a=e.XpG(2).$implicit;e.JRh(a.value)}}function zs(p,B){if(1&p&&(e.j41(0,"li",26,3)(2,"span"),e.DNE(3,Vn,1,4,null,10)(4,ts,1,1,"ng-template",18),e.k0s()()),2&p){let a;const c=e.XpG(),d=c.$implicit,v=c.index,x=e.XpG(2);e.HbH(x.listGroupItemClass),e.xc7("width",null!==(a=x.rowWidth)&&void 0!==a?a:null,"px"),e.AVh("k-table-alt-row",x.isAltRow(v-1)),e.Y8G("ngStyle",e.sMw(14,cs,null==x.virtual?null:x.virtual.itemHeight,null==x.virtual?null:x.virtual.itemHeight,x.virtual?"border-box":"inherit")),e.BMQ("group-index",d.index)("id",x.optionPrefix+"-"+d.groupIndex+"-"+d.value.toString().split(" ").join(""))("tabIndex",-1),e.R7$(2),e.HbH(x.listGroupItemTextClass),e.R7$(),e.Y8G("ngIf",x.groupTemplate),e.R7$(),e.Y8G("ngIf",!x.groupTemplate)}}function se(p,B){}function vt(p,B){if(1&p&&e.DNE(0,se,0,0,"ng-template",14),2&p){const a=e.XpG(2).$implicit,c=e.XpG(2);e.Y8G("templateContext",e.l_i(1,on,c.template.templateRef,a.value))}}function A(p,B){if(1&p&&(e.j41(0,"span",23),e.EFF(1),e.k0s()),2&p){const a=e.XpG(2).$implicit,c=e.XpG(2);e.R7$(),e.JRh(c.getText(a.value))}}function U(p,B){if(1&p&&(e.j41(0,"li",27,3),e.DNE(2,vt,1,4,null,10)(3,A,2,1,"ng-template",18),e.k0s()),2&p){let a;const c=e.XpG(),d=c.$implicit,v=c.index,x=e.XpG(2);e.HbH(x.listItemClass),e.xc7("width",null!==(a=x.rowWidth)&&void 0!==a?a:null,"px"),e.Y8G("height",null==x.virtual?null:x.virtual.itemHeight)("index",d.offsetIndex)("multipleSelection",x.multipleSelection)("ngClass",e.l_i(14,ve,x.isDisabled(d.offsetIndex),x.isAltRow(v-1))),e.BMQ("absolute-index",d.index)("id",x.optionPrefix+"-"+(v-1-d.groupIndex))("tabIndex",-1)("aria-selected",x.isItemSelected(d.offsetIndex)),e.R7$(2),e.Y8G("ngIf",x.template),e.R7$(),e.Y8G("ngIf",!x.template)}}function Y(p,B){if(1&p&&e.DNE(0,zs,5,18,"li",24)(1,U,4,17,"li",25),2&p){const a=B.$implicit;e.Y8G("ngIf",a.header),e.R7$(),e.Y8G("ngIf",!a.header)}}function Z(p,B){if(1&p&&e.DNE(0,Y,2,2,"ng-template",19),2&p){const a=e.XpG();e.Y8G("ngForOf",a.data)}}function wt(p,B){if(1&p){const a=e.RV6();e.j41(0,"kendo-resize-sensor",28),e.bIt("resize",function(){e.eBV(a);const d=e.XpG();return e.Njj(d.listResize.emit())}),e.k0s()}}function ti(p,B){if(1&p){const a=e.RV6();e.j41(0,"div",29,4)(2,"div")(3,"kendo-resize-sensor",28),e.bIt("resize",function(){e.eBV(a);const d=e.XpG();return e.Njj(d.listResize.emit())}),e.k0s()()()}if(2&p){const a=e.XpG();e.R7$(2),e.xc7("height",a.scrollHeight,"px")}}const Qt=["actionSheetSearchBar"],Zt=p=>({duration:p}),_i=(p,B)=>({"k-adaptive-actionsheet":!0,"k-actionsheet-fullscreen":p,"k-actionsheet-bottom":B}),En=p=>({height:p});function qn(p,B){if(1&p&&(e.j41(0,"div",15),e.EFF(1),e.k0s()),2&p){const a=e.XpG(2);e.R7$(),e.JRh(a.title)}}function zn(p,B){if(1&p&&(e.j41(0,"div",16),e.EFF(1),e.k0s()),2&p){const a=e.XpG(2);e.R7$(),e.JRh(a.subtitle)}}function pn(p,B){1&p&&e.nrm(0,"kendo-icon",21)}function Kn(p,B){1&p&&e.DNE(0,pn,1,0,"ng-template",20)}function ds(p,B){if(1&p){const a=e.RV6();e.j41(0,"div",17)(1,"kendo-textbox",18,1),e.bIt("valueChange",function(d){e.eBV(a);const v=e.XpG(2);return e.Njj(v.onValueChange(d))}),e.DNE(3,Kn,1,0,null,19),e.k0s()()}if(2&p){const a=e.XpG(2);e.R7$(),e.Y8G("value",a.searchBarValue||"")("placeholder",a.filterable?a.messageFor("filterInputPlaceholder"):a.placeholder),e.R7$(2),e.Y8G("ngIf",a.filterable)}}function xs(p,B){1&p&&e.eu8(0)}function cr(p,B){if(1&p){const a=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"div",6),e.DNE(3,qn,2,1,"div",7)(4,zn,2,1,"div",8),e.k0s(),e.j41(5,"div",9)(6,"button",10),e.bIt("click",function(){e.eBV(a);const d=e.XpG();return e.Njj(d.handleClose())}),e.k0s()()(),e.DNE(7,ds,4,3,"div",11),e.k0s(),e.j41(8,"div",12)(9,"div",13),e.DNE(10,xs,1,0,"ng-container",14),e.k0s()()}if(2&p){const a=e.XpG();e.R7$(3),e.Y8G("ngIf",a.title),e.R7$(),e.Y8G("ngIf",a.subtitle),e.R7$(2),e.Y8G("svgIcon",a.checkIcon)("tabIndex",-1),e.BMQ("title",a.messageFor("adaptiveCloseButtonTitle")),e.R7$(),e.Y8G("ngIf",a.showTextInput),e.R7$(3),e.Y8G("ngTemplateOutlet",a.sharedPopupActionSheetTemplate)}}const On=["container"],rn=["popupTemplate"],$n=["optionsList"],Pt=p=>({templateRef:p});function us(p,B){}function kn(p,B){if(1&p&&(e.j41(0,"span",14),e.DNE(1,us,0,0,"ng-template",15),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",null==a.prefixTemplate?null:a.prefixTemplate.templateRef)}}function wo(p,B){1&p&&e.nrm(0,"kendo-separator")}function Vt(p,B){if(1&p){const a=e.RV6();e.j41(0,"span",16),e.bIt("click",function(d){e.eBV(a);const v=e.XpG();return e.Njj(v.clearValue(d))})("mousedown",function(d){return e.eBV(a),e.Njj(d.preventDefault())}),e.nrm(1,"kendo-icon-wrapper",17),e.k0s()}if(2&p){const a=e.XpG();e.xc7("visibility",a.clearButtonVisiblity),e.BMQ("title",a.messageFor("clearTitle")),e.R7$(),e.Y8G("svgIcon",a.xIcon)}}function dr(p,B){1&p&&e.nrm(0,"span",18)}function Ir(p,B){1&p&&e.nrm(0,"kendo-separator")}function Io(p,B){}function hs(p,B){if(1&p&&(e.j41(0,"span",19),e.DNE(1,Io,0,0,"ng-template",15),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",null==a.suffixTemplate?null:a.suffixTemplate.templateRef)}}function ur(p,B){1&p&&e.eu8(0)}function uo(p,B){if(1&p&&e.DNE(0,ur,1,0,"ng-container",20),2&p){e.XpG();const a=e.sdS(16);e.Y8G("ngTemplateOutlet",a)}}function ho(p,B){if(1&p){const a=e.RV6();e.j41(0,"kendo-resize-sensor",21),e.bIt("resize",function(){e.eBV(a);const d=e.XpG();return e.Njj(d.onResize())}),e.k0s()}}function Do(p,B){}function To(p,B){if(1&p&&e.DNE(0,Do,0,0,"ng-template",24),2&p){const a=e.XpG(2);e.Y8G("templateContext",e.eq3(1,Pt,a.headerTemplate.templateRef))}}function po(p,B){}function xo(p,B){if(1&p&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&p){const a=e.XpG(3);e.R7$(),e.JRh(a.messageFor("noDataText"))}}function hr(p,B){if(1&p&&(e.j41(0,"div",25),e.DNE(1,po,0,0,"ng-template",26)(2,xo,2,1,"ng-template",27),e.k0s()),2&p){const a=e.XpG(2);e.R7$(),e.Y8G("ngIf",a.noDataTemplate)("templateContext",e.eq3(3,Pt,null==a.noDataTemplate?null:a.noDataTemplate.templateRef)),e.R7$(),e.Y8G("ngIf",!a.noDataTemplate)}}function ri(p,B){}function Es(p,B){if(1&p&&e.DNE(0,ri,0,0,"ng-template",24),2&p){const a=e.XpG(2);e.Y8G("templateContext",e.eq3(1,Pt,a.footerTemplate.templateRef))}}function ps(p,B){if(1&p){const a=e.RV6();e.DNE(0,To,1,3,null,7),e.j41(1,"kendo-list",22,3),e.bIt("pageChange",function(d){e.eBV(a);const v=e.XpG();return e.Njj(v.pageChange(d))}),e.k0s(),e.DNE(3,hr,3,5,"div",23)(4,Es,1,3,null,7)}if(2&p){const a=e.XpG();e.Y8G("ngIf",a.headerTemplate),e.R7$(),e.Y8G("size",a.isAdaptive?"large":a.size)("rounded",a.rounded)("id",a.listBoxId)("optionPrefix",a.optionPrefix)("data",a.data)("textField",a.valueField)("valueField",a.valueField)("template",a.template)("groupTemplate",a.groupTemplate)("fixedGroupTemplate",a.fixedGroupTemplate)("height",a.listHeight)("show",a.isOpen)("virtual",a.virtual)("showStickyHeader",a.showStickyHeader),e.R7$(2),e.Y8G("ngIf",0===a.data.length),e.R7$(),e.Y8G("ngIf",a.footerTemplate)}}const Mi=["select"],is=p=>({mousedown:p});function Ho(p,B){}function pr(p,B){if(1&p&&(e.j41(0,"span",17),e.DNE(1,Ho,0,0,"ng-template",18),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",null==a.prefixTemplate?null:a.prefixTemplate.templateRef)}}function Oo(p,B){1&p&&e.nrm(0,"kendo-separator")}function Os(p,B){if(1&p){const a=e.RV6();e.j41(0,"span",19),e.bIt("click",function(d){e.eBV(a);const v=e.XpG();return e.Njj(v.clearValue(d))}),e.nrm(1,"kendo-icon-wrapper",20),e.k0s()}if(2&p){const a=e.XpG();e.xc7("visibility",a.clearButtonVisiblity),e.Y8G("kendoEventsOutsideAngular",e.eq3(5,is,a.preventEventDefault)),e.BMQ("title",a.messageFor("clearTitle")),e.R7$(),e.Y8G("svgIcon",a.xIcon)}}function Dr(p,B){1&p&&e.nrm(0,"span",21)}function wi(p,B){1&p&&e.nrm(0,"kendo-separator")}function Mo(p,B){}function Js(p,B){if(1&p&&(e.j41(0,"span",22),e.DNE(1,Mo,0,0,"ng-template",18),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",null==a.suffixTemplate?null:a.suffixTemplate.templateRef)}}function ns(p,B){1&p&&e.eu8(0)}function yo(p,B){if(1&p&&e.DNE(0,ns,1,0,"ng-container",23),2&p){e.XpG();const a=e.sdS(19);e.Y8G("ngTemplateOutlet",a)}}function ms(p,B){if(1&p){const a=e.RV6();e.j41(0,"kendo-resize-sensor",24),e.bIt("resize",function(){e.eBV(a);const d=e.XpG();return e.Njj(d.onResize())}),e.k0s()}}function vi(p,B){}function No(p,B){if(1&p&&e.DNE(0,vi,0,0,"ng-template",27),2&p){const a=e.XpG(2);e.Y8G("templateContext",e.eq3(1,Pt,a.headerTemplate.templateRef))}}function Xo(p,B){}function Tr(p,B){if(1&p&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&p){const a=e.XpG(3);e.R7$(),e.JRh(a.messageFor("noDataText"))}}function mo(p,B){if(1&p&&(e.j41(0,"div",28),e.DNE(1,Xo,0,0,"ng-template",29)(2,Tr,2,1,"ng-template",30),e.k0s()),2&p){const a=e.XpG(2);e.R7$(),e.Y8G("ngIf",a.noDataTemplate)("templateContext",e.eq3(3,Pt,a.noDataTemplate?a.noDataTemplate.templateRef:void 0)),e.R7$(),e.Y8G("ngIf",!a.noDataTemplate)}}function mr(p,B){}function go(p,B){if(1&p&&e.DNE(0,mr,0,0,"ng-template",27),2&p){const a=e.XpG(2);e.Y8G("templateContext",e.eq3(1,Pt,a.footerTemplate.templateRef))}}function Ms(p,B){if(1&p){const a=e.RV6();e.DNE(0,No,1,3,null,8),e.j41(1,"kendo-list",25,4),e.bIt("pageChange",function(d){e.eBV(a);const v=e.XpG();return e.Njj(v.pageChange(d))}),e.k0s(),e.DNE(3,mo,3,5,"div",26)(4,go,1,3,null,8)}if(2&p){const a=e.XpG();e.Y8G("ngIf",a.headerTemplate),e.R7$(),e.Y8G("size",a.isAdaptive?"large":a.size)("rounded",a.rounded)("id",a.listBoxId)("optionPrefix",a.optionPrefix)("data",a.data)("textField",a.textField)("valueField",a.valueField)("template",a.template)("groupTemplate",a.groupTemplate)("fixedGroupTemplate",a.fixedGroupTemplate)("height",a.listHeight)("show",a.isOpen)("virtual",a.virtual)("showStickyHeader",a.showStickyHeader),e.R7$(2),e.Y8G("ngIf",0===a.data.length),e.R7$(),e.Y8G("ngIf",a.footerTemplate)}}const fo=["searchInput"];function an(p,B){}function gs(p,B){if(1&p&&e.DNE(0,an,0,0,"ng-template",15),2&p){const a=e.XpG();e.Y8G("templateContext",e.l_i(1,on,a.valueTemplate.templateRef,a.dataItem))}}function ys(p,B){if(1&p&&e.EFF(0),2&p){const a=e.XpG();e.JRh(a.getText())}}function Ci(p,B){1&p&&e.nrm(0,"span",16)}function xr(p,B){1&p&&e.eu8(0)}function Li(p,B){if(1&p&&e.DNE(0,xr,1,0,"ng-container",17),2&p){e.XpG();const a=e.sdS(15);e.Y8G("ngTemplateOutlet",a)}}function ci(p,B){if(1&p){const a=e.RV6();e.j41(0,"kendo-resize-sensor",18),e.bIt("resize",function(){e.eBV(a);const d=e.XpG();return e.Njj(d.onResize())}),e.k0s()}}function mn(p,B){if(1&p){const a=e.RV6();e.j41(0,"div",21),e.bIt("click",function(d){return e.eBV(a),e.Njj(d.stopImmediatePropagation())}),e.j41(1,"span",22),e.nrm(2,"kendo-icon-wrapper",23),e.j41(3,"input",24,4),e.mxI("ngModelChange",function(d){e.eBV(a);const v=e.XpG(2);return e.DH7(v.filterText,d)||(v.filterText=d),e.Njj(d)}),e.bIt("keydown",function(d){e.eBV(a);const v=e.sdS(4),x=e.XpG(2);return e.Njj(x.keydown(d,v))})("input",function(d){e.eBV(a);const v=e.XpG(2);return e.Njj(v.handleFilter(d))})("focus",function(){e.eBV(a);const d=e.XpG(2);return e.Njj(d.onFilterFocus())})("blur",function(){e.eBV(a);const d=e.XpG(2);return e.Njj(d.blurFilterInput())})("click",function(){e.eBV(a);const d=e.XpG(2);return e.Njj(d.handleClick())}),e.k0s()()()}if(2&p){const a=e.XpG(2);e.R7$(),e.Y8G("ngClass",a.filterInputClasses),e.R7$(),e.Y8G("svgIcon",a.searchIcon),e.R7$(),e.Y8G("filterInput",a.isFocused&&!a.touchEnabled)("dir",a.direction),e.R50("ngModel",a.filterText),e.BMQ("aria-controls",a.listBoxId)("aria-label",a.messageFor("filterInputLabel"))}}function Qs(p,B){}function Ks(p,B){if(1&p&&e.DNE(0,Qs,0,0,"ng-template",15),2&p){const a=e.XpG(2);e.Y8G("templateContext",e.eq3(1,Pt,a.headerTemplate.templateRef))}}function Or(p,B){}function y(p,B){if(1&p&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&p){const a=e.XpG(3);e.R7$(),e.JRh(a.messageFor("noDataText"))}}function K(p,B){if(1&p&&(e.j41(0,"div",25),e.DNE(1,Or,0,0,"ng-template",26)(2,y,2,1,"ng-template",9),e.k0s()),2&p){const a=e.XpG(2);e.R7$(),e.Y8G("ngIf",a.noDataTemplate)("templateContext",e.eq3(3,Pt,a.noDataTemplate?a.noDataTemplate.templateRef:void 0)),e.R7$(),e.Y8G("ngIf",!a.noDataTemplate)}}function oe(p,B){}function Se(p,B){if(1&p&&e.DNE(0,oe,0,0,"ng-template",15),2&p){const a=e.XpG(2);e.Y8G("templateContext",e.eq3(1,Pt,a.footerTemplate.templateRef))}}function St(p,B){if(1&p){const a=e.RV6();e.DNE(0,mn,5,7,"ng-template",9)(1,Ks,1,3,null,8),e.j41(2,"kendo-list",19,3),e.bIt("pageChange",function(d){e.eBV(a);const v=e.XpG();return e.Njj(v.pageChange(d))}),e.k0s(),e.DNE(4,K,3,5,"div",20)(5,Se,1,3,null,8)}if(2&p){const a=e.XpG();e.Y8G("ngIf",a.filterable&&!a.isActionSheetExpanded),e.R7$(),e.Y8G("ngIf",a.headerTemplate),e.R7$(),e.Y8G("id",a.listBoxId)("size",a.isAdaptive?"large":a.size)("rounded",a.rounded)("optionPrefix",a.optionPrefix)("data",a.data)("textField",a.textField)("valueField",a.valueField)("template",a.itemTemplate)("groupTemplate",a.groupTemplate)("fixedGroupTemplate",a.fixedGroupTemplate)("height",a.listHeight)("show",a.isOpen)("virtual",a.virtual)("ariaLive",a.ariaLive)("showStickyHeader",a.showStickyHeader)("defaultItem",a.defaultItem),e.R7$(2),e.Y8G("ngIf",0===a.data.length),e.R7$(),e.Y8G("ngIf",a.footerTemplate)}}const mi=["*"],di=(p,B,a,c,d,v,x,q,Ee,et,gt,Ni)=>({"k-focus":p,"k-disabled":B,"k-chip-sm":a,"k-chip-md":c,"k-chip-lg":d,"k-rounded-sm":v,"k-rounded-md":x,"k-rounded-lg":q,"k-rounded-full":Ee,"k-chip-solid k-chip-solid-base":et,"k-chip-flat k-chip-flat-base":gt,"k-chip-outline k-chip-outline-base":Ni});function Hi(p,B){}function Mn(p,B){1&p&&e.DNE(0,Hi,0,0,"ng-template")}function Rn(p,B){}function yn(p,B){if(1&p&&e.DNE(0,Rn,0,0,"ng-template",12),2&p){const a=e.XpG(2).$implicit,c=e.XpG();e.Y8G("templateContext",e.l_i(1,on,c.groupTemplate.templateRef,a))}}function wn(p,B){if(1&p&&e.EFF(0),2&p){const a=e.XpG(2).$implicit;e.Lme("",a.length," ",1===a.length?"item":"items"," selected")}}function ln(p,B){if(1&p&&(e.j41(0,"span",9),e.DNE(1,yn,1,4,null,10)(2,wn,1,2,"ng-template",11),e.k0s()),2&p){const a=e.XpG(2);e.R7$(),e.Y8G("ngIf",a.groupTemplate),e.R7$(),e.Y8G("ngIf",!a.groupTemplate)}}function fs(p,B){}function Ns(p,B){if(1&p&&e.DNE(0,fs,0,0,"ng-template",12),2&p){const a=e.XpG(2).$implicit,c=e.XpG();e.Y8G("templateContext",e.l_i(1,on,c.template.templateRef,a))}}function _o(p,B){if(1&p&&e.EFF(0),2&p){const a=e.XpG(2),c=a.$implicit,d=a.index,v=e.XpG();e.JRh(v.tagProp(c,v.textField,d))}}function Ur(p,B){if(1&p&&(e.j41(0,"span",9),e.DNE(1,Ns,1,4,null,10)(2,_o,1,1,"ng-template",11),e.k0s()),2&p){const a=e.XpG(2);e.R7$(),e.Y8G("ngIf",a.template),e.R7$(),e.Y8G("ngIf",!a.template)}}function Wo(p,B){if(1&p){const a=e.RV6();e.j41(0,"div",3)(1,"span",4),e.DNE(2,Mn,1,0,null,5)(3,ln,3,2,"ng-template",null,0,e.C5r)(5,Ur,3,2,"ng-template",null,1,e.C5r),e.k0s(),e.j41(7,"span",6)(8,"span",7)(9,"kendo-icon-wrapper",8),e.bIt("mousedown",function(d){const v=e.eBV(a),x=v.$implicit,q=v.index,Ee=e.XpG();return e.Njj(Ee.deleteTag(d,x,q))}),e.k0s()()()()}if(2&p){const a=B.$implicit,c=B.index,d=e.sdS(4),v=e.sdS(6),x=e.XpG();e.Y8G("ngClass",e.zJS(9,di,[c===x.focused,x.isTagDisabled(a,c),"small"===x.size,"medium"===x.size,"large"===x.size,"small"===x.rounded,"medium"===x.rounded,"large"===x.rounded,"full"===x.rounded,"solid"===x.fillMode,"flat"===x.fillMode,"outline"===x.fillMode])),e.BMQ("id",x.itemId(a,c))("aria-selected",!0)("role","option"),e.R7$(2),e.Y8G("ngIf",x.isGroupTag(a))("ngIfThen",d)("ngIfElse",v),e.R7$(6),e.BMQ("aria-hidden",c!==x.focused),e.R7$(),e.Y8G("svgIcon",x.xCircleIcon)}}function Mr(p,B){}function _s(p,B){if(1&p&&(e.j41(0,"span",17),e.DNE(1,Mr,0,0,"ng-template",18),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",null==a.prefixTemplate?null:a.prefixTemplate.templateRef)}}function vo(p,B){1&p&&e.nrm(0,"kendo-separator")}function Zs(p,B){if(1&p){const a=e.RV6();e.j41(0,"span",19),e.bIt("mousedown",function(d){e.eBV(a);const v=e.XpG();return e.Njj(v.clearAll(d))}),e.nrm(1,"kendo-icon-wrapper",20),e.k0s()}if(2&p){const a=e.XpG();e.xc7("visibility",a.clearButtonVisiblity),e.BMQ("title",a.messageFor("clearTitle")),e.R7$(),e.Y8G("svgIcon",a.xIcon)}}function ks(p,B){1&p&&e.nrm(0,"span",21)}function Co(p,B){1&p&&e.nrm(0,"kendo-separator")}function eo(p,B){}function In(p,B){if(1&p&&(e.j41(0,"span",22),e.DNE(1,eo,0,0,"ng-template",18),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",null==a.suffixTemplate?null:a.suffixTemplate.templateRef)}}function Vr(p,B){1&p&&e.eu8(0)}function to(p,B){if(1&p&&e.DNE(0,Vr,1,0,"ng-container",23),2&p){e.XpG();const a=e.sdS(19);e.Y8G("ngTemplateOutlet",a)}}function zr(p,B){if(1&p){const a=e.RV6();e.j41(0,"kendo-resize-sensor",24),e.bIt("resize",function(){e.eBV(a);const d=e.XpG();return e.Njj(d.onResize())}),e.k0s()}}function Yo(p,B){}function Kr(p,B){if(1&p&&e.DNE(0,Yo,0,0,"ng-template",27),2&p){const a=e.XpG(2);e.Y8G("templateContext",e.eq3(1,Pt,a.headerTemplate.templateRef))}}function Go(p,B){}function Nn(p,B){if(1&p&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&p){const a=e.XpG(3);e.R7$(),e.JRh(a.messageFor("noDataText"))}}function Rs(p,B){if(1&p&&(e.j41(0,"div",28),e.DNE(1,Go,0,0,"ng-template",29)(2,Nn,2,1,"ng-template",30),e.k0s()),2&p){const a=e.XpG(2);e.R7$(),e.Y8G("ngIf",a.noDataTemplate)("templateContext",e.eq3(3,Pt,a.noDataTemplate?a.noDataTemplate.templateRef:void 0)),e.R7$(),e.Y8G("ngIf",!a.noDataTemplate)}}function $r(p,B){}function Ao(p,B){if(1&p&&e.DNE(0,$r,0,0,"ng-template",27),2&p){const a=e.XpG(2);e.Y8G("templateContext",e.eq3(1,Pt,a.footerTemplate.templateRef))}}function qo(p,B){if(1&p){const a=e.RV6();e.DNE(0,Kr,1,3,null,8),e.j41(1,"kendo-list",25,3),e.bIt("pageChange",function(d){e.eBV(a);const v=e.XpG();return e.Njj(v.pageChange(d))}),e.k0s(),e.DNE(3,Rs,3,5,"div",26)(4,Ao,1,3,null,8)}if(2&p){const a=e.XpG();e.Y8G("ngIf",a.headerTemplate),e.R7$(),e.Y8G("size",a.isAdaptive?"large":a.size)("rounded",a.rounded)("id",a.listBoxId)("optionPrefix",a.optionPrefix)("data",a.data)("textField",a.textField)("valueField",a.valueField)("template",a.template)("groupTemplate",a.groupTemplate)("fixedGroupTemplate",a.fixedGroupTemplate)("height",a.listHeight)("show",a.isOpen)("multipleSelection",!0)("virtual",a.virtual)("checkboxes",a.checkboxes)("isMultiselect",!0)("isActionSheetExpanded",a.isActionSheetExpanded)("showStickyHeader",a.showStickyHeader)("customItemTemplate",a.customItemTemplate)("text",a.text)("allowCustom",a.allowCustom),e.R7$(2),e.Y8G("ngIf",0===a.data.length),e.R7$(),e.Y8G("ngIf",a.footerTemplate)}}const S={name:"@progress/kendo-angular-dropdowns",productName:"Kendo UI for Angular",productCode:"KENDOUIANGULAR",productCodes:["KENDOUIANGULAR"],publishDate:1755030497,version:"19.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"},_=p=>null!=p,ie=p=>Array.isArray(p),ht=p=>_(p)&&"object"==typeof p,te=p=>"string"==typeof p&&0===p.length,Fe=p=>ie(p)&&p.every(B=>ht(B)),Lt=(p,B,a)=>{const c=B.map(d=>_(d)&&_(ye(d,a))?ye(d,a):d);return p.reduce((d,v)=>{const x=_(v)&&_(ye(v,a))?ye(v,a):v,q=c.indexOf(x);return-1!==q&&d.push(q),d},[])},ye=(p,B)=>_(p)?_(B)&&ht(p)?(0,me.oK)(B)(p):p:null,bi=(p,B,a)=>{if(!_(p))return!1;let c=String(p);return a&&(c=c.toLowerCase()),c.startsWith(B)},Pi=(p,B)=>!!_(p)&&B.every(a=>p.hasOwnProperty(a)),Zi=p=>p.className.includes("ng-untouched"),Mt=p=>{},en=(p,B)=>{const a=p.matches||p.msMatchesSelector||p.webkitMatchesSelector;return!!a&&a.call(p,B)},_n=(p,B,a)=>p.nativeElement.contains(B)||a&&a.popupElement.contains(B),Ti=(p,B)=>({small:`k-${p}-sm`,medium:`k-${p}-md`,large:`k-${p}-lg`}[B]),dn=p=>({small:"k-rounded-sm",medium:"k-rounded-md",large:"k-rounded-lg",full:"k-rounded-full"}[p]),Dn=(p,B)=>({solid:`k-${p}-solid`,flat:`k-${p}-flat`,outline:`k-${p}-outline`}[B]),za=p=>!!p,Qr=(p,B,a)=>{const c=p.wrapper.nativeElement.querySelector("kendo-list ul"),d=B.nativeElement.getAttribute("aria-labelledby")||B.nativeElement.getAttribute("data-kendo-label-id");d&&a.setAttribute(c,"aria-labelledby",d)},Ka=(p,B)=>{const a=p.nativeElement.getAttribute("aria-labelledby")||p.nativeElement.getAttribute("data-kendo-label-id");return!B&&a?document.getElementById(a).innerText:B},Zr=300;let Bo=(()=>{class p{localization;injector;input;ngZone;direction;tagListId;set readonly(a){this._readonly=a,this._readonly?this.renderer.setAttribute(this.input.nativeElement,"readonly",""):this.renderer.removeAttribute(this.input.nativeElement,"readonly")}get readonly(){return this._readonly}set disabled(a){this._disabled=a,this._disabled?this.renderer.setAttribute(this.input.nativeElement,"disabled",""):this.renderer.removeAttribute(this.input.nativeElement,"disabled")}get disabled(){return this._disabled}set isRequired(a){this._isRequired=a,this._isRequired?this.renderer.setAttribute(this.input.nativeElement,"required",""):this.renderer.removeAttribute(this.input.nativeElement,"required")}get isRequired(){return this._isRequired}set isSuggestable(a){this._isSuggestable=a,this.setAriaAutocomplete()}get isSuggestable(){return this._isSuggestable}set isFilterable(a){this._isFilterable=a,this.setAriaAutocomplete()}get isFilterable(){return this._isFilterable}get userInput(){return this._userInput}set userInput(a){this._userInput=a||""}get formControl(){return this.injector.get(qe.vO,null)?.control||null}suggestedText;set inputAttributes(a){(0,w.Xn)(this.parsedAttributes)&&(0,w.kr)(this.parsedAttributes,this.renderer,this.input.nativeElement),this._inputAttributes=a,this.parsedAttributes=this.inputAttributes?(0,w.vB)(this.inputAttributes,this.defaultAttributes):this.inputAttributes,this.setInputAttributes()}get inputAttributes(){return this._inputAttributes}id;activeDescendant;tabIndex;isLoading;ariaControls;ariaExpanded=null;get attrAriaInvalid(){return!!this.formControl?.invalid||null}set placeholder(a){this._placeholder=a||"",this.setInputSize()}get placeholder(){return this._placeholder}role="combobox";get dir(){return this.direction}valueChange=new e.bkB;onBlur=new e.bkB;onFocus=new e.bkB;onClick=new e.bkB;onNavigate=new e.bkB;get value(){return this.input.nativeElement.value}_isRequired;_readonly;_disabled;_userInput="";_previousValue="";_placeholder="";_isSuggestable=!1;_isFilterable=!1;renderer;subs=new Ve.yU;_inputAttributes;parsedAttributes={};get defaultAttributes(){return{id:this.id,disabled:this.disabled?"":null,readonly:this.readonly?"":null,placeholder:this.placeholder,tabIndex:this.tabIndex,tabindex:this.tabIndex,dir:this.direction,required:this.isRequired?"":null,"aria-haspopup":"listbox","aria-expanded":this.ariaExpanded,"aria-controls":this.ariaControls,"aria-activedescendant":this.activeDescendant,"aria-busy":this.isLoading,"aria-invalid":this.formControl?.invalid}}get mutableAttributes(){return{autocomplete:"off",role:this.role,"aria-describedby":this.tagListId}}constructor(a,c,d,v,x){this.localization=a,this.injector=d,this.input=v,this.ngZone=x,this.direction=a.rtl?"rtl":"ltr",this.renderer=c,this.renderer.addClass(this.input.nativeElement,"k-input-inner"),this.renderer.setAttribute(this.input.nativeElement,"aria-haspopup","listbox"),this.renderer.setAttribute(this.input.nativeElement,"autocomplete","off")}ngOnInit(){this.subs.add(this.localization.changes.subscribe(({rtl:a})=>this.direction=a?"rtl":"ltr"))}ngOnChanges(a){if(!(0,w.nm)())return;let c;if(this.input&&(a.userInput||a.suggestedText)){c=a.userInput&&a.userInput.previousValue?this._previousValue===a.userInput.previousValue?this._previousValue:a.userInput.currentValue||"":this._previousValue;const d=this.input.nativeElement.selectionStart,v=c.length===d;this.writeInputValue(this.suggestedText?((p,B)=>p.concat(B.substr(B.toLowerCase().indexOf(p.toLowerCase())+p.length)))(this.userInput,this.suggestedText):this.userInput),this.suggestedText?this.setInputSelection(this.userInput.length,this.suggestedText.length):(0,w.nr)(navigator.userAgent)&&!v?this.setInputSelection(d,this.userInput.length):v?this.setInputSelection(this.userInput.length,this.userInput.length):this.setInputSelection(d,d),this._previousValue=this.userInput}}ngAfterViewInit(){this.subs.add(this.input.nativeElement.addEventListener("input",a=>this.handleInput(a))),this.subs.add(this.input.nativeElement.addEventListener("focus",a=>this.handleFocus(a))),this.subs.add(this.input.nativeElement.addEventListener("blur",a=>this.handleBlur(a))),this.subs.add(this.input.nativeElement.addEventListener("keydown",a=>this.handleKeydown(a)))}ngOnDestroy(){this.subs.unsubscribe()}writeInputValue(a){(0,w.nm)()&&this.renderer.setProperty(this.input.nativeElement,"value",a)}setInputSelection(a,c){if((0,w.nm)()&&this.input.nativeElement===document.activeElement)try{this.input.nativeElement.setSelectionRange(a,c)}catch{}}setAriaAutocomplete(){this.isFilterable&&this.renderer.setAttribute(this.input.nativeElement,"aria-autocomplete","list"),this.isSuggestable&&this.renderer.setAttribute(this.input.nativeElement,"aria-autocomplete","inline"),this.isFilterable&&this.isSuggestable&&this.renderer.setAttribute(this.input.nativeElement,"aria-autocomplete","both"),!this.isFilterable&&!this.isSuggestable&&this.renderer.removeAttribute(this.input.nativeElement,"aria-autocomplete")}handleInput(a){const c=a.target,v=(0,w.nr)(navigator.userAgent)&&(p=>/[\u3000-\u303F]|[\u3040-\u309F]|[\u30A0-\u30FF]|[\uFF00-\uFFEF]|[\u4E00-\u9FAF]|[\u2605-\u2606]|[\u2190-\u2195]|\u203B/g.test(p))(c.value)?a.data:c.value;v!==this.userInput&&(this._previousValue=v,this.valueChange.emit(v))}handleFocus(a){this.onFocus.emit(a)}handleBlur(a){this.onBlur.emit(a)}handleKeydown(a){const c=(0,w.tq)(a);[w.D$.ArrowUp,w.D$.ArrowDown,w.D$.ArrowLeft,w.D$.ArrowRight,w.D$.Enter,w.D$.Escape,w.D$.Delete,w.D$.Backspace,w.D$.Home,w.D$.End,w.D$.PageDown,w.D$.PageUp].indexOf(c)>-1&&this.onNavigate.emit(a)}focus(){(0,w.nm)()&&this.input.nativeElement.focus()}blur(){(0,w.nm)()&&this.input.nativeElement.blur()}setInputSize(){const a=q=>q?q.length:0,c=this.input.nativeElement,d=a(this.placeholder),v=a(this.value),x=Math.max(d,v,1);this.renderer.setAttribute(c,"size",x.toString())}setInputAttributes(){const a=Object.assign({},this.mutableAttributes,this.parsedAttributes);(0,w.Fd)(a,this.renderer,this.input.nativeElement,this.ngZone)}static \u0275fac=function(c){return new(c||p)(e.rXU(xe.Pi),e.rXU(e.sFG),e.rXU(e.zZn),e.rXU(e.aKT),e.rXU(e.SKi))};static \u0275cmp=e.VBU({type:p,selectors:[["input","kendoSearchbar",""]],hostVars:10,hostBindings:function(c,d){2&c&&e.BMQ("id",d.id)("aria-activedescendant",d.activeDescendant)("tabindex",d.tabIndex)("aria-busy",d.isLoading)("aria-controls",d.ariaControls)("aria-expanded",d.ariaExpanded)("aria-invalid",d.attrAriaInvalid)("placeholder",d.placeholder)("role",d.role)("dir",d.dir)},inputs:{tagListId:"tagListId",readonly:"readonly",disabled:"disabled",isRequired:"isRequired",isSuggestable:"isSuggestable",isFilterable:"isFilterable",userInput:"userInput",suggestedText:"suggestedText",inputAttributes:"inputAttributes",id:"id",activeDescendant:"activeDescendant",tabIndex:"tabIndex",isLoading:"isLoading",ariaControls:"ariaControls",ariaExpanded:"ariaExpanded",placeholder:"placeholder"},outputs:{valueChange:"valueChange",onBlur:"onBlur",onFocus:"onFocus",onClick:"onClick",onNavigate:"onNavigate"},standalone:!0,features:[e.OA$,e.aNF],attrs:es,decls:0,vars:0,template:function(c,d){},encapsulation:2})}return p})(),yt=(()=>{class p{templateRef;constructor(a){this.templateRef=a}static \u0275fac=function(c){return new(c||p)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:p,selectors:[["","kendoDropDownListItemTemplate",""],["","kendoComboBoxItemTemplate",""],["","kendoAutoCompleteItemTemplate",""],["","kendoMultiSelectItemTemplate",""]],standalone:!0})}return p})(),un=(()=>{class p{templateRef;constructor(a){this.templateRef=a}static \u0275fac=function(c){return new(c||p)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:p,selectors:[["","kendoDropDownListHeaderTemplate",""],["","kendoComboBoxHeaderTemplate",""],["","kendoDropDownTreeHeaderTemplate",""],["","kendoMultiColumnComboBoxHeaderTemplate",""],["","kendoAutoCompleteHeaderTemplate",""],["","kendoMultiSelectHeaderTemplate",""],["","kendoMultiSelectTreeHeaderTemplate",""]],standalone:!0})}return p})(),Pn=(()=>{class p{templateRef;constructor(a){this.templateRef=a}static \u0275fac=function(c){return new(c||p)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:p,selectors:[["","kendoDropDownListFooterTemplate",""],["","kendoComboBoxFooterTemplate",""],["","kendoDropDownTreeFooterTemplate",""],["","kendoMultiColumnComboBoxFooterTemplate",""],["","kendoAutoCompleteFooterTemplate",""],["","kendoMultiSelectFooterTemplate",""],["","kendoMultiSelectTreeFooterTemplate",""]],standalone:!0})}return p})(),jn=(()=>{class p{templateRef;constructor(a){this.templateRef=a}static \u0275fac=function(c){return new(c||p)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:p,selectors:[["","kendoDropDownListGroupTemplate",""],["","kendoComboBoxGroupTemplate",""],["","kendoMultiColumnComboBoxGroupTemplate",""],["","kendoAutoCompleteGroupTemplate",""],["","kendoMultiSelectGroupTemplate",""]],standalone:!0})}return p})(),Hn=(()=>{class p{templateRef;constructor(a){this.templateRef=a}static \u0275fac=function(c){return new(c||p)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:p,selectors:[["","kendoDropDownListFixedGroupTemplate",""],["","kendoComboBoxFixedGroupTemplate",""],["","kendoMultiColumnComboBoxFixedGroupTemplate",""],["","kendoAutoCompleteFixedGroupTemplate",""],["","kendoMultiSelectFixedGroupTemplate",""]],standalone:!0})}return p})(),ss=(()=>{class p{grouped=!1;groupIndices=[];view;_data;_flatData;set data(a){this._data=a,this.grouped=this.isGrouped(a),this.grouped&&(this.groupIndices=this.getGroupIndices(a),this._flatData=this.flatten(a))}get data(){return this.grouped?this._flatData:this._data}get itemsCount(){return _(this.data)&&0!==this.data.length?(this.grouped?this._flatData.filter(c=>!c.header):this.data).length:0}isGrouped(a){return _(a)&&0!==a.length&&_(a[0])&&Pi(a[0],["aggregates","field","items","value"])}getGroupIndices(a){const c=[];for(let d=0;d<=a.length-1;d++)c[d]=(c[d-1]||0)+a[d].items.length;return c}filter(a){let c=[];if(this.isGrouped(this.data))for(let d=0;d<=this.groupIndices.length-1;d++){const v=this.data[d].items.filter(a);v&&(c=c.concat(v))}else c=this.data.filter(a);return c}indexOf(a,c=0){let d=v=>v===a;return this.grouped&&(d=v=>v.value===a),this.findIndex(d,c)}findIndex(a,c=0){let d=-1;if(this.grouped){const v=this._flatData.filter(x=>!x.header&&x.offsetIndex>=c);d=v.findIndex(a),d=v[d]?v[d].offsetIndex:-1}else{const x=this.data.slice(c).findIndex(a);d=-1!==x?x+c:-1}return d}closestGroup(a){for(let c=a;c>=0;c--)if(this._flatData[c].header)return this._flatData[c]}find(a){const c=this.findIndex(a);return this.itemAt(c)}flatIndex(a){if(0===this.itemsCount)return-1;if(!this.grouped)return a;{const c=this._flatData.find(d=>!d.header&&d.offsetIndex===a);if(c)return c.index}return-1}itemAt(a){let c;if(0===this.itemsCount)return c;if(this.grouped){const d=this._flatData.find(v=>!v.header&&v.offsetIndex===a);d&&(c=d.value)}else c=this.data[a];return c}groupAt(a){if(0!==this.itemsCount&&this.isGrouped)return this._flatData.find(c=>c.header&&c.index===a)}groupItemsIndices(){return this.isGrouped?((p,B,a)=>this.data.reduce((c,d)=>(a=>a.header)(d)?[...c,a(d)]:c,[]))(0,0,a=>a.index):[]}groupField(){return 0!==this.itemsCount&&this.isGrouped?this._data[0].field:null}itemGroup(a){if(!a||0===this.itemsCount||!this.isGrouped)return;const c=this.groupField();return c?ye(a,c):void 0}flatten(a,c=void 0,d=0,v=0){let x=[];_(c)&&x.push({header:!0,groupIndex:v,index:v+d,offsetIndex:v,value:c});for(let q=0;q<a.length;q++){let Ee=[];a[q].items?(Ee=this.flatten(a[q].items,a[q].value,d,q),d+=a[q].items.length):Ee.push({header:!1,groupIndex:v,index:v+d+q+1,offsetIndex:d+q,value:a[q]}),x=x.concat(Ee)}return x}static \u0275fac=function(c){return new(c||p)};static \u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})(),Xn=(()=>{class p{dataService;defaultItem;itemDisabled=null;constructor(a){this.dataService=a}isIndexDisabled(a){if(this.itemDisabled){const c=this.dataService.itemAt(a);if(_(c))return this.itemDisabled({dataItem:c,index:a});if(_(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}isItemDisabled(a){if(this.itemDisabled){const c=this.dataService.indexOf(a);if(-1!==c)return this.itemDisabled({dataItem:a,index:c});if(_(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}static \u0275fac=function(c){return new(c||p)(e.KVO(ss))};static \u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})(),Cs=(()=>{class p{disabledItemsService;onSelect=new e.bkB;onChange=new e.bkB;onFocus=new e.bkB;total=0;lastClickedIndex;selectedIndices=[];focusedIndex;constructor(a){this.disabledItemsService=a}getTotal(){return this.total}isSelected(a){return _(this.selectedIndices.find(c=>c===a))}isFocused(a){return a===this.focused}focus(a){this.isFocused(a)||(this.focused=a,this.onFocus.emit(a))}select(a){this.isSelected(a)||(this.selectedIndices=[a],this.focused=a,this.onSelect.emit({indices:[a],newSelection:_(a)}))}add(a,c){this.isSelected(a)||(this.selectedIndices.push(a),this.focused=a,this.onChange.emit({added:a,indices:this.selectedIndices.slice(),preventClosingPopup:c}))}indicesToBeRemoved=[];indicesToBeAdded=[];emitMultipleAddedRemoved(){this.onChange.emit({added:this.indicesToBeAdded,removed:this.indicesToBeRemoved,indices:this.selectedIndices.slice(),preventClosingPopup:!0,isMultipleSelection:!0}),this.indicesToBeAdded=[],this.indicesToBeRemoved=[]}addMultiple(a){this.indicesToBeAdded=a.slice(),this.selectedIndices.push(...a)}deselect(a,c){if(!this.isSelected(a))return;const d=this.selectedIndices.indexOf(a);this.selectedIndices.splice(d,1),this.focused=a,0===this.selected.length&&(this.lastClickedIndex=null),this.onChange.emit({indices:this.selectedIndices.slice(),removed:a,preventClosingPopup:c})}unselectMultiple(a){a.forEach(c=>{const d=this.selectedIndices.indexOf(c);this.selectedIndices.splice(d,1)}),this.indicesToBeRemoved=a.slice()}change(a){const c=_(a)&&!this.isSelected(a);this.selectedIndices=[a],this.focused=a,this.onChange.emit({indices:[a],newSelection:c})}resetSelection(a){this.selectedIndices=a instanceof Array?a:[a],this.focused=this.selectedIndices[this.selectedIndices.length-1]}get selected(){return this.selectedIndices.slice()}get focused(){return this.focusedIndex}set focused(a){this.focusedIndex!==a&&(this.focusedIndex=a,this.onFocus.emit(a))}selectFromTo(a,c){const d=[];for(let v=a;v<=c;v++)!this.isSelected(v)&&!this.disabledItemsService.isIndexDisabled(v)&&d.push(v);this.addMultiple(d)}unselectFromTo(a,c){const d=[];for(let v=a;v>=c;v--)this.isSelected(v)&&!this.disabledItemsService.isIndexDisabled(v)&&d.push(v);this.unselectMultiple(d)}unselectNotNeededIndices(a,c,d){const v=[];for(let x=0;x<a;x++)this.isSelected(x)&&v.push(x);for(let x=c+1;x<d;x++)this.isSelected(x)&&v.push(x);this.unselectMultiple(v)}static \u0275fac=function(c){return new(c||p)(e.KVO(Xn))};static \u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();var mt=function(p){return p[p.Undefined=0]="Undefined",p[p.Open=1]="Open",p[p.Close=2]="Close",p[p.Enter=3]="Enter",p[p.Tab=4]="Tab",p[p.Esc=5]="Esc",p[p.Delete=6]="Delete",p[p.Backspace=7]="Backspace",p[p.Home=8]="Home",p[p.End=9]="End",p[p.Up=10]="Up",p[p.Down=11]="Down",p[p.Left=12]="Left",p[p.Right=13]="Right",p[p.PageDown=14]="PageDown",p[p.PageUp=15]="PageUp",p[p.SelectPrevious=16]="SelectPrevious",p[p.SelectNext=17]="SelectNext",p[p.SelectAll=18]="SelectAll",p[p.SelectAllToBeginning=19]="SelectAllToBeginning",p[p.SelectAllToEnd=20]="SelectAllToEnd",p}(mt||{});class kt{index;originalEvent;constructor(B,a){this.index=B,this.originalEvent=a}}let os=(()=>{class p{disabledItemsService;selectionService;open=new e.bkB;close=new e.bkB;enter=new e.bkB;tab=new e.bkB;esc=new e.bkB;up=new e.bkB;right=new e.bkB;down=new e.bkB;left=new e.bkB;delete=new e.bkB;backspace=new e.bkB;home=new e.bkB;end=new e.bkB;pagedown=new e.bkB;pageup=new e.bkB;selectnext=new e.bkB;selectprevious=new e.bkB;selectall=new e.bkB;selectalltobeginning=new e.bkB;selectalltoend=new e.bkB;constructor(a,c){this.disabledItemsService=a,this.selectionService=c}process(a){const c=(0,w.tq)(a.originalEvent),d=a.originalEvent.altKey,v=a.originalEvent.shiftKey,x=a.originalEvent.ctrlKey||a.originalEvent.metaKey;let et,gt=mt.Undefined;d&&c===w.D$.ArrowDown||a.openOnSpace&&c===w.D$.Space?gt=mt.Open:d&&c===w.D$.ArrowUp||a.closeOnSpace&&c===w.D$.Space?gt=mt.Close:v&&c===w.D$.ArrowUp?gt=mt.SelectPrevious:v&&c===w.D$.ArrowDown?gt=mt.SelectNext:x&&c===w.D$.KeyA?gt=mt.SelectAll:x&&v&&c===w.D$.Home?gt=mt.SelectAllToBeginning:x&&v&&c===w.D$.End?gt=mt.SelectAllToEnd:c===w.D$.Enter?gt=mt.Enter:c===w.D$.Escape?gt=mt.Esc:c===w.D$.Tab?gt=mt.Tab:c===w.D$.ArrowUp?(et=this.next({current:a.current,start:a.min,end:a.max,step:-1}),gt=mt.Up):c===w.D$.ArrowLeft?(et=this.next({current:a.current,start:a.min,end:a.max,step:-1}),gt=mt.Left):c===w.D$.ArrowDown?(et=this.next({current:a.current,start:a.min,end:a.max,step:1}),gt=mt.Down):c===w.D$.ArrowRight?(et=this.next({current:a.current,start:a.min,end:a.max,step:1}),gt=mt.Right):c===w.D$.Home?(et=this.isDisabled(0)?a.current:0,gt=mt.Home):c===w.D$.End?(et=this.isDisabled(a.max)?a.current:a.max,gt=mt.End):c===w.D$.Delete?gt=mt.Delete:c===w.D$.Backspace?gt=mt.Backspace:c===w.D$.PageDown?gt=mt.PageDown:c===w.D$.PageUp&&(gt=mt.PageUp);const Ni=new kt(et,a.originalEvent);return gt!==mt.Undefined&&this[mt[gt].toLowerCase()].emit(Ni),gt}next(a){const{current:c,start:d,end:v,step:x}=a,q=_(c)?this.clampIndex(c+x,d,v):d,Ee=this.firstFocusableIndex(q,d,v,x);return _(Ee)?Ee:this.selectionService.isSelected(c)&&c>=d?c:this.firstFocusableIndex(q,d,v,-1*x)}clampIndex(a,c,d){return!_(a)||a<c?c:a>d?d:a}firstFocusableIndex(a,c,d,v){for(;c<=a&&a<=d;){if(!this.isDisabled(a))return a;a+=v}}isDisabled(a){if(this.disabledItemsService)return this.disabledItemsService.isIndexDisabled(a)}static \u0275fac=function(c){return new(c||p)(e.KVO(Xn),e.KVO(Cs))};static \u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})(),Lo=(()=>{class p{templateRef;constructor(a){this.templateRef=a}static \u0275fac=function(c){return new(c||p)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:p,selectors:[["","kendoDropDownListNoDataTemplate",""],["","kendoDropDownTreeNoDataTemplate",""],["","kendoComboBoxNoDataTemplate",""],["","kendoMultiColumnComboBoxNoDataTemplate",""],["","kendoAutoCompleteNoDataTemplate",""],["","kendoMultiSelectNoDataTemplate",""],["","kendoMultiSelectTreeNoDataTemplate",""]],standalone:!0})}return p})();class ka{prevented=!1;preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class $a{data;filterable;filterChange;textField;valueField}let yc=(()=>{class p{element;constructor(a){this.element=a}static \u0275fac=function(c){return new(c||p)(e.rXU(e.aKT))};static \u0275dir=e.FsC({type:p,selectors:[["li","role","option"],["li","role","group"]],standalone:!0})}return p})(),Nc=(()=>{class p{index;checkboxes={enabled:!1};height;isMultiselect;multipleSelection=!1;selectionService;constructor(a){this.selectionService=a}get focusedClassName(){return this.selectionService.isFocused(this.index)}get selectedClassName(){return!this.checkboxes.enabled&&this.selectionService.isSelected(this.index)}onClick(a){a.stopPropagation(),this.selectionService.lastClickedIndex=this.index,(!this.checkboxes.enabled||this.checkboxes.checkOnClick)&&(this.multipleSelection?this.selectionService.isSelected(this.index)?this.selectionService.deselect(this.index):this.selectionService.add(this.index):this.selectionService.change(this.index))}static \u0275fac=function(c){return new(c||p)(e.rXU(Cs))};static \u0275dir=e.FsC({type:p,selectors:[["","kendoDropDownsSelectable",""]],hostVars:9,hostBindings:function(c,d){1&c&&e.bIt("click",function(x){return d.onClick(x)}),2&c&&(e.BMQ("index",d.index),e.xc7("height",d.height,"px")("min-height",d.height,"px"),e.AVh("k-focus",d.focusedClassName)("k-selected",d.selectedClassName))},inputs:{index:"index",checkboxes:"checkboxes",height:"height",isMultiselect:"isMultiselect",multipleSelection:"multipleSelection"},standalone:!0})}return p})(),gi=(()=>{class p{templateRef;constructor(a){this.templateRef=a}static \u0275fac=function(c){return new(c||p)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:p,selectors:[["","kendoMultiSelectCustomItemTemplate",""]],standalone:!0})}return p})(),ja=(()=>{class p{dataService;wrapper;selectionService;disabledItemsService;cdr;zone;renderer;localization;selected=[];focused=-1;textField;valueField;height;template;groupTemplate;fixedGroupTemplate;show=!0;id;optionPrefix;multipleSelection=!1;virtual;type="list";checkboxes={enabled:!1};ariaLive;isMultiselect;isActionSheetExpanded;showStickyHeader;rowWidth;customItemTemplate;text;allowCustom;defaultItem;set data(a){this._data=a[0]&&a[0].header?a.slice(0):a}get data(){return this._data}set size(a){"list"===this.type&&(this.renderer.removeClass(this.wrapper.nativeElement,Ti("list",this.size)),a&&this.renderer.addClass(this.wrapper.nativeElement,Ti("list",a)),this._size=a)}get size(){return this._size}rounded="medium";onClick=new e.bkB;pageChange=new e.bkB;listResize=new e.bkB;popupListScroll=new e.bkB;items;content;list;virtualContainer;currentGroup;startFrom=0;lastLoaded=0;lastScrollTop=0;listContentClass;listClass;listItemClass;listVirtualClass;listGroupStickyHeaderClass;listGroupStickyHeaderTextClass;listGroupItemClass;listGroupItemTextClass;scrollToFocused=!1;_data;scrollSubscription;selectSubscription;_size="medium";get pageSize(){return this.virtual.pageSize?this.virtual.pageSize:Math.round(this.height/this.virtual.itemHeight)}get scrollHeight(){return this.virtual.total*this.virtual.itemHeight}get overflowY(){if(_(this.virtual))return this.hasVirtualScrollbar()?"scroll":"hidden"}get useCustomValueText(){const a=this.localization.get("useCustomValueText");return(0,w.DG)(a,"customValue",this.text)}get checkboxClasses(){return`${this.size?Ti("checkbox",this.size):""} ${this.rounded?dn(this.rounded):""}`}constructor(a,c,d,v,x,q,Ee,et){this.dataService=a,this.wrapper=c,this.selectionService=d,this.disabledItemsService=v,this.cdr=x,this.zone=q,this.renderer=Ee,this.localization=et,this.selectSubscription=(0,Be.h)(this.selectionService.onSelect.pipe((0,Ze.T)(gt=>gt.indices[0])),this.selectionService.onFocus).pipe((0,He.n)(gt=>this.zone.onStable.pipe((0,Ei.s)(1),(0,Ze.T)(()=>gt)))).subscribe(this.scrollToItem.bind(this)),this.prepareClasses()}ngOnChanges(a){(0,w.Hq)("data",a,!1)&&(this.lastLoaded<=0&&(this.lastLoaded=this.data.length-1,this.scrollToFocused=!a.data.isFirstChange()),this.setOverflow(),this.zone.onStable.pipe((0,Ei.s)(1)).subscribe(()=>{this.setGroupAttributes()})),(0,w.Hq)("virtual",a,!1)&&this.setOverflow(),(0,w.Hq)("type",a,!1)&&this.prepareClasses()}ngAfterViewInit(){this.setComponentClasses(),this.zone.runOutsideAngular(()=>{this.scrollSubscription=(0,It.R)(this.content.nativeElement,"scroll").pipe((0,Ot.Z)(100),(0,Wt.M)(this.prefetchData.bind(this)),(0,Wt.M)(this.findCurrentGroup.bind(this))).subscribe(()=>{this.lastScrollTop=this.content.nativeElement.scrollTop})}),this.setGroupAttributes(),this.setOverflow()}setGroupAttributes(){const a=document.querySelectorAll("li");let c,x,d=[],v=!1;a.forEach((q,Ee)=>{c="group"===q.getAttribute("role"),!c&&v&&(this.renderer.setAttribute(q,"aria-describedby",x.getAttribute("id")),d.push(q.getAttribute("id")),(Ee+1>=a.length||"group"===a[Ee+1]?.getAttribute("role"))&&(this.renderer.setAttribute(x,"aria-owns",d.join(" ")),d=[])),c&&(v=!0,x=q)})}ngAfterViewChecked(){this.virtual&&this.positionItems(),this.items&&this.scrollToFocused&&(this.scrollToFocused=!1,this.scrollToItem(this.items.length&&-1===this.selectionService.focused?0:this.selectionService.focused)),this.dataService.grouped&&this.findCurrentGroup()}ngOnDestroy(){this.selectSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe()}onCheckedChange(a,c){const d=a.target.checked;d&&!this.selectionService.isSelected(c)&&this.selectionService.add(c),!d&&this.selectionService.isSelected(c)&&this.selectionService.deselect(c)}prepareClasses(){"list"===this.type?(this.listContentClass="k-list-content",this.listClass="k-list-ul",this.listItemClass="k-list-item",this.listVirtualClass="k-virtual-list",this.listGroupStickyHeaderClass="k-list-group-sticky-header",this.listGroupStickyHeaderTextClass="k-list-header-text",this.listGroupItemClass="k-list-group-item",this.listGroupItemTextClass="k-list-item-text"):(this.listContentClass="k-table-body k-table-scroller",this.listClass="k-table k-table-list",this.listItemClass="k-table-row",this.listVirtualClass="k-virtual-table",this.listGroupStickyHeaderClass="k-table-group-sticky-header",this.listGroupStickyHeaderTextClass="k-table-th",this.listGroupItemClass="k-table-group-row",this.listGroupItemTextClass="k-table-th")}isChecked(a){return this.selectionService.isSelected(this.virtual?a+this.virtual.skip:a)}firstVisibleItem(){const a=this.content.nativeElement,c=a.getBoundingClientRect(),d=Array.prototype.slice.call(a.querySelectorAll(".k-disabled"));d.forEach(x=>this.renderer.setStyle(x,"pointer-events","auto"));const v=document.elementFromPoint(c.left+1,c.top+1);return d.forEach(x=>this.renderer.setStyle(x,"pointer-events","none")),((p,B)=>{let a=p;for(;null!==a&&1===a.nodeType;){if(en(a,"li"))return a;a=a.parentElement||a.parentNode}return null})(v)}findCurrentGroup(){if(!this.dataService.grouped)return void(this.currentGroup=void 0);const a=this.firstVisibleItem();if(a){let c;"group"===a.getAttribute("role")?(c=parseInt(a.getAttribute("group-index"),10),this.currentGroup=this.dataService.groupAt(c)?.value):(c=parseInt(a.getAttribute("index"),10),this.currentGroup=this.dataService.itemGroup(this.dataService.itemAt(c)))}else this.currentGroup=void 0;this.cdr.detectChanges()}prefetchData(){if(!this.virtual)return;const a=Math.trunc(this.content.nativeElement.clientHeight/this.virtual.itemHeight),c=this.content.nativeElement.scrollTop,d=Math.trunc(c/this.virtual.itemHeight),v=c>this.lastScrollTop,Ee=this.lastLoaded-this.pageSize+a>=d-(this.pageSize-(this.lastLoaded-this.startFrom));v&&d+a>=this.lastLoaded&&this.lastLoaded<this.virtual.total-1&&this.changePage(d),!v&&Ee&&this.changePage(d-this.pageSize+a+1)}changePage(a){this.zone.run(()=>{let c=this.pageSize+a;c>this.virtual.total&&(a--,c=this.virtual.total),a<0&&(a=0),this.startFrom=a,this.lastLoaded=c,this.pageChange.emit({skip:a,take:this.pageSize})}),this.setGroupAttributes()}index(a,c){return a>0?this.dataService.groupIndices[a-1]+c:c}getText(a){return ye(a,this.textField)}getValue(a){return ye(a,this.valueField)}isDisabled(a){return _(this.virtual)&&!this.dataService.grouped&&(a+=this.virtual.skip),this.disabledItemsService.isIndexDisabled(a)}isAltRow(a){return"dropdowngrid"===this.type&&a%2!=0}scrollToItem(a){let c=a;if(this.dataService.grouped&&(c=this.dataService.flatIndex(a)),this.virtual&&c>-1)return void this.scrollToIndex(c);const d=this.items.toArray();_(d[c])&&-1!==c&&this.scroll(d[c].element)}scrollWithOnePage(a){const c=this.content.nativeElement,d=c.clientHeight;a===mt.PageDown?c.scrollTop+=d:a===mt.PageUp&&(c.scrollTop-=d)}scrollToIndex(a){const c=this.content.nativeElement;let d=c.scrollTop;const v=a*this.virtual.itemHeight,q=c.clientHeight,Ee=v+this.virtual.itemHeight;d>v?d=v:Ee>d+q&&(d=Ee-q),c.scrollTop=d}scroll(a){if(!a)return;const c=a.nativeElement,d=this.content.nativeElement,v=c.offsetTop;let q=d.scrollTop;const Ee=d.clientHeight,et=v+c.offsetHeight;q>v?q=v:et>q+Ee&&(q=et-Ee),d.scrollTop=q}hasScrollbar(){return!!(_(this.items)&&this.items.length&&_(this.list)&&_(this.content))&&(_(this.virtual)&&this.hasVirtualScrollbar()||this.list.nativeElement.scrollHeight>this.content.nativeElement.offsetHeight)}isItemSelected(a){return this.selectionService.isSelected(a)||null}get isDisabledDefaultItem(){return this.disabledItemsService.isItemDisabled(this.defaultItem)}getDefaultItemText(){return ye(this.defaultItem,this.textField)}setOverflow(){if(this.virtual){const a=this.hasVirtualScrollbar()?"scroll":"hidden";this.renderer.setStyle(this.content.nativeElement,"overflow-y",a)}}hasVirtualScrollbar(){return this.virtualContainer&&(this.virtualContainer&&this.virtualContainer.nativeElement.offsetHeight)>this.content.nativeElement.offsetHeight}positionItems(){this.items.forEach((a,c)=>{this.renderer.setStyle(a.element.nativeElement,"transform",`translateY(${(c+this.startFrom)*this.virtual.itemHeight}px`)})}firstGroupHeaderInTargetedPage(a){return!_(this.virtual)||0===this.virtual.skip&&this.virtual.pageSize>a}setComponentClasses(){"list"===this.type&&(this.renderer.addClass(this.wrapper.nativeElement,"k-list"),this.size&&this.renderer.addClass(this.wrapper.nativeElement,Ti("list",this.size))),"dropdowngrid"===this.type&&this.renderer.setStyle(this.wrapper.nativeElement,"overflow-y","scroll"),_(this.virtual)&&this.renderer.addClass(this.wrapper.nativeElement,this.listVirtualClass)}static \u0275fac=function(c){return new(c||p)(e.rXU(ss),e.rXU(e.aKT),e.rXU(Cs),e.rXU(Xn),e.rXU(e.gRc),e.rXU(e.SKi),e.rXU(e.sFG),e.rXU(xe.Pi))};static \u0275cmp=e.VBU({type:p,selectors:[["kendo-list"]],viewQuery:function(c,d){if(1&c&&(e.GBs(xn,7),e.GBs(Ji,7),e.GBs(nn,5),e.GBs(yc,5)),2&c){let v;e.mGM(v=e.lsd())&&(d.content=v.first),e.mGM(v=e.lsd())&&(d.list=v.first),e.mGM(v=e.lsd())&&(d.virtualContainer=v.first),e.mGM(v=e.lsd())&&(d.items=v)}},inputs:{selected:"selected",focused:"focused",textField:"textField",valueField:"valueField",height:"height",template:"template",groupTemplate:"groupTemplate",fixedGroupTemplate:"fixedGroupTemplate",show:"show",id:"id",optionPrefix:"optionPrefix",multipleSelection:"multipleSelection",virtual:"virtual",type:"type",checkboxes:"checkboxes",ariaLive:"ariaLive",isMultiselect:"isMultiselect",isActionSheetExpanded:"isActionSheetExpanded",showStickyHeader:"showStickyHeader",rowWidth:"rowWidth",customItemTemplate:"customItemTemplate",text:"text",allowCustom:"allowCustom",defaultItem:"defaultItem",data:"data",size:"size",rounded:"rounded"},outputs:{onClick:"onClick",pageChange:"pageChange",listResize:"listResize",popupListScroll:"popupListScroll"},standalone:!0,features:[e.OA$,e.aNF],decls:12,vars:18,consts:[["content",""],["list",""],["default_custom_item_template",""],["li",""],["virtualContainer",""],["class","k-list-optionlabel","kendoDropDownsSelectable","",3,"ngClass","index",4,"ngIf"],["kendoDropDownsSelectable","","class","k-list-custom-value",3,"multipleSelection","index",4,"ngIf"],[3,"class","ngStyle",4,"ngIf"],["unselectable","on",3,"scroll"],["role","listbox"],[4,"ngIf"],[3,"resize",4,"ngIf"],["class","k-height-container","role","presentation",4,"ngIf"],["kendoDropDownsSelectable","",1,"k-list-optionlabel",3,"ngClass","index"],[3,"templateContext"],["kendoDropDownsSelectable","",1,"k-list-custom-value",3,"multipleSelection","index"],[4,"ngIf","ngIfElse"],[3,"ngStyle"],[3,"ngIf"],["ngFor","",3,"ngForOf"],["role","option","kendoDropDownsSelectable","",3,"checkboxes","height","index","multipleSelection","ngClass"],["type","checkbox","class","k-checkbox","role","presentation","tabindex","-1","aria-hidden","true",3,"ngClass","checked","change",4,"ngIf"],["type","checkbox","role","presentation","tabindex","-1","aria-hidden","true",1,"k-checkbox",3,"change","ngClass","checked"],[1,"k-list-item-text"],["role","group",3,"class","k-table-alt-row","ngStyle","width",4,"ngIf"],["role","option","kendoDropDownsSelectable","",3,"height","index","multipleSelection","class","ngClass","width",4,"ngIf"],["role","group",3,"ngStyle"],["role","option","kendoDropDownsSelectable","",3,"height","index","multipleSelection","ngClass"],[3,"resize"],["role","presentation",1,"k-height-container"]],template:function(c,d){if(1&c){const v=e.RV6();e.DNE(0,Fi,2,5,"div",5)(1,sn,2,8,"div",5)(2,J,4,4,"div",6)(3,qt,3,9,"div",7),e.j41(4,"div",8,0),e.bIt("scroll",function(q){return e.eBV(v),e.Njj(d.popupListScroll.emit(q))}),e.j41(6,"ul",9,1),e.DNE(8,At,1,1,null,10)(9,Z,1,1,null,10)(10,wt,1,0,"kendo-resize-sensor",11),e.k0s(),e.DNE(11,ti,4,2,"div",12),e.k0s()}2&c&&(e.Y8G("ngIf",d.defaultItem&&!d.template),e.R7$(),e.Y8G("ngIf",d.defaultItem&&d.template),e.R7$(),e.Y8G("ngIf",d.allowCustom&&d.text),e.R7$(),e.Y8G("ngIf",d.dataService.grouped&&d.showStickyHeader),e.R7$(),e.HbH(d.listContentClass),e.xc7("max-height",d.height,"px"),e.R7$(2),e.HbH(d.listClass),e.BMQ("id",d.id)("aria-live",d.ariaLive)("aria-multiselectable",d.isMultiselect)("aria-hidden",!d.show),e.R7$(2),e.Y8G("ngIf",!d.dataService.grouped&&d.show),e.R7$(),e.Y8G("ngIf",d.dataService.grouped),e.R7$(),e.Y8G("ngIf",!d.virtual),e.R7$(),e.Y8G("ngIf",d.virtual))},dependencies:[Bt.bT,Bt.B3,w.b2,Bt.pM,yc,Nc,Bt.YU,w.M0],encapsulation:2})}return p})();const Ha={pageSize:50,itemHeight:28},Uo=(p,B)=>{const a=Object.assign({},Ha,B);return!0===p?a:p?{pageSize:Ha.pageSize,...p}:null};let ro=(()=>{class p{localization;adaptiveService;title;subtitle;showTextInput;sharedPopupActionSheetTemplate;text;placeholder;searchBarValue;filterable;closePopup=new e.bkB;textInputChange=new e.bkB;navigate=new e.bkB;onExpand=new e.bkB;actionSheet;actionSheetSearchBar;constructor(a,c){this.localization=a,this.adaptiveService=c}animationDuration=Zr;checkIcon=Tt.oEo;expanded=!1;messageFor(a){return this.localization.get(a)}onValueChange(a){this.searchBarValue=a,this.textInputChange.emit(a)}onOverlayClick(){this.expanded&&this.handleClose()}handleExpand(){this.onExpand.emit(),this.expanded=!0}handleClose(){this.closePopup.emit(),this.expanded=!1}get windowSize(){return this.adaptiveService.size}static \u0275fac=function(c){return new(c||p)(e.rXU(xe.Pi),e.rXU(Ne.k))};static \u0275cmp=e.VBU({type:p,selectors:[["kendo-adaptive-renderer"]],viewQuery:function(c,d){if(1&c&&(e.GBs(Yi.vL,5),e.GBs(Qt,5)),2&c){let v;e.mGM(v=e.lsd())&&(d.actionSheet=v.first),e.mGM(v=e.lsd())&&(d.actionSheetSearchBar=v.first)}},inputs:{title:"title",subtitle:"subtitle",showTextInput:"showTextInput",sharedPopupActionSheetTemplate:"sharedPopupActionSheetTemplate",text:"text",placeholder:"placeholder",searchBarValue:"searchBarValue",filterable:"filterable"},outputs:{closePopup:"closePopup",textInputChange:"textInputChange",navigate:"navigate",onExpand:"onExpand"},standalone:!0,features:[e.aNF],decls:3,vars:11,consts:[["actionSheet",""],["actionSheetSearchBar",""],[3,"overlayClick","keydown","expand","collapse","animation","initialFocus","cssClass","cssStyle"],["kendoActionSheetTemplate",""],[1,"k-text-center","k-actionsheet-titlebar"],[1,"k-actionsheet-titlebar-group"],[1,"k-actionsheet-title"],["class","k-text-center",4,"ngIf"],["class","k-actionsheet-subtitle k-text-center",4,"ngIf"],[1,"k-actionsheet-actions"],["kendoButton","","icon","check","type","button","fillMode","flat","themeColor","primary","size","large","aria-hidden","true","innerCssClass","k-button-icon",3,"click","svgIcon","tabIndex"],["class","k-actionsheet-titlebar-group k-actionsheet-filter",4,"ngIf"],[1,"k-actionsheet-content"],[1,"k-list-container"],[4,"ngTemplateOutlet"],[1,"k-text-center"],[1,"k-actionsheet-subtitle","k-text-center"],[1,"k-actionsheet-titlebar-group","k-actionsheet-filter"],["size","large","autocomplete","off",1,"k-searchbox",3,"valueChange","value","placeholder"],[4,"ngIf"],["kendoTextBoxPrefixTemplate",""],["name","search"]],template:function(c,d){if(1&c){const v=e.RV6();e.j41(0,"kendo-actionsheet",2,0),e.bIt("overlayClick",function(){return e.eBV(v),e.Njj(d.onOverlayClick())})("keydown",function(q){return e.eBV(v),e.Njj(d.navigate.emit(q))})("expand",function(){return e.eBV(v),e.Njj(d.handleExpand())})("collapse",function(){return e.eBV(v),e.Njj(d.closePopup.emit())}),e.DNE(2,cr,11,7,"ng-template",3),e.k0s()}2&c&&e.Y8G("animation",e.eq3(4,Zt,d.animationDuration))("initialFocus",!1)("cssClass",e.l_i(6,_i,"small"===d.windowSize,"medium"===d.windowSize))("cssStyle",e.eq3(9,En,"small"===d.windowSize?"100vh":"60vh"))},dependencies:[Yi.vL,Yi.PN,qi.Qp,Bt.bT,ls.OV,ls.WX,tn.Rl,Bt.T3],encapsulation:2})}return p})(),dl=(()=>{class p{ngZone;renderer;cdr;hostElement;clearButtonClicked;isFocused;isFocusedChange=new e.bkB;onFocus=new e.bkB;handleBlur=new e.bkB;subscriptions=new Ve.yU;constructor(a,c,d){this.ngZone=a,this.renderer=c,this.cdr=d}ngAfterViewInit(){const a=this.hostElement.nativeElement;let c=!1,d=!1;this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(this.renderer.listen(a,"focusin",()=>{this.cdr.detectChanges(),this.isFocused||this.ngZone.run(()=>{this.onFocus.emit(),this.isFocused=!0,this.isFocusedChange.emit(this.isFocused)})})),this.subscriptions.add(this.renderer.listen(a,"focusout",v=>{this.isFocused&&(d?((0,w.kp)(v.relatedTarget,q=>q===a)||this.handleBlur.emit(),d=!1):c||this.handleBlur.emit())})),this.subscriptions.add(this.renderer.listen(a,"mouseenter",()=>{c=!0})),this.subscriptions.add(this.renderer.listen(a,"mouseleave",()=>{c=!1})),this.subscriptions.add(this.renderer.listen(a,"keydown",v=>{d=v.code===w.D$.Tab}))})}ngOnDestroy(){this.subscriptions.unsubscribe()}static \u0275fac=function(c){return new(c||p)(e.rXU(e.SKi),e.rXU(e.sFG),e.rXU(e.gRc))};static \u0275dir=e.FsC({type:p,selectors:[["","kendoDropDownSharedEvents",""]],inputs:{hostElement:"hostElement",clearButtonClicked:"clearButtonClicked",isFocused:"isFocused"},outputs:{isFocusedChange:"isFocusedChange",onFocus:"onFocus",handleBlur:"handleBlur"},standalone:!0})}return p})(),Gc=(()=>{class p extends xe.EX{noDataText;clearTitle;checkAllText;selectButtonText;filterInputLabel;popupLabel;adaptiveCloseButtonTitle;filterInputPlaceholder;useCustomValueText;static \u0275fac=(()=>{let a;return function(d){return(a||(a=e.xGo(p)))(d||p)}})();static \u0275dir=e.FsC({type:p,inputs:{noDataText:"noDataText",clearTitle:"clearTitle",checkAllText:"checkAllText",selectButtonText:"selectButtonText",filterInputLabel:"filterInputLabel",popupLabel:"popupLabel",adaptiveCloseButtonTitle:"adaptiveCloseButtonTitle",filterInputPlaceholder:"filterInputPlaceholder",useCustomValueText:"useCustomValueText"},features:[e.Vt3]})}return p})(),Sr=(()=>{class p extends Gc{service;constructor(a){super(),this.service=a}static \u0275fac=function(c){return new(c||p)(e.rXU(xe.Pi))};static \u0275dir=e.FsC({type:p,selectors:[["","kendoDropDownListLocalizedMessages",""],["","kendoDropDownTreeLocalizedMessages",""],["","kendoComboBoxLocalizedMessages",""],["","kendoMultiColumnComboBoxLocalizedMessages",""],["","kendoAutoCompleteLocalizedMessages",""],["","kendoMultiSelectLocalizedMessages",""],["","kendoMultiSelectTreeLocalizedMessages",""]],standalone:!0,features:[e.Jv_([{provide:Gc,useExisting:(0,e.Rfq)(()=>p)}]),e.Vt3]})}return p})();const Xa={multi:!0,provide:qe.kq,useExisting:(0,e.Rfq)(()=>Ul)};let Ul=(()=>{class p{localization;dataService;popupService;selectionService;navigationService;disabledItemsService;_zone;cdr;renderer;hostElement;injector;adaptiveService;animationDuration=Zr;xIcon=Tt.i3N;adaptiveRendererComponent;get actionSheet(){return this.adaptiveRendererComponent?.actionSheet}get actionSheetSearchBar(){return this.adaptiveRendererComponent?.actionSheetSearchBar}get width(){let a=0;(0,w.nm)()&&(a=this.wrapper.offsetWidth);const c=this.popupSettings.width||a;return{min:isNaN(a)?a:`${a}px`,max:isNaN(c)?c:`${c}px`}}get height(){const a=this.popupSettings.height;return _(a)?`${a}px`:"auto"}get listContainerClasses(){const a=["k-list-container","k-autocomplete-popup"];return this.popupSettings.popupClass&&a.push(this.popupSettings.popupClass),a}get suggestion(){if(!this.text||!this.suggestedText)return void(this.suggestedText=void 0);const a=this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase());return this.suggest&&!this.backspacePressed&&a?this.suggestedText:void 0}get appendTo(){const{appendTo:a}=this.popupSettings;if(a&&"root"!==a)return"component"===a?this.container:a}get clearButtonVisiblity(){if(me.jl)return"visible"}get ariaControls(){return this.isOpen?this.listBoxId:void 0}get isControlRequired(){return(0,w.Ps)(this.formControl)}dataItem;toggle(a){Promise.resolve(null).then(()=>{const c=_(a)?a:!this._open;this._toggle(c)})}get isOpen(){return za(this._open||this.isActionSheetExpanded)}handleClick(){this.windowSize=this.adaptiveService.size,this.isAdaptive&&this.togglePopup(!0)}togglePopup(a){this.disabled||this.readonly||this.isOpen===a||this.triggerPopupEvents(a)||this._toggle(a)}get activeDescendant(){return this.isOpen&&_(this.selectionService.focused)&&-1!==this.selectionService.focused?this.optionPrefix+"-"+this.selectionService.focused:null}highlightFirst=!0;showStickyHeader=!0;focusableId=`k-${(0,w.Os)()}`;set data(a){this.dataService.data=a||[],this.virtual&&(this.virtual.skip=0),this.filterable&&(this.selectionService.focused=this.isOpen&&this.data.length&&this.highlightFirst?this.firstFocusableIndex(0):-1),this.suggest&&this.dataService.itemsCount>0&&(this.suggestedText=ye(this.dataService.itemAt(0),this.valueField))}get data(){const a=this.virtual;if(a){const c=a.skip||0,d=c+a.pageSize;return a.total=this.dataService.data.length,this.dataService.data.slice(c,d)}return this.dataService.data}set value(a){this.verifySettings(a),this._value=a||"",this.text=this.value,this.cdr.markForCheck()}get value(){return this._value||""}valueField;placeholder="";adaptiveMode="none";adaptiveTitle="";adaptiveSubtitle;get isAdaptiveModeEnabled(){return"auto"===this.adaptiveMode}set popupSettings(a){this._popupSettings=Object.assign({animate:!0},a)}get popupSettings(){return this._popupSettings}set listHeight(a){this._listHeight=a}get listHeight(){if(!this.isAdaptive)return this._listHeight}_listHeight=200;loading;clearButton=!0;suggest;disabled=!1;set itemDisabled(a){if("function"!=typeof a)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(a)}.`);this.disabledItemsService.itemDisabled=a}readonly=!1;tabindex=0;set tabIndex(a){this.tabindex=a}get tabIndex(){return this.tabindex}filterable=!1;set virtual(a){this._virtualSettings=Uo(a)}get virtual(){return this._virtualSettings}set size(a){const c=a||"medium";this.renderer.removeClass(this.wrapper,Ti("input",this.size)),"none"!==a&&this.renderer.addClass(this.wrapper,Ti("input",c)),this._size=c}get size(){return this._size}set rounded(a){const c=a||"medium";this.renderer.removeClass(this.wrapper,dn(this.rounded)),"none"!==a&&this.renderer.addClass(this.wrapper,dn(c)),this._rounded=c}get rounded(){return this._rounded}set fillMode(a){const c=a||"solid";this.renderer.removeClass(this.wrapper,Dn("input",this.fillMode)),"none"!==a&&this.renderer.addClass(this.wrapper,Dn("input",c)),this._fillMode=c}get fillMode(){return this._fillMode}inputAttributes;valueChange=new e.bkB;filterChange=new e.bkB;open=new e.bkB;opened=new e.bkB;close=new e.bkB;closed=new e.bkB;onFocus=new e.bkB;onBlur=new e.bkB;inputFocus=new e.bkB;inputBlur=new e.bkB;template;headerTemplate;footerTemplate;noDataTemplate;groupTemplate;fixedGroupTemplate;suffixTemplate;prefixTemplate;container;popupTemplate;searchbar;optionsList;widgetClasses=!0;get isFocused(){return this._isFocused}set isFocused(a){this.renderer[a?"addClass":"removeClass"](this.wrapper,"k-focus"),this._isFocused=a}get isDisabled(){return this.disabled}get isLoading(){return this.loading}get dir(){return this.direction}text;listBoxId=`k-${(0,w.Os)()}`;optionPrefix=`k-${(0,w.Os)()}`;popupRef;windowSize="large";get isActionSheetExpanded(){return this.actionSheet?.expanded}get isAdaptive(){return this.isAdaptiveModeEnabled&&"large"!==this.windowSize}get formControl(){return this.injector.get(qe.vO,null)?.control||null}onChangeCallback=Mt;onTouchedCallback=Mt;constructor(a,c,d,v,x,q,Ee,et,gt,Ni,Ds,Hs){this.localization=a,this.dataService=c,this.popupService=d,this.selectionService=v,this.navigationService=x,this.disabledItemsService=q,this._zone=Ee,this.cdr=et,this.renderer=gt,this.hostElement=Ni,this.injector=Ds,this.adaptiveService=Hs,(0,Je.$j)(S),this.direction=a.rtl?"rtl":"ltr",this.wrapper=this.hostElement.nativeElement,this.data=[],this.subscribeEvents(),this.subscribeTouchEvents(),this.selectionService.resetSelection([-1])}ngOnInit(){this.renderer.removeAttribute(this.wrapper,"tabindex"),this.subs.add(this.localization.changes.subscribe(({rtl:a})=>{this.direction=a?"rtl":"ltr",this.cdr.detectChanges()})),this.setComponentClasses()}ngAfterViewInit(){this.windowSize=this.adaptiveService.size,this.cdr.detectChanges()}ngOnDestroy(){this.destroyPopup(),this.subs.unsubscribe(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler()}ngOnChanges(a){const c=this.virtual;c&&a.data&&a.data.isFirstChange()&&this.pageChange({skip:0,take:c.pageSize})}reset(){this.value=""}messageFor(a){return this.localization.get(a)}clearValue(a){a.stopImmediatePropagation(),this.focus(),this.change(""),this.filterable&&this.filterChange.emit(""),this.selectionService.resetSelection([])}writeValue(a){this.value=a}registerOnChange(a){this.onChangeCallback=a}registerOnTouched(a){this.onTouchedCallback=a}setDisabledState(a){this.cdr.markForCheck(),this.disabled=a}focusItemAt(a){const c=a>=0&&a<this.data.length;_(a)&&c&&!this.disabledItemsService.isIndexDisabled(a)?this.selectionService.focus(a):this.selectionService.focus(-1)}focus(){this.disabled||this.searchbar.focus()}blur(){this.disabled||this.searchbar.blur()}onResize(){const a=this.adaptiveService.size;if(this.isAdaptiveModeEnabled&&this.windowSize!==a&&(this.isOpen&&this.togglePopup(!1),this.windowSize=a,this.cdr.detectChanges()),this._open&&!this.isActionSheetExpanded){const c=this.popupRef.popupElement,{min:d,max:v}=this.width;c.style.minWidth=d,c.style.width=v}}emitChange(a){this.onChangeCallback(a),this.valueChange.emit(a)}verifySettings(a){if((0,e.naY)()&&_(a)&&"string"!=typeof a)throw new Error("Expected value of type string. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/autocomplete/value-binding/")}search(a,c=0){const d=this.findIndex(a,c);this.disabledItemsService.isIndexDisabled(d)?d+1<this.dataService.itemsCount?this.search(a,d+1):this.selectionService.focus(-1):(this.selectionService.focus(d),this.suggest&&(this.suggestedText=ye(this.dataService.itemAt(d),this.valueField)))}navigate(a){this.isOpen&&this.selectionService.focus(a)}handleNavigate(a){const c=isNaN(this.selectionService.focused)?this.firstFocusableIndex(0):this.selectionService.focused;if(this.disabled||this.readonly||isNaN(c))return;const d=this.navigationService.process({current:c,max:this.dataService.itemsCount-1,min:0,originalEvent:a});d!==mt.Undefined&&d!==mt.Backspace&&d!==mt.Delete&&d!==mt.Home&&d!==mt.End&&d!==mt.Left&&d!==mt.Right&&d!==mt.PageDown&&d!==mt.PageUp&&(d===mt.Enter&&this.isOpen||d!==mt.Enter)&&a.preventDefault(),d===mt.Tab&&this.isActionSheetExpanded&&(a.stopImmediatePropagation(),this.togglePopup(!1))}handleEnter(a){const c=this.selectionService.focused;let d;if(this.isOpen&&a.originalEvent.preventDefault(),c>=0)d=ye(this.dataService.itemAt(c),this.valueField);else{const v=this.suggest&&this.suggestedText&&this.data.length&&ye(this.dataService.itemAt(0),this.valueField).toLowerCase()===this.searchbar.value.toLowerCase();d=this.isOpen&&v?this.suggestedText:this.searchbar.value}this.isActionSheetExpanded&&c>=0&&this.togglePopup(!1),this.change(d)}handleEscape(){this.isOpen?this.togglePopup(!1):this.value="",this.selectionService.focused=-1,this.suggestedText=null}searchBarChange(a){const c=_(this.text)?this.text.length:0;this.backspacePressed=a.length<c,this.text=a,this.togglePopup(a.length>0),this.highlightFirst||(this.selectionService.focused=-1),this.filterable?this.filterChange.emit(a):this.highlightFirst&&this.search(a)}handleInputFocus(){this.handleFocus(),(0,w.SF)(this.inputFocus)&&this._zone.run(()=>{this.inputFocus.emit()})}handleFocus(){this._zone.run(()=>{!this.isFocused&&(0,w.SF)(this.onFocus)&&this.onFocus.emit(),this.isFocused=!0})}handleBlur(){this.isActionSheetExpanded||this.blurComponent()}handleInputBlur(){if(!this.isActionSheetExpanded){const a=this.filterable?this.selectionService.focused:-1;let c,d;this.searchbar.input.nativeElement.scrollLeft=0,-1!==a?(c=this.dataService.itemAt(a),d=ye(c,this.valueField)||""):d=this.searchbar.value;const v=d===this.searchbar.value,x=d.toLowerCase()===this.searchbar.value.toLowerCase();!v&&x&&this.selectionService.resetSelection([]);const q=this.value!==this.text;(0,w.SF)(this.inputBlur)||(0,w.SF)(this.close)||Zi(this.wrapper)||q||"blur"===this.formControl?.updateOn?this._zone.run(()=>{q&&this.change(this.searchbar.value),this.inputBlur.emit(),this.onTouchedCallback(),this.togglePopup(!1)}):this.togglePopup(!1)}}pageChange(a){this.virtual.skip=a.skip}closeActionSheet(){this.blurComponent(),this.closed.emit()}change(a){this.togglePopup(!1),this.valueChangeSubject.next(a)}popupMouseDownHandler=a=>a.preventDefault();_popupSettings={animate:!0};_virtualSettings;_open=!1;_value="";suggestedText;backspacePressed;subs=new Ve.yU;valueChangeSubject=new we.B;touchstartDisposeHandler;wrapper;_isFocused=!1;direction;_size="medium";_rounded="medium";_fillMode="solid";subscribeEvents(){(0,w.nm)()&&(this.subs.add(this.valueChangeSubject.subscribe(a=>{const c=this.value!==a;if(this.isOpen){const d=this.findIndex(a);this.selectionService.focused=d}this.value=a,this.text=a,c&&this.emitChange(a)})),this.subs.add(this.selectionService.onChange.subscribe(this.handleItemChange.bind(this))),this.subs.add(this.selectionService.onFocus.subscribe(this.handleItemFocus.bind(this))),this.subs.add((0,Be.h)(this.navigationService.up,this.navigationService.down).subscribe(a=>this.navigate(a.index))),this.subs.add(this.navigationService.close.subscribe(()=>this.togglePopup(!1))),this.subs.add(this.navigationService.open.subscribe(()=>this.togglePopup(!0))),this.subs.add(this.navigationService.enter.subscribe(this.handleEnter.bind(this))),this.subs.add(this.navigationService.esc.subscribe(this.handleEscape.bind(this))),this.subs.add((0,Be.h)(this.navigationService.pagedown,this.navigationService.pageup).subscribe(a=>{if(this.isOpen){a.originalEvent.preventDefault();const c=(0,w.tq)(a.originalEvent);this.optionsList.scrollWithOnePage(mt[c])}})))}findIndex(a,c=0){let d;return d=a&&a.length&&this.dataService.itemsCount?this.dataService.findIndex(this.findIndexPredicate(a),c):-1,d}subscribeTouchEvents(){!(0,w.nm)()||!me.jl||this._zone.runOutsideAngular(()=>this.touchstartDisposeHandler=this.renderer.listen(document,"touchstart",a=>{this.isFocused&&!_n(this.hostElement,a.target,this.popupRef)&&this._zone.run(()=>this.blur())}))}handleItemChange(a){const c=a.indices.length?a.indices[0]:void 0;if(this.selectionService.resetSelection([-1]),!_(c))return;const d=ye(this.dataService.itemAt(c),this.valueField);this.change(d)}handleItemFocus(a){const c=this.selectionService.focused;this.suggest&&this.data&&this.data.length&&c>=0&&(this.suggestedText=ye(this.dataService.itemAt(c),this.valueField))}createPopup(){if(this.virtual&&(this.virtual.skip=0),this.windowSize=this.adaptiveService.size,this.isAdaptive)return void this.openActionSheet();const a="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupClass:this.listContainerClasses,positionMode:"string"==typeof this.popupSettings.appendTo&&"component"===this.popupSettings.appendTo?"fixed":"absolute",popupAlign:{horizontal:a,vertical:"top"},anchorAlign:{horizontal:a,vertical:"bottom"}});const x=this.popupRef.popupElement,{min:q,max:Ee}=this.width;x.addEventListener("mousedown",this.popupMouseDownHandler),x.style.minWidth=q,x.style.width=Ee,x.style.height=this.height,x.setAttribute("dir",this.direction),this.appendTo||(this.renderer.setAttribute(x,"role","region"),this.renderer.setAttribute(x,"aria-label",this.messageFor("popupLabel"))),this.subs.add(this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),Qr(this.optionsList,this.searchbar.input,this.renderer),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.opened.emit()})),this.subs.add(this.popupRef.popupClose.subscribe(()=>{this.closed.emit()})),this.subs.add(this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1)))}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}_toggle(a){this._open=a,this.destroyPopup(),this.isActionSheetExpanded&&(this.actionSheet.toggle(!1),this.focus()),this._open&&this.createPopup()}triggerPopupEvents(a){const c=new ka;return a?this.open.emit(c):this.close.emit(c),c.isDefaultPrevented()}firstFocusableIndex(a){const c=this.data.length-1;return this.disabledItemsService.isIndexDisabled(a)?a<c?this.firstFocusableIndex(a+1):void 0:a}findIndexPredicate(a){return this.dataService.grouped?c=>{let d=ye(c.value,this.valueField);return d=_(d)?d.toString().toLowerCase():"",d.startsWith(a.toLowerCase())}:c=>{let d=ye(c,this.valueField);return d=_(d)?d.toString().toLowerCase():"",d.startsWith(a.toLowerCase())}}setComponentClasses(){"none"!==this.size&&this.renderer.addClass(this.wrapper,Ti("input",this.size)),"none"!==this.rounded&&this.renderer.addClass(this.wrapper,dn(this.rounded)),"none"!==this.fillMode&&this.renderer.addClass(this.wrapper,Dn("input",this.fillMode))}openActionSheet(){this.actionSheet.toggle(!0),this.cdr.detectChanges(),Qr(this.optionsList,this.searchbar.input,this.renderer),this.adaptiveTitle=Ka(this.searchbar.input,this.adaptiveTitle),this.cdr.detectChanges(),this.opened.emit(),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.actionSheetSearchBar.focus()}blurComponent(){this.isFocused=!1;const a=this.value!==this.text;(0,w.SF)(this.onBlur)||(0,w.SF)(this.close)||Zi(this.wrapper)||a?this._zone.run(()=>{a&&this.change(this.searchbar.value),this.onBlur.emit(),this.onTouchedCallback(),this.togglePopup(!1)}):this.togglePopup(!1)}static \u0275fac=function(c){return new(c||p)(e.rXU(xe.Pi),e.rXU(ss),e.rXU(Pe.OQ),e.rXU(Cs),e.rXU(os),e.rXU(Xn),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(e.sFG),e.rXU(e.aKT),e.rXU(e.zZn),e.rXU(Ne.k))};static \u0275cmp=e.VBU({type:p,selectors:[["kendo-autocomplete"]],contentQueries:function(c,d,v){if(1&c&&(e.wni(v,yt,5),e.wni(v,un,5),e.wni(v,Pn,5),e.wni(v,Lo,5),e.wni(v,jn,5),e.wni(v,Hn,5),e.wni(v,w.d9,5),e.wni(v,w.uy,5)),2&c){let x;e.mGM(x=e.lsd())&&(d.template=x.first),e.mGM(x=e.lsd())&&(d.headerTemplate=x.first),e.mGM(x=e.lsd())&&(d.footerTemplate=x.first),e.mGM(x=e.lsd())&&(d.noDataTemplate=x.first),e.mGM(x=e.lsd())&&(d.groupTemplate=x.first),e.mGM(x=e.lsd())&&(d.fixedGroupTemplate=x.first),e.mGM(x=e.lsd())&&(d.suffixTemplate=x.first),e.mGM(x=e.lsd())&&(d.prefixTemplate=x.first)}},viewQuery:function(c,d){if(1&c&&(e.GBs(ro,5),e.GBs(On,7,e.c1b),e.GBs(rn,7),e.GBs(Bo,7),e.GBs($n,5)),2&c){let v;e.mGM(v=e.lsd())&&(d.adaptiveRendererComponent=v.first),e.mGM(v=e.lsd())&&(d.container=v.first),e.mGM(v=e.lsd())&&(d.popupTemplate=v.first),e.mGM(v=e.lsd())&&(d.searchbar=v.first),e.mGM(v=e.lsd())&&(d.optionsList=v.first)}},hostVars:11,hostBindings:function(c,d){2&c&&(e.BMQ("dir",d.dir),e.AVh("k-readonly",d.readonly)("k-autocomplete",d.widgetClasses)("k-input",d.widgetClasses)("k-disabled",d.isDisabled)("k-loading",d.isLoading))},inputs:{highlightFirst:"highlightFirst",showStickyHeader:"showStickyHeader",focusableId:"focusableId",data:"data",value:"value",valueField:"valueField",placeholder:"placeholder",adaptiveMode:"adaptiveMode",adaptiveTitle:"adaptiveTitle",adaptiveSubtitle:"adaptiveSubtitle",popupSettings:"popupSettings",listHeight:"listHeight",loading:"loading",clearButton:"clearButton",suggest:"suggest",disabled:"disabled",itemDisabled:"itemDisabled",readonly:"readonly",tabindex:"tabindex",tabIndex:"tabIndex",filterable:"filterable",virtual:"virtual",size:"size",rounded:"rounded",fillMode:"fillMode",inputAttributes:"inputAttributes"},outputs:{valueChange:"valueChange",filterChange:"filterChange",open:"open",opened:"opened",close:"close",closed:"closed",onFocus:"focus",onBlur:"blur",inputFocus:"inputFocus",inputBlur:"inputBlur"},exportAs:["kendoAutoComplete"],standalone:!0,features:[e.Jv_([Xa,ss,Cs,os,Xn,xe.Pi,{provide:xe.$R,useValue:"kendo.autocomplete"},{provide:$a,useExisting:(0,e.Rfq)(()=>p)},{provide:w.eW,useExisting:(0,e.Rfq)(()=>p)}]),e.OA$,e.aNF],decls:17,vars:30,consts:()=>{let a,c,d,v;return a=$localize`:kendo.autocomplete.noDataText|The text displayed in the popup when there are no items:NO DATA FOUND`,c=$localize`:kendo.autocomplete.clearTitle|The title of the clear button:clear`,d=$localize`:kendo.autocomplete.popupLabel|The label of the popup element that contains the list of options when its role is 'region':Options list`,v=$localize`:kendo.autocomplete.adaptiveCloseButtonTitle|The title of the Close button of the ActionSheet that is rendered instead of the Popup when using small screen devices in adaptive mode:Close`,[["popupTemplate",""],["container",""],["sharedPopupActionSheetTemplate",""],["optionsList",""],["kendoAutoCompleteLocalizedMessages","","noDataText",a,"clearTitle",c,"popupLabel",d,"adaptiveCloseButtonTitle",v],["kendoDropDownSharedEvents","",3,"isFocusedChange","handleBlur","onFocus","hostElement","isFocused"],["class","k-input-prefix k-input-prefix-horizontal",4,"ngIf"],[4,"ngIf"],["kendoSearchbar","",3,"onNavigate","valueChange","onBlur","onFocus","click","ariaExpanded","isSuggestable","isFilterable","isLoading","ariaControls","id","activeDescendant","userInput","suggestedText","disabled","readonly","tabIndex","isRequired","placeholder","inputAttributes"],["class","k-clear-value","role","button","tabindex","-1",3,"visibility","click","mousedown",4,"ngIf"],["class","k-icon k-i-loading k-input-loading-icon",4,"ngIf"],["class","k-input-suffix k-input-suffix-horizontal",4,"ngIf"],[3,"resize",4,"ngIf"],[3,"closePopup","textInputChange","navigate","sharedPopupActionSheetTemplate","title","showTextInput","subtitle","placeholder","searchBarValue"],[1,"k-input-prefix","k-input-prefix-horizontal"],[3,"ngTemplateOutlet"],["role","button","tabindex","-1",1,"k-clear-value",3,"click","mousedown"],["name","x",3,"svgIcon"],[1,"k-icon","k-i-loading","k-input-loading-icon"],[1,"k-input-suffix","k-input-suffix-horizontal"],[4,"ngTemplateOutlet"],[3,"resize"],[3,"pageChange","size","rounded","id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","showStickyHeader"],["class","k-no-data",4,"ngIf"],[3,"templateContext"],[1,"k-no-data"],[3,"ngIf","templateContext"],[3,"ngIf"]]},template:function(c,d){if(1&c){const v=e.RV6();e.eu8(0,4),e.qex(1,5),e.mxI("isFocusedChange",function(q){return e.eBV(v),e.DH7(d.isFocused,q)||(d.isFocused=q),e.Njj(q)}),e.bIt("handleBlur",function(){return e.eBV(v),e.Njj(d.handleBlur())})("onFocus",function(){return e.eBV(v),e.Njj(d.handleFocus())}),e.DNE(2,kn,2,1,"span",6)(3,wo,1,0,"kendo-separator",7),e.j41(4,"input",8),e.bIt("onNavigate",function(q){return e.eBV(v),e.Njj(d.handleNavigate(q))})("valueChange",function(q){return e.eBV(v),e.Njj(d.searchBarChange(q))})("onBlur",function(){return e.eBV(v),e.Njj(d.handleInputBlur())})("onFocus",function(){return e.eBV(v),e.Njj(d.handleInputFocus())})("click",function(){return e.eBV(v),e.Njj(d.handleClick())}),e.k0s(),e.DNE(5,Vt,2,4,"span",9)(6,dr,1,0,"span",10)(7,Ir,1,0,"kendo-separator",7)(8,hs,2,1,"span",11),e.bVm(),e.DNE(9,uo,1,1,"ng-template",null,0,e.C5r),e.eu8(11,null,1),e.DNE(13,ho,1,0,"kendo-resize-sensor",12),e.j41(14,"kendo-adaptive-renderer",13),e.bIt("closePopup",function(){return e.eBV(v),e.Njj(d.closeActionSheet())})("textInputChange",function(q){return e.eBV(v),e.Njj(d.searchBarChange(q))})("navigate",function(q){return e.eBV(v),e.Njj(d.handleNavigate(q))}),e.k0s(),e.DNE(15,ps,5,17,"ng-template",null,2,e.C5r)}if(2&c){const v=e.sdS(16);e.R7$(),e.Y8G("hostElement",d.hostElement),e.R50("isFocused",d.isFocused),e.R7$(),e.Y8G("ngIf",d.prefixTemplate),e.R7$(),e.Y8G("ngIf",d.prefixTemplate&&d.prefixTemplate.showSeparator),e.R7$(),e.Y8G("ariaExpanded",d.isOpen)("isSuggestable",d.suggest)("isFilterable",d.filterable)("isLoading",d.isLoading)("ariaControls",d.ariaControls)("id",d.focusableId)("activeDescendant",d.activeDescendant)("userInput",d.text)("suggestedText",d.suggestion)("disabled",d.disabled)("readonly",d.readonly||d.isAdaptive)("tabIndex",d.tabIndex)("isRequired",d.isControlRequired)("placeholder",d.placeholder)("inputAttributes",d.inputAttributes),e.R7$(),e.Y8G("ngIf",!d.loading&&!d.readonly&&d.clearButton&&(null==d.text?null:d.text.length)),e.R7$(),e.Y8G("ngIf",d.loading),e.R7$(),e.Y8G("ngIf",d.suffixTemplate&&d.suffixTemplate.showSeparator),e.R7$(),e.Y8G("ngIf",d.suffixTemplate),e.R7$(5),e.Y8G("ngIf",d.isOpen||d.isAdaptiveModeEnabled),e.R7$(),e.Y8G("sharedPopupActionSheetTemplate",v)("title",d.adaptiveTitle)("showTextInput",!0)("subtitle",d.adaptiveSubtitle)("placeholder",d.placeholder)("searchBarValue",d.text)}},dependencies:[Sr,dl,Bt.bT,Bt.T3,w.Fl,Bo,tn.QK,w.M0,ro,w.b2,ja],encapsulation:2})}return p})();const Kl={multi:!0,provide:qe.kq,useExisting:(0,e.Rfq)(()=>$s)};let $s=(()=>{class p extends w.xk{wrapper;localization;popupService;selectionService;navigationService;disabledItemsService;dataService;zone;cdr;renderer;injector;hostElement;adaptiveService;icon;svgIcon;inputAttributes;animationDuration=Zr;xIcon=Tt.i3N;adaptiveRendererComponent;get actionSheet(){return this.adaptiveRendererComponent?.actionSheet}get actionSheetSearchBar(){return this.adaptiveRendererComponent?.actionSheetSearchBar}caretAltDownIcon=Tt.Y8K;set text(a){this._text=_(a)?a.toString():""}get text(){return this._text}get ariaControls(){return this.isOpen?this.listBoxId:void 0}get isControlRequired(){return(0,w.Ps)(this.formControl)}togglePopup(a){this.disabled||this.readonly||this.isOpen===a||this.triggerPopupEvents(a)||this._toggle(a)}get activeDescendant(){return this.isOpen&&_(this.selectionService.focused)&&-1!==this.selectionService.focused?this.optionPrefix+"-"+this.selectionService.focused:null}get appendTo(){const{appendTo:a}=this.popupSettings;if(a&&"root"!==a)return"component"===a?this.container:a}dataItem;selected=[];showStickyHeader=!0;focusableId=`k-${(0,w.Os)()}`;allowCustom=!1;set data(a){if(this.dataService.data=a||[],this.virtual&&(this.virtual.skip=0),this.setState(),this._filtering){const d=this.text.length>0&&this.dataService.itemsCount>0?this.firstFocusableIndex(0):-1;this.selectionService.focused=d}this.suggest&&this.dataService.itemsCount&&this.text&&(this.suggestedText=ye(this.dataService.itemAt(0),this.textField))}get data(){const a=this.virtual;if(a){const c=a.skip||0,d=c+a.pageSize;return a.total=this.dataService.data.length,this.dataService.data.slice(c,d)}return this.dataService.data}set value(a){this._value=a,this.setState(),this.cdr.markForCheck()}get value(){return this._value}textField;valueField;set valuePrimitive(a){this._valuePrimitive=a}get valuePrimitive(){return _(this._valuePrimitive)?this._valuePrimitive:!_(this.valueField)}valueNormalizer=a=>a.pipe((0,Ze.T)(c=>c));placeholder="";adaptiveMode="none";adaptiveTitle="";adaptiveSubtitle;get isAdaptiveModeEnabled(){return"auto"===this.adaptiveMode}set popupSettings(a){this._popupSettings=Object.assign({animate:!0},a)}get popupSettings(){return this._popupSettings}set listHeight(a){this._listHeight=a}get listHeight(){if(!this.isAdaptive)return this._listHeight}_listHeight=200;loading;suggest=!1;clearButton=!0;disabled=!1;set itemDisabled(a){if("function"!=typeof a)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(a)}.`);this.disabledItemsService.itemDisabled=a}readonly=!1;tabindex=0;set tabIndex(a){this.tabindex=a}get tabIndex(){return this.tabindex}filterable=!1;set virtual(a){this._virtualSettings=Uo(a,{itemHeight:this.defaultVirtualItemHeight,pageSize:this.defaultVirtualPageSize})}get virtual(){return this._virtualSettings}set size(a){const c=a||"medium";this.renderer.removeClass(this.wrapper.nativeElement,Ti("input",this.size)),"none"!==a&&this.renderer.addClass(this.wrapper.nativeElement,Ti("input",c)),this._size=c}get size(){return this._size}set rounded(a){const c=a||"medium";this.renderer.removeClass(this.wrapper.nativeElement,dn(this.rounded)),"none"!==a&&this.renderer.addClass(this.wrapper.nativeElement,dn(c)),this._rounded=c}get rounded(){return this._rounded}set fillMode(a){const c=a||"solid";this.renderer.removeClass(this.wrapper.nativeElement,Dn("input",this.fillMode)),"none"!==a&&this.renderer.addClass(this.wrapper.nativeElement,Dn("input",c)),this._fillMode=c}get fillMode(){return this._fillMode}valueChange=new e.bkB;selectionChange=new e.bkB;filterChange=new e.bkB;open=new e.bkB;opened=new e.bkB;close=new e.bkB;closed=new e.bkB;onFocus=new e.bkB;onBlur=new e.bkB;inputFocus=new e.bkB;inputBlur=new e.bkB;escape=new e.bkB;template;headerTemplate;footerTemplate;noDataTemplate;groupTemplate;fixedGroupTemplate;suffixTemplate;prefixTemplate;container;popupTemplate;searchbar;optionsList;select;widgetClasses=!0;get isDisabled(){return this.disabled}get isLoading(){return this.loading}get dir(){return this.direction}_isFocused=!1;get isFocused(){return this._isFocused}set isFocused(a){this.renderer[a?"addClass":"removeClass"](this.wrapper.nativeElement,"k-focus"),this._isFocused=a}get clearButtonVisiblity(){if(me.jl)return"visible"}get formControl(){return this.injector.get(qe.vO,null)?.control||null}windowSize="large";get isActionSheetExpanded(){return this.actionSheet?.expanded}get isAdaptive(){return this.isAdaptiveModeEnabled&&"large"!==this.windowSize}listBoxId=`k-${(0,w.Os)()}`;optionPrefix=`k-${(0,w.Os)()}`;popupRef;get popupWidth(){let a=0;(0,w.nm)()&&(a=this.wrapper.nativeElement.offsetWidth);const c=this.popupSettings.width||a;return{min:isNaN(a)?a:`${a}px`,max:isNaN(c)?c:`${c}px`}}get popupHeight(){const a=this.popupSettings.height;return _(a)?`${a}px`:"auto"}onChangeCallback=a=>{};onTouchedCallback=a=>{};defaultVirtualItemHeight=28;defaultVirtualPageSize=50;valueSubscription;_filtering=!1;_text="";filterText="";_open=!1;_value;_valuePrimitive;_previousDataItem;suggestedText;backspacePressed;_popupSettings={animate:!0};_virtualSettings;popupMouseDownHandler=a=>a.preventDefault();customValueSubject=new we.B;valueSubject=new we.B;clearValueSubject=new we.B;direction;subs=new Ve.yU;touchstartDisposeHandler;selectClickDisposeHandler;_size="medium";_rounded="medium";_fillMode="solid";constructor(a,c,d,v,x,q,Ee,et,gt,Ni,Ds,Hs,Ps){super(),this.wrapper=a,this.localization=c,this.popupService=d,this.selectionService=v,this.navigationService=x,this.disabledItemsService=q,this.dataService=Ee,this.zone=et,this.cdr=gt,this.renderer=Ni,this.injector=Ds,this.hostElement=Hs,this.adaptiveService=Ps,(0,Je.$j)(S),this.direction=c.rtl?"rtl":"ltr",this.data=[]}ngOnInit(){this.renderer.removeAttribute(this.wrapper.nativeElement,"tabindex"),this.attachStreams(),this.createValueStream(),this.subscribeTouchEvents(),this.attachSelectClickHandler(),this.setComponentClasses()}ngAfterViewInit(){this.windowSize=this.adaptiveService.size,this.cdr.detectChanges()}createValueStream(){const a=this.valueSubject.pipe((0,E.p)(Ee=>{const et=ye(this.value,this.valueField),gt=ye(Ee,this.valueField);let Ni=ye(Ee,this.textField);return!(!_(this.value)&&!_(gt)||(_(Ni)&&(Ni=Ni.toString()),et===gt&&this.text===Ni&&(this.clearFilter(),1)))}),(0,Ze.T)(Ee=>{const et=ye(Ee,this.valueField);return{dataItem:Ee,text:ye(Ee,this.textField),value:this.valuePrimitive?et:Ee}})),c=function ct(p,B){return a=>[(0,E.p)(p,B)(a),(0,E.p)(Yt(p,B))(a)]}(()=>this.allowCustom)(this.customValueSubject.pipe((0,ne.c)(300))),d=c[0].pipe((0,Wt.M)(()=>{this.loading=!0,this.disabled=!0,this.cdr.detectChanges()}),(0,E.p)(()=>{const Ee=this.text!==ye(this.value,this.valueField);return this.loading=Ee,this.disabled=Ee,Ee||this.clearFilter(),Ee}),this.valueNormalizer,(0,Ze.T)(Ee=>({custom:!0,dataItem:Ee,text:this.text,value:Ee}))),v=c[1].pipe((0,Ze.T)(()=>({custom:!0,dataItem:void 0,text:void 0,value:void 0}))),x=this.clearValueSubject.pipe((0,Ze.T)(()=>({dataItem:void 0,text:void 0,value:void 0})));this.valueSubscription&&this.valueSubscription.unsubscribe();const q=(0,Be.h)(a,d,v,x);this.valueSubscription=q.pipe((0,Dt.W)(()=>{const Ee=void 0!==ye(this.dataItem,this.valueField);return this.dataItem=void 0,this.value=void 0,this.text=void 0,this.loading=!1,this.disabled=!1,Ee&&this.selectionChange.emit(void 0),this.emitValueChange(),this.createValueStream(),(0,De.of)(null)})).subscribe(Ee=>{const et=ye(this.dataItem,this.valueField)!==ye(Ee.dataItem,this.valueField);this.dataItem=Ee.dataItem,this.value=Ee.value,this.text=Ee.text,this.loading=!1,this.disabled=!1,this.clearFilter(),Ee.custom&&(this.selectionService.focused=-1),et&&this.selectionChange.emit(Ee.custom?void 0:this.dataItem),this.emitValueChange()})}attachStreams(){(0,w.nm)()&&(this.subs.add(this.localization.changes.subscribe(({rtl:a})=>{this.direction=a?"rtl":"ltr",this.cdr.detectChanges()})),this.subs.add((0,Be.h)(this.navigationService.up,this.navigationService.down,this.navigationService.home,this.navigationService.end).pipe((0,E.p)(a=>_(a.index))).subscribe(a=>this.navigate(a.index))),this.subs.add(this.navigationService.open.subscribe(this.handleNavigationOpen.bind(this))),this.subs.add(this.navigationService.close.subscribe(()=>this.togglePopup(!1))),this.subs.add((0,Be.h)(this.navigationService.pagedown,this.navigationService.pageup).subscribe(a=>{if(this.isOpen){a.originalEvent.preventDefault();const c=(0,w.tq)(a.originalEvent);this.optionsList.scrollWithOnePage(mt[c])}})),this.subs.add(this.navigationService.esc.subscribe(this.handleEscape.bind(this))),this.subs.add(this.navigationService.enter.pipe((0,Wt.M)(a=>{this.isOpen&&a.originalEvent.preventDefault()})).subscribe(this.handleEnter.bind(this))),this.subs.add((0,Be.h)(this.selectionService.onChange,this.selectionService.onSelect.pipe((0,E.p)(()=>!this.isOpen))).pipe((0,Wt.M)(()=>{this._filtering=!1,this.togglePopup(!1)}),(0,Ze.T)(a=>this.dataService.itemAt(a.indices[0]))).subscribe(a=>{this.change(a)})),this.subs.add(this.selectionService.onSelect.pipe((0,E.p)(()=>this.isOpen),(0,Wt.M)(()=>this._filtering=!1),(0,Ze.T)(a=>this.dataService.itemAt(a.indices[0]))).subscribe(a=>{const c=ye(a,this.valueField)!==ye(this.dataItem,this.valueField);this.updateState({dataItem:a}),c&&this.selectionChange.emit(a)})))}ngOnDestroy(){this.destroyPopup(),this.subs.unsubscribe(),_(this.valueSubscription)&&this.valueSubscription.unsubscribe(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler(),this.selectClickDisposeHandler&&this.selectClickDisposeHandler()}ngOnChanges(a){const c=this.virtual;c&&a.data&&a.data.isFirstChange()&&this.pageChange({skip:0,take:c.pageSize}),(0,w.Hq)("valueNormalizer",a)&&this.createValueStream(),(0,w.TI)(["textField","valueField","valuePrimitive"],a,!1)&&this.setState()}ngAfterContentChecked(){this.verifySettings()}focusItemAt(a){const c=a>=0&&a<this.data.length;_(a)&&c&&!this.disabledItemsService.isIndexDisabled(a)?this.selectionService.focus(a):this.selectionService.focus(-1)}focus(){this.disabled||this.searchbar.focus()}blur(){this.disabled||this.searchbar.blur()}toggle(a){Promise.resolve(null).then(()=>{const c=_(a)?a:!this._open;this._toggle(c),this.cdr.markForCheck()})}get isOpen(){return za(this._open||this.isActionSheetExpanded)}handleClick(){this.windowSize=this.adaptiveService.size,this.isAdaptive&&this.togglePopup(!0)}reset(){this.value=void 0,this.clearState(),this.resetSelection()}isEmpty(){const a=!_(this.text)||te(this.text),c=!_(this.value)||te(this.value);return a&&c}messageFor(a){return this.localization.get(a)}clearValue(a){a?.stopImmediatePropagation(),a&&this.focus(),this._previousDataItem=void 0,this.selectionService.resetSelection([]),this.clearValueSubject.next(),this._filtering=!1}writeValue(a){this.value=null===a?void 0:a}registerOnChange(a){this.onChangeCallback=a}registerOnTouched(a){this.onTouchedCallback=a}setDisabledState(a){this.cdr.markForCheck(),this.disabled=a}get selectButtonClasses(){return`${this.size?Ti("button",this.size):""} ${this.fillMode?"k-button-"+this.fillMode:""} ${this.fillMode?"k-button-"+this.fillMode+"-base":""}\n        `}onResize(){const a=this.adaptiveService.size;if(this.isAdaptiveModeEnabled&&this.windowSize!==a&&(this.isOpen&&this.togglePopup(!1),this.windowSize=a,this.cdr.detectChanges()),this.isOpen&&!this.isActionSheetExpanded){const c=this.popupRef.popupElement,{min:d,max:v}=this.popupWidth;c.style.minWidth=d,c.style.width=v}}verifySettings(){if((0,e.naY)()){if(!0===this.valuePrimitive&&_(this.value)&&"object"==typeof this.value)throw new Error("Expected value of primitive type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/value-binding/#toc-primitive-values");if(!1===this.valuePrimitive&&_(this.value)&&"object"!=typeof this.value)throw new Error("Expected value of type Object. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/value-binding/#toc-object-values");if(!_(this.valueField)!=!_(this.textField))throw new Error("Expected textField and valueField options to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/data-binding/#toc-arrays-of-complex-data");if(this.virtual&&isNaN(this.virtual.itemHeight))throw new Error("Expected virtual.itemHeight of type number.")}}setState(){if(this._filtering)return;const a=this.value,d=this.findDataItem({valueField:this.valueField,value:a});_(d.index)&&-1!==d.index?(this.updateState({dataItem:d.dataItem,confirm:!0}),this.resetSelection(d.index)):_(a)&&this.allowCustom?(this.updateState({dataItem:a}),this.resetSelection(-1)):this._previousDataItem&&this.value?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection(-1))}updateState({dataItem:a,confirm:c=!1}){this.dataItem=a,this.text=ye(a,this.textField),c&&(this._previousDataItem=a)}clearState(){this.text=void 0,this.dataItem=void 0}resetSelection(a){const c=!_(a)||a<0;this.selectionService.resetSelection(c?[]:[a]),this.selectionService.focused=a}firstFocusableIndex(a){const c=this.data.length-1;return this.disabledItemsService.isIndexDisabled(a)?a<c?this.firstFocusableIndex(a+1):void 0:a}findIndexPredicate(a){return this.dataService.grouped?c=>{let d=ye(c.value,this.textField);return d=_(d)?d.toString().toLowerCase():"",d.startsWith(a.toLowerCase())}:c=>{let d=ye(c,this.textField);return d=_(d)?d.toString().toLowerCase():"",d.startsWith(a.toLowerCase())}}findDataItem({valueField:a,value:c}){const d={dataItem:null,index:-1},x=this.dataService.findIndex(q=>ye(this.dataService.grouped?q.value:q,a)===ye(c,a));return d.dataItem=this.dataService.itemAt(x),d.index=x,d}search(a,c=0){const d=this.findIndex(a,c);this.disabledItemsService.isIndexDisabled(d)?d+1<this.dataService.itemsCount?this.search(a,d+1):this.selectionService.focus(-1):(this.selectionService.focus(d),this.suggest&&(this.suggestedText=ye(this.dataService.itemAt(d),this.textField)))}getSuggestion(){if(!this.selectionService.selected.length&&this.suggest&&!this.backspacePressed&&this.suggestedText&&this.text&&this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase()))return this.suggestedText;this.suggestedText=void 0}navigate(a){0!==this.dataService.itemsCount&&(this.text=ye(this.dataService.itemAt(a),this.textField),this.selectionService.select(a))}handleNavigate(a){const c=_(this.selectionService.selected[0]),d=isNaN(this.selectionService.focused)?this.firstFocusableIndex(0):this.selectionService.focused;let v=0;if(this.disabled||this.readonly)return;const x=(0,w.tq)(a);if(x===w.D$.Home||x===w.D$.End)return;c||(x===w.D$.ArrowDown?v=-1:x===w.D$.ArrowUp&&(v=1));const et=this.navigationService.process({current:v+d,max:this.dataService.itemsCount-1,min:0,originalEvent:a});et!==mt.Undefined&&et!==mt.Left&&et!==mt.Right&&et!==mt.Backspace&&et!==mt.Delete&&et!==mt.PageDown&&et!==mt.PageUp&&(et===mt.Enter&&this.isOpen||et!==mt.Enter)&&a.preventDefault(),et===mt.Tab&&this.isActionSheetExpanded&&(a.stopImmediatePropagation(),this.togglePopup(!1))}handleEnter(){const a=this.text,c=this.selectionService.focused,d=_(c)&&-1!==c,v=ye(this._previousDataItem,this.textField)||"",x=ye(this.dataService.itemAt(c),this.textField),q=a!==v;this.togglePopup(!1),this._filtering=!1,this.allowCustom&&q&&(a===x||this.useSuggestion()?this.selectionService.change(c):this.change(a,!0)),this.allowCustom||(d?this.selectionService.change(c):q&&this.change(a,!0))}handleFocus(){this.zone.run(()=>{!this.isFocused&&(0,w.SF)(this.onFocus)&&this.onFocus.emit(),this.isFocused=!0})}handleBlur(){this.isActionSheetExpanded||this.blurComponent()}handleInputBlur(){if(!this.isActionSheetExpanded){this._filtering=!1,this.searchbar.input.nativeElement.scrollLeft=0;const a=ye(this.dataItem,this.valueField)!==ye(this.value,this.valueField),c=this.searchbar.value,d=c!==(ye(this.dataItem,this.textField)||""),v=a||d;v||(0,w.SF)(this.onBlur)||(0,w.SF)(this.close)||Zi(this.wrapper.nativeElement)||"blur"===this.formControl?.updateOn?this.zone.run(()=>{v&&(_(this.focusedItemText)&&this.focusedItemText.toLowerCase()===c.toLowerCase()||a?this.selectionService.change(this.selectionService.focused):this.change(c,!0)),this.inputBlur.emit(),this.onTouchedCallback(),this.togglePopup(!1)}):this.togglePopup(!1)}}handleEscape(){this.isOpen?this.togglePopup(!1):this.clearValue(),this.selectionService.selected.length>0||(this.suggestedText=null,this.selectionService.focused=-1),(0,w.SF)(this.escape)&&this.escape.emit()}handleNavigationOpen(){this.restoreItemFocus(),this.togglePopup(!0)}searchBarChange(a){this.backspacePressed=a.length<(this.text?this.text.length:0),this.text=a,this.selectionService.resetSelection([]),this.togglePopup(!0),this._filtering=!0,this.filterable&&this.filterText!==a?(this.filterText=a,this.filterChange.emit(a)):this.search(a)}handleInputFocus(){this.handleFocus(),(0,w.SF)(this.inputFocus)&&this.zone.run(()=>this.inputFocus.emit())}pageChange(a){this.virtual.skip=a.skip}closeActionSheet(){this.blurComponent(),this.closed.emit()}change(a,c=!1){c?this.customValueSubject.next(a):(this.valueSubject.next(a),this.isActionSheetExpanded&&this.togglePopup(!1))}emitValueChange(){this.onChangeCallback(this.value),this.valueChange.emit(this.value),this._previousDataItem=this.dataItem}selectClick(){me.jl||(this.searchbar.focus(),this.isFocused=!0),this.isOpen||this.restoreItemFocus(),this.togglePopup(!this.isOpen)}get listContainerClasses(){return["k-list-container","k-combobox-popup"].concat(this.popupSettings.popupClass||[])}preventEventDefault(a){a.preventDefault()}get focusedItemText(){const a=this.selectionService.focused;if(!_(a)||-1===a)return null;const c=ye(this.dataService.itemAt(a),this.textField);return _(c)?c.toString():""}restoreItemFocus(){!(_(this.selectionService.focused)&&this.selectionService.focused>-1)&&this.text&&this.dataService.itemsCount&&(this.filterable?this.selectionService.focused=this.firstFocusableIndex(0):this.search(this.text))}useSuggestion(){if(!this.suggest||!_(this.searchbar.value))return!1;const a=this.dataService.itemAt(this.selectionService.focused),c=ye(a,this.textField);return!!_(c)&&this.searchbar.value.toLowerCase()===c.toLowerCase()}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}createPopup(){if(this.virtual&&(this.virtual.skip=0),this.windowSize=this.adaptiveService.size,this.isAdaptive)return void this.openActionSheet();const a="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupClass:this.listContainerClasses,positionMode:"string"==typeof this.popupSettings.appendTo&&"component"===this.popupSettings.appendTo?"fixed":"absolute",anchorAlign:{horizontal:a,vertical:"bottom"},popupAlign:{horizontal:a,vertical:"top"}});const x=this.popupRef.popupElement,{min:q,max:Ee}=this.popupWidth;x.addEventListener("mousedown",this.popupMouseDownHandler),x.style.minWidth=q,x.style.width=Ee,x.style.height=this.popupHeight,x.setAttribute("dir",this.direction),this.appendTo||(this.renderer.setAttribute(x,"role","region"),this.renderer.setAttribute(x,"aria-label",this.messageFor("popupLabel"))),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),Qr(this.optionsList,this.searchbar.input,this.renderer),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.opened.emit()}),this.popupRef.popupClose.subscribe(()=>{this.closed.emit()}),this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1))}_toggle(a){this._open=a,this.destroyPopup(),this.isActionSheetExpanded&&(this.actionSheet.toggle(!1),this.focus()),this._open&&(this.windowSize=this.adaptiveService.size,this.createPopup())}triggerPopupEvents(a){const c=new ka;return a?this.open.emit(c):this.close.emit(c),c.isDefaultPrevented()}clearFilter(){this.filterable&&this.filterText&&(this.filterText="",this.filterChange.emit(this.filterText))}subscribeTouchEvents(){!(0,w.nm)()||!me.jl||this.zone.runOutsideAngular(()=>this.touchstartDisposeHandler=this.renderer.listen(document,"touchstart",a=>{const d=_n(this.wrapper,a.target,this.popupRef);this.isFocused&&!d?this.zone.run(()=>this.blur()):this.isOpen&&!d&&this.zone.run(()=>this.togglePopup(!1))}))}attachSelectClickHandler(){this.selectClickDisposeHandler=this.renderer.listen(this.select.nativeElement,me.D_?"pointerdown":"click",this.selectClick.bind(this))}setComponentClasses(){"none"!==this.size&&this.renderer.addClass(this.wrapper.nativeElement,Ti("input",this.size)),"none"!==this.rounded&&this.renderer.addClass(this.wrapper.nativeElement,dn(this.rounded)),"none"!==this.fillMode&&this.renderer.addClass(this.wrapper.nativeElement,Dn("input",this.fillMode))}findIndex(a,c=0){let d;return d=a&&a.length&&this.dataService.itemsCount?this.dataService.findIndex(this.findIndexPredicate(a),c):-1,d}openActionSheet(){this.windowSize=this.adaptiveService.size,this.actionSheet.toggle(!0),this.cdr.detectChanges(),Qr(this.optionsList,this.searchbar.input,this.renderer),this.adaptiveTitle=Ka(this.searchbar.input,this.adaptiveTitle),this.cdr.detectChanges(),this.opened.emit(),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.actionSheetSearchBar.focus()}blurComponent(){this._filtering=!1,this.searchbar.input.nativeElement.scrollLeft=0,this.isFocused=!1;const a=ye(this.dataItem,this.valueField)!==ye(this.value,this.valueField),c=this.searchbar.value,d=c!==(ye(this.dataItem,this.textField)||""),v=a||d;v||(0,w.SF)(this.onBlur)||(0,w.SF)(this.close)||Zi(this.wrapper.nativeElement)?this.zone.run(()=>{v&&(_(this.focusedItemText)&&this.focusedItemText.toLowerCase()===c.toLowerCase()||a?this.selectionService.change(this.selectionService.focused):this.change(c,!0)),this.onBlur.emit(),this.onTouchedCallback(),this.togglePopup(!1)}):this.togglePopup(!1)}static \u0275fac=function(c){return new(c||p)(e.rXU(e.aKT),e.rXU(xe.Pi),e.rXU(Pe.OQ),e.rXU(Cs),e.rXU(os),e.rXU(Xn),e.rXU(ss),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(e.sFG),e.rXU(e.zZn),e.rXU(e.aKT),e.rXU(Ne.k))};static \u0275cmp=e.VBU({type:p,selectors:[["kendo-combobox"]],contentQueries:function(c,d,v){if(1&c&&(e.wni(v,yt,5),e.wni(v,un,5),e.wni(v,Pn,5),e.wni(v,Lo,5),e.wni(v,jn,5),e.wni(v,Hn,5),e.wni(v,w.d9,5),e.wni(v,w.uy,5)),2&c){let x;e.mGM(x=e.lsd())&&(d.template=x.first),e.mGM(x=e.lsd())&&(d.headerTemplate=x.first),e.mGM(x=e.lsd())&&(d.footerTemplate=x.first),e.mGM(x=e.lsd())&&(d.noDataTemplate=x.first),e.mGM(x=e.lsd())&&(d.groupTemplate=x.first),e.mGM(x=e.lsd())&&(d.fixedGroupTemplate=x.first),e.mGM(x=e.lsd())&&(d.suffixTemplate=x.first),e.mGM(x=e.lsd())&&(d.prefixTemplate=x.first)}},viewQuery:function(c,d){if(1&c&&(e.GBs(ro,5),e.GBs(On,7,e.c1b),e.GBs(rn,7),e.GBs(Bo,7),e.GBs($n,5),e.GBs(Mi,7)),2&c){let v;e.mGM(v=e.lsd())&&(d.adaptiveRendererComponent=v.first),e.mGM(v=e.lsd())&&(d.container=v.first),e.mGM(v=e.lsd())&&(d.popupTemplate=v.first),e.mGM(v=e.lsd())&&(d.searchbar=v.first),e.mGM(v=e.lsd())&&(d.optionsList=v.first),e.mGM(v=e.lsd())&&(d.select=v.first)}},hostVars:11,hostBindings:function(c,d){2&c&&(e.BMQ("dir",d.dir),e.AVh("k-readonly",d.readonly)("k-combobox",d.widgetClasses)("k-input",d.widgetClasses)("k-disabled",d.isDisabled)("k-loading",d.isLoading))},inputs:{icon:"icon",svgIcon:"svgIcon",inputAttributes:"inputAttributes",showStickyHeader:"showStickyHeader",focusableId:"focusableId",allowCustom:"allowCustom",data:"data",value:"value",textField:"textField",valueField:"valueField",valuePrimitive:"valuePrimitive",valueNormalizer:"valueNormalizer",placeholder:"placeholder",adaptiveMode:"adaptiveMode",adaptiveTitle:"adaptiveTitle",adaptiveSubtitle:"adaptiveSubtitle",popupSettings:"popupSettings",listHeight:"listHeight",loading:"loading",suggest:"suggest",clearButton:"clearButton",disabled:"disabled",itemDisabled:"itemDisabled",readonly:"readonly",tabindex:"tabindex",tabIndex:"tabIndex",filterable:"filterable",virtual:"virtual",size:"size",rounded:"rounded",fillMode:"fillMode"},outputs:{valueChange:"valueChange",selectionChange:"selectionChange",filterChange:"filterChange",open:"open",opened:"opened",close:"close",closed:"closed",onFocus:"focus",onBlur:"blur",inputFocus:"inputFocus",inputBlur:"inputBlur",escape:"escape"},exportAs:["kendoComboBox"],standalone:!0,features:[e.Jv_([Kl,ss,Cs,os,Xn,xe.Pi,{provide:xe.$R,useValue:"kendo.combobox"},{provide:$a,useExisting:(0,e.Rfq)(()=>p)},{provide:w.eW,useExisting:(0,e.Rfq)(()=>p)},{provide:w.xk,useExisting:(0,e.Rfq)(()=>p)}]),e.Vt3,e.OA$,e.aNF],decls:20,vars:38,consts:()=>{let a,c,d,v,x;return a=$localize`:kendo.combobox.noDataText|The text displayed in the popup when there are no items:NO DATA FOUND`,c=$localize`:kendo.combobox.clearTitle|The title of the clear button:clear`,d=$localize`:kendo.combobox.selectButtonText|The text set as aria-label on the select button:Select`,v=$localize`:kendo.combobox.popupLabel|The label of the popup element that contains the list of options when its role is 'region':Options list`,x=$localize`:kendo.combobox.adaptiveCloseButtonTitle|The title of the Close button of the ActionSheet that is rendered instead of the Popup when using small screen devices in adaptive mode:Close`,[["select",""],["popupTemplate",""],["container",""],["sharedPopupActionSheetTemplate",""],["optionsList",""],["kendoComboBoxLocalizedMessages","","noDataText",a,"clearTitle",c,"selectButtonText",d,"popupLabel",v,"adaptiveCloseButtonTitle",x],["kendoDropDownSharedEvents","",3,"isFocusedChange","handleBlur","onFocus","hostElement","isFocused"],["class","k-input-prefix k-input-prefix-horizontal",4,"ngIf"],[4,"ngIf"],["kendoSearchbar","",3,"onNavigate","valueChange","onBlur","onFocus","click","ariaExpanded","ariaControls","id","isLoading","isSuggestable","isFilterable","activeDescendant","userInput","suggestedText","disabled","readonly","tabIndex","isRequired","placeholder","inputAttributes"],["class","k-clear-value","aria-hidden","true",3,"visibility","kendoEventsOutsideAngular","click",4,"ngIf"],["class","k-i-loading k-input-loading-icon k-icon",4,"ngIf"],["class","k-input-suffix k-input-suffix-horizontal",4,"ngIf"],["tabindex","-1","unselectable","on","type","button",1,"k-input-button","k-button","k-icon-button",3,"keydown.enter","ngClass","kendoEventsOutsideAngular"],["innerCssClass","k-button-icon",3,"name","svgIcon"],[3,"resize",4,"ngIf"],[3,"closePopup","textInputChange","navigate","sharedPopupActionSheetTemplate","title","showTextInput","subtitle","placeholder","searchBarValue"],[1,"k-input-prefix","k-input-prefix-horizontal"],[3,"ngTemplateOutlet"],["aria-hidden","true",1,"k-clear-value",3,"click","kendoEventsOutsideAngular"],["name","x",3,"svgIcon"],[1,"k-i-loading","k-input-loading-icon","k-icon"],[1,"k-input-suffix","k-input-suffix-horizontal"],[4,"ngTemplateOutlet"],[3,"resize"],[3,"pageChange","size","rounded","id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","showStickyHeader"],["class","k-no-data",4,"ngIf"],[3,"templateContext"],[1,"k-no-data"],[3,"ngIf","templateContext"],[3,"ngIf"]]},template:function(c,d){if(1&c){const v=e.RV6();e.eu8(0,5),e.qex(1,6),e.mxI("isFocusedChange",function(q){return e.eBV(v),e.DH7(d.isFocused,q)||(d.isFocused=q),e.Njj(q)}),e.bIt("handleBlur",function(){return e.eBV(v),e.Njj(d.handleBlur())})("onFocus",function(){return e.eBV(v),e.Njj(d.handleFocus())}),e.DNE(2,pr,2,1,"span",7)(3,Oo,1,0,"kendo-separator",8),e.j41(4,"input",9),e.bIt("onNavigate",function(q){return e.eBV(v),e.Njj(d.handleNavigate(q))})("valueChange",function(q){return e.eBV(v),e.Njj(d.searchBarChange(q))})("onBlur",function(){return e.eBV(v),e.Njj(d.handleInputBlur())})("onFocus",function(){return e.eBV(v),e.Njj(d.handleInputFocus())})("click",function(){return e.eBV(v),e.Njj(d.handleClick())}),e.k0s(),e.DNE(5,Os,2,7,"span",10)(6,Dr,1,0,"span",11)(7,wi,1,0,"kendo-separator",8)(8,Js,2,1,"span",12),e.j41(9,"button",13,0),e.bIt("keydown.enter",function(q){return e.eBV(v),e.Njj(q.stopImmediatePropagation())}),e.nrm(11,"kendo-icon-wrapper",14),e.k0s(),e.bVm(),e.DNE(12,yo,1,1,"ng-template",null,1,e.C5r)(14,ms,1,0,"kendo-resize-sensor",15),e.eu8(15,null,2),e.j41(17,"kendo-adaptive-renderer",16),e.bIt("closePopup",function(){return e.eBV(v),e.Njj(d.closeActionSheet())})("textInputChange",function(q){return e.eBV(v),e.Njj(d.searchBarChange(q))})("navigate",function(q){return e.eBV(v),e.Njj(d.handleNavigate(q))}),e.k0s(),e.DNE(18,Ms,5,17,"ng-template",null,3,e.C5r)}if(2&c){const v=e.sdS(19);e.R7$(),e.Y8G("hostElement",d.hostElement),e.R50("isFocused",d.isFocused),e.R7$(),e.Y8G("ngIf",d.prefixTemplate),e.R7$(),e.Y8G("ngIf",d.prefixTemplate&&d.prefixTemplate.showSeparator),e.R7$(),e.Y8G("ariaExpanded",d.isOpen)("ariaControls",d.ariaControls)("id",d.focusableId)("isLoading",d.loading)("isSuggestable",d.suggest)("isFilterable",d.filterable)("activeDescendant",d.activeDescendant)("userInput",d.text)("suggestedText",d.getSuggestion())("disabled",d.disabled)("readonly",d.readonly||d.isAdaptive)("tabIndex",d.tabIndex)("isRequired",d.isControlRequired)("placeholder",d.placeholder)("inputAttributes",d.inputAttributes),e.R7$(),e.Y8G("ngIf",d.clearButton&&!d.loading&&!d.disabled&&!d.readonly&&(null==d.text?null:d.text.length)),e.R7$(),e.Y8G("ngIf",d.loading),e.R7$(),e.Y8G("ngIf",d.suffixTemplate&&d.suffixTemplate.showSeparator),e.R7$(),e.Y8G("ngIf",d.suffixTemplate),e.R7$(),e.Y8G("ngClass",d.selectButtonClasses)("kendoEventsOutsideAngular",e.eq3(36,is,d.preventEventDefault)),e.BMQ("aria-label",d.messageFor("selectButtonText"))("disabled",d.disabled?"":null),e.R7$(2),e.Y8G("name",d.icon||"caret-alt-down")("svgIcon",d.svgIcon||d.caretAltDownIcon),e.R7$(3),e.Y8G("ngIf",d.isOpen||d.isAdaptiveModeEnabled),e.R7$(3),e.Y8G("sharedPopupActionSheetTemplate",v)("title",d.adaptiveTitle)("showTextInput",!0)("subtitle",d.adaptiveSubtitle)("placeholder",d.placeholder)("searchBarValue",d.text)}},dependencies:[Sr,dl,Bt.bT,Bt.T3,w.Fl,Bo,w.Uj,tn.QK,Bt.YU,w.M0,ro,w.b2,ja],encapsulation:2})}return p})(),js=(()=>{class p{templateRef;constructor(a){this.templateRef=a}static \u0275fac=function(c){return new(c||p)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:p,selectors:[["","kendoDropDownListValueTemplate",""],["","kendoDropDownTreeValueTemplate",""]],standalone:!0})}return p})(),$l=(()=>{class p{element;zone;focused;constructor(a,c){this.element=a,this.zone=c}ngOnChanges(){this.focused&&this.nextTick(()=>this.element.nativeElement.focus())}nextTick(a){this.zone.runOutsideAngular(()=>setTimeout(a))}static \u0275fac=function(c){return new(c||p)(e.rXU(e.aKT),e.rXU(e.SKi))};static \u0275dir=e.FsC({type:p,selectors:[["","filterInput",""]],inputs:{focused:[e.Mj6.None,"filterInput","focused"]},standalone:!0,features:[e.OA$]})}return p})();const Vo={multi:!0,provide:qe.kq,useExisting:(0,e.Rfq)(()=>ul)};let ul=(()=>{class p{wrapper;localization;popupService;selectionService;navigationService;disabledItemsService;dataService;_zone;renderer;cdr;injector;adaptiveService;touchEnabled=me.jl;animationDuration=Zr;xIcon=Tt.i3N;searchIcon=Tt.qcD;caretAltDownSVGIcon=Tt.Y8K;customIconClass;adaptiveRenderer;searchInput;get actionSheet(){return this.adaptiveRenderer?.actionSheet}get actionSheetSearchBar(){return this.adaptiveRenderer?.actionSheetSearchBar}get width(){const a=(0,w.nm)()?this.wrapper.nativeElement.offsetWidth:0,c=this.popupSettings.width||a;return{min:isNaN(a)?a:`${a}px`,max:isNaN(c)?c:`${c}px`}}get height(){const a=this.popupSettings.height;return _(a)?`${a}px`:"auto"}get widgetTabIndex(){if(this.disabled)return;const a=Number(this.tabIndex);return isNaN(a)?0:a}get ariaActivedescendant(){if(_(this.dataItem)&&this.isOpen)return this.optionPrefix+"-"+this.selectionService.focused}get appendTo(){const{appendTo:a}=this.popupSettings;if(a&&"root"!==a)return"component"===a?this.container:a}onFilterChange(a){this.filterable&&this.filterChange.emit(a)}get ariaLive(){return this.filterable?"polite":"off"}showStickyHeader=!0;icon;svgIcon;loading;set data(a){this.dataService.data=a||[],this.virtual&&(this.virtual.skip=0),this.setState()}get data(){const a=this.virtual;if(a){const c=a.skip||0,d=c+a.pageSize;return a.total=this.dataService.data.length,this.dataService.data.slice(c,d)}return this.dataService.data}set value(a){_(a)||(this._previousDataItem=void 0),this._value=a,this.setState(),this.cdr.markForCheck()}get value(){return this._value}textField;valueField;adaptiveMode="none";adaptiveTitle="";adaptiveSubtitle="";get isAdaptiveModeEnabled(){return"auto"===this.adaptiveMode}windowSize="large";get isActionSheetExpanded(){return this.actionSheet?.expanded}get isAdaptive(){return this.isAdaptiveModeEnabled&&"large"!==this.windowSize}set popupSettings(a){this._popupSettings=Object.assign({animate:!0},a)}get popupSettings(){return this._popupSettings}set listHeight(a){this._listHeight=a}get listHeight(){if(!this.isAdaptive)return this._listHeight}_listHeight=200;defaultItem;disabled;set itemDisabled(a){if("function"!=typeof a)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(a)}.`);this.disabledItemsService.itemDisabled=a}readonly=!1;filterable=!1;set virtual(a){this._virtualSettings=Uo(a)}get virtual(){return this._virtualSettings}ignoreCase=!0;delay=500;set valuePrimitive(a){this._valuePrimitive=a}get valuePrimitive(){return _(this._valuePrimitive)?this._valuePrimitive:!_(this.valueField)}tabindex=0;set tabIndex(a){this.tabindex=a}get tabIndex(){return this.tabindex}set size(a){const c=a||"medium";this.renderer.removeClass(this.wrapper.nativeElement,Ti("picker",this.size)),"none"!==a&&this.renderer.addClass(this.wrapper.nativeElement,Ti("picker",c)),this._size=c}get size(){return this._size}set rounded(a){const c=a||"medium";this.renderer.removeClass(this.wrapper.nativeElement,dn(this.rounded)),"none"!==a&&this.renderer.addClass(this.wrapper.nativeElement,dn(c)),this._rounded=a}get rounded(){return this._rounded}set fillMode(a){const c=a||"solid";this.renderer.removeClass(this.wrapper.nativeElement,Dn("picker",this.fillMode)),"none"!==a&&this.renderer.addClass(this.wrapper.nativeElement,Dn("picker",c)),this._fillMode=c}get fillMode(){return this._fillMode}leftRightArrowsNavigation=!0;valueChange=new e.bkB;filterChange=new e.bkB;selectionChange=new e.bkB;open=new e.bkB;opened=new e.bkB;close=new e.bkB;closed=new e.bkB;onFocus=new e.bkB;onBlur=new e.bkB;itemTemplate;groupTemplate;fixedGroupTemplate;valueTemplate;headerTemplate;footerTemplate;noDataTemplate;container;popupTemplate;optionsList;blurComponent(a){a.target===this.wrapper.nativeElement&&(a.stopImmediatePropagation(),this.hostElementBlurred.emit())}blurFilterInput(){this.filterBlurred.emit()}focusComponent(a){a.target===this.wrapper.nativeElement&&(a.stopImmediatePropagation(),this.hostElementFocused.emit(),this.isFocused||(this.isFocused=!0,(0,w.SF)(this.onFocus)&&this._zone.run(()=>{this.onFocus.emit()})))}onResize(){const a=this.adaptiveService.size;if(this.isAdaptiveModeEnabled&&this.windowSize!==a&&(this.isOpen&&this.togglePopup(!1),this.windowSize=a),this.isOpen&&!this.isActionSheetExpanded){const c=this.popupRef.popupElement,{min:d,max:v}=this.width;c.style.minWidth=d,c.style.width=v}}hostClasses=!0;get isDisabledClass(){return this.disabled||null}get isLoading(){return this.loading}focusableId=`k-${(0,w.Os)()}`;get dir(){return this.direction}get hostTabIndex(){return this.widgetTabIndex}get readonlyClass(){return this.readonly}get readonlyAttr(){return this.readonly?"":null}get isBusy(){return this.isLoading}role="combobox";haspopup="listbox";get hostAriaInvalid(){return!!this.formControl?.invalid||null}keydown(a,c){c&&a.stopPropagation();const d=_(this.defaultItem)?-1:0,v=isNaN(this.selectionService.focused)?this.firstFocusableIndex(d):this.selectionService.focused;let x=0;if(this.disabled||this.readonly)return;const q=(0,w.tq)(a);if(this.filterable&&this.isFocused&&this.isOpen&&(q===w.D$.Home||q===w.D$.End))return;const Ds=_(this.selectionService.selected[0]),Hs=_(this.selectionService.focused)&&!this.selectionService.isSelected(this.selectionService.focused);(!Ds||Hs)&&(q===w.D$.ArrowDown||q===w.D$.ArrowRight&&this.leftRightArrowsNavigation?x=-1:(q===w.D$.ArrowUp||q===w.D$.ArrowLeft&&this.leftRightArrowsNavigation)&&(x=1));const Ps=a,Fs=this.navigationService.process({current:v+x,max:this.dataService.itemsCount-1,min:this.defaultItem?-1:0,originalEvent:Ps,openOnSpace:!this.isOpen,closeOnSpace:this.isOpen&&!c&&!(a.target instanceof HTMLInputElement)});Fs!==mt.Undefined&&Fs!==mt.Tab&&Fs!==mt.Backspace&&Fs!==mt.Delete&&Fs!==mt.PageDown&&Fs!==mt.PageUp&&Fs!==mt.SelectAll&&!((Fs===mt.Left||Fs===mt.Right&&this.leftRightArrowsNavigation)&&this.filterable)&&Fs!==mt.Enter&&Ps.preventDefault(),Fs===mt.Tab&&this.isActionSheetExpanded&&this.togglePopup(!1)}keypress(a){this.disabled||this.readonly||this.filterable||this.onKeyPress(a)}click(){this.isActionSheetExpanded||(this.focus(),this.togglePopup(!this.isOpen))}groupIndices=[];optionPrefix=`k-${(0,w.Os)()}`;valueLabelId;filterText="";listBoxId=`k-${(0,w.Os)()}`;subs=new Ve.yU;_isFocused=!1;set isFocused(a){this.renderer[a?"addClass":"removeClass"](this.wrapper.nativeElement,"k-focus"),this._isFocused=a}get isFocused(){return this._isFocused}direction;dataItem;popupRef;onTouchedCallback=a=>{};onChangeCallback=a=>{};popupMouseDownHandler;word="";last="";typingTimeout;filterFocused=new e.bkB;filterBlurred=new e.bkB;hostElementFocused=new e.bkB;hostElementBlurred=new e.bkB;touchstartDisposeHandler;_value;_open=!1;_previousDataItem;_valuePrimitive;text;_popupSettings={animate:!0};_virtualSettings;_size="medium";_rounded="medium";_fillMode="solid";constructor(a,c,d,v,x,q,Ee,et,gt,Ni,Ds,Hs){this.wrapper=a,this.localization=c,this.popupService=d,this.selectionService=v,this.navigationService=x,this.disabledItemsService=q,this.dataService=Ee,this._zone=et,this.renderer=gt,this.cdr=Ni,this.injector=Ds,this.adaptiveService=Hs,(0,Je.$j)(S),this.direction=c.rtl?"rtl":"ltr",this.data=[],this.subscribeEvents(),this.subscribeTouchEvents(),this.subscribeFocusEvents(),this.popupMouseDownHandler=this.onMouseDown.bind(this)}ngOnInit(){this.renderer.removeAttribute(this.wrapper.nativeElement,"tabindex"),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded","false"),this.ariaActivedescendant&&this.renderer.setAttribute(this.wrapper.nativeElement,"aria-activedescendant",this.ariaActivedescendant),this.subs.add(this.localization.changes.subscribe(({rtl:a})=>{this.direction=a?"rtl":"ltr",this.cdr.detectChanges()})),this.assignAriaDescribedBy(),this.setComponentClasses()}ngAfterViewInit(){this.windowSize=this.adaptiveService.size}isEmpty(){const a=this.value;return!(0===a||!1===a||a||this.defaultItem)}onFilterFocus(){this.filterFocused.emit()}ngOnDestroy(){this.destroyPopup(),this.subs.unsubscribe(),this.unSubscribeFocusEvents(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler()}ngOnChanges(a){const c=this.virtual;c&&a.data&&a.data.isFirstChange()&&this.pageChange({skip:0,take:c.pageSize}),(0,w.Hq)("defaultItem",a,!1)&&(this.disabledItemsService.defaultItem=this.defaultItem),(0,w.TI)(["textField","valueField","valuePrimitive","defaultItem","itemDisabled"],a,!1)&&this.setState()}ngAfterContentChecked(){this.verifySettings()}get formControl(){return this.injector.get(qe.vO,null)?.control||null}focusItemAt(a){const d=(_(this.defaultItem)?-1:0)<=a&&a<this.data.length;_(a)&&d&&!this.disabledItemsService.isIndexDisabled(a)?this.selectionService.focus(a):this.selectionService.focus(null)}focus(){this.disabled||this.wrapper.nativeElement.focus()}blur(){this.disabled||(this.wrapper.nativeElement.blur(),this.cdr.detectChanges())}toggle(a){Promise.resolve(null).then(()=>{const c=_(a)?a:!this._open;this._toggle(c)})}_toggle(a){this._open=a,this.destroyPopup(),this.isActionSheetExpanded&&this.closeActionSheet(),this._open&&this.createPopup()}triggerPopupEvents(a){const c=new ka;return a?this.open.emit(c):this.close.emit(c),c.isDefaultPrevented()}togglePopup(a){this.disabled||this.readonly||this.isOpen===a||this.triggerPopupEvents(a)||(!a&&this.filterable&&this.isFocused&&this.focus(),this._toggle(a))}get isOpen(){return za(this._open||this.isActionSheetExpanded)}reset(){this.value=void 0}messageFor(a){return this.localization.get(a)}writeValue(a){this.value=null===a?void 0:a}registerOnChange(a){this.onChangeCallback=a}registerOnTouched(a){this.onTouchedCallback=a}setDisabledState(a){this.cdr.markForCheck(),this.disabled=a}get selectButtonClasses(){return`${this.size?Ti("button",this.size):""} ${this.fillMode?"k-button-"+this.fillMode:""} ${this.fillMode?"k-button-"+this.fillMode+"-base":""}`}get filterInputClasses(){return`${this.size?Ti("input",this.size):""} ${this.fillMode?"k-input-"+this.fillMode:""} ${this.rounded?dn(this.rounded):""}`}get listContainerClasses(){const a=["k-list-container","k-dropdownlist-popup"];return this.popupSettings.popupClass&&a.push(this.popupSettings.popupClass),a}getText(){return this.text}createPopup(){if(this.virtual&&(this.virtual.skip=0),this.windowSize=this.adaptiveService.size,this.isAdaptive)return void this.openActionSheet();const a="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{horizontal:a,vertical:"bottom"},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{horizontal:a,vertical:"top"},popupClass:this.listContainerClasses,positionMode:"string"==typeof this.popupSettings.appendTo&&"component"===this.popupSettings.appendTo?"fixed":"absolute"}),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded","true"),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-controls",this.listBoxId);const x=this.popupRef.popupElement,{min:q,max:Ee}=this.width;x.addEventListener("mousedown",this.popupMouseDownHandler),x.style.minWidth=q,x.style.width=Ee,x.style.height=this.height,x.setAttribute("dir",this.direction),this.appendTo||(this.renderer.setAttribute(x,"role","region"),this.renderer.setAttribute(x,"aria-label",this.messageFor("popupLabel")));const et=x.querySelector("ul.k-list-ul"),gt=this.wrapper.nativeElement.getAttribute("aria-labelledby");gt&&et.setAttribute("aria-labelledby",gt),this.subs.add(this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),Qr(this.optionsList,this.wrapper,this.renderer),this.setAriaactivedescendant(),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.opened.emit()})),this.subs.add(this.popupRef.popupClose.subscribe(()=>{this.closed.emit()})),this.filterable||this.subs.add(this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1)))}destroyPopup(){this.popupRef&&(this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded","false"),this.renderer.removeAttribute(this.wrapper.nativeElement,"aria-controls"),this.renderer.removeAttribute(this.wrapper.nativeElement,"aria-activedescendant"),this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}updateState({dataItem:a,confirm:c=!1}){this.dataItem=a,this.text=ye(a,this.textField),c&&(this._previousDataItem=a)}clearState(){this.text=void 0,this.dataItem=void 0}resetSelection(a){const c=!_(a);this.selectionService.resetSelection(c?[]:[a]),this.selectionService.focused=c?this.firstFocusableIndex(0):a}onSelectionChange({dataItem:a}){this.updateState({dataItem:a}),this.selectionChange.emit(a),this.assignAriaDescribedBy(),this.setAriaactivedescendant()}subscribeEvents(){(0,w.nm)()&&(this.subs.add(this.selectionService.onSelect.pipe((0,E.p)(()=>this.isOpen),(0,Ze.T)(this.itemFromEvent.bind(this))).subscribe(this.onSelectionChange.bind(this))),this.subs.add((0,Be.h)(this.selectionService.onSelect.pipe((0,E.p)(()=>!this.isOpen)),this.selectionService.onChange).pipe((0,Ze.T)(this.itemFromEvent.bind(this)),(0,Wt.M)(()=>this.togglePopup(!1))).subscribe(({dataItem:a,value:c,newSelection:d})=>{d&&this.onSelectionChange({dataItem:a});const v=!_(a)&&this._previousDataItem,x=c!==ye(this.value,this.valueField);v?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):x&&(this.value=this.valuePrimitive?c:a,this._previousDataItem=a,this.emitChange(this.value)),this.clearFilter()})),this.subs.add((0,Be.h)(this.navigationService.up,this.navigationService.down,this.navigationService.left.pipe((0,E.p)(()=>this.leftRightArrowsNavigation),We(()=>this.filterable)),this.navigationService.right.pipe((0,E.p)(()=>this.leftRightArrowsNavigation),We(()=>this.filterable)),this.navigationService.home,this.navigationService.end).pipe((0,E.p)(a=>!isNaN(a.index))).subscribe(a=>this.selectionService.select(a.index))),this.subs.add((0,Be.h)(this.navigationService.pagedown,this.navigationService.pageup).subscribe(a=>{if(this.isOpen){a.originalEvent.preventDefault();const c=(0,w.tq)(a.originalEvent);this.optionsList.scrollWithOnePage(mt[c])}})),this.subs.add(this.navigationService.open.subscribe(()=>this.togglePopup(!0))),this.subs.add(this.navigationService.close.subscribe(()=>{this.togglePopup(!1),this.focus()})),this.subs.add(this.navigationService.enter.pipe((0,Wt.M)(a=>a.originalEvent.preventDefault())).subscribe(this.handleEnter.bind(this))),this.subs.add(this.navigationService.esc.subscribe(this.handleEscape.bind(this))),this.subs.add(this.filterBlurred.pipe((0,ii.H)(()=>(0,Ae.Y)(10).pipe((0,Ei.s)(1),(0,zi.Q)(this.hostElementFocused)))).subscribe(()=>{this.hostElementBlurred.emit()})),this._zone.runOutsideAngular(()=>{this.subs.add((0,Be.h)(this.hostElementBlurred.pipe((0,ii.H)(()=>(0,Ae.Y)(10).pipe((0,Ei.s)(1),(0,zi.Q)(this.filterFocused)))),this.navigationService.tab).pipe((0,Wt.M)(a=>a instanceof kt&&this.focus()),(0,E.p)(()=>this.isFocused),(0,E.p)(()=>{if(!(0,w.nm)()||!(0,w.nr)(navigator.userAgent))return!0;const c=this.popupRef?.popupElement.querySelector(".k-button.k-focus"),d=this.searchInput&&c&&(0,w.SF)(this.filterChange);return d&&(this.searchInput.nativeElement.focus(),this.isFocused=!0),!d})).subscribe(()=>this.componentBlur()))}))}setAriaactivedescendant(){this.ariaActivedescendant&&(this.renderer.setAttribute(this.wrapper.nativeElement,"aria-activedescendant",this.ariaActivedescendant),this.searchInput&&this.renderer.setAttribute(this.searchInput.nativeElement,"aria-activedescendant",this.ariaActivedescendant))}subscribeTouchEvents(){!(0,w.nm)()||!this.touchEnabled||this._zone.runOutsideAngular(()=>this.touchstartDisposeHandler=this.renderer.listen(document,"touchstart",a=>{this.isFocused&&!_n(this.wrapper,a.target,this.popupRef)&&this._zone.run(()=>{this.filterFocused&&this.togglePopup(!1),this.blur()})}))}subscribeFocusEvents(){(0,w.nm)()&&(this.focusComponent=this.focusComponent.bind(this),this.blurComponent=this.blurComponent.bind(this),this._zone.runOutsideAngular(()=>{document.addEventListener("focus",this.focusComponent,!0),document.addEventListener("blur",this.blurComponent,!0)}))}unSubscribeFocusEvents(){(0,w.nm)()&&(document.removeEventListener("focus",this.focusComponent,!0),document.removeEventListener("blur",this.blurComponent,!0))}itemFromEvent(a){const c=a.indices[0];let d=this.dataService.itemAt(c);d=_(d)?d:this.currentOrDefault(c);const v=ye(d,this.valueField);return{dataItem:d,index:c,newSelection:a.newSelection,value:v}}currentOrDefault(a){return _(this.dataItem)&&-1!==a?this.dataItem:this.defaultItem}firstFocusableIndex(a){const c=this.dataService.itemsCount-1;return this.disabledItemsService.isIndexDisabled(a)?a<c?this.firstFocusableIndex(a+1):void 0:a}handleEnter(){this.isOpen?(this.selectionService.change(this.selectionService.focused),this.focus()):this.togglePopup(!0)}handleEscape(){_(this.selectionService.selected[0])?this.selectionService.change(this.selectionService.selected[0]):(this.togglePopup(!1),this.clearFilter()),this.focus()}clearFilter(){this.filterable&&this.filterText&&(this.filterText="",this.cdr.markForCheck(),this.filterChange.emit(this.filterText))}verifySettings(){if((0,e.naY)()){if(this.defaultItem&&this.valueField&&"object"!=typeof this.defaultItem)throw new Error("defaultItem and data items must be of same type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/api/DropDownListComponent/#toc-defaultitem");if(!0===this.valuePrimitive&&_(this.value)&&"object"==typeof this.value)throw new Error("Expected value of primitive type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/value-binding/#toc-primitive-values");if(!1===this.valuePrimitive&&_(this.value)&&"object"!=typeof this.value)throw new Error("Expected value of type Object. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/value-binding/#toc-object-values");if(!_(this.valueField)!=!_(this.textField))throw new Error("Expected textField and valueField options to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/data-binding/#toc-arrays-of-complex-data")}}componentBlur(){if(!this.isActionSheetExpanded){this.isFocused=!1;const c=_(this.selectionService.selected[0])&&ye(this.value,this.valueField)!==ye(this.dataService.itemAt(this.selectionService.selected[0]),this.valueField);c||(0,w.SF)(this.close)||(0,w.SF)(this.onBlur)||(0,w.SF)(this.filterChange)||Zi(this.wrapper.nativeElement)||"blur"===this.formControl?.updateOn?this._zone.run(()=>{c&&this.selectionService.change(this.selectionService.selected[0]),this.togglePopup(!1),this.clearFilter(),this.onBlur.emit(),this.onTouchedCallback()}):(this.togglePopup(!1),this.cdr.markForCheck())}}onMouseDown(a){"input"!==a.target.tagName.toLowerCase()&&a.preventDefault()}onKeyPress(a){if(0===a.which||a.code===w.D$.Enter||a.code===w.D$.NumpadEnter||a.key.length>1)return;let c=a.key;this.ignoreCase&&(c=c.toLowerCase())," "===c&&a.preventDefault(),this.word+=c,this.last=c,this.search()}search(){clearTimeout(this.typingTimeout),this.filterable||(this.typingTimeout=setTimeout(()=>{this.word=""},this.delay),this.selectNext())}selectNext(){let a=this.dataService.filter(gt=>_(gt)&&!gt.header&&!this.disabledItemsService.isItemDisabled(gt)).map(gt=>this.dataService.grouped?{item:gt.value,itemIndex:gt.offsetIndex}:{item:gt,itemIndex:this.dataService.indexOf(gt)});const c=((p,B)=>{for(let a=0;a<p.length;a++)if(p.charAt(a)!==B)return!1;return!0})(this.word,this.last);let d=a.length;const v=!isNaN(this.selectionService.selected[0]);let q,Ee,et,x=v?this.selectionService.selected[0]:0;for(this.defaultItem&&!this.disabledItemsService.isItemDisabled(this.defaultItem)&&(et={item:this.defaultItem,itemIndex:-1},d+=1,x+=1),x+=c&&v?1:0,a=((p,B,a)=>{let c=p;return a&&(c=[a].concat(c)),c.slice(B).concat(c.slice(0,B))})(a,x,et),Ee=0;Ee<d;Ee++){q=ye(a[Ee].item,this.textField);const gt=!(!c||!bi(q,this.last,this.ignoreCase)),Ni=!!bi(q,this.word,this.ignoreCase);if(gt||Ni){Ee=a[Ee].itemIndex;break}}Ee!==d&&this.navigate(Ee)}emitChange(a){this.onChangeCallback(a),this.valueChange.emit(a)}navigate(a){this.selectionService.select(a)}findDataItem({valueField:a,value:c}){const d={dataItem:null,index:-1},v=Ee=>ye(Ee,a);let x;x=this.dataService.grouped?Ee=>v(Ee.value)===v(c):Ee=>v(Ee)===v(c);const q=this.dataService.findIndex(x);return d.dataItem=this.dataService.itemAt(q),d.index=q,d}setState(){const a=this.value,c=this.valueField,d=this.textField,v=this.valuePrimitive;if(this.defaultItem){const Ee=ye(this.defaultItem,c),et=ye(a,c);if(!_(a)||et===Ee)return this.updateState({dataItem:this.defaultItem,confirm:!0}),this.resetSelection(-1),void(this.filterable&&this.filterText&&this.dataService.itemsCount&&(this.selectionService.focused=this.firstFocusableIndex(0)))}const x=this.findDataItem({valueField:c,value:a}),q=!(v&&d);x.dataItem?(this.updateState({dataItem:x.dataItem,confirm:!0}),this.resetSelection(x.index)):_(a)&&q?(this.updateState({dataItem:a}),this.resetSelection()):this._previousDataItem?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection())}handleFilter(a){this.filterChange.emit(a.target.value)}handleClick(){this.windowSize=this.adaptiveService.size,this.isAdaptive&&this.togglePopup(!0)}pageChange(a){this.virtual.skip=a.skip}assignAriaDescribedBy(){const c=(this.wrapper.nativeElement.getAttribute("aria-describedby")||"").replace(this.valueLabelId,"").trim();this.valueLabelId=`k-${(0,w.Os)()}`;const d=`${this.valueLabelId} ${c}`.trim();this.renderer.setAttribute(this.wrapper.nativeElement,"aria-describedby",d)}setComponentClasses(){"none"!==this.size&&this.renderer.addClass(this.wrapper.nativeElement,Ti("picker",this.size)),"none"!==this.rounded&&this.renderer.addClass(this.wrapper.nativeElement,dn(this.rounded)),"none"!==this.fillMode&&this.renderer.addClass(this.wrapper.nativeElement,Dn("picker",this.fillMode))}closeActionSheet(){this.actionSheet.toggle(!1),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded","false"),this.renderer.removeAttribute(this.wrapper.nativeElement,"aria-controls"),this.filterable&&(this.adaptiveRenderer.searchBarValue="",this.filterChange.emit("")),this.closed.emit()}openActionSheet(){this.actionSheet.toggle(!0),this.cdr.detectChanges(),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded","true"),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-controls",this.listBoxId),Qr(this.optionsList,this.wrapper,this.renderer),this.setAriaactivedescendant(),this.adaptiveTitle=Ka(this.wrapper,this.adaptiveTitle),this.cdr.detectChanges(),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.opened.emit()}static \u0275fac=function(c){return new(c||p)(e.rXU(e.aKT),e.rXU(xe.Pi),e.rXU(Pe.OQ),e.rXU(Cs),e.rXU(os),e.rXU(Xn),e.rXU(ss),e.rXU(e.SKi),e.rXU(e.sFG),e.rXU(e.gRc),e.rXU(e.zZn),e.rXU(Ne.k))};static \u0275cmp=e.VBU({type:p,selectors:[["kendo-dropdownlist"]],contentQueries:function(c,d,v){if(1&c&&(e.wni(v,yt,5),e.wni(v,jn,5),e.wni(v,Hn,5),e.wni(v,js,5),e.wni(v,un,5),e.wni(v,Pn,5),e.wni(v,Lo,5)),2&c){let x;e.mGM(x=e.lsd())&&(d.itemTemplate=x.first),e.mGM(x=e.lsd())&&(d.groupTemplate=x.first),e.mGM(x=e.lsd())&&(d.fixedGroupTemplate=x.first),e.mGM(x=e.lsd())&&(d.valueTemplate=x.first),e.mGM(x=e.lsd())&&(d.headerTemplate=x.first),e.mGM(x=e.lsd())&&(d.footerTemplate=x.first),e.mGM(x=e.lsd())&&(d.noDataTemplate=x.first)}},viewQuery:function(c,d){if(1&c&&(e.GBs(ro,5),e.GBs(fo,5),e.GBs(On,7,e.c1b),e.GBs(rn,7),e.GBs($n,5)),2&c){let v;e.mGM(v=e.lsd())&&(d.adaptiveRenderer=v.first),e.mGM(v=e.lsd())&&(d.searchInput=v.first),e.mGM(v=e.lsd())&&(d.container=v.first),e.mGM(v=e.lsd())&&(d.popupTemplate=v.first),e.mGM(v=e.lsd())&&(d.optionsList=v.first)}},hostVars:19,hostBindings:function(c,d){1&c&&e.bIt("keydown",function(x){return d.keydown(x)})("keypress",function(x){return d.keypress(x)})("click",function(){return d.click()}),2&c&&(e.BMQ("aria-disabled",d.isDisabledClass)("id",d.focusableId)("dir",d.dir)("tabindex",d.hostTabIndex)("readonly",d.readonlyAttr)("aria-busy",d.isBusy)("role",d.role)("aria-haspopup",d.haspopup)("aria-invalid",d.hostAriaInvalid),e.AVh("k-readonly",d.readonly)("k-dropdownlist",d.hostClasses)("k-picker",d.hostClasses)("k-disabled",d.isDisabledClass)("k-loading",d.isLoading))},inputs:{customIconClass:"customIconClass",showStickyHeader:"showStickyHeader",icon:"icon",svgIcon:"svgIcon",loading:"loading",data:"data",value:"value",textField:"textField",valueField:"valueField",adaptiveMode:"adaptiveMode",adaptiveTitle:"adaptiveTitle",adaptiveSubtitle:"adaptiveSubtitle",popupSettings:"popupSettings",listHeight:"listHeight",defaultItem:"defaultItem",disabled:"disabled",itemDisabled:"itemDisabled",readonly:"readonly",filterable:"filterable",virtual:"virtual",ignoreCase:"ignoreCase",delay:"delay",valuePrimitive:"valuePrimitive",tabindex:"tabindex",tabIndex:"tabIndex",size:"size",rounded:"rounded",fillMode:"fillMode",leftRightArrowsNavigation:"leftRightArrowsNavigation",focusableId:[e.Mj6.None,"id","focusableId"]},outputs:{valueChange:"valueChange",filterChange:"filterChange",selectionChange:"selectionChange",open:"open",opened:"opened",close:"close",closed:"closed",onFocus:"focus",onBlur:"blur"},exportAs:["kendoDropDownList"],standalone:!0,features:[e.Jv_([Vo,ss,Cs,os,Xn,xe.Pi,{provide:xe.$R,useValue:"kendo.dropdownlist"},{provide:$a,useExisting:(0,e.Rfq)(()=>p)},{provide:w.eW,useExisting:(0,e.Rfq)(()=>p)}]),e.OA$,e.aNF],decls:16,vars:19,consts:()=>{let a,c,d,v,x;return a=$localize`:kendo.dropdownlist.noDataText|The text displayed in the popup when there are no items:NO DATA FOUND`,c=$localize`:kendo.dropdownlist.selectButtonText|The text set as aria-label on the select button:Select`,d=$localize`:kendo.dropdownlist.filterInputLabel|The text set as aria-label on the filter input:Filter`,v=$localize`:kendo.dropdownlist.popupLabel|The label of the popup element that contains the list of options when its role is 'region':Options list`,x=$localize`:kendo.dropdownlist.adaptiveCloseButtonTitle|The title of the Close button of the ActionSheet that is rendered instead of the Popup when using small screen devices in adaptive mode:Close`,[["popupTemplate",""],["container",""],["sharedPopupActionSheetTemplate",""],["optionsList",""],["searchInput",""],["kendoDropDownListLocalizedMessages","","noDataText",a,"selectButtonText",c,"filterInputLabel",d,"popupLabel",v,"adaptiveCloseButtonTitle",x,"filterInputPlaceholder","Filter"],["unselectable","on",1,"k-input-inner",3,"click","id"],[1,"k-input-value-text"],[4,"ngIf"],[3,"ngIf"],["class","k-i-loading k-input-loading-icon k-icon",4,"ngIf"],["tabindex","-1","unselectable","on","type","button",1,"k-input-button","k-button","k-icon-button",3,"ngClass","kendoEventsOutsideAngular"],["unselectable","on","innerCssClass","k-button-icon",3,"name","customFontClass","svgIcon"],[3,"resize",4,"ngIf"],[3,"closePopup","textInputChange","sharedPopupActionSheetTemplate","title","showTextInput","subtitle","filterable"],[3,"templateContext"],[1,"k-i-loading","k-input-loading-icon","k-icon"],[4,"ngTemplateOutlet"],[3,"resize"],[3,"pageChange","id","size","rounded","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","ariaLive","showStickyHeader","defaultItem"],["class","k-no-data",4,"ngIf"],[1,"k-list-filter",3,"click"],[1,"k-searchbox","k-input",3,"ngClass"],["innerCssClass","k-input-icon","name","search",1,"k-icon",3,"svgIcon"],["role","searchbox","aria-autocomplete","list","aria-haspopup","listbox","tabindex","-1",1,"k-input-inner",3,"ngModelChange","keydown","input","focus","blur","click","filterInput","dir","ngModel"],[1,"k-no-data"],[3,"ngIf","templateContext"]]},template:function(c,d){if(1&c){const v=e.RV6();e.eu8(0,5),e.j41(1,"span",6),e.bIt("click",function(q){return e.eBV(v),e.Njj(q.preventDefault())}),e.j41(2,"span",7),e.DNE(3,gs,1,4,null,8)(4,ys,1,1,"ng-template",9),e.k0s()(),e.DNE(5,Ci,1,0,"span",10),e.j41(6,"button",11),e.nrm(7,"kendo-icon-wrapper",12),e.k0s(),e.DNE(8,Li,1,1,"ng-template",null,0,e.C5r)(10,ci,1,0,"kendo-resize-sensor",13),e.eu8(11,null,1),e.j41(13,"kendo-adaptive-renderer",14),e.bIt("closePopup",function(){return e.eBV(v),e.Njj(d.togglePopup(!1))})("textInputChange",function(q){return e.eBV(v),e.Njj(d.onFilterChange(q))}),e.k0s(),e.DNE(14,St,6,20,"ng-template",null,2,e.C5r)}if(2&c){const v=e.sdS(15);e.R7$(),e.Y8G("id",d.valueLabelId),e.R7$(2),e.Y8G("ngIf",d.valueTemplate),e.R7$(),e.Y8G("ngIf",!d.valueTemplate),e.R7$(),e.Y8G("ngIf",d.loading),e.R7$(),e.Y8G("ngClass",d.selectButtonClasses)("kendoEventsOutsideAngular",e.eq3(17,is,d.onMouseDown)),e.BMQ("aria-label",d.messageFor("selectButtonText"))("disabled",d.disabled?"":null),e.R7$(),e.Y8G("name",d.icon||"caret-alt-down")("customFontClass",d.customIconClass)("svgIcon",d.svgIcon||d.caretAltDownSVGIcon),e.R7$(3),e.Y8G("ngIf",d.isOpen||d.isAdaptiveModeEnabled),e.R7$(3),e.Y8G("sharedPopupActionSheetTemplate",v)("title",d.adaptiveTitle)("showTextInput",d.filterable)("subtitle",d.adaptiveSubtitle)("filterable",d.filterable)}},dependencies:[Sr,Bt.bT,w.b2,Bt.YU,w.Uj,tn.QK,Bt.T3,w.M0,ro,qe.X1,qe.me,qe.BC,$l,qe.YN,qe.vS,ja],encapsulation:2})}return p})(),wa=(()=>{class p{templateRef;constructor(a){this.templateRef=a}static \u0275fac=function(c){return new(c||p)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:p,selectors:[["","kendoMultiSelectTagTemplate",""],["","kendoMultiSelectTreeTagTemplate",""]],standalone:!0})}return p})(),hl=(()=>{class p{templateRef;constructor(a){this.templateRef=a}static \u0275fac=function(c){return new(c||p)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:p,selectors:[["","kendoMultiSelectGroupTagTemplate",""],["","kendoMultiSelectTreeGroupTagTemplate",""]],standalone:!0})}return p})();class Hl extends ka{dataItem;constructor(B){super(),this.dataItem=B}}let Ac=(()=>{class p{renderer;hostElement;xCircleIcon=Tt.aVR;tags;textField;valueField;valueDepth;focused;template;groupTemplate;disabled;tagPrefix;id;set size(a){this.renderer.removeClass(this.hostElement.nativeElement,Ti("chip-list",this.size)),a&&this.renderer.addClass(this.hostElement.nativeElement,Ti("chip-list",a)),this._size=a}get size(){return this._size}rounded="medium";fillMode="solid";disabledIndices=new Set;removeTag=new e.bkB;hostClass=!0;get hostId(){return this.id}taglistRole="listbox";multiselectable=!0;_size="medium";constructor(a,c){this.renderer=a,this.hostElement=c}tagProp(a,c,d){const v=c&&this.getPropField(a,c,d);return ye(a,v)}isTagDisabled(a,c){return this.isGroupTag(a)?a.every((d,v)=>this.disabledIndices.has(v+c)):this.disabledIndices.has(c)}deleteTag(a,c,d){a.preventDefault(),a.stopImmediatePropagation(),!this.disabled&&1===a.which&&this.removeTag.emit({tag:c,index:d})}itemId(a,c){if(a)return this.tagPrefix+"-"+c}isGroupTag(a){return a instanceof Array}tagAriaHidden(a){return _(this.focused)&&this.focused!==a}getPropField(a,c,d){const v=c.length-1;if("string"==typeof c)return c;if(this.valueDepth){const x=this.valueDepth[d];return v<x?c[v]:c[x]}return c.find(x=>x in a)}static \u0275fac=function(c){return new(c||p)(e.rXU(e.sFG),e.rXU(e.aKT))};static \u0275cmp=e.VBU({type:p,selectors:[["kendo-taglist"]],hostVars:5,hostBindings:function(c,d){2&c&&(e.BMQ("id",d.hostId)("role",d.taglistRole)("aria-multiselectable",d.multiselectable),e.AVh("k-chip-list",d.hostClass))},inputs:{tags:"tags",textField:"textField",valueField:"valueField",valueDepth:"valueDepth",focused:"focused",template:"template",groupTemplate:"groupTemplate",disabled:"disabled",tagPrefix:"tagPrefix",id:"id",size:"size",rounded:"rounded",fillMode:"fillMode",disabledIndices:"disabledIndices"},outputs:{removeTag:"removeTag"},standalone:!0,features:[e.aNF],ngContentSelectors:mi,decls:2,vars:1,consts:[["groupTag",""],["singleTag",""],["class","k-chip",3,"ngClass",4,"ngFor","ngForOf"],[1,"k-chip",3,"ngClass"],[1,"k-chip-content"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"k-chip-actions"],["aria-label","delete",1,"k-chip-action","k-chip-remove-action"],["name","x-circle",3,"mousedown","svgIcon"],[1,"k-chip-label","k-text-ellipsis"],[4,"ngIf"],[3,"ngIf"],[3,"templateContext"]],template:function(c,d){1&c&&(e.NAR(),e.DNE(0,Wo,10,22,"div",2),e.SdG(1)),2&c&&e.Y8G("ngForOf",d.tags)},dependencies:[Bt.pM,Bt.YU,Bt.bT,w.b2,tn.QK],encapsulation:2})}return p})();const vg={multi:!0,provide:qe.kq,useExisting:(0,e.Rfq)(()=>Xl)};let Xl=(()=>{class p{wrapper;localization;popupService;dataService;selectionService;navigationService;disabledItemsService;cdr;differs;renderer;_zone;injector;hostElement;adaptiveService;animationDuration=Zr;xIcon=Tt.i3N;listBoxId=`k-${(0,w.Os)()}`;tagListId=`k-${(0,w.Os)()}`;tagPrefix="tag-"+(0,w.Os)();optionPrefix="option-"+(0,w.Os)();popupRef;text;tags;focusedTagIndex=void 0;adaptiveRendererComponent;get actionSheet(){return this.adaptiveRendererComponent?.actionSheet}get actionSheetSearchBar(){return this.adaptiveRendererComponent?.actionSheetSearchBar}get ariaControls(){return this.isOpen?this.listBoxId:void 0}get isControlRequired(){return(0,w.Ps)(this.formControl)}get formControl(){return this.injector.get(qe.vO,null)?.control||null}focusItemAt(a){const d=(this.allowCustom?-1:0)<=0&&a<this.data.length;_(a)&&d&&!this.disabledItemsService.isIndexDisabled(a)?this.selectionService.focus(a):this.selectionService.focus(null)}focus(){this.disabled||this.searchbar.focus()}handleInputFocus(){this.handleFocus(),(0,w.SF)(this.inputFocus)&&this._zone.run(()=>{this.inputFocus.emit()})}blur(){this.disabled||this.searchbar.blur()}handleFocus(){this._zone.run(()=>{!this.isFocused&&(0,w.SF)(this.onFocus)&&this.onFocus.emit(),this.isFocused=!0})}handleBlur(){this.isActionSheetExpanded||this.blurComponent()}handleInputBlur(){if(!this.isActionSheetExpanded){if(!this.isFocused)return;(0,w.SF)(this.inputBlur)||(0,w.SF)(this.filterChange)||(0,w.SF)(this.close)||Zi(this.wrapper.nativeElement)||"blur"===this.formControl?.updateOn?this._zone.run(()=>{this.closePopup(),this.isOpen&&this.allowCustom||this.clearFilter(),this.inputBlur.emit(),this.onTouchedCallback()}):(this.allowCustom||this.clearFilter(),this.closePopup())}}onPointerDown(a){a.preventDefault()}onResize(){const a=this.adaptiveService.size;if(this.isAdaptiveModeEnabled&&this.windowSize!==a&&(this.isOpen&&this.togglePopup(!1),this.windowSize=a,this.cdr.detectChanges()),this.isOpen&&!this.isActionSheetExpanded){const c=this.popupRef.popupElement,{min:d,max:v}=this.width;c.style.minWidth=d,c.style.width=v}}get appendTo(){const{appendTo:a}=this.popupSettings;if(a&&"root"!==a)return"component"===a?this.container:a}showStickyHeader=!0;focusableId=`k-${(0,w.Os)()}`;autoClose=!0;loading;set data(a){this.dataService.data=a||[],this.virtual&&(this.virtual.skip=0),this.initialized&&this.setState(this.value)}get data(){const a=this.virtual;if(a){const c=a.skip||0,d=c+a.pageSize;return a.total=this.dataService.data.length,this.dataService.data.slice(c,d)}return this.dataService.data}set value(a){this._value=a||[],!this.differ&&this.value&&(this.differ=this.differs.find(this.value).create()),this.valueChangeDetected=!0,this.initialized&&this.setState(this.value)}get value(){return this._value}valueField;textField;tabindex=0;set tabIndex(a){this.tabindex=a}get tabIndex(){return this.tabindex}set size(a){const c=a||"medium";this.renderer.removeClass(this.wrapper.nativeElement,Ti("input",this.size)),"none"!==a&&this.renderer.addClass(this.wrapper.nativeElement,Ti("input",c)),this._size=c}get size(){return this._size}set rounded(a){const c=a||"medium";this.renderer.removeClass(this.wrapper.nativeElement,dn(this.rounded)),"none"!==a&&this.renderer.addClass(this.wrapper.nativeElement,dn(c)),this._rounded=c}get rounded(){return this._rounded}set fillMode(a){const c=a||"solid";this.renderer.removeClass(this.wrapper.nativeElement,Dn("input",this.fillMode)),"none"!==a&&this.renderer.addClass(this.wrapper.nativeElement,Dn("input",c)),this._fillMode=c}get fillMode(){return this._fillMode}set placeholder(a){this._placeholder=a||""}get placeholder(){return this.selectedDataItems.length?"":this._placeholder}adaptiveMode="none";adaptiveTitle="";adaptiveSubtitle;get isAdaptiveModeEnabled(){return"auto"===this.adaptiveMode}disabled=!1;set itemDisabled(a){if("function"!=typeof a)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(a)}.`);this.disabledItemsService.itemDisabled=a}set checkboxes(a){this._checkboxes=(p=>ht(p)?Object.assign({},{enabled:!0,checkOnClick:!0},p):{enabled:!!p,checkOnClick:!0})(a)}get checkboxes(){return this._checkboxes}readonly=!1;filterable=!1;set virtual(a){this._virtualSettings=Uo(a)}get virtual(){return this._virtualSettings}set popupSettings(a){this._popupSettings=Object.assign({animate:!0},a)}get popupSettings(){return this._popupSettings}set listHeight(a){this._listHeight=a}get listHeight(){if(!this.isAdaptive)return this._listHeight}_listHeight=200;set valuePrimitive(a){this._valuePrimitive=a}get valuePrimitive(){return _(this._valuePrimitive)?this._valuePrimitive:!_(this.valueField)}clearButton=!0;tagMapper=a=>a||[];allowCustom=!1;valueNormalizer=a=>a.pipe((0,Ze.T)(c=>{const d=q=>"string"==typeof q&&c.toLowerCase()===q.toLowerCase(),v=this.value.find(d);return v||(this.dataService.find(d)||c)}));inputAttributes;filterChange=new e.bkB;valueChange=new e.bkB;open=new e.bkB;opened=new e.bkB;close=new e.bkB;closed=new e.bkB;onFocus=new e.bkB;onBlur=new e.bkB;inputFocus=new e.bkB;inputBlur=new e.bkB;removeTag=new e.bkB;container;searchbar;tagList;popupTemplate;optionsList;template;customItemTemplate;groupTemplate;fixedGroupTemplate;headerTemplate;footerTemplate;tagTemplate;groupTagTemplate;noDataTemplate;suffixTemplate;prefixTemplate;hostClasses=!0;get dir(){return this.direction}get disabledClass(){return this.disabled}get isLoading(){return this.loading}windowSize="large";get isActionSheetExpanded(){return this.actionSheet?.expanded}get isAdaptive(){return this.isAdaptiveModeEnabled&&"large"!==this.windowSize}applyValue(){this.isActionSheetExpanded&&(!(this.value.every(c=>this._valueHolder.find(d=>c===d))&&this._valueHolder.length===this.value.length)&&(this.value=this._valueHolder,this._valueHolder=[],this.emitValueChange()),this.clearFilter(),this.togglePopup(!1),this.allowCustom&&this.isCustomValueSelected&&(this.isCustomValueSelected=!1))}disabledIndices;initialized=!1;_size="medium";_rounded="medium";_fillMode="solid";_valueHolder=[];isCustomValueSelected=!1;constructor(a,c,d,v,x,q,Ee,et,gt,Ni,Ds,Hs,Ps,Fs){this.wrapper=a,this.localization=c,this.popupService=d,this.dataService=v,this.selectionService=x,this.navigationService=q,this.disabledItemsService=Ee,this.cdr=et,this.differs=gt,this.renderer=Ni,this._zone=Ds,this.injector=Hs,this.hostElement=Ps,this.adaptiveService=Fs,(0,Je.$j)(S),this.popupPointerDownHandler=this.onPointerDown.bind(this),this.data=[],this.direction=this.localization.rtl?"rtl":"ltr",this.subscribeEvents(),this.subscribeTouchEvents()}get listContainerClasses(){const a=["k-list-container","k-multiselect-popup"];return this.popupSettings.popupClass&&a.push(this.popupSettings.popupClass),a}get customItemSizeClass(){const a=this.isAdaptive?"large":this.size;return`${a?Ti("list",a):""}`}get width(){let a=0;(0,w.nm)()&&(a=this.wrapper.nativeElement.offsetWidth);const c=this.popupSettings.width||a;return{min:isNaN(a)?a:`${a}px`,max:isNaN(c)?c:`${c}px`}}get height(){const a=this.popupSettings.height;return _(a)?`${a}px`:"auto"}get activeDescendant(){const a=this.focusedTagIndex,c=this.selectionService.focused;let d,v;if(_(a)&&!this.isOpen)v=a,d=this.tagPrefix;else{if(!_(c)||-1===c||!this.isOpen)return null;v=c,d=this.optionPrefix}return d+"-"+v}get clearButtonVisiblity(){if(me.jl)return"visible"}verifySettings(){if((0,e.naY)()&&0!==this.value.length){if(!ie(this.value))throw new Error("Expected values of array type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/value-binding");if(!0===this.valuePrimitive&&Fe(this.value))throw new Error("Expected values of primitive type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/value-binding/#toc-primitive-values");if(!1===this.valuePrimitive&&!Fe(this.value))throw new Error("Expected values of Object type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/value-binding/#toc-object-values");if(!_(this.valueField)!=!_(this.textField))throw new Error("Expected textField and valueField options to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/data-binding/#toc-arrays-of-complex-data")}}change(a){if(a.isMultipleSelection)_(a.added)&&a.added.length>0&&a.added.forEach(c=>{const d=this.dataService.itemAt(c),v=this.valuePrimitive&&_(d)&&_(ye(d,this.valueField))?ye(d,this.valueField):d;v&&(this.isAdaptive&&this.isActionSheetExpanded?this._valueHolder=[...this._valueHolder,v]:this.value=[...this.value,v])}),_(a.removed)&&a.removed.length>0&&(a.removed.forEach(c=>{const d=this.dataService.itemAt(c),v=x=>ye(x,this.valueField)!==ye(d,this.valueField);this.isAdaptive&&this.isActionSheetExpanded?this._valueHolder=this._valueHolder.filter(v):this.value=this.value.filter(v)}),this.cdr.detectChanges());else{if((_(a.added)||_(a.removed))&&(-1===a.added||-1===a.removed))return void this.addCustomValue(this.text);if(_(a.added)){const d=this.dataService.itemAt(a.added),v=this.valuePrimitive&&_(d)&&_(ye(d,this.valueField))?ye(d,this.valueField):d;this.isAdaptive&&this.isActionSheetExpanded?this._valueHolder=[...this._valueHolder,v]:this.value=[...this.value,v]}if(_(a.removed)){const d=this.dataService.itemAt(a.removed),v=x=>ye(x,this.valueField)!==ye(d,this.valueField);this.isAdaptive&&this.isActionSheetExpanded?this._valueHolder=this._valueHolder.filter(v):this.value=this.value.filter(v),this.selectionService.focused=a.removed,this.cdr.detectChanges()}}(!this.isAdaptive||!this.isActionSheetExpanded)&&this.emitValueChange()}setState(a){let c=this.dataService.data;this.dataService.grouped&&(c=c.filter(v=>!v.header).map(v=>v.value));const d=Lt(this.value,c,this.valueField);this.selectionService.resetSelection(d),this.disabledItemsService.isIndexDisabled(this.selectionService.focused)&&(this.selectionService.focused=this.firstFocusableIndex(0)),this.isOpen&&void 0===this.selectionService.focused&&(this.dataService.itemsCount>0?(this.selectionService.focused=this.firstFocusableIndex(0),this.allowCustom&&(this.selectionService.focused=0)):this.allowCustom&&(this.selectionService.focused=-1)),this.valuePrimitive&&!this.valueField&&(this.selectedDataItems=a.slice()),(Fe(a)||this.valuePrimitive&&this.valueField)&&(this.selectedDataItems=((p,B,a)=>{const c=((p,B)=>ie(p)&&p.filter(a=>ht(a)&&void 0!==ye(a,B)))(p,a)||[];return(((p,B=[],a)=>p.map(c=>B.find(d=>ye(d,a)===c)).filter(c=>void 0!==c))(p,B,a)||[]).concat(c)})(a,c,this.valueField)),this.selectedDataItems.length<a.length&&(this.selectedDataItems=a.map(v=>{const x=this.selectedDataItems.find(q=>ye(q,this.valueField)===ye(v,this.valueField));return _(x)?x:this.resolveDataItemFromTags(v)}).filter(v=>_(v))),this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.disabledIndices=this.disabledItemsMapper(),this.cdr.markForCheck()}handleFilter(a){this.isActionSheetExpanded&&this.allowCustom&&this.isCustomValueSelected&&(this.addCustomValue(this.text),this.addCustomValue(a)),this.text=a,a&&!this.isOpen&&this.openPopup(),this.filterable?this.filterChange.emit(a):this.searchTextAndFocus(a),this.searchbar.setInputSize()}pageChange(a){this.virtual.skip=a.skip}clearFilter(){this.filterable&&this.text&&this.filterChange.emit(""),this.text="",this.searchbar.input.nativeElement.value="",this.searchbar.setInputSize()}handleNavigate(a){const c=(0,w.tq)(a),d=this.text&&c!==w.D$.ArrowDown&&c!==w.D$.ArrowUp,v=this.text&&c===w.D$.Enter||c===w.D$.Escape;if(c===w.D$.Backspace&&this.isActionSheetExpanded)return;if(!this.text&&c===w.D$.Backspace&&this.tags.length>0)return void this.handleBackspace();if(this.disabled||d&&!v)return;const q=a,Ee=isNaN(this.selectionService.focused)?-1:this.selectionService.focused,et=this.navigationService.process({current:Ee,max:this.dataService.itemsCount-1,min:this.allowCustom&&this.text?-1:0,open:this.isOpen,originalEvent:q});et!==mt.Undefined&&(et===mt.Enter&&this.isOpen||et!==mt.Enter)&&!this.isActionSheetExpanded&&et===mt.Tab&&a.preventDefault()}handleRemoveTag({tag:a}){const c=new Hl(a);this.disabled||this.readonly||(this.focus(),this.removeTag.emit(c),!c.isDefaultPrevented()&&(a instanceof Array?this.removeGroupTag(a):this.removeSingleTag(a),this.cdr.detectChanges()))}clearAll(a){a?.stopImmediatePropagation(),a?.preventDefault(),this.focus(),this.clearFilter(),this.selectionService.lastClickedIndex=null;const c=this.selectionService.selected;this.value=this.value.filter((d,v)=>this.disabledItemsService.isIndexDisabled(c[v])),this.emitValueChange()}addCustomValue(a){this.customValueSubject.next(a)}ngAfterContentChecked(){this.verifySettings()}ngDoCheck(){this.differ&&this.differ.diff(this.value)&&!this.valueChangeDetected&&this.setState(this.value),this.valueChangeDetected=!1}ngOnInit(){this.renderer.removeAttribute(this.wrapper.nativeElement,"tabindex"),this.createCustomValueStream(),this.subs.add(this.localization.changes.subscribe(({rtl:a})=>{this.direction=a?"rtl":"ltr",this.cdr.markForCheck()})),this.setState(this.value),this.setComponentClasses(),this.initialized=!0}ngOnChanges(a){const c=this.virtual;c&&a.data&&a.data.isFirstChange()&&this.pageChange({skip:0,take:c.pageSize}),(0,w.Hq)("valueNormalizer",a)&&this.createCustomValueStream(),(0,w.TI)(["textField","valueField","valuePrimitive"],a)&&this.setState(this.value)}ngAfterViewInit(){this.windowSize=this.adaptiveService.size,this.cdr.detectChanges(),this.searchbar.setInputSize(),this.subs.add(this.renderer.listen(this.wrapper.nativeElement,"mousedown",this.handleMousedown.bind(this))),this.subs.add(this.renderer.listen(this.wrapper.nativeElement,"keydown",this.handleKeydown.bind(this))),this._zone.onStable.pipe((0,Ei.s)(1)).subscribe(()=>{const a=this.searchbar.input.nativeElement.getAttribute("aria-labelledby")||this.searchbar.input.nativeElement.getAttribute("data-kendo-label-id");a&&this.renderer.setAttribute(this.tagList.hostElement.nativeElement,"aria-labelledby",a)})}ngOnDestroy(){this._toggle(!1),this.unsubscribeEvents()}toggle(a){Promise.resolve(null).then(()=>{const c=_(a)?a:!this._open;this._toggle(c),this.cdr.markForCheck()})}get isOpen(){return za(this._open||this.isActionSheetExpanded)}reset(){this.text="",this.value=[]}messageFor(a){return this.localization.get(a)}writeValue(a){this.value=a||[]}registerOnChange(a){this.onChangeCallback=a}registerOnTouched(a){this.onTouchedCallback=a}setDisabledState(a){this.cdr.markForCheck(),this.disabled=a}onTagMapperChange(){this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.cdr.markForCheck()}handleClick(){this.windowSize=this.adaptiveService.size,this.isAdaptive&&this.togglePopup(!0)}onChangeCallback=a=>{};onTouchedCallback=a=>{};_placeholder="";_open=!1;_value=[];_popupSettings={animate:!0};_virtualSettings;_valuePrimitive;_checkboxes={enabled:!1};_isFocused=!1;set isFocused(a){this.renderer[a?"addClass":"removeClass"](this.wrapper.nativeElement,"k-focus"),this._isFocused=a}get isFocused(){return this._isFocused}selectedDataItems=[];popupPointerDownHandler;isOpenPrevented=!1;customValueSubject=new we.B;customValueSubscription;subs=new Ve.yU;touchstartDisposeHandler;direction;differ;valueChangeDetected;subscribeEvents(){if(!(0,w.nm)())return;const a=()=>this.isOpen,c=()=>!this.isOpen,d=()=>!this.isOpen&&void 0!==this.focusedTagIndex;[this.selectionService.onChange.subscribe(this.handleItemChange.bind(this)),this.navigationService.esc.subscribe(()=>{this.isOpen?this.closePopup():this.isFocused&&this.selectedDataItems.length>0&&this.clearAll()}),this.navigationService.enter.pipe((0,E.p)(a)).subscribe(this.handleEnter.bind(this)),this.navigationService.open.subscribe(this.openPopup.bind(this)),this.navigationService.close.subscribe(this.handleClose.bind(this)),this.navigationService.up.pipe((0,E.p)(a)).subscribe(v=>this.handleUp(v.index)),this.navigationService.home.pipe((0,E.p)(()=>c)).subscribe(this.handleHome.bind(this)),this.navigationService.end.pipe((0,E.p)(()=>c)).subscribe(this.handleEnd.bind(this)),this.navigationService.backspace.pipe((0,E.p)(d)).subscribe(this.handleBackspace.bind(this)),this.navigationService.delete.pipe((0,E.p)(d)).subscribe(this.handleDelete.bind(this)),this.navigationService.left.subscribe("rtl"===this.direction?this.handleRightKey.bind(this):this.handleLeftKey.bind(this)),this.navigationService.right.subscribe("rtl"===this.direction?this.handleLeftKey.bind(this):this.handleRightKey.bind(this)),this.navigationService.down.subscribe(v=>this.handleDownKey(v.index)),this.navigationService.selectprevious.pipe((0,E.p)(a)).subscribe(v=>this.handleSelectUpDown(v)),this.navigationService.selectnext.pipe((0,E.p)(a)).subscribe(v=>this.handleSelectUpDown(v)),this.navigationService.selectalltobeginning.pipe((0,E.p)(a)).subscribe(()=>this.handleSelectAllToBeginning()),this.navigationService.selectalltoend.pipe((0,E.p)(a)).subscribe(()=>this.handleSelectAllToEnd()),(0,Be.h)(this.navigationService.pagedown,this.navigationService.pageup).subscribe(v=>{if(this.isOpen){v.originalEvent.preventDefault();const x=(0,w.tq)(v.originalEvent);this.optionsList.scrollWithOnePage(mt[x])}})].forEach(v=>this.subs.add(v))}subscribeTouchEvents(){!(0,w.nm)()||!me.jl||this._zone.runOutsideAngular(()=>this.touchstartDisposeHandler=this.renderer.listen(document,"touchstart",a=>{(this.isFocused||this.isOpen)&&!_n(this.wrapper,a.target,this.popupRef)&&this._zone.run(()=>{this.blur(),this.isOpen&&this.togglePopup(!1)})}))}unsubscribeEvents(){(0,w.nm)()&&(this.subs.unsubscribe(),this.customValueSubscription&&this.customValueSubscription.unsubscribe(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler())}removeGroupTag(a){let c=this.dataService.data;this.dataService.grouped&&(c=c.filter(v=>!v.header).map(v=>v.value));const d=new Set(a.map(v=>ye(v,this.valueField)));this.value=this.value.filter(v=>{const x=Lt([v],c,this.valueField)[0],q=this.disabledItemsService.isIndexDisabled(x);return!d.has(ye(v,this.valueField))||q}),this.emitValueChange()}removeSingleTag(a){let c=this.dataService.data;this.dataService.grouped&&(c=c.filter(v=>!v.header).map(v=>v.value));const d=Lt([a],c,this.valueField)[0];this.disabledItemsService.isIndexDisabled(d)||((p=>!isNaN(p))(d)?(this.selectionService.deselect(d),this.selectionService.focused=d,this.togglePopup(!1)):(this.value=this.value.filter(x=>ye(x,this.valueField)!==ye(a,this.valueField)),this.emitValueChange()))}disabledItemsMapper(){const{selected:a}=this.selectionService;return new Set(this.selectedDataItems.reduce((c,d,v)=>(this.disabledItemsService.isIndexDisabled(a[v])&&c.push(v),c),[]))}createCustomValueStream(){this.customValueSubscription&&this.customValueSubscription.unsubscribe(),this.customValueSubscription=this.customValueSubject.pipe((0,Wt.M)(()=>{this.loading=!0,this.disabled=!0,this.cdr.detectChanges()}),this.valueNormalizer,(0,Dt.W)(()=>(this.loading=!1,this.disabled=!1,this.autoClose&&this.togglePopup(!1),(this.autoClose||!this.filterable)&&this.clearFilter(),this.nextTick(()=>{this.searchbar.focus()}),this.createCustomValueStream(),(0,De.of)(null)))).subscribe(a=>{if(this.loading=!1,this.disabled=!1,_(a)){const c=this.valuePrimitive?ye(a,this.valueField):a,d=this.dataService.indexOf(c),v=-1===d;-1===this.value.indexOf(c)?(!this.isActionSheetExpanded&&(this.tags=this.tagMapper([...this.selectedDataItems,a])),v?this.isActionSheetExpanded?this._valueHolder.some(q=>ye(q,this.valueField)===c)?(this._valueHolder=this._valueHolder.filter(q=>ye(q,this.valueField)!==c),this.isCustomValueSelected=!1):(this._valueHolder=[...this._valueHolder,c],this.isCustomValueSelected=!0):this.value=[...this.value,c]:this.selectionService.add(d)):!v&&this.selectionService.isSelected(d)?(this.selectionService.deselect(d),this.selectionService.focused=d):this.isActionSheetExpanded?(this._valueHolder=this._valueHolder.filter(x=>ye(x,this.valueField)!==c),this.isCustomValueSelected=!1):this.value=this.value.filter(x=>ye(x,this.valueField)!==c),!this.isActionSheetExpanded&&this.emitValueChange()}this.autoClose&&this.togglePopup(!1),(this.autoClose||!this.filterable)&&!this.isActionSheetExpanded&&this.clearFilter(),this.isActionSheetExpanded||this.nextTick(()=>{this.searchbar.focus()})})}handleItemChange(a){this.change(a),this.autoClose&&!a.preventClosingPopup&&!this.isActionSheetExpanded&&this.togglePopup(!1),(this.autoClose||!this.filterable)&&!this.isActionSheetExpanded&&this.clearFilter()}handleMousedown(a){if(!a.target.closest(".k-input-prefix")&&!a.target.closest(".k-input-suffix")&&!this.isActionSheetExpanded&&0===a.button){if(this.isFocused&&(this.isOpen||this.isOpenPrevented)&&a.target===this.searchbar.input.nativeElement||((!me.jl||me.jl&&"SPAN"!==a.target.tagName)&&this.searchbar.focus(),this.popupRef&&this.popupRef.popupElement.contains(a.target)))return;a.preventDefault(),this.togglePopup(!this.isOpen)}}handleKeydown(a){this.isFocused&&this.isOpen&&(a.ctrlKey||a.metaKey)&&a.code===w.D$.KeyA&&(a.preventDefault(),this.handleSelectAll())}handleEnter(a){const c=this.selectionService,d=this.selectionService.focused;this.selectionService.lastClickedIndex=d,this.isOpen&&a.originalEvent.preventDefault(),-1!==d?(c.isSelected(d)?(c.deselect(d),c.focused=d):c.add(d),this.autoClose&&!this.isActionSheetExpanded&&this.togglePopup(!1),(this.autoClose||!this.filterable)&&this.clearFilter()):this.allowCustom&&this.text&&this.addCustomValue(this.text)}handleClose(){this.closePopup(),this.searchbar.focus()}handleEnd(){this.focusedTagIndex=this.tags.length-1}handleHome(){this.focusedTagIndex=0}sortSelectionAscending(){return this.selectionService.selected.sort((a,c)=>a-c)}handleSelectAll(){const a=this.selectionService.selected.length,c=this.dataService.data.length,d=this.dataService.data.filter(v=>!v.header).length;!this.dataService.grouped&&a===c||this.dataService.grouped&&a===d?this.clearAll():(this.selectionService.selectFromTo(0,c-1),this.selectionService.emitMultipleAddedRemoved())}handleSelectAllToBeginning(){const a=this.selectionService.selected.length,c=this.dataService.data.length,d=this.selectionService.focused,v=this.sortSelectionAscending()[a-1];a!==c&&(this.selectionService.unselectFromTo(v,d+1),this.selectionService.selectFromTo(0,d)),this.nextTick(()=>this.selectionService.focus(0)),this.selectionService.emitMultipleAddedRemoved()}handleSelectAllToEnd(){const c=this.dataService.data.length,d=this.selectionService.focused;if(this.selectionService.selected.length!==c&&(this.selectionService.unselectFromTo(d-1,0),this.selectionService.selectFromTo(d,c-1)),this.dataService.grouped){const v=this.dataService.groupIndices[this.dataService.groupIndices.length-1]-1;this.nextTick(()=>this.selectionService.focus(v))}else this.nextTick(()=>this.selectionService.focus(c-1));this.selectionService.emitMultipleAddedRemoved()}handleSelectUpDown(a){const c=this.selectionService.focused;if(!_(c))return;let d;d="ArrowUp"===a.originalEvent.key?c>0?c-1:c:c<this.dataService.data.length-1?c+1:c,_(this.selectionService.lastClickedIndex)||(this.selectionService.lastClickedIndex=c),this.selectRangeFromTo(d)}selectRangeFromTo(a){const c=this.selectionService.lastClickedIndex;c>a?(this.selectionService.unselectNotNeededIndices(a,c,this.dataService.data.length),this.selectionService.selectFromTo(a,this.selectionService.lastClickedIndex),this.selectionService.emitMultipleAddedRemoved()):(this.selectionService.unselectNotNeededIndices(c,a,this.dataService.data.length),this.selectionService.selectFromTo(c,a),this.selectionService.emitMultipleAddedRemoved()),this.nextTick(()=>this.selectionService.focus(a))}handleUp(a){this.selectionService.focused=a}handleBackspace(){void 0!==this.focusedTagIndex?this.handleDelete():(this.handleRemoveTag({tag:this.tags[this.tags.length-1]}),this.searchbar.focus())}handleDelete(){this.handleRemoveTag({tag:this.tags[this.focusedTagIndex]}),this.focusedTagIndex===this.tags.length&&(this.focusedTagIndex=void 0)}handleLeftKey(){void 0===this.focusedTagIndex||this.focusedTagIndex<0?this.focusedTagIndex=this.tags.length-1:0!==this.focusedTagIndex&&this.focusedTagIndex--}handleDownKey(a){this.isOpen?this.selectionService.focused=a||this.firstFocusableIndex(0):this.openPopup()}handleRightKey(){const a=this.tags.length-1;this.focusedTagIndex===a?this.focusedTagIndex=void 0:this.focusedTagIndex<a&&this.focusedTagIndex++}findIndex(a,c=0){let d;a=a.toLowerCase();const v=this.dataService.findIndex(x=>(d=ye(this.dataService.grouped?x.value:x,this.textField),d=_(d)?d.toString().toLowerCase():"",a&&d.startsWith(a)),c);return this.disabledItemsService.isIndexDisabled(v)?v+1>this.dataService.itemsCount?-1:this.findIndex(a,v+1):v}searchTextAndFocus(a){const c=this.findIndex(a);this.selectionService.focused=c}closePopup(){this.togglePopup(!1),this.focusedTagIndex=void 0}openPopup(){this.togglePopup(!0),this.focusedTagIndex=void 0}togglePopup(a){if(this.disabled||this.readonly||this.isOpen===a)return;const v=this.triggerPopupEvents(a);a&&(this.isOpenPrevented=v),v||this._toggle(a)}triggerPopupEvents(a){const c=new ka;return a?this.open.emit(c):this.close.emit(c),c.isDefaultPrevented()}_toggle(a){this._open=a,this.destroyPopup(),this.isActionSheetExpanded&&(this.actionSheet.toggle(!1),this.closed.emit(),this.isFocused=!1),this._open&&this.createPopup()}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("pointerdown",this.popupPointerDownHandler),this.popupRef.close(),this.popupRef=null)}createPopup(){if(this.virtual&&(this.virtual.skip=0),this.windowSize=this.adaptiveService.size,this.isAdaptive)return void this.openActionSheet();const a="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{horizontal:a,vertical:"bottom"},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{horizontal:a,vertical:"top"},popupClass:this.listContainerClasses,positionMode:"string"==typeof this.popupSettings.appendTo&&"component"===this.popupSettings.appendTo?"fixed":"absolute"});const x=this.popupRef.popupElement,{min:q,max:Ee}=this.width;this.appendTo||(this.renderer.setAttribute(x,"role","region"),this.renderer.setAttribute(x,"aria-label",this.messageFor("popupLabel"))),x.addEventListener("pointerdown",this.popupPointerDownHandler),x.style.minWidth=q,x.style.width=Ee,x.style.height=this.height,x.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),Qr(this.optionsList,this.searchbar.input,this.renderer),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.opened.emit()}),this.popupRef.popupClose.subscribe(()=>{this.closed.emit()}),this.popupRef.popupAnchorViewportLeave.subscribe(()=>{this.togglePopup(!1)})}emitValueChange(){this.onChangeCallback(this.value),this.valueChange.emit(this.value)}resolveDataItemFromTags(a){return this.tags&&this.tags.length&&_(a)?this.tags.reduce((d,v)=>{const x=ie(v)?v:[v];return d.push(...x),d},[]).find(d=>ye(d,this.valueField)===ye(a,this.valueField)):void 0}firstFocusableIndex(a){const c=this.dataService.itemsCount;if(this.disabledItemsService.isIndexDisabled(a)){const d=a+1;return d<c?this.firstFocusableIndex(d):void 0}return a}nextTick(a){this._zone.runOutsideAngular(()=>{setTimeout(()=>this._zone.run(a))})}setComponentClasses(){"none"!==this.size&&this.renderer.addClass(this.wrapper.nativeElement,Ti("input",this.size)),"none"!==this.rounded&&this.renderer.addClass(this.wrapper.nativeElement,dn(this.rounded)),"none"!==this.fillMode&&this.renderer.addClass(this.wrapper.nativeElement,Dn("input",this.fillMode))}openActionSheet(){this.actionSheet.toggle(!0),this._valueHolder=[...this.value],this.cdr.detectChanges(),Qr(this.optionsList,this.searchbar.input,this.renderer),this.adaptiveTitle=Ka(this.searchbar.input,this.adaptiveTitle),this.cdr.detectChanges(),this.opened.emit(),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.actionSheetSearchBar.focus()}blurComponent(){this.isFocused&&(this.isFocused=!1,(0,w.SF)(this.onBlur)||(0,w.SF)(this.filterChange)||(0,w.SF)(this.close)||Zi(this.wrapper.nativeElement)?this._zone.run(()=>{this.closePopup(),this.isOpen&&this.allowCustom||this.clearFilter(),this.onBlur.emit(),this.onTouchedCallback()}):(this.allowCustom||this.clearFilter(),this.closePopup()))}static \u0275fac=function(c){return new(c||p)(e.rXU(e.aKT),e.rXU(xe.Pi),e.rXU(Pe.OQ),e.rXU(ss),e.rXU(Cs),e.rXU(os),e.rXU(Xn),e.rXU(e.gRc),e.rXU(e.MKu),e.rXU(e.sFG),e.rXU(e.SKi),e.rXU(e.zZn),e.rXU(e.aKT),e.rXU(Ne.k))};static \u0275cmp=e.VBU({type:p,selectors:[["kendo-multiselect"]],contentQueries:function(c,d,v){if(1&c&&(e.wni(v,yt,5),e.wni(v,gi,5),e.wni(v,jn,5),e.wni(v,Hn,5),e.wni(v,un,5),e.wni(v,Pn,5),e.wni(v,wa,5),e.wni(v,hl,5),e.wni(v,Lo,5),e.wni(v,w.d9,5),e.wni(v,w.uy,5)),2&c){let x;e.mGM(x=e.lsd())&&(d.template=x.first),e.mGM(x=e.lsd())&&(d.customItemTemplate=x.first),e.mGM(x=e.lsd())&&(d.groupTemplate=x.first),e.mGM(x=e.lsd())&&(d.fixedGroupTemplate=x.first),e.mGM(x=e.lsd())&&(d.headerTemplate=x.first),e.mGM(x=e.lsd())&&(d.footerTemplate=x.first),e.mGM(x=e.lsd())&&(d.tagTemplate=x.first),e.mGM(x=e.lsd())&&(d.groupTagTemplate=x.first),e.mGM(x=e.lsd())&&(d.noDataTemplate=x.first),e.mGM(x=e.lsd())&&(d.suffixTemplate=x.first),e.mGM(x=e.lsd())&&(d.prefixTemplate=x.first)}},viewQuery:function(c,d){if(1&c&&(e.GBs(ro,5),e.GBs(On,7,e.c1b),e.GBs(Bo,7),e.GBs(Ac,7),e.GBs(rn,7),e.GBs($n,5)),2&c){let v;e.mGM(v=e.lsd())&&(d.adaptiveRendererComponent=v.first),e.mGM(v=e.lsd())&&(d.container=v.first),e.mGM(v=e.lsd())&&(d.searchbar=v.first),e.mGM(v=e.lsd())&&(d.tagList=v.first),e.mGM(v=e.lsd())&&(d.popupTemplate=v.first),e.mGM(v=e.lsd())&&(d.optionsList=v.first)}},hostVars:11,hostBindings:function(c,d){2&c&&(e.BMQ("dir",d.dir),e.AVh("k-readonly",d.readonly)("k-multiselect",d.hostClasses)("k-input",d.hostClasses)("k-disabled",d.disabledClass)("k-loading",d.isLoading))},inputs:{showStickyHeader:"showStickyHeader",focusableId:"focusableId",autoClose:"autoClose",loading:"loading",data:"data",value:"value",valueField:"valueField",textField:"textField",tabindex:"tabindex",tabIndex:"tabIndex",size:"size",rounded:"rounded",fillMode:"fillMode",placeholder:"placeholder",adaptiveMode:"adaptiveMode",adaptiveTitle:"adaptiveTitle",adaptiveSubtitle:"adaptiveSubtitle",disabled:"disabled",itemDisabled:"itemDisabled",checkboxes:"checkboxes",readonly:"readonly",filterable:"filterable",virtual:"virtual",popupSettings:"popupSettings",listHeight:"listHeight",valuePrimitive:"valuePrimitive",clearButton:"clearButton",tagMapper:"tagMapper",allowCustom:"allowCustom",valueNormalizer:"valueNormalizer",inputAttributes:"inputAttributes"},outputs:{filterChange:"filterChange",valueChange:"valueChange",open:"open",opened:"opened",close:"close",closed:"closed",onFocus:"focus",onBlur:"blur",inputFocus:"inputFocus",inputBlur:"inputBlur",removeTag:"removeTag"},exportAs:["kendoMultiSelect"],standalone:!0,features:[e.Jv_([vg,ss,Cs,os,Xn,xe.Pi,{provide:xe.$R,useValue:"kendo.multiselect"},{provide:$a,useExisting:(0,e.Rfq)(()=>p)},{provide:w.eW,useExisting:(0,e.Rfq)(()=>p)}]),e.OA$,e.aNF],decls:20,vars:43,consts:()=>{let a,c,d,v,x;return a=$localize`:kendo.multiselect.noDataText|The text displayed in the popup when there are no items:NO DATA FOUND`,c=$localize`:kendo.multiselect.clearTitle|The title of the clear button:clear`,d=$localize`:kendo.multiselect.popupLabel|The label of the popup element that contains the list of options when its role is 'region':Options list`,v=$localize`:kendo.multiselect.adaptiveCloseButtonTitle|The title of the Close button of the ActionSheet that is rendered instead of the Popup when using small screen devices in adaptive mode.:Close`,x=$localize`:kendo.multiselect.useCustomValueText|The text displayed when the user types a custom value that is not in the list of options.:${"\ufffd0\ufffd"}:INTERPOLATION:`,[["popupTemplate",""],["container",""],["sharedPopupActionSheetTemplate",""],["optionsList",""],["useCustomValueText",x],["kendoMultiSelectLocalizedMessages","","noDataText",a,"clearTitle",c,"popupLabel",d,"adaptiveCloseButtonTitle",v,6,"useCustomValueText"],["kendoDropDownSharedEvents","",3,"isFocusedChange","handleBlur","onFocus","hostElement","isFocused"],["class","k-input-prefix k-input-prefix-horizontal",4,"ngIf"],[4,"ngIf"],[1,"k-input-values"],[3,"removeTag","size","rounded","fillMode","id","tags","textField","valueField","focused","disabled","template","groupTemplate","tagPrefix","disabledIndices"],["kendoSearchbar","",3,"onNavigate","valueChange","onBlur","onFocus","click","ariaControls","ariaExpanded","id","tagListId","isLoading","isFilterable","activeDescendant","userInput","disabled","readonly","tabIndex","isRequired","placeholder","inputAttributes"],["class","k-clear-value","role","button","tabindex","-1",3,"visibility","mousedown",4,"ngIf"],["class","k-icon k-i-loading k-input-loading-icon",4,"ngIf"],["class","k-input-suffix k-input-suffix-horizontal",4,"ngIf"],[3,"resize",4,"ngIf"],[3,"closePopup","textInputChange","navigate","sharedPopupActionSheetTemplate","title","showTextInput","subtitle","placeholder","searchBarValue"],[1,"k-input-prefix","k-input-prefix-horizontal"],[3,"ngTemplateOutlet"],["role","button","tabindex","-1",1,"k-clear-value",3,"mousedown"],["name","x",1,"k-icon",3,"svgIcon"],[1,"k-icon","k-i-loading","k-input-loading-icon"],[1,"k-input-suffix","k-input-suffix-horizontal"],[4,"ngTemplateOutlet"],[3,"resize"],[3,"pageChange","size","rounded","id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","multipleSelection","virtual","checkboxes","isMultiselect","isActionSheetExpanded","showStickyHeader","customItemTemplate","text","allowCustom"],["class","k-no-data",4,"ngIf"],[3,"templateContext"],[1,"k-no-data"],[3,"ngIf","templateContext"],[3,"ngIf"]]},template:function(c,d){if(1&c){const v=e.RV6();e.qex(0,5),e.ehv(1,4),e.bVm(),e.qex(2,6),e.mxI("isFocusedChange",function(q){return e.eBV(v),e.DH7(d.isFocused,q)||(d.isFocused=q),e.Njj(q)}),e.bIt("handleBlur",function(){return e.eBV(v),e.Njj(d.handleBlur())})("onFocus",function(){return e.eBV(v),e.Njj(d.handleFocus())}),e.DNE(3,_s,2,1,"span",7)(4,vo,1,0,"kendo-separator",8),e.j41(5,"div",9)(6,"kendo-taglist",10),e.bIt("removeTag",function(q){return e.eBV(v),e.Njj(d.handleRemoveTag(q))}),e.k0s(),e.j41(7,"input",11),e.bIt("onNavigate",function(q){return e.eBV(v),e.Njj(d.handleNavigate(q))})("valueChange",function(q){return e.eBV(v),e.Njj(d.handleFilter(q))})("onBlur",function(){return e.eBV(v),e.Njj(d.handleInputBlur())})("onFocus",function(){return e.eBV(v),e.Njj(d.handleInputFocus())})("click",function(){return e.eBV(v),e.Njj(d.handleClick())}),e.k0s()(),e.DNE(8,Zs,2,4,"span",12)(9,ks,1,0,"span",13)(10,Co,1,0,"kendo-separator",8)(11,In,2,1,"span",14),e.bVm(),e.DNE(12,to,1,1,"ng-template",null,0,e.C5r)(14,zr,1,0,"kendo-resize-sensor",15),e.eu8(15,null,1),e.j41(17,"kendo-adaptive-renderer",16),e.bIt("closePopup",function(){return e.eBV(v),e.Njj(d.applyValue())})("textInputChange",function(q){return e.eBV(v),e.Njj(d.handleFilter(q))})("navigate",function(q){return e.eBV(v),e.Njj(d.handleNavigate(q))}),e.k0s(),e.DNE(18,qo,5,24,"ng-template",null,2,e.C5r)}if(2&c){const v=e.sdS(19);e.uP7('Use "{customValue}"'),e.nnv(1),e.R7$(2),e.Y8G("hostElement",d.hostElement),e.R50("isFocused",d.isFocused),e.R7$(),e.Y8G("ngIf",d.prefixTemplate),e.R7$(),e.Y8G("ngIf",d.prefixTemplate&&d.prefixTemplate.showSeparator),e.R7$(2),e.Y8G("size",d.size)("rounded",d.rounded)("fillMode",d.fillMode)("id",d.tagListId)("tags",d.tags)("textField",d.textField)("valueField",d.valueField)("focused",d.focusedTagIndex)("disabled",d.disabled)("template",d.tagTemplate)("groupTemplate",d.groupTagTemplate)("tagPrefix",d.tagPrefix)("disabledIndices",d.disabledIndices),e.R7$(),e.Y8G("ariaControls",d.ariaControls)("ariaExpanded",d.isOpen)("id",d.focusableId)("tagListId",d.tagListId)("isLoading",d.loading)("isFilterable",d.filterable)("activeDescendant",d.activeDescendant)("userInput",d.text)("disabled",d.disabled)("readonly",d.readonly||d.isAdaptive)("tabIndex",d.tabIndex)("isRequired",d.isControlRequired)("placeholder",d.placeholder)("inputAttributes",d.inputAttributes),e.R7$(),e.Y8G("ngIf",!d.loading&&!d.readonly&&d.clearButton&&((null==d.tags?null:d.tags.length)||(null==d.text?null:d.text.length))),e.R7$(),e.Y8G("ngIf",d.loading),e.R7$(),e.Y8G("ngIf",d.suffixTemplate&&d.suffixTemplate.showSeparator),e.R7$(),e.Y8G("ngIf",d.suffixTemplate),e.R7$(3),e.Y8G("ngIf",d.isOpen||d.isAdaptiveModeEnabled),e.R7$(3),e.Y8G("sharedPopupActionSheetTemplate",v)("title",d.adaptiveTitle)("showTextInput",!0)("subtitle",d.adaptiveSubtitle)("placeholder",d.placeholder)("searchBarValue",d.text)}},dependencies:[Sr,dl,Bt.bT,Bt.T3,w.Fl,Ac,Bo,tn.QK,w.M0,ro,w.b2,ja],encapsulation:2})}return p})()},2605:(Ts,xi,$)=>{$.d(xi,{QM:()=>Ki,Io:()=>vr,Hr:()=>Jr,dY:()=>Po,TP:()=>ui,ge:()=>qr,MA:()=>ws,uq:()=>so,wj:()=>Ut,hm:()=>it});var e=$(4438),w=$(9257);let Ne={toString:R=>R};const Je=class qe{static register(g){Ne=g}static toString(g,b){return Ne.toString(g,b)}};let me={compile:function(R){return R}};const Ve=class xe{static register(g){me=g}static compile(g){return me.compile(g)}},Be=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,It={},we="undefined";function De(R){if(It[R])return It[R];const g=[];return R.replace(Be,function(b,D,F,L){g.push(typeof D!==we?D:F||L)}),It[R]=function(b){let D=b;for(let F=0;F<g.length&&D;F++)D=D[g[F]];return D},It[R]}function Ae(R,g){return R.reduce((b,D,F)=>{const L=g(D,F);return null!=L&&b.push(L),b},[])}function Pe(R){return`${R.title}: ${R.value}`}function Ze(R,g){const b=[];for(let D=0;D<R;D++)b.push(g(D));return b}function He(R){return R.id}It[we]=function(R){return R};const Ot=class Ei{constructor(g){g.columns=this._trimColumns(g.columns||[]),this.allColumns=Ae(this._leafColumns(g.columns||[]),this._prepareColumn),this.columns=this._visibleColumns(this.allColumns),this.options=g,this.data=g.data||[],this.aggregates=g.aggregates||{},this.groups=[].concat(g.groups||[]),this.hasGroups=this.groups.length>0,this.hierarchy=g.hierarchy,this.hasGroupHeaderColumn=this.columns.some(b=>b.groupHeaderColumnTemplate),this.collapsible=this.options.collapsible}workbook(){return{sheets:[{columns:this._columns(),rows:this.hierarchy?this._hierarchyRows():this._rows(),freezePane:this._freezePane(),filter:this._filter()}]}}_trimColumns(g){return g.filter(b=>{let D=!!b.field;return!D&&b.columns&&(D=this._trimColumns(b.columns).length>0),D})}_leafColumns(g){let b=[];for(let D=0;D<g.length;D++)g[D].columns?b=b.concat(this._leafColumns(g[D].columns)):b.push(g[D]);return b}_prepareColumn(g){if(!g.field)return null;let b=function(F){return De(g.field)(F)},D=null;return g.values&&(D={},g.values.forEach(function(F){D[F.value]=F.text}),b=function(F){return D[De(g.field)(F)]}),Object.assign({},g,{value:b,values:D,groupHeaderTemplate:g.groupHeaderTemplate?Ve.compile(g.groupHeaderTemplate):Pe,groupHeaderColumnTemplate:g.groupHeaderColumnTemplate?Ve.compile(g.groupHeaderColumnTemplate):null,groupFooterTemplate:g.groupFooterTemplate?Ve.compile(g.groupFooterTemplate):null,footerTemplate:g.footerTemplate?Ve.compile(g.footerTemplate):null})}_filter(){if(!this.options.filterable)return null;const g=this._depth();return{from:g,to:g+this.columns.length-1}}_createPaddingCells(g){return Ze(g,()=>Object.assign({background:"#dfdfdf",color:"#333"},this.options.paddingCellOptions))}_dataRow(g,b,D){let F=this._createPaddingCells(b);if(this.hasGroups&&D&&g.items){F=F.concat(this._groupHeaderCells(g,b,D));const ee=this._dataRows(g.items,b+1);return ee.unshift({type:"group-header",cells:F,level:this.collapsible?b:null}),ee.concat(this._footer(g,b))}const L=[];for(let ee=0;ee<this.columns.length;ee++)L[ee]=this._cell(g,this.columns[ee]);return this.hierarchy&&(L[0].colSpan=D-b+1),[{type:"data",cells:F.concat(L),level:this.collapsible?b:null}]}_groupHeaderCells(g,b,D){const F=[],L=this.allColumns.filter(function(rt){return rt.field===g.field})[0]||{},ee=L&&L.title?L.title:g.field,ze=L?L.groupHeaderTemplate||L.groupHeaderColumnTemplate:null,Ke=Object.assign({title:ee,field:g.field,value:L&&L.values?L.values[g.value]:g.value,aggregates:g.aggregates,items:g.items},g.aggregates[g.field]),Qe=ze?ze(Ke):`${ee}: ${g.value}`;return F.push(Object.assign({value:Qe,background:"#dfdfdf",color:"#333",colSpan:(this.hasGroupHeaderColumn?1:this.columns.length)+D-b},L.groupHeaderCellOptions)),this.hasGroupHeaderColumn&&this.columns.forEach(function(rt,Jt){Jt>0&&F.push(Object.assign({background:"#dfdfdf",color:"#333",value:rt.groupHeaderColumnTemplate?rt.groupHeaderColumnTemplate(Object.assign({group:Ke},Ke,g.aggregates[rt.field])):void 0},rt.groupHeaderCellOptions))}),F}_dataRows(g,b){const D=this._depth(),F=[];for(let L=0;L<g.length;L++)F.push.apply(F,this._dataRow(g[L],b,D));return F}_hierarchyRows(){const g=this._depth(),b=this.data,D=this.hierarchy.itemLevel,F=this.hierarchy.itemId||He,L=this._hasFooterTemplate(),ee=[],ze=[];let Qe,Ke=0;L||(this.collapsible=!1);for(let rt=0;rt<b.length;rt++){const Jt=b[rt],Ye=D(Jt,rt);L&&(Ye>Ke?ze.push({id:Qe,level:Ke}):Ye<Ke&&ee.push.apply(ee,this._hierarchyFooterRows(ze,Ye,g)),Ke=Ye,Qe=F(Jt,rt)),ee.push.apply(ee,this._dataRow(Jt,Ye+1,g))}return L&&(ee.push.apply(ee,this._hierarchyFooterRows(ze,0,g)),ee.push(this._hierarchyFooter(b.length?this.aggregates[b[0].parentId]:{},0,g))),this._prependHeaderRows(ee),ee}_hierarchyFooterRows(g,b,D){const F=[];for(;g.length&&g[g.length-1].level>=b;){const L=g.pop();F.push(this._hierarchyFooter(this.aggregates[L.id],L.level+1,D))}return F}_hasFooterTemplate(){const g=this.columns;for(let b=0;b<g.length;b++)if(g[b].footerTemplate)return!0}_hierarchyFooter(g,b,D){const F=this.columns.map(function(L,ee){const ze=ee?1:D-b+1;return Object.assign(L.footerTemplate?{background:"#dfdfdf",color:"#333",colSpan:ze,value:L.footerTemplate(Object.assign({aggregates:g},(g||{})[L.field]))}:{background:"#dfdfdf",color:"#333",colSpan:ze},L.footerCellOptions)});return{type:"footer",cells:this._createPaddingCells(b).concat(F),level:this.collapsible?b:null}}_footer(g,b){const D=[],F=this.columns.some(Ke=>Ke.groupFooterTemplate);let L,ee;F&&(ee={group:{items:g.items,field:g.field,value:g.value}},L={},Object.keys(g.aggregates).forEach(Ke=>{L[Ke]=Object.assign({},g.aggregates[Ke],ee)}));const ze=this.columns.map(Ke=>{if(Ke.groupFooterTemplate){let Qe=Object.assign({},L,g.aggregates[Ke.field],ee);return Object.assign({background:"#dfdfdf",color:"#333",value:Ke.groupFooterTemplate(Qe)},Ke.groupFooterCellOptions)}return Object.assign({background:"#dfdfdf",color:"#333"},Ke.groupFooterCellOptions)});return F&&D.push({type:"group-footer",cells:this._createPaddingCells(this.groups.length).concat(ze),level:this.collapsible?b:null}),D}_isColumnVisible(g){return this._visibleColumns([g]).length>0&&(g.field||g.columns)}_visibleColumns(g){return g.filter(b=>{let D=b.exportable;"object"==typeof D&&(D=b.exportable.excel);let ee=!b.hidden&&!1!==D||b.hidden&&!0===D;return ee&&b.columns&&(ee=this._visibleColumns(b.columns).length>0),ee})}_headerRow(g,b){const D=g.cells.map(function(F){return Object.assign(F,{colSpan:F.colSpan>1?F.colSpan:1,rowSpan:g.rowSpan>1&&!F.colSpan?g.rowSpan:1})});return this.hierarchy&&D[0].firstCell&&(D[0].colSpan+=this._depth()),{type:"header",cells:Ze(b.length,()=>Object.assign({background:"#7a7a7a",color:"#fff"},this.options.headerPaddingCellOptions)).concat(D)}}_prependHeaderRows(g){const b=this.groups,D=[{rowSpan:1,cells:[],index:0}];this._prepareHeaderRows(D,this.options.columns);for(let F=D.length-1;F>=0;F--)g.unshift(this._headerRow(D[F],b))}_prepareHeaderRows(g,b,D,F){const L=F||g[g.length-1];let ee=g[L.index+1],ze=0;for(let Ke=0;Ke<b.length;Ke++){const Qe=b[Ke];if(this._isColumnVisible(Qe)){const rt=Object.assign({background:"#7a7a7a",color:"#fff",value:Qe.title||Qe.field,colSpan:0,firstCell:0===Ke&&(!D||D.firstCell)},Qe.headerCellOptions);L.cells.push(rt),Qe.columns&&Qe.columns.length&&(ee||(ee={rowSpan:0,cells:[],index:g.length},g.push(ee)),rt.colSpan=this._trimColumns(this._visibleColumns(Qe.columns)).length,this._prepareHeaderRows(g,Qe.columns,rt,ee),ze+=rt.colSpan-1,L.rowSpan=g.length-L.index)}}D&&(D.colSpan+=ze)}_rows(){const g=this._dataRows(this.data,0);if(this.columns.length){this._prependHeaderRows(g);let b=!1;const D=this.columns.map(F=>F.footerTemplate?(b=!0,Object.assign({background:"#dfdfdf",color:"#333",value:F.footerTemplate(Object.assign({},this.aggregates,this.aggregates[F.field]))},F.footerCellOptions)):Object.assign({background:"#dfdfdf",color:"#333"},F.footerCellOptions));b&&g.push({type:"footer",cells:this._createPaddingCells(this.groups.length).concat(D)})}return g}_headerDepth(g){let D=0;for(let F=0;F<g.length;F++)if(g[F].columns){const L=this._headerDepth(g[F].columns);L>D&&(D=L)}return 1+D}_freezePane(){const g=this._visibleColumns(this.options.columns||[]),b=this._visibleColumns(this._trimColumns(this._leafColumns(g.filter(function(D){return D.locked})))).length;return{rowSplit:this._headerDepth(g),colSplit:b?b+this.groups.length:0}}_cell(g,b){return Object.assign({value:b.value(g)},b.cellOptions)}_depth(){let g=0;return g=this.hierarchy?this.hierarchy.depth:this.groups.length,g}_columns(){return Ze(this._depth(),()=>({width:20})).concat(this.columns.map(function(D){return{width:parseInt(D.width,10),autoWidth:!D.width}}))}};var Wt=$(6965),E={Promise};const Yt={base64:!0,array:!0,string:!0,nodebuffer:!1,nodestream:!1,get arraybuffer(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"},get uint8array(){return typeof Uint8Array<"u"},get blob(){return ct()}};let ct=function(){let R;if(typeof ArrayBuffer>"u")R=!1;else{const g=new ArrayBuffer(0);try{R=0===new Blob([g],{type:"application/zip"}).size}catch{R=!1}}return ct=()=>R,R};const ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ii(R){return R}function zi(R,g){for(var b=0;b<R.length;++b)g[b]=255&R.charCodeAt(b);return g}function Ui(R,g,b){var D=[],F=0,L=R.length;if(L<=b)return String.fromCharCode.apply(null,R);for(;F<L;)D.push(String.fromCharCode.apply(null,"array"===g?R.slice(F,Math.min(F+b,L)):R.subarray(F,Math.min(F+b,L)))),F+=b;return D.join("")}let Tt=()=>{let R;try{R=Yt.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch{R=!1}return Tt=()=>R,R};function tn(R){var g=65536,b=xn(R),D=!0;if("uint8array"===b&&(D=Tt()),D)for(;g>1;)try{return Ui(R,b,g)}catch{g=Math.floor(g/2)}return function Bt(R){for(var g="",b=0;b<R.length;b++)g+=String.fromCharCode(R[b]);return g}(R)}const Yi=tn;function ls(R,g){for(var b=0;b<R.length;b++)g[b]=R[b];return g}var qi={string:{string:ii,array:function(R){return zi(R,new Array(R.length))},arraybuffer:function(R){return qi.string.uint8array(R).buffer},uint8array:function(R){return zi(R,new Uint8Array(R.length))}},array:{string:tn,array:ii,arraybuffer:function(R){return new Uint8Array(R).buffer},uint8array:function(R){return new Uint8Array(R)}},arraybuffer:{string:function(R){return tn(new Uint8Array(R))},array:function(R){return ls(new Uint8Array(R),new Array(R.byteLength))},arraybuffer:ii,uint8array:function(R){return new Uint8Array(R)}},uint8array:{string:tn,array:function(R){return ls(R,new Array(R.length))},arraybuffer:function(R){return R.buffer},uint8array:ii}};const Et=function(R,g){if(g||(g=""),!R)return g;Ji(R);var b=xn(g);return qi[b][R](g)},es=function(R){for(var g=R.split("/"),b=[],D=0;D<g.length;D++){var F=g[D];"."===F||""===F&&0!==D&&D!==g.length-1||(".."===F?b.pop():b.push(F))}return b.join("/")},xn=function(R){return"string"==typeof R?"string":"[object Array]"===Object.prototype.toString.call(R)?"array":Yt.uint8array&&R instanceof Uint8Array?"uint8array":Yt.arraybuffer&&R instanceof ArrayBuffer?"arraybuffer":void 0},Ji=function(R){if(!Yt[R.toLowerCase()])throw new Error(R+" is not supported by this platform")},nn=65535,on=function(R){var b,D,g="";for(D=0;D<(R||"").length;D++)g+="\\x"+((b=R.charCodeAt(D))<16?"0":"")+b.toString(16).toUpperCase();return g},cs=function(R,g,b){setTimeout(function(){R.apply(b||null,g||[])},0)},ve=function(){var g,b,R={};for(g=0;g<arguments.length;g++)for(b in arguments[g])Object.hasOwnProperty.call(arguments[g],b)&&typeof R[b]>"u"&&(R[b]=arguments[g][b]);return R},Fi=function(R,g,b,D,F){return E.Promise.resolve(g).then(function(ee){return Yt.blob&&(ee instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(ee)))&&typeof FileReader<"u"?new E.Promise(function(Ke,Qe){var rt=new FileReader;rt.onload=function(Jt){Ke(Jt.target.result)},rt.onerror=function(Jt){Qe(Jt.target.error)},rt.readAsArrayBuffer(ee)}):ee}).then(function(ee){var ze=xn(ee);return ze?("arraybuffer"===ze?ee=Et("uint8array",ee):"string"===ze&&(F?ee=function(R){let g,b,D,F,L,ee,ze,Ke=0,Qe=0;if("data:"===R.substr(0,5))throw new Error("Invalid base64 input, it looks like a data url.");let Ye,Jt=3*(R=R.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(R.charAt(R.length-1)===ne.charAt(64)&&Jt--,R.charAt(R.length-2)===ne.charAt(64)&&Jt--,Jt%1!=0)throw new Error("Invalid base64 input, bad content length.");for(Ye=Yt.uint8array?new Uint8Array(0|Jt):new Array(0|Jt);Ke<R.length;)F=ne.indexOf(R.charAt(Ke++)),L=ne.indexOf(R.charAt(Ke++)),ee=ne.indexOf(R.charAt(Ke++)),ze=ne.indexOf(R.charAt(Ke++)),g=F<<2|L>>4,b=(15&L)<<4|ee>>2,D=(3&ee)<<6|ze,Ye[Qe++]=g,64!==ee&&(Ye[Qe++]=b),64!==ze&&(Ye[Qe++]=D);return Ye}(ee):b&&!0!==D&&(ee=function tt(R){return zi(R,Yt.uint8array?new Uint8Array(R.length):new Array(R.length))}(ee))),ee):E.Promise.reject(new Error("Can't read the data of '"+R+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})};class ki{constructor(g){this.name=g||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}push(g){this.emit("data",g)}end(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(g){this.emit("error",g)}return!0}error(g){return!this.isFinished&&(this.isPaused?this.generatedError=g:(this.isFinished=!0,this.emit("error",g),this.previous&&this.previous.error(g),this.cleanUp()),!0)}on(g,b){return this._listeners[g].push(b),this}cleanUp(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]}emit(g,b){if(this._listeners[g])for(var D=0;D<this._listeners[g].length;D++)this._listeners[g][D].call(this,b)}pipe(g){return g.registerPrevious(this)}registerPrevious(g){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=g.streamInfo,this.mergeStreamInfo(),this.previous=g;var b=this;return g.on("data",function(D){b.processChunk(D)}),g.on("end",function(){b.end()}),g.on("error",function(D){b.error(D)}),this}pause(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)}resume(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var g=!1;return this.generatedError&&(this.error(this.generatedError),g=!0),this.previous&&this.previous.resume(),!g}flush(){}processChunk(g){this.push(g)}withStreamInfo(g,b){return this.extraStreamInfo[g]=b,this.mergeStreamInfo(),this}mergeStreamInfo(){for(var g in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(g)&&(this.streamInfo[g]=this.extraStreamInfo[g])}lock(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()}toString(){var g="Worker "+this.name;return this.previous?this.previous+" -> "+g:g}}let sn=function(R){const g=new Array(256);for(let b=0;b<256;b++)g[b]=b>=252?6:b>=248?5:b>=240?4:b>=224?3:b>=192?2:1;return g[254]=g[254]=1,sn=function(b){return g[b]},g[R]};const J=function(g){return function(R){var g,b,D,F,L,ee=R.length,ze=0;for(F=0;F<ee;F++)55296==(64512&(b=R.charCodeAt(F)))&&F+1<ee&&56320==(64512&(D=R.charCodeAt(F+1)))&&(b=65536+(b-55296<<10)+(D-56320),F++),ze+=b<128?1:b<2048?2:b<65536?3:4;for(g=Yt.uint8array?new Uint8Array(ze):new Array(ze),L=0,F=0;L<ze;F++)55296==(64512&(b=R.charCodeAt(F)))&&F+1<ee&&56320==(64512&(D=R.charCodeAt(F+1)))&&(b=65536+(b-55296<<10)+(D-56320),F++),b<128?g[L++]=b:b<2048?(g[L++]=192|b>>>6,g[L++]=128|63&b):b<65536?(g[L++]=224|b>>>12,g[L++]=128|b>>>6&63,g[L++]=128|63&b):(g[L++]=240|b>>>18,g[L++]=128|b>>>12&63,g[L++]=128|b>>>6&63,g[L++]=128|63&b);return g}(g)},ae=function(g){return function(R){var g,b,D,F,L=R.length,ee=new Array(2*L);for(b=0,g=0;g<L;)if((D=R[g++])<128)ee[b++]=D;else if((F=sn(D))>4)ee[b++]=65533,g+=F-1;else{for(D&=2===F?31:3===F?15:7;F>1&&g<L;)D=D<<6|63&R[g++],F--;F>1?ee[b++]=65533:D<65536?ee[b++]=D:(ee[b++]=55296|(D-=65536)>>10&1023,ee[b++]=56320|1023&D)}return ee.length!==b&&(ee.subarray?ee=ee.subarray(0,b):ee.length=b),Yi(ee)}(g=Et(Yt.uint8array?"uint8array":"array",g))};class re extends ki{constructor(){super("utf-8 decode"),this.leftOver=null}processChunk(g){var b=Et(Yt.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(Yt.uint8array){var D=b;(b=new Uint8Array(D.length+this.leftOver.length)).set(this.leftOver,0),b.set(D,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var F=function(R,g){var b;for((g=g||R.length)>R.length&&(g=R.length),b=g-1;b>=0&&128==(192&R[b]);)b--;return b<0||0===b?g:b+sn(R[b])>g?b:g}(b),L=b;F!==b.length&&(Yt.uint8array?(L=b.subarray(0,F),this.leftOver=b.subarray(F,b.length)):(L=b.slice(0,F),this.leftOver=b.slice(F,b.length))),this.push({data:ae(L),meta:g.meta})}flush(){this.leftOver&&this.leftOver.length&&(this.push({data:ae(this.leftOver),meta:{}}),this.leftOver=null)}}class W extends ki{constructor(){super("utf-8 encode")}processChunk(g){this.push({data:J(g.data),meta:g.meta})}}class qt extends ki{constructor(g){super("ConvertWorker to "+g),this.destType=g}processChunk(g){this.push({data:Et(this.destType,g.data),meta:g.meta})}}function Ri(R,g){return new E.Promise(function(b,D){var F=[],L=R._internalType,ee=R._outputType,ze=R._mimeType;R.on("data",function(Ke,Qe){F.push(Ke),g&&g(Qe)}).on("error",function(Ke){F=[],D(Ke)}).on("end",function(){try{var Ke=function Oi(R,g,b){switch(R){case"blob":return function(R,g){return Ji("blob"),new Blob([R],{type:g})}(Et("arraybuffer",g),b);case"base64":return function(R){let b,D,F,L,ee,ze,Ke,g=[],Qe=0,rt=R.length,Jt=rt,Ye="string"!=typeof R;for(;Qe<R.length;)Jt=rt-Qe,Ye?(b=R[Qe++],D=Qe<rt?R[Qe++]:0,F=Qe<rt?R[Qe++]:0):(b=R.charCodeAt(Qe++),D=Qe<rt?R.charCodeAt(Qe++):0,F=Qe<rt?R.charCodeAt(Qe++):0),L=b>>2,ee=(3&b)<<4|D>>4,ze=Jt>1?(15&D)<<2|F>>6:64,Ke=Jt>2?63&F:64,g.push(ne.charAt(L)+ne.charAt(ee)+ne.charAt(ze)+ne.charAt(Ke));return g.join("")}(g);default:return Et(R,g)}}(ee,function pi(R,g){var b,D=0,F=null,L=0;for(b=0;b<g.length;b++)L+=g[b].length;switch(R){case"string":return g.join("");case"array":return Array.prototype.concat.apply([],g);case"uint8array":for(F=new Uint8Array(L),b=0;b<g.length;b++)F.set(g[b],D),D+=g[b].length;return F;default:throw new Error("concat : unsupported type '"+R+"'")}}(L,F),ze);b(Ke)}catch(Qe){D(Qe)}F=[]}).resume()})}class ei{constructor(g,b,D){var F=b;switch(b){case"blob":case"arraybuffer":F="uint8array";break;case"base64":F="string"}try{this._internalType=F,this._outputType=b,this._mimeType=D,Ji(F),this._worker=g.pipe(new qt(F)),g.lock()}catch(L){this._worker=new ki("error"),this._worker.error(L)}}accumulate(g){return Ri(this,g)}on(g,b){var D=this;return this._worker.on(g,"data"===g?function(F){b.call(D,F.data,F.meta)}:function(){cs(b,arguments,D)}),this}resume(){return cs(this._worker.resume,[],this._worker),this}pause(){return this._worker.pause(),this}}var Y=Object.freeze({__proto__:null,base64:!1,binary:!1,comment:null,compression:null,compressionOptions:null,createFolders:!0,date:null,dir:!1,dosPermissions:null,unixPermissions:null});class wt extends ki{constructor(g){super("DataWorker");var b=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,g.then(function(D){b.dataIsReady=!0,b.data=D,b.max=D&&D.length||0,b.type=xn(D),b.isPaused||b._tickAndRepeat()},function(D){b.error(D)})}cleanUp(){super.cleanUp(),this.data=null}resume(){return!!super.resume()&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,cs(this._tickAndRepeat,[],this)),!0)}_tickAndRepeat(){this._tickScheduled=!1,!this.isPaused&&!this.isFinished&&(this._tick(),this.isFinished||(cs(this._tickAndRepeat,[],this),this._tickScheduled=!0))}_tick(){if(this.isPaused||this.isFinished)return!1;var b=null,D=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":b=this.data.substring(this.index,D);break;case"uint8array":b=this.data.subarray(this.index,D);break;case"array":b=this.data.slice(this.index,D)}return this.index=D,this.push({data:b,meta:{percent:this.max?this.index/this.max*100:0}})}}class ti extends ki{constructor(g){super("DataLengthProbe for "+g),this.propName=g,this.withStreamInfo(g,0)}processChunk(g){g&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+g.data.length),super.processChunk(g)}}let Qt=function(){const R=[];for(let g=0;g<256;g++){let b=g;for(let D=0;D<8;D++)b=1&b?3988292384^b>>>1:b>>>1;R[g]=b}return Qt=function(){return R},R};function En(R,g){return typeof R>"u"||!R.length?0:"string"!==xn(R)?function Zt(R,g,b,D){const F=Qt();let L=D+b;R=~R;for(let ee=D;ee<L;ee++)R=R>>>8^F[255&(R^g[ee])];return~R}(0|g,R,R.length,0):function _i(R,g,b,D){const F=Qt();let L=D+b;R=~R;for(let ee=D;ee<L;ee++)R=R>>>8^F[255&(R^g.charCodeAt(ee))];return~R}(0|g,R,R.length,0)}class qn extends ki{constructor(){super("Crc32Probe"),this.withStreamInfo("crc32",0)}processChunk(g){this.streamInfo.crc32=En(g.data,this.streamInfo.crc32||0),this.push(g)}}class zn{constructor(g,b,D,F,L){this.compressedSize=g,this.uncompressedSize=b,this.crc32=D,this.compression=F,this.compressedContent=L}getContentWorker(){var g=new wt(E.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new ti("data_length")),b=this;return g.on("end",function(){if(this.streamInfo.data_length!==b.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),g}getCompressedWorker(){return new wt(E.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}static createWorkerFrom(g,b,D){return g.pipe(new qn).pipe(new ti("uncompressedSize")).pipe(b.compressWorker(D)).pipe(new ti("compressedSize")).withStreamInfo("compression",b)}}class pn{constructor(g,b,D){this.name=g,this.dir=D.dir,this.date=D.date,this.comment=D.comment,this.unixPermissions=D.unixPermissions,this.dosPermissions=D.dosPermissions,this._data=b,this._dataBinary=D.binary,this.options={compression:D.compression,compressionOptions:D.compressionOptions}}internalStream(g){var b=null,D="string";try{if(!g)throw new Error("No output type specified.");var F="string"===(D=g.toLowerCase())||"text"===D;("binarystring"===D||"text"===D)&&(D="string"),b=this._decompressWorker();var L=!this._dataBinary;L&&!F&&(b=b.pipe(new W)),!L&&F&&(b=b.pipe(new re))}catch(ee){(b=new ki("error")).error(ee)}return new ei(b,D,"")}async(g,b){return this.internalStream(g).accumulate(b)}_compressWorker(g,b){if(this._data instanceof zn&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var D=this._decompressWorker();return this._dataBinary||(D=D.pipe(new W)),zn.createWorkerFrom(D,g,b)}_decompressWorker(){return this._data instanceof zn?this._data.getContentWorker():this._data instanceof ki?this._data:new wt(this._data)}}let Kn=function(){const g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u"?"uint8array":"array";Kn=function(){return g}};class ds extends ki{constructor(g,b){super("FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=b,this.meta={}}processChunk(g){this.meta=g.meta,null===this._pako&&this._createPako(),this._pako.push(Et(Kn(),g.data),!1)}flush(){super.flush(),null===this._pako&&this._createPako(),this._pako.push([],!0)}cleanUp(){super.cleanUp(),this._pako=null}_createPako(){const g={raw:!0,level:this._pakoOptions.level||-1};this._pako="Deflate"===this._pakoAction?new Wt.Gy(g):new Wt.EL(g),this._pako.onData=b=>{this.push({data:b,meta:this.meta})}}}var On={STORE:{magic:"\0\0",compressWorker:function(){return new ki("STORE compression")},uncompressWorker:function(){return new ki("STORE decompression")}},DEFLATE:{magic:"\b\0",compressWorker:function(R){return new ds("Deflate",R)},uncompressWorker:function(){return new ds("Inflate",{})}}};const rn="PK\x03\x04",$n="PK\x01\x02",Pt="PK\x05\x06",kn="PK\x06\x06";var Vt=function(R,g){var D,b="";for(D=0;D<g;D++)b+=String.fromCharCode(255&R),R>>>=8;return b},Io=function(R,g,b,D,F,L){var gn,Qi,ee=R.file,ze=R.compression,Ke=L!==J,Qe=Et("string",L(ee.name)),rt=Et("string",J(ee.name)),Jt=ee.comment,Ye=Et("string",L(Jt)),Ht=Et("string",J(Jt)),cn=rt.length!==ee.name.length,So=Ht.length!==Jt.length,oo="",zt="",Gn="",Gs=ee.dir,nt=ee.date,Xt={crc32:0,compressedSize:0,uncompressedSize:0};(!g||b)&&(Xt.crc32=R.crc32,Xt.compressedSize=R.compressedSize,Xt.uncompressedSize=R.uncompressedSize);var fn=0;g&&(fn|=8),!Ke&&(cn||So)&&(fn|=2048);var Is=0,vs=0;Gs&&(Is|=16),"UNIX"===F?(vs=798,Is|=function(R,g){var b=R;return R||(b=g?16893:33204),(65535&b)<<16}(ee.unixPermissions,Gs)):(vs=20,Is|=function(R,g){return 63&(R||0)}(ee.dosPermissions)),gn=nt.getUTCHours(),gn<<=6,gn|=nt.getUTCMinutes(),gn<<=5,gn|=nt.getUTCSeconds()/2,Qi=nt.getUTCFullYear()-1980,Qi<<=4,Qi|=nt.getUTCMonth()+1,Qi<<=5,Qi|=nt.getUTCDate(),cn&&(zt=Vt(1,1)+Vt(En(Qe),4)+rt,oo+="up"+Vt(zt.length,2)+zt),So&&(Gn=Vt(1,1)+Vt(En(Ye),4)+Ht,oo+="uc"+Vt(Gn.length,2)+Gn);var An="";return An+="\n\0",An+=Vt(fn,2),An+=ze.magic,An+=Vt(gn,2),An+=Vt(Qi,2),An+=Vt(Xt.crc32,4),An+=Vt(Xt.compressedSize,4),An+=Vt(Xt.uncompressedSize,4),An+=Vt(Qe.length,2),An+=Vt(oo.length,2),{fileRecord:rn+An+Qe+oo,dirRecord:$n+Vt(vs,2)+An+Vt(Ye.length,2)+"\0\0\0\0"+Vt(Is,4)+Vt(D,4)+Qe+oo+Ye}};class uo extends ki{constructor(g,b,D,F){super("ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=D,this.encodeFileName=F,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}push(g){var b=g.meta.percent||0,D=this.entriesCount,F=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,super.push({data:g.data,meta:{currentFile:this.currentFile,percent:D?(b+100*(D-F-1))/D:100}}))}openedSource(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var b=this.streamFiles&&!g.file.dir;if(b){var D=Io(g,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:D.fileRecord,meta:{percent:0}})}else this.accumulate=!0}closedSource(g){this.accumulate=!1;var R,b=this.streamFiles&&!g.file.dir,D=Io(g,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(D.dirRecord),b)this.push({data:(R=g,"PK\x07\b"+Vt(R.crc32,4)+Vt(R.compressedSize,4)+Vt(R.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:D.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null}flush(){for(var g=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var F=function(R,g,b,D,F){var ee=Et("string",F(D));return Pt+"\0\0\0\0"+Vt(R,2)+Vt(R,2)+Vt(g,4)+Vt(b,4)+Vt(ee.length,2)+ee}(this.dirRecords.length,this.bytesWritten-g,g,this.zipComment,this.encodeFileName);this.push({data:F,meta:{percent:100}})}prepareNextSource(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()}registerPrevious(g){this._sources.push(g);var b=this;return g.on("data",function(D){b.processChunk(D)}),g.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),g.on("error",function(D){b.error(D)}),this}resume(){return!!super.resume()&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))}error(g){var b=this._sources;if(!super.error(g))return!1;for(var D=0;D<b.length;D++)try{b[D].error(g)}catch{}return!0}lock(){super.lock();for(var g=this._sources,b=0;b<g.length;b++)g[b].lock()}}class To{constructor(g){this.data=g,this.length=g.length,this.index=0,this.zero=0}checkOffset(g){this.checkIndex(this.index+g)}checkIndex(g){if(this.length<this.zero+g||g<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+g+"). Corrupted zip ?")}setIndex(g){this.checkIndex(g),this.index=g}skip(g){this.setIndex(this.index+g)}byteAt(g){}readInt(g){var D,b=0;for(this.checkOffset(g),D=this.index+g-1;D>=this.index;D--)b=(b<<8)+this.byteAt(D);return this.index+=g,b}readString(g){return Et("string",this.readData(g))}readData(g){}lastIndexOfSignature(g){}readAndCheckSignature(g){}readDate(){var g=this.readInt(4);return new Date(Date.UTC(1980+(g>>25&127),(g>>21&15)-1,g>>16&31,g>>11&31,g>>5&63,(31&g)<<1))}}class po extends To{constructor(g){super(g);for(var b=0;b<this.data.length;b++)g[b]=255&g[b]}byteAt(g){return this.data[this.zero+g]}lastIndexOfSignature(g){for(var b=g.charCodeAt(0),D=g.charCodeAt(1),F=g.charCodeAt(2),L=g.charCodeAt(3),ee=this.length-4;ee>=0;--ee)if(this.data[ee]===b&&this.data[ee+1]===D&&this.data[ee+2]===F&&this.data[ee+3]===L)return ee-this.zero;return-1}readAndCheckSignature(g){var b=g.charCodeAt(0),D=g.charCodeAt(1),F=g.charCodeAt(2),L=g.charCodeAt(3),ee=this.readData(4);return b===ee[0]&&D===ee[1]&&F===ee[2]&&L===ee[3]}readData(g){if(this.checkOffset(g),0===g)return[];var b=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,b}}class xo extends To{constructor(g){super(g)}byteAt(g){return this.data.charCodeAt(this.zero+g)}lastIndexOfSignature(g){return this.data.lastIndexOf(g)-this.zero}readAndCheckSignature(g){return g===this.readData(4)}readData(g){this.checkOffset(g);const b=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,b}}class hr extends po{constructor(g){super(g)}readData(g){if(this.checkOffset(g),0===g)return new Uint8Array(0);var b=this.data.subarray(this.zero+this.index,this.zero+this.index+g);return this.index+=g,b}}function ri(R){const g=xn(R);return Ji(g),"string"!==g||Yt.uint8array?Yt.uint8array?new hr(Et("uint8array",R)):new po(Et("array",R)):new xo(R)}class is{constructor(g,b){this.options=g,this.loadOptions=b}isEncrypted(){return!(1&~this.bitFlag)}useUTF8(){return!(2048&~this.bitFlag)}readLocalPart(g){var b,D;if(g.skip(22),this.fileNameLength=g.readInt(2),D=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(D),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(b=function(R){for(var g in On)if(On.hasOwnProperty(g)&&On[g].magic===R)return On[g];return null}(this.compressionMethod),null===b)throw new Error("Corrupted zip : compression "+on(this.compressionMethod)+" unknown (inner file : "+Et("string",this.fileName)+")");this.decompressed=new zn(this.compressedSize,this.uncompressedSize,this.crc32,b,g.readData(this.compressedSize))}readCentralPart(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var b=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(b),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)}processAttributes(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===g&&(this.dosPermissions=63&this.externalFileAttributes),3===g&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&"/"===this.fileNameStr.slice(-1)&&(this.dir=!0)}parseZIP64ExtraField(g){if(this.extraFields[1]){var b=ri(this.extraFields[1].value);-1===this.uncompressedSize&&(this.uncompressedSize=b.readInt(8)),-1===this.compressedSize&&(this.compressedSize=b.readInt(8)),-1===this.localHeaderOffset&&(this.localHeaderOffset=b.readInt(8)),-1===this.diskNumberStart&&(this.diskNumberStart=b.readInt(4))}}readExtraFields(g){var D,F,L,b=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index<b;)D=g.readInt(2),F=g.readInt(2),L=g.readData(F),this.extraFields[D]={id:D,length:F,value:L}}handleUTF8(){var g=Yt.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=ae(this.fileName),this.fileCommentStr=ae(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(null!==b)this.fileNameStr=b;else{var D=Et(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(D)}var F=this.findExtraFieldUnicodeComment();if(null!==F)this.fileCommentStr=F;else{var L=Et(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(L)}}}findExtraFieldUnicodePath(){var g=this.extraFields[28789];if(g){var b=ri(g.value);return 1!==b.readInt(1)||En(this.fileName)!==b.readInt(4)?null:ae(b.readData(g.length-5))}return null}findExtraFieldUnicodeComment(){var g=this.extraFields[25461];if(g){var b=ri(g.value);return 1!==b.readInt(1)||En(this.fileComment)!==b.readInt(4)?null:ae(b.readData(g.length-5))}return null}}class Ho{constructor(g){this.files=[],this.loadOptions=g}checkSignature(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+on(b)+", expected "+on(g)+")")}}isSignature(g,b){var D=this.reader.index;this.reader.setIndex(g);var L=this.reader.readString(4)===b;return this.reader.setIndex(D),L}readBlockEndOfCentral(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),D=Et(Yt.uint8array?"uint8array":"array",g);this.zipComment=this.loadOptions.decodeFileName(D)}readBlockZip64EndOfCentral(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var D,F,L,g=this.zip64EndOfCentralSize-44;0<g;)D=this.reader.readInt(2),F=this.reader.readInt(4),L=this.reader.readData(F),this.zip64ExtensibleData[D]={id:D,length:F,value:L}}readBlockZip64EndOfCentralLocator(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")}readLocalFiles(){var g,b;for(g=0;g<this.files.length;g++)this.reader.setIndex((b=this.files[g]).localHeaderOffset),this.checkSignature(rn),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()}readCentralDir(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature($n);)(g=new is({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)}readEndOfCentral(){var g=this.reader.lastIndexOfSignature(Pt);if(g<0)throw this.isSignature(0,rn)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var D=g;if(this.checkSignature(Pt),this.readBlockEndOfCentral(),this.diskNumber===nn||this.diskWithCentralDirStart===nn||this.centralDirRecordsOnThisDisk===nn||this.centralDirRecords===nn||-1===this.centralDirSize||-1===this.centralDirOffset){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature("PK\x06\x07"))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature("PK\x06\x07"),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,kn)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(kn),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(kn),this.readBlockZip64EndOfCentral()}var F=this.centralDirOffset+this.centralDirSize;this.zip64&&(F+=20,F+=12+this.zip64EndOfCentralSize);var L=D-F;if(L>0)this.isSignature(D,$n)||(this.reader.zero=L);else if(L<0)throw new Error("Corrupted zip: missing "+Math.abs(L)+" bytes.")}prepareReader(g){this.reader=ri(g)}load(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}}function pr(R){return new E.Promise(function(g,b){var D=R.decompressed.getContentWorker().pipe(new qn);D.on("error",function(F){b(F)}).on("end",function(){D.streamInfo.crc32!==R.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}function Oo(R,g){var b=this;return g=ve(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:ae}),Fi("the loaded zip file",R,!0,g.optimizedBinaryString,g.base64).then(function(D){var F=new Ho(g);return F.load(D),F}).then(function(F){var L=[E.Promise.resolve(F)],ee=F.files;if(g.checkCRC32)for(var ze=0;ze<ee.length;ze++)L.push(pr(ee[ze]));return E.Promise.all(L)}).then(function(F){for(var L=F.shift(),ee=L.files,ze=0;ze<ee.length;ze++){var Ke=ee[ze],Qe=Ke.fileNameStr,rt=es(Ke.fileNameStr);b.file(rt,Ke.decompressed,{binary:!0,optimizedBinaryString:!0,date:Ke.date,dir:Ke.dir,comment:Ke.fileCommentStr.length?Ke.fileCommentStr:null,unixPermissions:Ke.unixPermissions,dosPermissions:Ke.dosPermissions,createFolders:g.createFolders}),Ke.dir||(b.file(rt).unsafeOriginalName=Qe)}return L.zipComment.length&&(b.comment=L.zipComment),b})}var Os=function(R,g,b){var F,D=xn(g),L=ve(b||{},Y);L.date=L.date||new Date,null!==L.compression&&(L.compression=L.compression.toUpperCase()),"string"==typeof L.unixPermissions&&(L.unixPermissions=parseInt(L.unixPermissions,8)),L.unixPermissions&&16384&L.unixPermissions&&(L.dir=!0),L.dosPermissions&&16&L.dosPermissions&&(L.dir=!0),L.dir&&(R=wi(R)),L.createFolders&&(F=Dr(R))&&Mo.call(this,F,!0),(!b||typeof b.binary>"u")&&(L.binary=!("string"===D&&!1===L.binary&&!1===L.base64)),(g instanceof zn&&0===g.uncompressedSize||L.dir||!g||0===g.length)&&(L.base64=!1,L.binary=!0,g="",L.compression="STORE",D="string");var Ke;Ke=g instanceof zn||g instanceof ki?g:Fi(R,g,L.binary,L.optimizedBinaryString,L.base64);var Qe=new pn(R,Ke,L);this.files[R]=Qe},Dr=function(R){"/"===R.slice(-1)&&(R=R.substring(0,R.length-1));var g=R.lastIndexOf("/");return g>0?R.substring(0,g):""},wi=function(R){return"/"!==R.slice(-1)&&(R+="/"),R},Mo=function(R,g){return g=!(typeof g<"u")||g,R=wi(R),this.files[R]||Os.call(this,R,null,{dir:!0,createFolders:g}),this.files[R]};function Js(R){return"[object RegExp]"===Object.prototype.toString.call(R)}class ns{constructor(){if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){const g=new ns;for(const b in this)"function"!=typeof this[b]&&(g[b]=this[b]);return g}}load(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")}forEach(g){var b,D,F;for(b in this.files)F=this.files[b],(D=b.slice(this.root.length,b.length))&&b.slice(0,this.root.length)===this.root&&g(D,F)}filter(g){var b=[];return this.forEach(function(D,F){g(D,F)&&b.push(F)}),b}file(g,b,D){if(1===arguments.length){if(Js(g)){var F=g;return this.filter(function(ee,ze){return!ze.dir&&F.test(ee)})}var L=this.files[this.root+g];return L&&!L.dir?L:null}return Os.call(this,g=this.root+g,b,D),this}folder(g){if(!g)return this;if(Js(g))return this.filter(function(L,ee){return ee.dir&&g.test(L)});var D=Mo.call(this,this.root+g),F=this.clone();return F.root=D.name,F}remove(g){var b=this.files[g=this.root+g];if(b||("/"!==g.slice(-1)&&(g+="/"),b=this.files[g]),b&&!b.dir)delete this.files[g];else for(var D=this.filter(function(L,ee){return ee.name.slice(0,g.length)===g}),F=0;F<D.length;F++)delete this.files[D[F].name];return this}generate(g){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")}generateInternalStream(g){var b,D={};try{if((D=ve(g||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:J})).type=D.type.toLowerCase(),D.compression=D.compression.toUpperCase(),"binarystring"===D.type&&(D.type="string"),!D.type)throw new Error("No output type specified.");Ji(D.type),("darwin"===D.platform||"freebsd"===D.platform||"linux"===D.platform||"sunos"===D.platform)&&(D.platform="UNIX"),"win32"===D.platform&&(D.platform="DOS"),b=function(R,g,b){var D=new uo(g.streamFiles,b,g.platform,g.encodeFileName),F=0;try{R.forEach(function(L,ee){F++;var ze=function(R,g){var b=R||g,D=On[b];if(!D)throw new Error(b+" is not a valid compression method !");return D}(ee.options.compression,g.compression),Qe=ee.dir,rt=ee.date;ee._compressWorker(ze,ee.options.compressionOptions||g.compressionOptions||{}).withStreamInfo("file",{name:L,dir:Qe,date:rt,comment:ee.comment||"",unixPermissions:ee.unixPermissions,dosPermissions:ee.dosPermissions}).pipe(D)}),D.entriesCount=F}catch(L){D.error(L)}return D}(this,D,D.comment||this.comment||"")}catch(L){(b=new ki("error")).error(L)}return new ei(b,D.type||"string",D.mimeType)}generateAsync(g,b){return this.generateInternalStream(g).accumulate(b)}loadAsync(g,b){return Oo.apply(this,[g,b])}static loadAsync(g,b){return(new ns).loadAsync(g,b)}static get support(){return Yt}static get defaults(){return Y}static get version(){return"3.2.2-esm"}static get external(){return E}}function ms(R,g,b){return(1461*(R+4800+((g-13)/12|0))/4|0)+(367*(g-1-12*((g-13)/12|0))/12|0)-(3*((R+4900+((g-13)/12|0))/100|0)/4|0)+b-32075}const vi=ms(1900,0,-1);const mo="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",mr=`data:${mo};base64,`,go={compression:"DEFLATE",type:"base64"},Ms={compression:"DEFLATE",type:"blob"},fo={compression:"DEFLATE",type:"arraybuffer"};function an(R){return mr+R}function gs(R,g){return g.indexOf(R)}const ys=JSON.parse.bind(JSON);function Ci(R){return String(R).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")}function xr(R,g){let b="";for(let D=0;D<R;++D)b+=g(D);return b}function Li(R,g){let b="";if(null!=R)if(Array.isArray(R))for(let D=0;D<R.length;++D)b+=g(R[D],D);else"object"==typeof R&&Object.keys(R).forEach((D,F)=>{b+=g(R[D],D,F)});return b}const ci='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r',mn=`${ci}\n            <Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n               <Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/>\n               <Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/>\n               <Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/>\n            </Relationships>`,Hi=R=>`${ci}\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  ${Li(R,g=>`\n    <Relationship Id="${g.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image" Target="${g.target}"/>`)}\n</Relationships>`;function wn(R){const g=Math.floor(R/26)-1;return(g>=0?wn(g):"")+String.fromCharCode(65+R%26)}function ln(R,g){return wn(g)+(R+1)}function fs(R,g){return"$"+wn(g)+"$"+(R+1)}function Ns(R){return(R.frozenRows||(R.freezePane||{}).rowSplit||1)-1}function _o(R){return R/7-Math.floor(128/7)/256}class Mr{constructor(g,b,D,F){this.options=g,this._strings=b,this._styles=D,this._borders=F,this._validations={},this._comments=[],this._drawings=g.drawings||[],this._hyperlinks=(this.options.hyperlinks||[]).map((L,ee)=>Object.assign({},L,{rId:`link${ee}`}))}relsToXML(){const g=this._hyperlinks,b=this._comments,D=this._drawings;if(g.length||b.length||D.length)return(({hyperlinks:R,comments:g,sheetIndex:b,drawings:D})=>`${ci}\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  ${Li(R,F=>`\n    <Relationship Id="${F.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink" Target="${Ci(F.target)}" TargetMode="External" />`)}\n  ${g.length?`\n    <Relationship Id="comment${b}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments" Target="../comments${b}.xml"/>\n    <Relationship Id="vml${b}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing" Target="../drawings/vmlDrawing${b}.vml"/>`:""}\n  ${D.length?`\n    <Relationship Id="drw${b}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing" Target="../drawings/drawing${b}.xml"/>`:""}\n</Relationships>`)({hyperlinks:g,comments:b,sheetIndex:this.options.sheetIndex,drawings:D})}toXML(g){const b=this.options.mergedCells||[],F=function Kr(R,g){const b=[],D=[];!function Go(R,g){for(let b=0;b<R.length;b++){const D=R[b];if(!D)continue;let F=D.index;"number"!=typeof F&&(F=b),g(D,F)}}(R,function(ee,ze){const Ke={_source:ee,index:ze,height:ee.height,level:ee.level,cells:[]};b.push(Ke),D[ze]=Ke});const F=Nn(b).slice(0),L={rowData:b,rowsByIndex:D,mergedCells:g};for(let ee=0;ee<F.length;ee++)yr(F[ee],L),delete F[ee]._source;return Nn(b)}(this.options.rows||[],b);this._readCells(F);let ee,L=this.options.filter;L&&"number"==typeof L.from&&"number"==typeof L.to?L={from:ln(Ns(this.options),L.from),to:ln(Ns(this.options),L.to)}:L&&L.ref&&L.columns&&(ee=L,L=null);const ze=[];for(let cn in this._validations)Object.prototype.hasOwnProperty.call(this._validations,cn)&&ze.push(this._validations[cn]);let Ke=null,Qe=this.options.defaultCellStyle;this._hasDisabledCells&&(Qe=Qe?Object.assign({disabled:!1},Qe):{disabled:!1}),Qe&&(Ke=this._lookupStyle(Qe));const rt=this.options.freezePane||{},Jt=this.options.defaults||{},Ye=this.options.rows?this._getLastRow():1,Ht=this.options.rows?this._getLastCol():1;return(({frozenColumns:R,frozenRows:g,columns:b,defaults:D,data:F,index:L,mergeCells:ee,autoFilter:ze,filter:Ke,showGridLines:Qe,hyperlinks:rt,validations:Jt,defaultCellStyleId:Ye,rtl:Ht,legacyDrawing:cn,drawing:So,lastRow:gn,lastCol:Qi,hasDisabledCells:oo})=>`${ci}\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" mc:Ignorable="x14ac">\n   ${gn&&Qi?`<dimension ref="A1:${ln(gn-1,Qi-1)}" />`:""}\n\n   <sheetViews>\n     <sheetView ${Ht?'rightToLeft="1"':""} ${0===L?'tabSelected="1"':""} workbookViewId="0" ${!1===Qe?'showGridLines="0"':""}>\n     ${g||R?`\n       <pane state="frozen"\n         ${R?`xSplit="${R}"`:""}\n         ${g?`ySplit="${g}"`:""}\n         topLeftCell="${String.fromCharCode(65+(R||0))+((g||0)+1)}"\n       />`:""}\n     </sheetView>\n   </sheetViews>\n\n   <sheetFormatPr x14ac:dyDescent="0.25" ${D.skipCustomHeight?"":'customHeight="1"'} defaultRowHeight="${D.rowHeight?.75*D.rowHeight:15}"\n     ${D.columnWidth?`defaultColWidth="${_o(D.columnWidth)}"`:""} />\n\n   ${null!=Ye||b&&b.length>0?`\n     <cols>\n       ${b&&b.length?"":`\n         <col min="1" max="16384" style="${Ye}"\n              ${D.columnWidth?`width="${_o(D.columnWidth)}"`:""} /> `}\n       ${Li(b,(zt,Gn)=>{const Gs="number"==typeof zt.index?zt.index+1:Gn+1;return 0===zt.width?`<col ${null!=Ye?`style="${Ye}"`:""}\n                        min="${Gs}" max="${Gs}" hidden="1" customWidth="1" />`:`<col ${null!=Ye?`style="${Ye}"`:""}\n                      min="${Gs}" max="${Gs}" customWidth="1"\n                      ${zt.autoWidth?`width="${(7*zt.width+5)/7*256/256}" bestFit="1"`:`width="${_o(zt.width)}"`} />`})}\n     </cols>`:""}\n\n   <sheetData>\n     ${Li(F,(zt,Gn)=>`\n         <row r="${"number"==typeof zt.index?zt.index+1:Gn+1}" x14ac:dyDescent="0.25"\n              ${zt.level?`outlineLevel="${zt.level}"`:""}\n              ${0===zt.height?'hidden="1"':zt.height?`ht="${function Ur(R){return.75*R}(zt.height)}" customHeight="1"`:""}>\n           ${Li(zt.data,nt=>`\n             <c r="${nt.ref}" ${nt.style?`s="${nt.style}"`:""} ${nt.type?`t="${nt.type}"`:""}>\n               ${null!=nt.formula?function yn(R){return"string"==typeof R?`<f>${Ci(R)}</f>`:`<f t="array" ref="${R.ref}">${Ci(R.src)}</f>`}(nt.formula):""}\n               ${null!=nt.value?`<v>${Ci(nt.value)}</v>`:""}\n             </c>`)}\n         </row>\n       `)}\n   </sheetData>\n\n   ${oo?'<sheetProtection sheet="1" objects="1" scenarios="1"/>':""}\n\n   ${ze?`<autoFilter ref="${ze.from}:${ze.to}"/>`:Ke?io(Ke):""}\n\n   ${ee.length?`\n     <mergeCells count="${ee.length}">\n       ${Li(ee,zt=>`<mergeCell ref="${zt}"/>`)}\n     </mergeCells>`:""}\n\n   ${Jt.length?`\n     <dataValidations>\n       ${Li(Jt,zt=>`\n         <dataValidation sqref="${zt.sqref.join(" ")}"\n                         showErrorMessage="${zt.showErrorMessage}"\n                         type="${Ci(zt.type)}"\n                         ${"list"!==zt.type?`operator="${Ci(zt.operator)}"`:""}\n                         allowBlank="${zt.allowBlank}"\n                         showDropDown="${zt.showDropDown}"\n                         ${zt.error?`error="${Ci(zt.error)}"`:""}\n                         ${zt.errorTitle?`errorTitle="${Ci(zt.errorTitle)}"`:""}>\n           ${zt.formula1?`<formula1>${Ci(zt.formula1)}</formula1>`:""}\n           ${zt.formula2?`<formula2>${Ci(zt.formula2)}</formula2>`:""}\n         </dataValidation>`)}\n     </dataValidations>`:""}\n\n   ${rt.length?`\n     <hyperlinks>\n       ${Li(rt,zt=>`\n         <hyperlink ref="${zt.ref}" r:id="${zt.rId}"/>`)}\n     </hyperlinks>`:""}\n\n   <pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" />\n   ${So?`<drawing r:id="${So}"/>`:""}\n   ${cn?`<legacyDrawing r:id="${cn}"/>`:""}\n</worksheet>`)({frozenColumns:this.options.frozenColumns||rt.colSplit,frozenRows:this.options.frozenRows||rt.rowSplit,columns:this.options.columns,defaults:Jt,data:F,index:g,mergeCells:b,autoFilter:L,filter:ee,showGridLines:this.options.showGridLines,hyperlinks:this._hyperlinks,validations:ze,defaultCellStyleId:Ke,rtl:void 0!==this.options.rtl?this.options.rtl:Jt.rtl,legacyDrawing:this._comments.length?`vml${this.options.sheetIndex}`:null,drawing:this._drawings.length?`drw${this.options.sheetIndex}`:null,lastRow:Ye,lastCol:Ht,hasDisabledCells:this._hasDisabledCells})}commentsXML(){if(this._comments.length)return(({comments:R})=>`${ci}\n<comments xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">\n  <authors>\n    <author></author>\n  </authors>\n  <commentList>\n    ${Li(R,g=>`\n      <comment ref="${g.ref}" authorId="0">\n        <text>\n          <r>\n            <rPr>\n              <sz val="8"/>\n              <color indexed="81"/>\n              <rFont val="Tahoma"/>\n              <charset val="1"/>\n            </rPr>\n            <t>${Ci(g.text)}</t>\n          </r>\n        </text>\n      </comment>`)}\n  </commentList>\n</comments>`)({comments:this._comments})}drawingsXML(g){if(this._drawings.length){let b={};return{main:(R=this._drawings.map(F=>{let L=Ao(F.topLeftCell),ee=b[F.image];return ee||(ee=b[F.image]={rId:`img${F.image}`,target:g[F.image].target}),{col:L.col,colOffset:qo(F.offsetX),row:L.row,rowOffset:qo(F.offsetY),width:qo(F.width),height:qo(F.height),imageId:ee.rId}}),`${ci}\n<xdr:wsDr xmlns:xdr="http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"\n          xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"\n          xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">\n  ${Li(R,(g,b)=>`\n    <xdr:oneCellAnchor editAs="oneCell">\n      <xdr:from>\n        <xdr:col>${g.col}</xdr:col>\n        <xdr:colOff>${g.colOffset}</xdr:colOff>\n        <xdr:row>${g.row}</xdr:row>\n        <xdr:rowOff>${g.rowOffset}</xdr:rowOff>\n      </xdr:from>\n      <xdr:ext cx="${g.width}" cy="${g.height}" />\n      <xdr:pic>\n        <xdr:nvPicPr>\n          <xdr:cNvPr id="${b+1}" name="Picture ${b+1}"/>\n          <xdr:cNvPicPr/>\n        </xdr:nvPicPr>\n        <xdr:blipFill>\n          <a:blip r:embed="${g.imageId}"/>\n          <a:stretch>\n            <a:fillRect/>\n          </a:stretch>\n        </xdr:blipFill>\n        <xdr:spPr>\n          <a:prstGeom prst="rect">\n            <a:avLst/>\n          </a:prstGeom>\n        </xdr:spPr>\n      </xdr:pic>\n      <xdr:clientData/>\n    </xdr:oneCellAnchor>`)}\n</xdr:wsDr>`),rels:Hi(b)}}var R}legacyDrawing(){if(this._comments.length)return(({comments:R})=>`<xml xmlns:v="urn:schemas-microsoft-com:vml"\n     xmlns:o="urn:schemas-microsoft-com:office:office"\n     xmlns:x="urn:schemas-microsoft-com:office:excel">\n  <v:shapetype coordsize="21600,21600" id="_x0000_t202" path="m,l,21600r21600,l21600,xe">\n    <v:stroke joinstyle="miter"/>\n    <v:path gradientshapeok="t" o:connecttype="rect"/>\n  </v:shapetype>\n  ${Li(R,g=>`\n    <v:shape type="#_x0000_t202" style="visibility: hidden" fillcolor="#ffffe1" o:insetmode="auto">\n      <v:shadow on="t" color="black" obscured="t"/>\n      <x:ClientData ObjectType="Note">\n        <x:MoveWithCells/>\n        <x:SizeWithCells/>\n        <x:Anchor>${g.anchor}</x:Anchor>\n        <x:AutoFill>False</x:AutoFill>\n        <x:Row>${g.row}</x:Row>\n        <x:Column>${g.col}</x:Column>\n      </x:ClientData>\n    </v:shape>`)}\n</xml>`)({comments:this._comments})}_lookupString(g){const b="$"+g,D=this._strings.indexes[b];let F;return void 0!==D?F=D:(F=this._strings.indexes[b]=this._strings.uniqueCount,this._strings.uniqueCount++),this._strings.count++,F}_lookupStyle(g){const b=JSON.stringify(g);if("{}"===b)return 0;let D=gs(b,this._styles);return D<0&&(D=this._styles.push(b)-1),D+1}_lookupBorder(g){const b=JSON.stringify(g);if("{}"===b)return;let D=gs(b,this._borders);return D<0&&(D=this._borders.push(b)-1),D+1}_readCells(g){for(let b=0;b<g.length;b++){const D=g[b],F=D.cells;D.data=[];for(let L=0;L<F.length;L++){const ee=this._cell(F[L],D.index,L);ee&&D.data.push(ee)}}}_cell(g,b,D){if(!g||g===Yo)return null;let F=g.value,L={};g.borderLeft&&(L.left=g.borderLeft),g.borderRight&&(L.right=g.borderRight),g.borderTop&&(L.top=g.borderTop),g.borderBottom&&(L.bottom=g.borderBottom),g.dBorders&&(L.diagonal=g.dBorders),L=this._lookupBorder(L);const ee=this.options.defaultCellStyle||{};let ze={borderId:L};(Ye=>{Ye("color"),Ye("background"),Ye("bold"),Ye("italic"),Ye("underline"),Ye("fontFamily")||Ye("fontName","fontFamily"),Ye("fontSize"),Ye("format"),Ye("textAlign")||Ye("hAlign","textAlign"),Ye("verticalAlign")||Ye("vAlign","verticalAlign"),Ye("wrap"),Ye("indent"),Ye("disabled")||Ye("enable")&&(ze.disabled=!ze.enable,delete ze.enable),ze.disabled&&(this._hasDisabledCells=!0)})((Ye,Ht)=>{let cn=g[Ye];if(void 0===cn&&(cn=ee[Ye]),void 0!==cn)return ze[Ht||Ye]=cn,!0});const Qe=(this.options.columns||[])[D];let rt=typeof F;if(Qe&&Qe.autoWidth&&(!g.colSpan||1===g.colSpan)){let Ye=F;"number"===rt&&(Ye=Je.toString(F,g.format)),Qe.width=Math.max(Qe.width||0,String(Ye).length)}"string"===rt?(F=function Wo(R){return String(R).replace(/[\x00-\x09\x0B\x0C\x0E-\x1F]/g,"").replace(/\r?\n/g,"\r\n")}(F),F=this._lookupString(F),rt="s"):"number"===rt?rt="n":"boolean"===rt?(rt="b",F=Number(F)):F&&F.getTime?(rt=null,F=function Tr(R){const g=function Xo(R,g,b,D){return(R+(g+(b+D/1e3)/60)/60)/24}(R.getHours(),R.getMinutes(),R.getSeconds(),R.getMilliseconds()),b=function No(R,g,b){return ms(R,g,b)-vi}(R.getFullYear(),R.getMonth(),R.getDate());return b<0?b-1+g:b+g}(F),ze.format||(ze.format="mm-dd-yy")):(rt=null,F=null),ze=this._lookupStyle(ze);const Jt=ln(b,D);return g.validation&&this._addValidation(g.validation,Jt),g.comment&&this._comments.push({ref:Jt,text:g.comment,row:b,col:D,anchor:[D+1,15,b,10,D+3,15,b+3,4].join(", ")}),{value:F,formula:g.formula,type:rt,style:ze,ref:Jt}}_addValidation(g,b){const D={showErrorMessage:"reject"===g.type?1:0,formula1:g.from,formula2:g.to,type:Zs[g.dataType]||g.dataType,operator:vo[g.comparerType]||g.comparerType,allowBlank:g.allowNulls?1:0,showDropDown:g.showButton?0:1,error:g.messageTemplate,errorTitle:g.titleTemplate},F=JSON.stringify(D);this._validations[F]||(this._validations[F]=D,D.sqref=[]),this._validations[F].sqref.push(b)}_getLastRow(){return _s(this.options.rows)}_getLastCol(){let g=0;return this.options.rows.forEach(function(b){b.cells&&(g=Math.max(g,_s(b.cells)))}),g}}function _s(R){let g=R.length;return R.forEach(function(b){b.index&&b.index>=g&&(g=b.index+1)}),g}const vo={greaterThanOrEqualTo:"greaterThanOrEqual",lessThanOrEqualTo:"lessThanOrEqual"},Zs={number:"decimal"},ks={General:0,0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49,"[$-404]e/m/d":27,"m/d/yy":30,t0:59,"t0.00":60,"t#,##0":61,"t#,##0.00":62,"t0%":67,"t0.00%":68,"t# ?/?":69,"t# ??/??":70};function eo(R){let g=function Co(R){function g(D){let F=parseInt(D,10).toString(16);return F.length<2?"0"+F:F}let b=/^rgba?\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*([0-9.]+)\s*)?\)/i.exec(R.trim());return b?"#"+g(255*(b[4]?parseFloat(b[4]):1)|0)+g(b[1])+g(b[2])+g(b[3]):R}(R);return g.length<6&&(g=g.replace(/(\w)/g,function(b,D){return D+D})),g=g.substring(1).toUpperCase(),g.length<8&&(g="FF"+g),g}class In{constructor(g){this.options=g||{},this._strings={indexes:{},count:0,uniqueCount:0},this._styles=[],this._borders=[],this._images=this.options.images,this._imgId=0,this._sheets=Ae(this.options.sheets||[],(b,D)=>(b.defaults=this.options,b.sheetIndex=D+1,new Mr(b,this._strings,this._styles,this._borders)))}imageFilename(g){const b=++this._imgId;switch(g){case"image/jpg":case"image/jpeg":return`image${b}.jpg`;case"image/png":return`image${b}.png`;case"image/gif":return`image${b}.gif`;default:return`image${b}.bin`}}toZIP(){const g=function yo(){return new ns}(),b=g.folder("docProps");b.file("core.xml",(({creator:R,lastModifiedBy:g,created:b,modified:D})=>`${ci}\n <cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties"\n   xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/"\n   xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n   <dc:creator>${Ci(R)}</dc:creator>\n   <cp:lastModifiedBy>${Ci(g)}</cp:lastModifiedBy>\n   <dcterms:created xsi:type="dcterms:W3CDTF">${Ci(b)}</dcterms:created>\n   <dcterms:modified xsi:type="dcterms:W3CDTF">${Ci(D)}</dcterms:modified>\n</cp:coreProperties>`)({creator:this.options.creator||"Kendo UI",lastModifiedBy:this.options.creator||"Kendo UI",created:this.options.date||(new Date).toJSON(),modified:this.options.date||(new Date).toJSON()}));const D=this._sheets.length;b.file("app.xml",(({sheets:R})=>`${ci}\n<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes">\n  <Application>Microsoft Excel</Application>\n  <DocSecurity>0</DocSecurity>\n  <ScaleCrop>false</ScaleCrop>\n  <HeadingPairs>\n    <vt:vector size="2" baseType="variant">\n      <vt:variant>\n        <vt:lpstr>Worksheets</vt:lpstr>\n      </vt:variant>\n      <vt:variant>\n        <vt:i4>${R.length}</vt:i4>\n      </vt:variant>\n    </vt:vector>\n  </HeadingPairs>\n  <TitlesOfParts>\n    <vt:vector size="${R.length}" baseType="lpstr">${Li(R,(g,b)=>g.options.title?`<vt:lpstr>${Ci(g.options.title)}</vt:lpstr>`:`<vt:lpstr>Sheet${b+1}</vt:lpstr>`)}</vt:vector>\n  </TitlesOfParts>\n  <LinksUpToDate>false</LinksUpToDate>\n  <SharedDoc>false</SharedDoc>\n  <HyperlinksChanged>false</HyperlinksChanged>\n  <AppVersion>14.0300</AppVersion>\n</Properties>`)({sheets:this._sheets})),g.folder("_rels").file(".rels",mn);const L=g.folder("xl");if(L.folder("_rels").file("workbook.xml.rels",(({count:R})=>`${ci}\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  ${xr(R,g=>`\n    <Relationship Id="rId${g+1}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet${g+1}.xml" />`)}\n  <Relationship Id="rId${R+1}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml" />\n  <Relationship Id="rId${R+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" />\n</Relationships>`)({count:D})),this._images){const nt=L.folder("media");Object.keys(this._images).forEach(Xt=>{const fn=this._images[Xt],Is=this.imageFilename(fn.type);nt.file(Is,fn.data),fn.target=`../media/${Is}`})}const ze={};L.file("workbook.xml",(({sheets:R,filterNames:g,userNames:b})=>`${ci}\n<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">\n  <fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="9303" />\n  <workbookPr defaultThemeVersion="124226" />\n  <bookViews>\n    <workbookView xWindow="240" yWindow="45" windowWidth="18195" windowHeight="7995" />\n  </bookViews>\n  <sheets>\n  ${Li(R,({options:D},F)=>{const ee=D.state||"visible";return`<sheet name="${Ci(D.name||D.title||`Sheet${F+1}`)}" state="${ee}" sheetId="${F+1}" r:id="rId${F+1}" />`})}\n  </sheets>\n  ${g.length||b.length?`\n    <definedNames>\n      ${Li(g,D=>`\n         <definedName name="_xlnm._FilterDatabase" hidden="1" localSheetId="${D.localSheetId}">${Ci(function Wr(R){return/^\'/.test(R)||/^[a-z_][a-z0-9_]*$/i.test(R)?R:"'"+R.replace(/\x27/g,"\\'")+"'"}(D.name))}!${Ci(D.from)}:${Ci(D.to)}</definedName>`)}\n      ${Li(b,D=>`\n         <definedName name="${D.name}" hidden="${D.hidden?1:0}" ${null!=D.localSheetId?`localSheetId="${D.localSheetId}"`:""}>${Ci(D.value)}</definedName>`)}\n    </definedNames>`:""}\n  <calcPr fullCalcOnLoad="1" calcId="145621" />\n</workbook>`)({sheets:this._sheets,filterNames:Ae(this._sheets,function(nt,Xt){const fn=nt.options,Is=fn.name||fn.title||"Sheet"+(Xt+1);ze[Is.toLowerCase()]=Xt;const vs=fn.filter;if(vs){if(vs.ref){let An=vs.ref.split(":"),Qo=Ao(An[0]),Fo=Ao(An[1]);return{localSheetId:Xt,name:Is,from:fs(Qo.row,Qo.col),to:fs(Fo.row,Fo.col)}}if(typeof vs.from<"u"&&typeof vs.to<"u")return{localSheetId:Xt,name:Is,from:fs(Ns(fn),vs.from),to:fs(Ns(fn),vs.to)}}}),userNames:Ae(this.options.names||[],function(nt){return{name:nt.localName,localSheetId:nt.sheet?ze[nt.sheet.toLowerCase()]:null,value:nt.value,hidden:nt.hidden}})}));const Ke=L.folder("worksheets"),Qe=L.folder("drawings"),rt=Qe.folder("_rels"),Jt=Ke.folder("_rels"),Ye=[],Ht=[];let cn=!1;for(let nt=0;nt<D;nt++){const Xt=this._sheets[nt],fn=`sheet${nt+1}.xml`,Is=Xt.toXML(nt),vs=Xt.relsToXML(),An=Xt.commentsXML(),Qo=Xt.legacyDrawing(),Fo=Xt.drawingsXML(this._images);if(Xt._hasDisabledCells&&(cn=!0),vs&&Jt.file(fn+".rels",vs),An){let Cr=`comments${Xt.options.sheetIndex}.xml`;L.file(Cr,An),Ye.push(Cr)}if(Qo&&Qe.file(`vmlDrawing${Xt.options.sheetIndex}.vml`,Qo),Fo){let Cr=`drawing${Xt.options.sheetIndex}.xml`;Qe.file(Cr,Fo.main),rt.file(`${Cr}.rels`,Fo.rels),Ht.push(Cr)}Ke.file(fn,Is)}const So=Ae(this._borders,ys),gn=Ae(this._styles,ys),Qi=function(nt){return nt.underline||nt.bold||nt.italic||nt.color||nt.fontFamily||nt.fontSize},zt=Ae(gn,function(nt){if(nt.fontSize&&(nt.fontSize=function(nt){let fn,Xt=Number(nt);return Xt&&(fn=3*Xt/4),fn}(nt.fontSize)),nt.color&&(nt.color=eo(nt.color)),Qi(nt))return nt}),Gn=Ae(gn,function(nt){if(nt.format&&void 0===ks[nt.format])return nt}),Gs=Ae(gn,function(nt){if(nt.background)return nt.background=eo(nt.background),nt});return L.file("styles.xml",(({formats:R,fonts:g,fills:b,borders:D,styles:F})=>`${ci}\n<styleSheet\n    xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"\n    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"\n    mc:Ignorable="x14ac"\n    xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">\n  <numFmts count="${R.length}">\n  ${Li(R,(L,ee)=>`\n    <numFmt formatCode="${Ci(L.format)}" numFmtId="${165+ee}" />`)}\n  </numFmts>\n  <fonts count="${g.length+1}" x14ac:knownFonts="1">\n    <font>\n       <sz val="11" />\n       <color theme="1" />\n       <name val="Calibri" />\n       <family val="2" />\n       <scheme val="minor" />\n    </font>\n    ${Li(g,L=>`\n    <font>\n      ${L.bold?"<b/>":""}\n      ${L.italic?"<i/>":""}\n      ${L.underline?"<u/>":""}\n      <sz val="${L.fontSize||11}" />\n      ${L.color?`<color rgb="${Ci(L.color)}" />`:'<color theme="1" />'}\n      ${L.fontFamily?`\n        <name val="${Ci(L.fontFamily)}" />\n        <family val="2" />\n      `:'\n        <name val="Calibri" />\n        <family val="2" />\n        <scheme val="minor" />\n      '}\n    </font>`)}\n  </fonts>\n  <fills count="${b.length+2}">\n      <fill><patternFill patternType="none"/></fill>\n      <fill><patternFill patternType="gray125"/></fill>\n    ${Li(b,L=>"\n      "+(L.background?`\n        <fill>\n          <patternFill patternType="solid">\n              <fgColor rgb="${Ci(L.background)}"/>\n          </patternFill>\n        </fill>\n      `:""))}\n  </fills>\n  <borders count="${D.length+1}">\n    <border><left/><right/><top/><bottom/><diagonal/></border>\n    ${Li(D,zr)}\n  </borders>\n  <cellStyleXfs count="1">\n    <xf borderId="0" fillId="0" fontId="0" />\n  </cellStyleXfs>\n  <cellXfs count="${F.length+1}">\n    <xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" />\n    ${Li(F,L=>`\n      <xf xfId="0"\n          ${L.fontId?`fontId="${L.fontId}" applyFont="1"`:""}\n          ${L.fillId?`fillId="${L.fillId}" applyFill="1"`:""}\n          ${L.numFmtId?`numFmtId="${L.numFmtId}" applyNumberFormat="1"`:""}\n          ${L.textAlign||L.verticalAlign||L.wrap?'applyAlignment="1"':""}\n          ${L.borderId?`borderId="${L.borderId}" applyBorder="1"`:""}\n          ${null!=L.disabled?'applyProtection="1"':""}>\n        ${L.textAlign||L.verticalAlign||L.wrap?`\n        <alignment\n          ${L.textAlign?`horizontal="${Ci(L.textAlign)}"`:""}\n          ${L.verticalAlign?`vertical="${Ci(L.verticalAlign)}"`:""}\n          ${L.indent?`indent="${Ci(L.indent)}"`:""}\n          ${L.wrap?'wrapText="1"':""} />\n        `:""}\n        ${null!=L.disabled?`\n        <protection locked="${L.disabled?1:0}" />\n        `:""}\n      </xf>\n    `)}\n  </cellXfs>\n  <cellStyles count="1">\n    <cellStyle name="Normal" xfId="0" builtinId="0"/>\n  </cellStyles>\n  <dxfs count="0" />\n  <tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleMedium9" />\n</styleSheet>`)({fonts:zt,fills:Gs,formats:Gn,borders:So,styles:Ae(gn,function(nt){const Xt={};return Qi(nt)&&(Xt.fontId=gs(nt,zt)+1),nt.background&&(Xt.fillId=gs(nt,Gs)+2),Xt.textAlign=nt.textAlign,Xt.indent=nt.indent,Xt.verticalAlign=nt.verticalAlign,Xt.wrap=nt.wrap,Xt.borderId=nt.borderId,nt.format&&(Xt.numFmtId=void 0!==ks[nt.format]?ks[nt.format]:165+gs(nt,Gn)),cn&&(Xt.disabled=!!nt.disabled),Xt})})),L.file("sharedStrings.xml",(({count:R,uniqueCount:g,indexes:b})=>`${ci}\n<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${R}" uniqueCount="${g}">\n  ${Li(Object.keys(b),D=>`\n    <si><t xml:space="preserve">${Ci(D.substring(1))}</t></si>`)}\n</sst>`)(this._strings)),g.file("[Content_Types].xml",(({sheetCount:R,commentFiles:g,drawingFiles:b})=>`${ci}\n<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">\n  <Default Extension="png" ContentType="image/png"/>\n  <Default Extension="gif" ContentType="image/gif"/>\n  <Default Extension="jpg" ContentType="image/jpeg"/>\n  <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" />\n  <Default Extension="xml" ContentType="application/xml" />\n  <Default Extension="vml" ContentType="application/vnd.openxmlformats-officedocument.vmlDrawing"/>\n  <Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" />\n  <Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/>\n  <Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/>\n  ${xr(R,D=>`<Override PartName="/xl/worksheets/sheet${D+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" />`)}\n  ${Li(g,D=>`<Override PartName="/xl/${D}" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"/>`)}\n  ${Li(b,D=>`<Override PartName="/xl/drawings/${D}" ContentType="application/vnd.openxmlformats-officedocument.drawing+xml"/>`)}\n  <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml" />\n  <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml" />\n</Types>`)({sheetCount:D,commentFiles:Ye,drawingFiles:Ht})),g}toDataURL(){const g=this.toZIP();return g.generateAsync?g.generateAsync(go).then(an):an(g.generate(go))}toBlob(){const g=this.toZIP();return g.generateAsync?g.generateAsync(Ms):new Blob([g.generate(fo)],{type:mo})}}function to(R,g){let b="";return g&&(b+="<"+R+' style="'+function Vr(R){let g="thin";return 2===R?g="medium":3===R&&(g="thick"),g}(g.size)+'">',g.color&&(b+='<color rgb="'+eo(g.color)+'"/>'),b+="</"+R+">"),b}function zr(R){let g=R.diagonal?R.diagonal.type:0;return`<border ${2&g?'diagonalUp="true"':""} ${1&g?'diagonalDown="true"':""}>\n      ${to("left",R.left)}\n      ${to("right",R.right)}\n      ${to("top",R.top)}\n      ${to("bottom",R.bottom)}\n      ${to("diagonal",R.diagonal)}\n    </border>`}const Yo={};function Nn(R){return R.sort(function(g,b){return g.index-b.index})}function Rs(R,g){R.indexOf(g)<0&&R.push(g)}function $r(R,g){for(let b=0;b<R.length;++b){const F=R[b].split(":");let L=F[0];if(L===g){let ee=F[1];return L=Ao(L),ee=Ao(ee),{rowSpan:ee.row-L.row+1,colSpan:ee.col-L.col+1}}}}function Ao(R){const D=/^([a-z]+)(\d+)$/i.exec(R);return{row:function b(F){return parseInt(F,10)-1}(D[2]),col:function g(F){let L=F.toUpperCase(),ee=0;for(let ze=0;ze<L.length;++ze)ee=26*ee+L.charCodeAt(ze)-64;return ee-1}(D[1])}}function qo(R){return Math.round(9525*R)}function yr(R,g){const D=R.index,F=R._source.cells,L=R.cells;if(F)for(let ee=0;ee<F.length;ee++){const ze=F[ee]||Yo;let Ke=ze.rowSpan||1,Qe=ze.colSpan||1;const rt=Sa(L,ze),Jt=ln(D,rt);if(1===Ke&&1===Qe){const Ye=$r(g.mergedCells,Jt);Ye&&(Qe=Ye.colSpan,Ke=Ye.rowSpan)}if(jr(ze,L,rt,Qe),(Ke>1||Qe>1)&&Rs(g.mergedCells,Jt+":"+ln(D+Ke-1,rt+Qe-1)),Ke>1)for(let Ye=D+1;Ye<D+Ke;Ye++){let Ht=g.rowsByIndex[Ye];Ht||(Ht=g.rowsByIndex[Ye]={index:Ye,cells:[]},g.rowData.push(Ht)),jr(ze,Ht.cells,rt-1,Qe+1)}}}function Sa(R,g){let b;return"number"==typeof g.index?(b=g.index,gr(R,g,g.index)):b=function fr(R,g){let b=R.length;for(let D=0;D<R.length+1;D++)if(!R[D]){R[D]=g,b=D;break}return b}(R,g),b}function gr(R,g,b){R[b]=g}function jr(R,g,b,D){for(let F=1;F<D;F++)gr(g,{borderTop:R.borderTop,borderRight:R.borderRight,borderBottom:R.borderBottom,borderLeft:R.borderLeft},b+F)}const Hr=({ref:R,columns:g,generators:b})=>`\n<autoFilter ref="${R}">\n  ${Li(g,D=>`\n    <filterColumn colId="${D.index}">\n      ${b[D.filter](D)}\n    </filterColumn>\n  `)}\n</autoFilter>`,_r=({logic:R,criteria:g})=>`\n<customFilters ${"and"===R?'and="1"':""}>\n${Li(g,b=>{let D=io.customOperator(b);return`<customFilter ${D?`operator="${D}"`:""} val="${io.customValue(b)}"/>`})}\n</customFilters>`,Nr=({type:R})=>`<dynamicFilter type="${io.dynamicFilterType(R)}" />`,Jo=({type:R,value:g})=>`<top10 percent="${/percent$/i.test(R)?1:0}"\n       top="${/^top/i.test(R)?1:0}"\n       val="${g}" />`,Xr=({blanks:R,values:g})=>`<filters ${R?'blank="1"':""}>\n    ${Li(g,b=>`\n      <filter val="${b}" />`)}\n  </filters>`;function io(R){return Hr({ref:R.ref,columns:R.columns,generators:{custom:_r,dynamic:Nr,top:Jo,value:Xr}})}io.customOperator=function(R){return{eq:"equal",gt:"greaterThan",gte:"greaterThanOrEqual",lt:"lessThan",lte:"lessThanOrEqual",ne:"notEqual",doesnotstartwith:"notEqual",doesnotendwith:"notEqual",doesnotcontain:"notEqual",doesnotmatch:"notEqual"}[R.operator.toLowerCase()]},io.customValue=function(R){function g(b){return b.replace(/([*?])/g,"~$1")}switch(R.operator.toLowerCase()){case"startswith":case"doesnotstartwith":return g(R.value)+"*";case"endswith":case"doesnotendwith":return"*"+g(R.value);case"contains":case"doesnotcontain":return"*"+g(R.value)+"*";default:return R.value}},io.dynamicFilterType=function(R){return{quarter1:"Q1",quarter2:"Q2",quarter3:"Q3",quarter4:"Q4",january:"M1",february:"M2",march:"M3",april:"M4",may:"M5",june:"M6",july:"M7",august:"M8",september:"M9",october:"M10",november:"M11",december:"M12"}[R.toLowerCase()]||R};var La=$(8910),Yr=$(5580),I=$(5987);const V=(R,g,b)=>{let D=R.createEmbeddedView(g);const F=L=>(b(g,L),D.detectChanges(),D.rootNodes.reduce((ee,ze)=>ee+ze.textContent,"").trim());return F.destroy=()=>{D.destroy(),D=null},F},m=(R,g)=>{R.$implicit=R.group=g,R.field=g.field,R.value=g.value,R.aggregates=g.aggregates},k=(R,g)=>{R.group=g.group,R.$implicit=R.aggregates=g},N=(R,g)=>{R.aggregates=g.aggregates},fe=R=>{R&&R.forEach(g=>{g.destroy()})};class Ue{title;field;hidden;locked;width;columns;groupHeaderTemplate;groupHeaderColumnTemplate;groupFooterTemplate;footerTemplate;headerCellOptions;cellOptions;groupHeaderCellOptions;groupFooterCellOptions;footerCellOptions;constructor(g,b){this.title=g.title,this.field=g.field,this.hidden=g.hidden,this.locked=g.locked,this.width=g.width,this.headerCellOptions=g.headerCellOptions,this.cellOptions=g.cellOptions,this.groupHeaderCellOptions=g.groupHeaderCellOptions,this.groupFooterCellOptions=g.groupFooterCellOptions,this.footerCellOptions=g.footerCellOptions,g.footerTemplate&&(this.footerTemplate=V(g.footerTemplate.templateRef,{$implicit:g,column:g,columnIndex:b},N)),g.groupFooterTemplate&&(this.groupFooterTemplate=V(g.groupFooterTemplate.templateRef,{column:g,field:g.field},k)),g.groupHeaderTemplate&&(this.groupHeaderTemplate=V(g.groupHeaderTemplate.templateRef,{},m)),g.groupHeaderColumnTemplate&&(this.groupHeaderColumnTemplate=V(g.groupHeaderColumnTemplate.templateRef,{},m))}destroy(){this.footerTemplate&&this.footerTemplate.destroy(),this.groupFooterTemplate&&this.groupFooterTemplate.destroy(),this.groupHeaderTemplate&&this.groupHeaderTemplate.destroy(),this.groupHeaderColumnTemplate&&this.groupHeaderColumnTemplate.destroy(),fe(this.columns)}}Je.register({toString:La.dI});const it=R=>{const g=(R=>{const g=[];let b=0;const D=(F,L,ee)=>{F.forEach(ze=>{if(ze.level===ee){const Ke=new Ue(ze,b);if(L.push(Ke),ze.children&&ze.children.some(Qe=>Qe!==ze)){const Qe=Ke.columns=[];D(ze.children,Qe,ee+1)}else b++}})};return D(R,g,0),g})(R.columns),D=new Ot({columns:g,data:R.data,filterable:R.filterable,groups:R.group,paddingCellOptions:R.paddingCellOptions,headerPaddingCellOptions:R.headerPaddingCellOptions,collapsible:R.collapsible,hierarchy:R.hierarchy,aggregates:R.aggregates}).workbook();return D.creator=R.creator,D.date=R.date,D.rtl=R.rtl,fe(g),D},Ut=R=>new In(R).toDataURL();let Ki=(()=>{class R{parent;title;width;locked;hidden;headerCellOptions;children;get level(){return this.parent?this.parent.level+1:0}constructor(b){this.parent=b}static \u0275fac=function(D){return new(D||R)(e.rXU(R))};static \u0275cmp=e.VBU({type:R,selectors:[["ng-component"]],contentQueries:function(D,F,L){if(1&D&&e.wni(L,R,4),2&D){let ee;e.mGM(ee=e.lsd())&&(F.children=ee)}},inputs:{title:"title",width:"width",locked:"locked",hidden:"hidden",headerCellOptions:"headerCellOptions"},decls:0,vars:0,template:function(D,F){},encapsulation:2})}return R})();const no={name:"@progress/kendo-angular-excel-export",productName:"Kendo UI for Angular",productCode:"KENDOUIANGULAR",productCodes:["KENDOUIANGULAR"],publishDate:1755030536,version:"19.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};let Po=(()=>{class R{localization;zone;fileName="Export.xlsx";filterable;collapsible;creator;date;forceProxy;proxyURL;data;group;paddingCellOptions;headerPaddingCellOptions;columns=new e.rOR;constructor(b,D){this.localization=b,this.zone=D,(0,I.$j)(no),this.saveFile=this.saveFile.bind(this)}save(b){this.toDataURL(b).then(this.saveFile)}workbookOptions(b){const D=this.getExportData(b);return it({columns:this.columns,data:D.data,group:D.group,filterable:this.filterable,creator:this.creator,date:this.date,rtl:this.localization.rtl,paddingCellOptions:this.paddingCellOptions,headerPaddingCellOptions:this.headerPaddingCellOptions,collapsible:this.collapsible})}toDataURL(b){const D=(R=>R&&R.sheets)(b)?b:this.workbookOptions(b);return this.zone.runOutsideAngular(()=>Ut(D))}getExportData(b){let D;return D=b?Array.isArray(b)?{data:b}:b:{data:this.data,group:this.group},D}saveFile(b){(0,w.U)(b,this.fileName,{forceProxy:this.forceProxy,proxyURL:this.proxyURL})}static \u0275fac=function(D){return new(D||R)(e.rXU(Yr.Pi),e.rXU(e.SKi))};static \u0275cmp=e.VBU({type:R,selectors:[["kendo-excelexport"]],contentQueries:function(D,F,L){if(1&D&&e.wni(L,Ki,5),2&D){let ee;e.mGM(ee=e.lsd())&&(F.columns=ee)}},inputs:{fileName:"fileName",filterable:"filterable",collapsible:"collapsible",creator:"creator",date:"date",forceProxy:"forceProxy",proxyURL:"proxyURL",data:"data",group:"group",paddingCellOptions:"paddingCellOptions",headerPaddingCellOptions:"headerPaddingCellOptions"},exportAs:["kendoExcelExport"],standalone:!0,features:[e.Jv_([Yr.Pi,{provide:Yr.$R,useValue:"kendo.excelexport"}]),e.aNF],decls:0,vars:0,template:function(D,F){},encapsulation:2})}return R})(),ui=(()=>{class R{templateRef;constructor(b){this.templateRef=b}static \u0275fac=function(D){return new(D||R)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:R,selectors:[["","kendoExcelExportFooterTemplate",""]],standalone:!0})}return R})(),so=(()=>{class R{templateRef;constructor(b){this.templateRef=b}static \u0275fac=function(D){return new(D||R)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:R,selectors:[["","kendoExcelExportGroupHeaderTemplate",""]],standalone:!0})}return R})(),ws=(()=>{class R{templateRef;constructor(b){this.templateRef=b}static \u0275fac=function(D){return new(D||R)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:R,selectors:[["","kendoExcelExportGroupHeaderColumnTemplate",""]],standalone:!0})}return R})(),qr=(()=>{class R{templateRef;constructor(b){this.templateRef=b}static \u0275fac=function(D){return new(D||R)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:R,selectors:[["","kendoExcelExportGroupFooterTemplate",""]],standalone:!0})}return R})(),vr=(()=>{class R extends Ki{field;cellOptions;groupHeaderCellOptions;groupFooterCellOptions;footerCellOptions;groupHeaderTemplate;groupHeaderColumnTemplate;groupFooterTemplate;footerTemplate;constructor(b){super(b)}static \u0275fac=function(D){return new(D||R)(e.rXU(Ki,13))};static \u0275cmp=e.VBU({type:R,selectors:[["kendo-excelexport-column"]],contentQueries:function(D,F,L){if(1&D&&(e.wni(L,so,5),e.wni(L,ws,5),e.wni(L,qr,5),e.wni(L,ui,5)),2&D){let ee;e.mGM(ee=e.lsd())&&(F.groupHeaderTemplate=ee.first),e.mGM(ee=e.lsd())&&(F.groupHeaderColumnTemplate=ee.first),e.mGM(ee=e.lsd())&&(F.groupFooterTemplate=ee.first),e.mGM(ee=e.lsd())&&(F.footerTemplate=ee.first)}},inputs:{field:"field",cellOptions:"cellOptions",groupHeaderCellOptions:"groupHeaderCellOptions",groupFooterCellOptions:"groupFooterCellOptions",footerCellOptions:"footerCellOptions"},standalone:!0,features:[e.Jv_([{provide:Ki,useExisting:(0,e.Rfq)(()=>R)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(D,F){},encapsulation:2})}return R})(),Jr=(()=>{class R extends Ki{parent;constructor(b){super(b),this.parent=b}static \u0275fac=function(D){return new(D||R)(e.rXU(Ki,13))};static \u0275cmp=e.VBU({type:R,selectors:[["kendo-excelexport-column-group"]],standalone:!0,features:[e.Jv_([{provide:Ki,useExisting:(0,e.Rfq)(()=>R)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(D,F){},encapsulation:2})}return R})()},9514:(Ts,xi,$)=>{$.d(xi,{Bz:()=>Gt,F$:()=>pi,Gj:()=>qt,HG:()=>Oi,OT:()=>Ji,RJ:()=>ei,Ti:()=>li,X9:()=>ae,Xh:()=>es,Zc:()=>Ri,hw:()=>W,io:()=>zs});var e=$(4438),w=$(5580),Ne=$(1413),qe=$(8359),Je=$(8936),me=$(4256),xe=$(1704),Ve=$(7944),Be=$(177),It=$(8911),we=$(5987),De=$(6697),Ae=$(3974),Pe=$(1730);const Ze=["dropdownlist"];function He(se,vt){if(1&se&&(e.qex(0),e.EFF(1),e.bVm()),2&se){const A=e.XpG();e.R7$(),e.JRh(A.textFor("itemsPerPage"))}}const Ei=["select"],Ot=["numbers"];function Wt(se,vt){if(1&se){const A=e.RV6();e.j41(0,"button",4),e.bIt("click",function(){e.eBV(A);const Y=e.XpG();return e.Njj(Y.changePage(Y.start-2))}),e.EFF(1,"..."),e.k0s()}if(2&se){const A=e.XpG();e.Y8G("size",A.size),e.BMQ("aria-label",A.pageLabel(A.start-1))("title",A.pageLabel(A.start-1))}}function E(se,vt){if(1&se){const A=e.RV6();e.j41(0,"button",5),e.bIt("click",function(){const Y=e.eBV(A).$implicit,Z=e.XpG();return e.Njj(Z.currentPage!==Y&&Z.changePage(Y-1))}),e.EFF(1),e.k0s()}if(2&se){const A=vt.$implicit,U=e.XpG();e.Y8G("size",U.size)("selected",U.currentPage===A),e.BMQ("aria-label",U.pageLabel(A))("title",U.pageLabel(A))("aria-current",U.currentPage===A?"page":void 0),e.R7$(),e.SpI(" ",A," ")}}function Yt(se,vt){if(1&se){const A=e.RV6();e.j41(0,"button",4),e.bIt("click",function(){e.eBV(A);const Y=e.XpG();return e.Njj(Y.changePage(Y.end))}),e.EFF(1,"..."),e.k0s()}if(2&se){const A=e.XpG();e.Y8G("size",A.size),e.BMQ("aria-label",A.pageLabel(A.end+1))("title",A.pageLabel(A.end+1))}}const ct=se=>({"aria-label":se}),ne=(se,vt)=>({keydown:se,focusout:vt});function Dt(se,vt){if(1&se&&(e.qex(0),e.EFF(1),e.bVm()),2&se){const A=e.XpG();e.R7$(),e.JRh(A.textFor("page"))}}const st=se=>({opacity:se});function tt(se,vt){if(1&se&&e.eu8(0,5),2&se){const A=e.XpG();e.Y8G("ngTemplateOutlet",null==A.template.first?null:A.template.first.templateRef)("ngTemplateOutletContext",A.templateContext)}}function We(se,vt){if(1&se&&e.nrm(0,"kendo-pager-prev-buttons",11),2&se){const A=e.XpG(2);e.Y8G("size",A.size)}}function ii(se,vt){if(1&se&&e.nrm(0,"kendo-pager-numeric-buttons",12),2&se){const A=e.XpG(2);e.Y8G("size",A.size)("buttonCount",A.buttonCount)}}function zi(se,vt){if(1&se&&e.nrm(0,"kendo-pager-input",11),2&se){const A=e.XpG(2);e.Y8G("size",A.size)}}function Ui(se,vt){if(1&se&&e.nrm(0,"kendo-pager-next-buttons",11),2&se){const A=e.XpG(2);e.Y8G("size",A.size)}}function Bt(se,vt){if(1&se&&e.nrm(0,"kendo-pager-page-sizes",13),2&se){const A=e.XpG(2);e.Y8G("ngStyle",e.eq3(4,st,A.initialized?null:"0"))("size",A.size)("pageSizes",A._pageSizeValues)("adaptiveMode",A.adaptiveMode)}}function Tt(se,vt){if(1&se&&e.nrm(0,"kendo-pager-info",14),2&se){const A=e.XpG(2);e.Y8G("ngStyle",e.eq3(1,st,A.initialized?null:"0"))}}function tn(se,vt){if(1&se&&(e.j41(0,"div",6),e.DNE(1,We,1,1,"kendo-pager-prev-buttons",7)(2,ii,1,2,"kendo-pager-numeric-buttons",8)(3,zi,1,1,"kendo-pager-input",7)(4,Ui,1,1,"kendo-pager-next-buttons",7),e.k0s(),e.DNE(5,Bt,1,6,"kendo-pager-page-sizes",9)(6,Tt,1,3,"kendo-pager-info",10)),2&se){const A=e.XpG();e.Y8G("ngStyle",e.eq3(7,st,A.initialized?null:"0")),e.R7$(),e.Y8G("ngIf",A.previousNext),e.R7$(),e.Y8G("ngIf","numeric"===A.type&&A.buttonCount>0),e.R7$(),e.Y8G("ngIf",A.showInput),e.R7$(),e.Y8G("ngIf",A.previousNext),e.R7$(),e.Y8G("ngIf",A._pageSizeValues.length),e.R7$(),e.Y8G("ngIf",A.info)}}function Yi(se,vt){if(1&se){const A=e.RV6();e.j41(0,"kendo-resize-sensor",15),e.bIt("resize",function(){e.eBV(A);const Y=e.XpG();return e.Njj(Y.resizeHandler())}),e.k0s()}}class ls{prevented=!1;preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class qi extends ls{newPageSize;constructor(vt){super(),this.newPageSize=vt}}let Et=(()=>{class se extends w.EX{ariaLabel;firstPage;lastPage;previousPage;nextPage;page;pageNumberInputTitle;itemsPerPage;of;items;selectPage;inputLabel;static \u0275fac=(()=>{let A;return function(Y){return(A||(A=e.xGo(se)))(Y||se)}})();static \u0275dir=e.FsC({type:se,selectors:[["kendoPagerMessages"]],inputs:{ariaLabel:"ariaLabel",firstPage:"firstPage",lastPage:"lastPage",previousPage:"previousPage",nextPage:"nextPage",page:"page",pageNumberInputTitle:"pageNumberInputTitle",itemsPerPage:"itemsPerPage",of:"of",items:"items",selectPage:"selectPage",inputLabel:"inputLabel"},features:[e.Vt3]})}return se})(),es=(()=>{class se extends Et{service;constructor(A){super(),this.service=A}get override(){return!0}static \u0275fac=function(U){return new(U||se)(e.rXU(w.Pi))};static \u0275cmp=e.VBU({type:se,selectors:[["kendo-datapager-messages"],["kendo-pager-messages"]],standalone:!0,features:[e.Jv_([{provide:Et,useExisting:(0,e.Rfq)(()=>se)}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(U,Y){},encapsulation:2})}return se})(),xn=(()=>{class se extends Et{service;constructor(A){super(),this.service=A}static \u0275fac=function(U){return new(U||se)(e.rXU(w.Pi))};static \u0275dir=e.FsC({type:se,selectors:[["","kendoPagerLocalizedMessages",""]],standalone:!0,features:[e.Jv_([{provide:Et,useExisting:(0,e.Rfq)(()=>se)}]),e.Vt3]})}return se})();class Ji{total;skip;pageSize;localization;changes=new Ne.B;pageChange=new Ne.B;pageSizeChange=new Ne.B;get currentPage(){return this.skip/this.pageSize}notifyChanges(vt){this.total=vt.total,this.pageSize=vt.pageSize,this.skip=vt.skip,this.changes.next(vt)}changePage(vt){this.pageChange.next({skip:vt*this.pageSize,take:this.pageSize})}changePageSize(vt){this.pageSizeChange.next(vt)}nextPage(){const vt=this.currentPage+1;vt*this.pageSize<this.total&&this.changePage(vt)}prevPage(){const vt=this.currentPage-1;vt*this.pageSize>=0&&this.changePage(vt)}}let nn=(()=>{class se{localization;pagerContext;cd;total;skip;pageSize;caretAltLeftIcon=Je.ner;caretAltToLeftIcon=Je.oqD;caretAltRightIcon=Je.yVr;caretAltToRightIcon=Je.R2q;get currentPage(){return Math.floor((this.skip||0)/this.pageSize)+1}get totalPages(){return Math.ceil((this.total||0)/this.pageSize)}subscriptions;constructor(A,U,Y){this.localization=A,this.pagerContext=U,this.cd=Y,this.total=U.total,this.skip=U.skip,this.pageSize=U.pageSize}textFor(A){return this.localization.get("kendo.pager"===this.localization.prefix?A:`pager${A[0].toLocaleUpperCase()}${A.slice(1)}`)}changePage(A){return this.pagerContext.changePage(A),!1}ngOnInit(){this.subscriptions=this.pagerContext.changes.subscribe(this.onChanges.bind(this)),this.subscriptions.add(this.localization.changes.subscribe(()=>this.cd.markForCheck()))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}get prevArrowIcons(){return this.localization.rtl?["caret-alt-to-right","caret-alt-right"]:["caret-alt-to-left","caret-alt-left"]}get prevArrowSVGIcons(){return this.localization.rtl?[this.caretAltToRightIcon,this.caretAltRightIcon]:[this.caretAltToLeftIcon,this.caretAltLeftIcon]}get nextArrowIcons(){return this.localization.rtl?["caret-alt-left","caret-alt-to-left"]:["caret-alt-right","caret-alt-to-right"]}get nextArrowSVGIcons(){return this.localization.rtl?[this.caretAltLeftIcon,this.caretAltToLeftIcon]:[this.caretAltRightIcon,this.caretAltToRightIcon]}static \u0275fac=function(U){return new(U||se)(e.rXU(w.Pi),e.rXU(Ji),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:se,selectors:[["kendo-pager-element"]],decls:0,vars:0,template:function(U,Y){},encapsulation:2})}return se})();const Cn=[5,10,20].map(se=>({text:String(se),value:se})),cs=se=>se.querySelectorAll("[kendoPagerFocusable]"),ve=['a[href]:not([disabled]):not([aria-hidden="true"])','area[href]:not([disabled]):not([aria-hidden="true"])','input:not([disabled]):not([aria-hidden="true"])','select:not([disabled]):not([aria-hidden="true"])','textarea:not([disabled]):not([aria-hidden="true"])','button:not([aria-hidden="true"])',"iframe:not([disabled])","object:not([disabled])","embed:not([disabled])",'*[tabindex]:not([disabled]):not([aria-hidden="true"])','*[contenteditable]:not([disabled]):not([contenteditable="false"])'].join(","),Fi="medium",ki={small:"sm",medium:"md",large:"lg"},sn=(se,vt,A,U)=>{if("size"===vt)return{toRemove:`k-${se}-${ki[A]}`,toAdd:"none"!==U?`k-${se}-${ki[U]}`:""}},pe=(se,vt,A)=>{const U=se.createElement("span");return se.appendChild(vt,U),se.addClass(U,A),U},Te=(se,vt,A)=>{const U=getComputedStyle(vt);["font-family","font-size","font-weight","font-style","letter-spacing","text-transform","white-space","word-spacing","padding-left","padding-right","margin-left","margin-right","border-left-width","border-right-width","box-sizing"].forEach(Z=>{se.setStyle(A,Z,U.getPropertyValue(Z))})};class ae{isNavigable=!0;innerNavigationChange=new Ne.B;toggleInnerNavigation(vt){this.innerNavigationChange.next(vt)}keepFocusWithinComponent(vt,A,U){const[Y,Z]=this.getFirstAndLastFocusable(vt),ti=U.shiftKey&&A===Y;!U.shiftKey&&A===Z&&(U.preventDefault(),Y.focus()),ti&&(U.preventDefault(),Z.focus())}getFirstAndLastFocusable(vt){const A=cs(vt),U=A.length>0?A[0]:vt,Y=A.length>0?A[A.length-1]:vt;return[(0,me.tp)(U)?U:U.querySelector(ve),(0,me.tp)(Y)?Y:Y.querySelector(ve)]}}let re=(()=>{class se{navigationService;element;renderer;subscriptions=new qe.yU;constructor(A,U,Y){this.navigationService=A,this.element=U,this.renderer=Y}ngOnInit(){this.nativeElement instanceof HTMLElement&&this.subscriptions.add(this.navigationService.innerNavigationChange.subscribe(this.innerNavigationChange.bind(this)))}ngOnDestroy(){this.subscriptions.unsubscribe()}get nativeElement(){return this.element.nativeElement}innerNavigationChange(A){if(!this.navigationService.isNavigable)return;const U=A?"0":"-1";this.nativeElement.matches(ve)&&this.renderer.setAttribute(this.nativeElement,"tabindex",U),this.nativeElement.querySelectorAll(ve).forEach(Z=>{this.renderer.setAttribute(Z,"tabindex",U)})}static \u0275fac=function(U){return new(U||se)(e.rXU(ae),e.rXU(e.aKT),e.rXU(e.sFG))};static \u0275dir=e.FsC({type:se,selectors:[["","kendoPagerFocusable",""]],exportAs:["kendoPagerFocusable"],standalone:!0})}return se})(),W=(()=>{class se extends nn{constructor(A,U,Y){super(A,U,Y)}size=Fi;get disabled(){return 1===this.currentPage||!this.total}onClick(A=!1){return!this.disabled&&(1!==this.currentPage&&this.changePage(A?0:this.currentPage-2))}onChanges({total:A,skip:U,pageSize:Y}){this.total=A,this.skip=U,this.pageSize=Y,this.cd.markForCheck()}static \u0275fac=function(U){return new(U||se)(e.rXU(w.Pi),e.rXU(Ji),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:se,selectors:[["kendo-datapager-prev-buttons"],["kendo-pager-prev-buttons"]],inputs:{size:"size"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:16,consts:[["type","button","kendoButton","","kendoPagerFocusable","","fillMode","flat","rounded","none",1,"k-pager-nav","k-pager-first",3,"click","icon","svgIcon","size","title"],["type","button","kendoButton","","kendoPagerFocusable","","fillMode","flat","rounded","none",1,"k-pager-nav",3,"click","icon","svgIcon","size","title"]],template:function(U,Y){1&U&&(e.j41(0,"button",0),e.bIt("click",function(){return Y.onClick(!0)}),e.k0s(),e.j41(1,"button",1),e.bIt("click",function(){return Y.onClick()}),e.k0s()),2&U&&(e.AVh("k-disabled",Y.disabled),e.Y8G("icon",Y.prevArrowIcons[0])("svgIcon",Y.prevArrowSVGIcons[0])("size",Y.size)("title",Y.textFor("firstPage")),e.BMQ("aria-disabled",Y.disabled)("aria-label",Y.textFor("firstPage")),e.R7$(),e.AVh("k-disabled",Y.disabled),e.Y8G("icon",Y.prevArrowIcons[1])("svgIcon",Y.prevArrowSVGIcons[1])("size",Y.size)("title",Y.textFor("previousPage")),e.BMQ("aria-disabled",Y.disabled)("aria-label",Y.textFor("previousPage")))},dependencies:[xe.Qp,re],encapsulation:2,changeDetection:0})}return se})(),qt=(()=>{class se extends nn{pagerContext;element;ngZone;dropDownList;_showItemsText=!0;get showItemsText(){return this._showItemsText}set showItemsText(A){this._showItemsText=A,this.cd.markForCheck()}set pageSizes(A){let U=[];Array.isArray(A)?A.forEach(Y=>{U.push("number"==typeof Y?{text:Y.toString(),value:Y}:Y)}):U=Cn,this.pageSize&&!U.some(Y=>Y.value===this.pageSize)&&(U=[{text:this.pageSize.toString(),value:this.pageSize},...U]),this._pageSizes=U}size=Fi;adaptiveMode="auto";get classes(){return!0}_pageSizes=[];constructor(A,U,Y,Z,wt){super(A,Y,U),this.pagerContext=Y,this.element=Z,this.ngZone=wt}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{this.element.nativeElement.addEventListener("keydown",this.keyDownHandler.bind(this),!0)})}ngOnDestroy(){this.element.nativeElement.removeEventListener("keydown",this.keyDownHandler)}pageSizeChange(A,U){const Y=new qi(A);this.pagerContext.changePageSize(Y),Y.isDefaultPrevented()&&U.writeValue(this.pageSize)}onChanges({total:A,skip:U,pageSize:Y}){this.total=A,this.skip=U,this.pageSize="number"==typeof Y?Y:this.total,this.cd.markForCheck()}keyDownHandler(A){A.code===me.D$.Escape&&this.dropDownList.isOpen&&(A.stopPropagation(),this.dropDownList.toggle(!1))}static \u0275fac=function(U){return new(U||se)(e.rXU(w.Pi),e.rXU(e.gRc),e.rXU(Ji),e.rXU(e.aKT),e.rXU(e.SKi))};static \u0275cmp=e.VBU({type:se,selectors:[["kendo-datapager-page-sizes"],["kendo-pager-page-sizes"]],viewQuery:function(U,Y){if(1&U&&e.GBs(Ze,7),2&U){let Z;e.mGM(Z=e.lsd())&&(Y.dropDownList=Z.first)}},hostVars:2,hostBindings:function(U,Y){2&U&&e.AVh("k-pager-sizes",Y.classes)},inputs:{showItemsText:"showItemsText",pageSizes:"pageSizes",size:"size",adaptiveMode:"adaptiveMode"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:7,consts:[["dropdownlist",""],["kendoPagerFocusable","","textField","text","valueField","value",3,"valueChange","size","data","valuePrimitive","value","adaptiveMode"],[4,"ngIf"]],template:function(U,Y){if(1&U){const Z=e.RV6();e.j41(0,"kendo-dropdownlist",1,0),e.bIt("valueChange",function(ti){e.eBV(Z);const Qt=e.sdS(1);return e.Njj(Y.pageSizeChange(ti,Qt))}),e.k0s(),e.DNE(2,He,2,1,"ng-container",2)}2&U&&(e.Y8G("size",Y.size)("data",Y._pageSizes)("valuePrimitive",!0)("value",Y.pageSize)("adaptiveMode",Y.adaptiveMode),e.BMQ("aria-label",Y.textFor("itemsPerPage")),e.R7$(2),e.Y8G("ngIf",Y.showItemsText))},dependencies:[Ve.V9,re,Be.bT],encapsulation:2,changeDetection:0})}return se})(),Oi=(()=>{class se{templateRef;constructor(A){this.templateRef=A}static \u0275fac=function(U){return new(U||se)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:se,selectors:[["","kendoDataPagerTemplate",""],["","kendoPagerTemplate",""]],standalone:!0})}return se})(),pi=(()=>{class se extends nn{pagerContext;renderer;selectElement;numbersElement;buttonCount;set size(A){const U=A||Fi;this.handleClasses(U,"size"),this._size=U}get size(){return this._size}get buttons(){const A=[];for(let U=this.start;U<=this.end;U++)A.push(U);return A}get end(){return Math.min(this.start+this.buttonCount-1,this.totalPages)}get start(){const A=this.currentPage,U=this.buttonCount;if(A>U){const Y=A%U;return 0===Y?A-U+1:A-Y+1}return 1}constructor(A,U,Y,Z){super(A,Y,U),this.pagerContext=Y,this.renderer=Z}_size=Fi;ngAfterViewInit(){this.handleClasses(this.size,"size")}pageLabel(A){const U=this.textFor("page");return U?U+" "+A:A.toString()}onSelectChange(A){const U=A.target,Y=Number(U.value);Number.isNaN(Y)?this.changePage("previousButtons"===U.value?this.start-2:this.end):this.changePage(Y-1)}onChanges({total:A,skip:U,pageSize:Y}){this.total=A,this.skip=U,this.pageSize=Y,this.cd.markForCheck()}get pageChooserLabel(){return this.textFor("selectPage")}handleClasses(A,U){const Y=this.selectElement?.nativeElement,Z=sn("picker",U,this[U],A);Y&&(Z.toRemove&&this.renderer.removeClass(Y,Z.toRemove),Z.toAdd&&this.renderer.addClass(Y,Z.toAdd))}static \u0275fac=function(U){return new(U||se)(e.rXU(w.Pi),e.rXU(e.gRc),e.rXU(Ji),e.rXU(e.sFG))};static \u0275cmp=e.VBU({type:se,selectors:[["kendo-datapager-numeric-buttons"],["kendo-pager-numeric-buttons"]],viewQuery:function(U,Y){if(1&U&&(e.GBs(Ei,5,e.aKT),e.GBs(Ot,5,e.aKT)),2&U){let Z;e.mGM(Z=e.lsd())&&(Y.selectElement=Z.first),e.mGM(Z=e.lsd())&&(Y.numbersElement=Z.first)}},inputs:{buttonCount:"buttonCount",size:"size"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:3,consts:[["numbers",""],[1,"k-pager-numbers"],["type","button","kendoPagerFocusable","","kendoButton","","fillMode","flat","themeColor","primary","rounded","none",3,"size","click",4,"ngIf"],["type","button","kendoPagerFocusable","","kendoButton","","fillMode","flat","themeColor","primary","rounded","none",3,"size","selected","click",4,"ngFor","ngForOf"],["type","button","kendoPagerFocusable","","kendoButton","","fillMode","flat","themeColor","primary","rounded","none",3,"click","size"],["type","button","kendoPagerFocusable","","kendoButton","","fillMode","flat","themeColor","primary","rounded","none",3,"click","size","selected"]],template:function(U,Y){1&U&&(e.j41(0,"div",1,0),e.DNE(2,Wt,2,3,"button",2)(3,E,2,6,"button",3)(4,Yt,2,3,"button",2),e.k0s()),2&U&&(e.R7$(2),e.Y8G("ngIf",Y.start>1),e.R7$(),e.Y8G("ngForOf",Y.buttons),e.R7$(),e.Y8G("ngIf",Y.end<Y.totalPages))},dependencies:[re,Be.bT,Be.pM,xe.Qp],encapsulation:2,changeDetection:0})}return se})(),Ri=(()=>{class se extends nn{get disabled(){return this.currentPage===this.totalPages||!this.total}size=Fi;constructor(A,U,Y){super(A,U,Y)}onClick(A=!1){return!this.disabled&&(this.currentPage!==this.totalPages&&this.changePage(A?this.totalPages-1:this.currentPage))}onChanges({total:A,skip:U,pageSize:Y}){this.total=A,this.skip=U,this.pageSize=Y,this.cd.markForCheck()}static \u0275fac=function(U){return new(U||se)(e.rXU(w.Pi),e.rXU(Ji),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:se,selectors:[["kendo-datapager-next-buttons"],["kendo-pager-next-buttons"]],inputs:{size:"size"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:16,consts:[["kendoButton","","kendoPagerFocusable","","type","button","fillMode","flat","rounded","none",1,"k-pager-nav",3,"click","size","icon","svgIcon","title"],["kendoButton","","kendoPagerFocusable","","type","button","fillMode","flat","rounded","none",1,"k-pager-nav","k-pager-last",3,"click","size","icon","svgIcon","title"]],template:function(U,Y){1&U&&(e.j41(0,"button",0),e.bIt("click",function(){return Y.onClick()}),e.k0s(),e.j41(1,"button",1),e.bIt("click",function(){return Y.onClick(!0)}),e.k0s()),2&U&&(e.AVh("k-disabled",Y.disabled),e.Y8G("size",Y.size)("icon",Y.nextArrowIcons[0])("svgIcon",Y.nextArrowSVGIcons[0])("title",Y.textFor("nextPage")),e.BMQ("aria-disabled",Y.disabled)("aria-label",Y.textFor("nextPage")),e.R7$(),e.AVh("k-disabled",Y.disabled),e.Y8G("size",Y.size)("icon",Y.nextArrowIcons[1])("svgIcon",Y.nextArrowSVGIcons[1])("title",Y.textFor("lastPage")),e.BMQ("aria-disabled",Y.disabled)("aria-label",Y.textFor("lastPage")))},dependencies:[xe.Qp,re],encapsulation:2,changeDetection:0})}return se})(),ei=(()=>{class se extends nn{pagerContext;zone;renderer;numericInput;showPageText=!0;size=Fi;constructor(A,U,Y,Z,wt){super(A,U,Z),this.pagerContext=U,this.zone=Y,this.renderer=wt}onChanges({total:A,skip:U,pageSize:Y}){this.total=A,this.skip=U,this.pageSize=Y,this.cd.markForCheck()}handleKeyDown=A=>{const U=this.numericInput.value||this.current;(A.code===me.D$.Enter||A.code===me.D$.NumpadEnter)&&(A.preventDefault(),U!==this.current&&this.zone.run(()=>{this.changePage(U-1)}))};handleBlur=()=>{const A=this.numericInput.value;A?A!==this.current&&this.zone.run(()=>{this.changePage(A-1)}):this.numericInput.writeValue(this.current)};get current(){return this.hasPages?this.currentPage:0}get hasPages(){return 0!==this.totalPages}static \u0275fac=function(U){return new(U||se)(e.rXU(w.Pi),e.rXU(Ji),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(e.sFG))};static \u0275cmp=e.VBU({type:se,selectors:[["kendo-datapager-input"],["kendo-pager-input"]],viewQuery:function(U,Y){if(1&U&&e.GBs(It.Jh,7),2&U){let Z;e.mGM(Z=e.lsd())&&(Y.numericInput=Z.first)}},inputs:{showPageText:"showPageText",size:"size"},standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:19,consts:[[1,"k-pager-input"],[4,"ngIf"],["kendoPagerFocusable","","format","n0",3,"spinners","decimals","size","disabled","value","min","max","autoCorrect","inputAttributes","title","kendoEventsOutsideAngular"]],template:function(U,Y){1&U&&(e.j41(0,"span",0),e.DNE(1,Dt,2,1,"ng-container",1),e.nrm(2,"kendo-numerictextbox",2),e.EFF(3),e.k0s()),2&U&&(e.R7$(),e.Y8G("ngIf",Y.showPageText),e.R7$(),e.Y8G("spinners",!1)("decimals",0)("size",Y.size)("disabled",!Y.hasPages)("value",Y.current)("min",Y.hasPages?1:0)("max",Y.totalPages)("autoCorrect",!0)("inputAttributes",e.eq3(14,ct,Y.textFor("inputLabel")))("title",Y.textFor("pageNumberInputTitle"))("kendoEventsOutsideAngular",e.l_i(16,ne,Y.handleKeyDown,Y.handleBlur)),e.R7$(),e.Lme(" ",Y.textFor("of")," ",Y.totalPages," "))},dependencies:[Be.bT,It.Jh,re,me.Uj],encapsulation:2})}return se})(),li=(()=>{class se extends nn{get maxItems(){return Math.min(this.currentPage*this.pageSize,this.total)}get currentPageText(){return this.total?(this.currentPage-1)*this.pageSize+1:0}hostClass=!0;constructor(A,U,Y){super(A,Y,U)}onChanges({total:A,skip:U,pageSize:Y}){this.total=A,this.skip=U,this.pageSize=Y,this.cd.markForCheck()}static \u0275fac=function(U){return new(U||se)(e.rXU(w.Pi),e.rXU(e.gRc),e.rXU(Ji))};static \u0275cmp=e.VBU({type:se,selectors:[["kendo-datapager-info"],["kendo-pager-info"]],hostVars:2,hostBindings:function(U,Y){2&U&&e.AVh("k-pager-info",Y.hostClass)},standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:5,template:function(U,Y){1&U&&e.EFF(0),2&U&&e.SjE("",Y.currentPageText," - ",Y.maxItems," ",Y.textFor("of")," ",Y.total," ",Y.textFor("items"),"")},encapsulation:2,changeDetection:0})}return se})();const At={name:"@progress/kendo-angular-pager",productName:"Kendo UI for Angular",productCode:"KENDOUIANGULAR",productCodes:["KENDOUIANGULAR"],publishDate:1755030520,version:"19.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};let Gt=(()=>{class se{pagerContext;element;localization;renderer;ngZone;cdr;navigationService;template;set numericButtons(A){const U=A?A.nativeElement?.offsetWidth:0;A&&U!==this.pagerDimensions.numericButtonsWidth&&(this.pagerDimensions.numericButtonsWidth=U)}set pagerInput(A){const U=A?A.nativeElement?.offsetWidth:0;A&&U!==this.pagerDimensions.inputWidth&&(this.pagerDimensions.inputWidth=U)}pagerInputComponent;set pageSizes(A){const U=A?A.nativeElement?.offsetWidth:0;A&&U!==this.pagerDimensions.pageSizesWidth&&(this.pagerDimensions.pageSizesWidth=U)}pageSizesComponent;externalTemplate;total=0;skip=0;pageSize;buttonCount=10;info=!0;type="numeric";set pageSizeValues(A){this._pageSizeValues="boolean"==typeof A?A?Cn:[]:A}get pageSizeValues(){return this._pageSizeValues}previousNext=!0;set navigable(A){this._navigable=A,this.navigationService.isNavigable=A}get navigable(){return this._navigable}set size(A){const U=A||Fi;this.handleClasses(U,"size"),this._size=U}get size(){return this._size}responsive=!0;adaptiveMode="auto";pageChange=new e.bkB;pageSizeChange=new e.bkB;pagerInputVisibilityChange=new e.bkB;pageTextVisibilityChange=new e.bkB;itemsTextVisibilityChange=new e.bkB;pagerClass=!0;get responsiveClass(){return this.responsive}widgetRole="application";roleDescription="pager";keyShortcuts="Enter ArrowRight ArrowLeft";get hostTabindex(){return this.navigable?"0":"-1"}get dir(){return this.direction}focusHandler(A){this.navigationService.toggleInnerNavigation(A.target!==this.element.nativeElement)}get totalPages(){return Math.ceil((this.total||0)/this.pageSize)}get currentPage(){return Math.floor((this.skip||0)/this.pageSize)+1}get templateContext(){const A=this._templateContext;return A.totalPages=this.totalPages,A.total=this.total,A.skip=this.skip,A.pageSize=this.pageSize,A.currentPage=this.currentPage,A}get showPageText(){return this._showPageText}set showPageText(A){this._showPageText=A,this.pagerInputComponent&&(this.pagerInputComponent.showPageText=A),this.pageTextVisibilityChange.emit(A)}get showItemsText(){return this._showItemsText}set showItemsText(A){this._showItemsText=A,this.pageSizesComponent&&(this.pageSizesComponent.showItemsText=A),this.itemsTextVisibilityChange.emit(A)}get showInput(){return this._showInput}set showInput(A){this._showInput=A,this.pagerInputVisibilityChange.emit(A)}initialized=!1;subscriptions=new qe.yU;_templateContext={};_pageSizeValues=Cn;direction;isInnerNavigationEnabled=!1;_navigable=!0;_size=Fi;_showInput=!0;_showPageText=!0;_showItemsText=!0;pagerDimensions={padding:0,numericButtonsWidth:0,inputWidth:0,pageSizesWidth:0,sizesTextWidth:0,pageTextWidth:0,infoTextWidth:0,gapNumbersSizes:0,gapSizesInfo:0,width:0};constructor(A,U,Y,Z,wt,ti,Qt){this.pagerContext=A,this.element=U,this.localization=Y,this.renderer=Z,this.ngZone=wt,this.cdr=ti,this.navigationService=Qt,(0,we.$j)(At),this.direction=Y.rtl?"rtl":"ltr",Qt||(this.navigationService=(0,e.WQX)(ae)),A||(this.pagerContext=(0,e.WQX)(Ji)),this.pagerContext.localization=Y}ngOnInit(){if(this.subscriptions.add(this.pagerContext.pageChange.subscribe(this.changePage.bind(this))),this.subscriptions.add(this.pagerContext.pageSizeChange.subscribe(this.changePageSize.bind(this))),this.subscriptions.add(this.localization.changes.subscribe(({rtl:A})=>{this.direction=A?"rtl":"ltr",this.measureAllTextWidths(),this.responsive&&this.resizeHandler()})),this.subscriptions.add(this.navigationService.innerNavigationChange.subscribe(this.innerNavigationChange.bind(this))),this.navigable){const A=this.element.nativeElement;this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(this.renderer.listen(A,"keydown",this.keyDownHandler.bind(this)))})}}get maxItems(){return Math.min(this.currentPage*this.pageSize,this.total)}ngAfterViewInit(){this.renderer.setAttribute(this.element.nativeElement,"aria-label",this.ariaLabel),this.subscriptions.add(this.template.changes.subscribe(()=>{this.measureAllTextWidths(),this.responsive&&this.resizeHandler(!1)})),this.handleClasses(this.size,"size"),this.measureAllTextWidths(),!this.numericButtons&&(this.pagerDimensions.numericButtonsWidth=this.element.nativeElement.querySelector(".k-pager-numbers")?.offsetWidth??0),!this.pagerInput&&(this.pagerDimensions.inputWidth=this.element.nativeElement.querySelector(".k-pager-input")?.offsetWidth??0),!this.pageSizes&&(this.pagerDimensions.pageSizesWidth=this.element.nativeElement.querySelector(".k-pager-sizes")?.offsetWidth??0);const A=(se=>{if(!se||!(0,me.nm)())return{padding:0,gapNumbersSizes:0,gapSizesInfo:0};const vt=window.getComputedStyle(se),Y=1.2*((parseInt(vt.paddingLeft,10)||0)+(parseInt(vt.paddingRight,10)||0)),Z=getComputedStyle(document.documentElement),wt=parseFloat(Z.getPropertyValue("--kendo-spacing-3\\.5")||"0.875rem")*(parseFloat(getComputedStyle(document.documentElement).fontSize)||16)*2;return{padding:Y,gapNumbersSizes:wt,gapSizesInfo:wt}})(this.element.nativeElement);this.pagerDimensions.padding=A.padding,this.pagerDimensions.gapNumbersSizes=A.gapNumbersSizes,this.pagerDimensions.gapSizesInfo=A.gapSizesInfo,this.ngZone.onStable.pipe((0,De.s)(1)).subscribe(()=>{"input"!==this.type&&(this.showInput=!1)}),(0,me.nm)()?(this.responsive&&this.resizeHandler(),setTimeout(()=>{this.initialized=!0,this.cdr.markForCheck()},0)):this.initialized=!0}ngOnChanges(A){if((0,me.TI)(["pageSize","skip","total"],A,!1)){const U=Math.min(this.buttonCount,(A.total?.previousValue||this.total)/(A.pageSize?.previousValue||this.pageSize));this.pagerContext.notifyChanges({pageSize:this.pageSize,skip:this.skip,total:this.total}),this.pagerDimensions.numericButtonsWidth=this.pagerDimensions.numericButtonsWidth*Math.min(this.buttonCount,this.total/this.pageSize)/U,this.renderer.setAttribute(this.element.nativeElement,"aria-label",this.ariaLabel),this.responsive&&this.resizeHandler(!1)}(0,me.TI)(["pageSizeValues","previousNext","buttonCount"],A,!0)&&this.responsive&&this.resizeHandler(!1),(0,me.Hq)("responsive",A,!0)&&(A.responsive.currentValue&&!A.responsive.previousValue&&(this.measureAllTextWidths(),this.resizeHandler(!1)),this.responsive||(this.showInput="input"===this.type,this.showElementsInOrder(this.element.nativeElement.offsetWidth,this.pagerDimensions.width))),(0,me.Hq)("type",A,!0)&&(this.showNumericButtonsResponsive(),this.responsive&&this.resizeHandler(!1))}ngOnDestroy(){this.subscriptions.unsubscribe()}changePage(A){this.pageChange.emit(A)}changePageSize(A){this.pageSizeChange.emit(A),A.isDefaultPrevented()||this.pageChange.emit("all"===A.newPageSize?{skip:0,take:this.total}:{skip:0,take:A.newPageSize})}onPageSizeChange(A){this.pageSizeChange.emit(A),A.isDefaultPrevented()||this.pageChange.emit({skip:this.skip,take:A.newPageSize})}resizeHandler=(A=!0)=>{if(this.template?.first&&!this.responsive)return;if(!(0,me.nm)()||!this.element?.nativeElement)return void(this.initialized=!0);let U=this.element.nativeElement.offsetWidth;U<=0||A&&U===this.pagerDimensions.width||(this.pagerDimensions.width=U,this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{if(this.template?.first&&!this.responsive)return;const Y=this.element.nativeElement.querySelector(".k-pager-numbers-wrap"),Z=this.element.nativeElement.querySelector(".k-pager-info"),wt=this.element.nativeElement.querySelector(".k-pager-sizes");let ti=Y?.offsetWidth+(wt?.offsetWidth||0)+(Z?.offsetWidth>0?Math.min(this.pagerDimensions.infoTextWidth):0);this.isElementVisible(Z)&&(ti+=this.pagerDimensions.gapSizesInfo),U-=this.pagerDimensions.padding,this.isElementVisible(wt)&&(U-=this.pagerDimensions.gapNumbersSizes),Math.ceil(ti)<=U?this.showElementsInOrder(U,ti):this.hideElementsInOrder(U,ti),!this.initialized&&this.ngZone.onStable.pipe((0,De.s)(1)).subscribe(()=>this.initialized=!0)})}))};get ariaLabel(){const A=this.localization.get("ariaLabel")||"";return(0,me.DG)((0,me.DG)(A,"currentPage",this.currentPage.toString()),"totalPages",this.totalPages.toString())}keyDownHandler(A){const U=A.target,Y=this.element.nativeElement,Z=(0,me.tq)(A),wt=Z===me.D$.ArrowLeft||Z===me.D$.PageUp,ti=Z===me.D$.ArrowRight||Z===me.D$.PageDown,Qt=Z===me.D$.Enter||Z===me.D$.NumpadEnter,Zt=Z===me.D$.Home,_i=Z===me.D$.End,En=Z===me.D$.Escape,qn=Z===me.D$.Tab,zn=1===this.currentPage,pn=this.currentPage===this.totalPages;this.ngZone.run(()=>{if(Zt){if(A.target!==Y)return;A.preventDefault(),!zn&&this.pagerContext.changePage(0)}else if(_i){if(A.preventDefault(),A.target!==Y)return;!pn&&this.pagerContext.changePage(this.totalPages-1)}else if(this.isInnerNavigationEnabled)En?(this.navigationService.toggleInnerNavigation(!1),Y.focus()):qn&&this.navigationService.keepFocusWithinComponent(Y,U,A);else{if(A.target!==Y)return;if(wt)A.preventDefault(),!zn&&this.pagerContext.prevPage();else if(ti)A.preventDefault(),!pn&&this.pagerContext.nextPage();else if(Qt){A.preventDefault();let[Kn]=this.navigationService.getFirstAndLastFocusable(Y);if("true"===Kn.getAttribute("aria-disabled")){Kn=Array.from(cs(Y)).find(xs=>!xs.getAttribute("aria-disabled"));const ds=Kn.querySelector("input");ds&&(Kn=ds)}this.navigationService.toggleInnerNavigation(!0),Kn?.focus()}}})}innerNavigationChange(A){this.isInnerNavigationEnabled=A}handleClasses(A,U){const Y=this.element.nativeElement,Z=sn("pager",U,this[U],A);Z.toRemove&&this.renderer.removeClass(Y,Z.toRemove),Z.toAdd&&this.renderer.addClass(Y,Z.toAdd)}showElementsInOrder(A,U){const Y=this.element.nativeElement,Z=Y.querySelector("kendo-datapager-numeric-buttons, kendo-pager-numeric-buttons"),wt=Y.querySelector(".k-pager-info"),ti=Y.querySelector(".k-pager-sizes"),Qt=Y.querySelector(".k-pager-sizes .k-dropdownlist"),Zt=this.responsive;if(!("input"===this.type&&this.isElementVisible(wt)||this.isElementVisible(Z))){if(this.showPageSizes&&!this.isElementVisible(ti)){const _i=U+this.pagerDimensions.pageSizesWidth+this.pagerDimensions.gapNumbersSizes-this.pagerDimensions.sizesTextWidth;if(Zt&&_i>A||(this.ngZone.run(()=>this.showItemsText=!1),this.showElement(ti),U=_i,Zt&&U>=A))return}if(this.showPageSizes&&this.isElementVisible(ti)&&!this.showItemsText){const _i=U-Qt?.offsetWidth+this.pagerDimensions.pageSizesWidth;if(Zt&&_i>A||(this.ngZone.run(()=>this.showItemsText=!0),U=_i,Zt&&U>=A))return}if(!this.showPageText&&(!this.showPageSizes||this.isElementVisible(ti)&&this.showItemsText)){const _i=U+this.pagerDimensions.pageTextWidth;if(Zt&&_i>A||(this.ngZone.run(()=>this.showPageText=!0),U=_i,Zt&&U>=A))return}if(this.info&&!this.isElementVisible(wt)&&(!this.showPageSizes||this.isElementVisible(ti)&&this.showPageText)){const _i=U+this.pagerDimensions.infoTextWidth+this.pagerDimensions.gapSizesInfo;if(Zt&&_i>A)return;this.ngZone.run(()=>{this.showElement(wt)}),U=_i}if("numeric"===this.type&&(!this.info||this.isElementVisible(wt))){if(Zt&&U-this.pagerDimensions.inputWidth+this.pagerDimensions.numericButtonsWidth>A)return;this.showElement(Z),this.ngZone.run(()=>{this.showInput=!1,this.cdr.markForCheck()})}}}hideElementsInOrder(A,U){const Y=this.element.nativeElement,Z=Y.querySelector("kendo-datapager-numeric-buttons, kendo-pager-numeric-buttons"),wt=Y.querySelector(".k-pager-info"),ti=Y.querySelector(".k-pager-sizes"),Qt=Y.querySelector(".k-pager-sizes .k-dropdownlist");this.isElementVisible(Z)&&(this.hideElement(Z),this.ngZone.run(()=>this.showInput=!0),(U+=this.pagerDimensions.inputWidth-this.pagerDimensions.numericButtonsWidth)<=A)||this.isElementVisible(wt)&&(this.hideElement(wt),(U-=this.pagerDimensions.infoTextWidth+this.pagerDimensions.gapSizesInfo)<=A)||this.showPageText&&(this.ngZone.run(()=>this.showPageText=!1),(U-=this.pagerDimensions.pageTextWidth)<=A)||this.showPageSizes&&this.isElementVisible(ti)&&this.showItemsText&&(this.ngZone.run(()=>this.showItemsText=!1),(U=U-this.pagerDimensions.pageSizesWidth+Qt?.offsetWidth)<=A)||this.hideElement(ti)}isElementVisible(A){return A&&!A?.classList.contains("k-hidden")}hideElement(A){A&&this.renderer.addClass(A,"k-hidden")}showElement(A){A&&this.renderer.removeClass(A,"k-hidden")}measureAllTextWidths(){if(!(0,me.nm)())return;const A=this.element.nativeElement,U=A.querySelector(".k-pager-info"),Y=A.querySelector(".k-pager-input"),Z=A.querySelector(".k-pager-sizes"),wt=this.renderer.createElement("div");((se,vt)=>{se.setStyle(vt,"position","absolute"),se.setStyle(vt,"visibility","hidden"),se.setStyle(vt,"left","-9999px"),se.setStyle(vt,"top","-9999px"),se.setStyle(vt,"display","flex")})(this.renderer,wt),this.renderer.appendChild(this.element.nativeElement,wt);const ti=pe(this.renderer,wt,"k-pager-info"),Qt=pe(this.renderer,wt,"k-pager-input"),Zt=pe(this.renderer,wt,"k-pager-sizes"),_i=`${this.currentPage} - ${this.maxItems} ${this.localization.get("of")} ${this.total} ${this.localization.get("items")}`;this.renderer.setProperty(ti,"textContent",_i),this.renderer.setProperty(Qt,"textContent",this.localization.get("page")),this.renderer.setProperty(Zt,"textContent",this.localization.get("itemsPerPage")),U&&Te(this.renderer,U,ti),Y&&Te(this.renderer,Y,Qt),Z&&Te(this.renderer,Z,Zt),wt.getBoundingClientRect(),this.pagerDimensions.infoTextWidth=ti?.offsetWidth,this.pagerDimensions.inputWidth&&this.pagerDimensions.pageTextWidth&&(this.pagerDimensions.inputWidth=this.pagerDimensions.inputWidth-this.pagerDimensions.pageTextWidth+Qt.offsetWidth),this.pagerDimensions.pageTextWidth=Qt?.offsetWidth,this.pagerDimensions.pageSizesWidth&&this.pagerDimensions.sizesTextWidth&&(this.pagerDimensions.pageSizesWidth=this.pagerDimensions.pageSizesWidth-this.pagerDimensions.sizesTextWidth+Zt.offsetWidth),this.pagerDimensions.sizesTextWidth=Zt?.offsetWidth,this.renderer.removeChild(this.element.nativeElement,wt)}showNumericButtonsResponsive(){if(!(0,me.nm)()||!this.element?.nativeElement)return;const A=this.element.nativeElement.querySelector("kendo-datapager-numeric-buttons, kendo-pager-numeric-buttons"),U=this.numericButtons||A,Y=this.pagerInput||this.element.nativeElement.querySelector(".k-pager-input");if(!this.responsive||!U&&!Y)return void(this.showInput="input"===this.type);const Z=this.element.nativeElement.querySelector(".k-pager-info");if("input"===this.type||!this.isElementVisible(Z))return void(this.showInput=!0);if(this.isElementVisible(A))return void(this.showInput=!1);const wt=this.element.nativeElement?.offsetWidth,Qt=this.element.nativeElement.querySelector(".k-pager-numbers-wrap")?.offsetWidth+this.pagerDimensions.pageSizesWidth+this.pagerDimensions.infoTextWidth+this.pagerDimensions.gapSizesInfo;this.showInput=!(wt>Qt-this.pagerDimensions.inputWidth+this.pagerDimensions.numericButtonsWidth)}get showPageSizes(){return"boolean"==typeof this.pageSizeValues?this.pageSizeValues:this.pageSizeValues?.length>0}static \u0275fac=function(U){return new(U||se)(e.rXU(Ji,12),e.rXU(e.aKT),e.rXU(w.Pi),e.rXU(e.sFG),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(ae,12))};static \u0275cmp=e.VBU({type:se,selectors:[["kendo-datapager"],["kendo-pager"]],contentQueries:function(U,Y,Z){if(1&U&&e.wni(Z,Oi,4),2&U){let wt;e.mGM(wt=e.lsd())&&(Y.template=wt)}},viewQuery:function(U,Y){if(1&U&&(e.GBs(pi,5,e.aKT),e.GBs(ei,5,e.aKT),e.GBs(ei,5),e.GBs(qt,5,e.aKT),e.GBs(qt,5)),2&U){let Z;e.mGM(Z=e.lsd())&&(Y.numericButtons=Z.first),e.mGM(Z=e.lsd())&&(Y.pagerInput=Z.first),e.mGM(Z=e.lsd())&&(Y.pagerInputComponent=Z.first),e.mGM(Z=e.lsd())&&(Y.pageSizes=Z.first),e.mGM(Z=e.lsd())&&(Y.pageSizesComponent=Z.first)}},hostVars:9,hostBindings:function(U,Y){1&U&&e.bIt("focusin",function(wt){return Y.focusHandler(wt)}),2&U&&(e.BMQ("role",Y.widgetRole)("aria-roledescription",Y.roleDescription)("aria-keyshortcuts",Y.keyShortcuts)("tabindex",Y.hostTabindex)("dir",Y.dir),e.AVh("k-pager",Y.pagerClass)("k-pager-responsive",Y.responsiveClass))},inputs:{externalTemplate:"externalTemplate",total:"total",skip:"skip",pageSize:"pageSize",buttonCount:"buttonCount",info:"info",type:"type",pageSizeValues:"pageSizeValues",previousNext:"previousNext",navigable:"navigable",size:"size",responsive:"responsive",adaptiveMode:"adaptiveMode"},outputs:{pageChange:"pageChange",pageSizeChange:"pageSizeChange",pagerInputVisibilityChange:"pagerInputVisibilityChange",pageTextVisibilityChange:"pageTextVisibilityChange",itemsTextVisibilityChange:"itemsTextVisibilityChange"},exportAs:["kendoDataPager","kendoPager"],standalone:!0,features:[e.Jv_([w.Pi,Ji,ae,{provide:w.$R,useValue:"kendo.pager"}]),e.OA$,e.aNF],decls:6,vars:4,consts:()=>{let A,U,Y,Z,wt,ti,Qt,Zt,_i,En,qn,zn;return A=$localize`:kendo.pager.firstPage|The label for the first page button in the Pager:Go to the first page`,U=$localize`:kendo.pager.previousPage|The label for the previous page button in the Pager:Go to the previous page`,Y=$localize`:kendo.pager.nextPage|The label for the next page button in the Pager:Go to the next page`,Z=$localize`:kendo.pager.lastPage|The label for the last page button in the Pager:Go to the last page`,wt=$localize`:kendo.pager.page|The label before the current page number in the Pager:Page`,ti=$localize`:kendo.pager.of|The label before the total pages number in the Pager:of`,Qt=$localize`:kendo.pager.pageNumberInputTitle|The label for the pager input in the Pager:Page Number`,Zt=$localize`:kendo.pager.items|The label after the total pages number in the Pager:items`,_i=$localize`:kendo.pager.itemsPerPage|The label for the page size chooser in the Pager:items per page`,En=$localize`:kendo.pager.selectPage|The text of the title and aria-label attributes applied to the page chooser in the Pager:Select page`,qn=$localize`:kendo.pager.inputLabel|The text of the aria-label attribute applied to the input element for entering the page number.:Type a page number`,zn=$localize`:kendo.pager.ariaLabel|The value of the aria-label attribute of the Pager:${"\ufffd0\ufffd"}:INTERPOLATION:`,[["default",""],["ariaLabel",zn],["kendoPagerLocalizedMessages","","firstPage",A,"previousPage",U,"nextPage",Y,"lastPage",Z,"page",wt,"of",ti,"pageNumberInputTitle",Qt,"items",Zt,"itemsPerPage",_i,"selectPage",En,"inputLabel",qn,6,"ariaLabel"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf","ngIfElse"],[3,"resize",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-pager-numbers-wrap",3,"ngStyle"],[3,"size",4,"ngIf"],[3,"size","buttonCount",4,"ngIf"],[3,"ngStyle","size","pageSizes","adaptiveMode",4,"ngIf"],[3,"ngStyle",4,"ngIf"],[3,"size"],[3,"size","buttonCount"],[3,"ngStyle","size","pageSizes","adaptiveMode"],[3,"ngStyle"],[3,"resize"]]},template:function(U,Y){if(1&U&&(e.qex(0,2),e.ehv(1,1),e.bVm(),e.DNE(2,tt,1,2,"ng-container",3)(3,tn,7,9,"ng-template",null,0,e.C5r)(5,Yi,1,0,"kendo-resize-sensor",4)),2&U){const Z=e.sdS(4);e.uP7("Page navigation, page {currentPage} of {totalPages}"),e.nnv(1),e.R7$(2),e.Y8G("ngIf",null==Y.template.first?null:Y.template.first.templateRef)("ngIfElse",Z),e.R7$(3),e.Y8G("ngIf",Y.responsive)}},dependencies:[xn,Be.bT,Be.T3,W,pi,ei,Ri,qt,li,me.M0,Be.B3],encapsulation:2})}return se})(),zs=(()=>{class se{static \u0275fac=function(U){return new(U||se)};static \u0275mod=e.$C({type:se});static \u0275inj=e.G2t({providers:[Ae.o3,Pe.OQ,me.yr],imports:[ei,Ri,pi,qt,W,Gt]})}return se})()},280:(Ts,xi,$)=>{$.d(xi,{Ae:()=>Yo,C$:()=>Wr,Cy:()=>fr,Mw:()=>Nr,cW:()=>is,m2:()=>ps,mK:()=>Ho,xf:()=>an,yw:()=>Ci});var e=$(4438),w=$(4256),Ne=$(5580),qe=$(1413),Je=$(8359),me=$(7673),xe=$(983),Ve=$(4412),Be=$(7786),It=$(5987),we=$(1553),De=$(8936),Ae=$(8911),Pe=$(9969),Ze=$(5964),He=$(8141),Ei=$(5558),Ot=$(1986),Wt=$(6977),E=$(9437),Yt=$(980),ct=$(6697),ne=$(6354),Dt=$(177),st=$(3974),tt=$(1450);const We=["kendoTreeViewGroup",""],ii=(I,V)=>({$implicit:I,index:V}),zi=I=>({index:I});function Ui(I,V){if(1&I){const m=e.RV6();e.j41(0,"span",13),e.bIt("click",function(){e.eBV(m);const N=e.XpG(),H=N.$implicit,fe=N.index,Ue=e.XpG();return e.Njj(Ue.expandNode(Ue.nodeIndex(fe),H,!Ue.isExpanded(H,Ue.nodeIndex(fe))))}),e.nrm(1,"kendo-icon-wrapper",14),e.k0s()}if(2&I){const m=e.XpG(),k=m.$implicit,N=m.index,H=e.XpG();e.AVh("k-disabled",!H.isItemExpandable(k,N)),e.Y8G("kendoTreeViewLoading",H.nodeIndex(N)),e.R7$(),e.Y8G("name",H.getFontIcon(k,H.nodeIndex(N)))("svgIcon",H.getSvgIcon(k,H.nodeIndex(N)))}}function Bt(I,V){if(1&I){const m=e.RV6();e.j41(0,"kendo-checkbox",15,0),e.bIt("checkedStateChange",function(){e.eBV(m);const N=e.sdS(1),H=e.XpG().index,fe=e.XpG();return e.Njj(fe.checkNode(fe.nodeIndex(H),N))}),e.k0s()}if(2&I){const m=e.XpG(),k=m.$implicit,N=m.index,H=e.XpG();e.Y8G("disabled",H.isItemDisabled(k,N))("size",H.size)("checkedState",H.getCheckBoxState(k,H.nodeIndex(N)))("tabindex",-1)("inputAttributes",H.getCheckboxAttributes(N))}}function Tt(I,V){}function tn(I,V){if(1&I&&(e.qex(0),e.DNE(1,Tt,0,0,"ng-template",16),e.bVm()),2&I){const m=e.XpG(),k=m.$implicit,N=m.index,H=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",H.nodeTemplateRef)("ngTemplateOutletContext",e.l_i(2,ii,k,H.nodeIndex(N)))}}function Yi(I,V){if(1&I&&(e.qex(0),e.EFF(1),e.bVm()),2&I){const m=e.XpG().$implicit,k=e.XpG();e.R7$(),e.SpI(" ",k.nodeText(m)," ")}}function ls(I,V){if(1&I&&e.nrm(0,"ul",17),2&I){const m=e.XpG(),k=m.$implicit,N=m.index,H=e.XpG();e.Y8G("size",H.size)("nodes",H.fetchChildren)("loadOnDemand",H.loadOnDemand)("checkboxes",H.checkboxes)("expandIcons",H.expandIcons)("selectable",H.selectable)("touchActions",H.touchActions)("children",H.children)("hasChildren",H.hasChildren)("isChecked",H.isChecked)("isDisabled",H.isDisabled)("hasCheckbox",H.hasCheckbox)("disabled",H.isItemDisabled(k,N))("expandDisabledNodes",H.expandDisabledNodes)("isExpanded",H.isExpanded)("isSelected",H.isSelected)("isVisible",H.isVisible)("nodeTemplateRef",H.nodeTemplateRef)("loadMoreButtonTemplateRef",H.loadMoreButtonTemplateRef)("parentIndex",H.nodeIndex(N))("parentDataItem",k)("textField",H.nextFields)("loadMoreService",H.loadMoreService)("@toggle",!0)("trackBy",H.trackBy)("disableParentNodesOnly",H.disableParentNodesOnly)}}function qi(I,V){if(1&I&&(e.j41(0,"li",3)(1,"div",4),e.DNE(2,Ui,2,5,"span",5)(3,Bt,2,5,"kendo-checkbox",6),e.j41(4,"span",7)(5,"span",8),e.qex(6,9),e.DNE(7,tn,2,5,"ng-container",10)(8,Yi,2,1,"ng-container",11),e.bVm(),e.k0s()()(),e.DNE(9,ls,1,26,"ul",12),e.k0s()),2&I){const m=V.$implicit,k=V.index,N=e.XpG();e.AVh("k-hidden",!N.isVisible(m,N.nodeIndex(k))),e.Y8G("dataItem",m)("index",N.nodeIndex(k))("parentDataItem",N.parentDataItem)("parentIndex",N.parentIndex)("loadOnDemand",N.loadOnDemand)("checkable",N.checkboxes)("isChecked",N.isChecked(m,N.nodeIndex(k)))("isDisabled",N.isItemDisabled(m,k))("isVisible",N.isVisible(m,N.nodeIndex(k)))("expandable",N.expandIcons&&N.hasChildren(m))("isExpanded",N.isExpanded(m,N.nodeIndex(k)))("selectable",N.selectable)("isSelected",N.isSelected(m,N.nodeIndex(k))),e.BMQ("aria-setsize",N.totalNodesCount)("data-treeindex",N.nodeIndex(k)),e.R7$(),e.Y8G("ngClass",N.setItemClasses(N.data.length,k)),e.R7$(),e.Y8G("ngIf",N.expandIcons&&N.hasChildren(m)),e.R7$(),e.Y8G("ngIf",N.checkboxes&&N.hasCheckbox(m,N.nodeIndex(k))),e.R7$(),e.xc7("touch-action",N.touchActions?"":"none"),e.AVh("k-disabled",N.isItemDisabled(m,k)),e.Y8G("id",N.nodeIndex(k))("dataItem",m)("index",N.nodeIndex(k))("initialSelection",N.isSelected(m,N.nodeIndex(k)))("isSelected",N.isSelected),e.BMQ("data-treeindex",N.nodeIndex(k)),e.R7$(2),e.Y8G("ngSwitch",N.hasTemplate),e.R7$(),e.Y8G("ngSwitchCase",!0),e.R7$(2),e.Y8G("ngIf",N.isExpanded(m,N.nodeIndex(k))&&N.hasChildren(m))}}function Et(I,V){1&I&&e.nrm(0,"span",23)}function es(I,V){}function xn(I,V){if(1&I&&e.DNE(0,es,0,0,"ng-template",16),2&I){const m=e.XpG(2);e.Y8G("ngTemplateOutlet",m.loadMoreButtonTemplateRef)("ngTemplateOutletContext",e.eq3(2,zi,m.loadMoreButtonIndex))}}function Ji(I,V){if(1&I&&(e.qex(0),e.EFF(1),e.bVm()),2&I){const m=e.XpG(2);e.R7$(),e.SpI(" ",m.loadMoreTitle," ")}}function nn(I,V){if(1&I&&(e.j41(0,"li",18)(1,"div",19),e.DNE(2,Et,1,0,"span",20),e.j41(3,"span",21)(4,"span",8),e.DNE(5,xn,1,4,null,22)(6,Ji,2,1,"ng-container",22),e.k0s()()()()),2&I){const m=e.XpG();e.AVh("k-treeview-load-more-checkboxes-container",m.checkboxes),e.Y8G("selectable",!1)("checkable",!1)("expandable",!1)("index",m.loadMoreButtonIndex)("parentDataItem",m.parentDataItem)("parentIndex",m.parentIndex),e.BMQ("data-treeindex",m.loadMoreButtonIndex),e.R7$(2),e.Y8G("ngIf",m.loadingMoreNodes),e.R7$(),e.Y8G("index",m.loadMoreButtonIndex),e.BMQ("data-treeindex",m.loadMoreButtonIndex),e.R7$(2),e.Y8G("ngIf",m.loadMoreButtonTemplateRef),e.R7$(),e.Y8G("ngIf",!m.loadMoreButtonTemplateRef)}}const Cn=["assetsContainer"],on=["searchbox"];function cs(I,V){if(1&I&&e.nrm(0,"kendo-icon-wrapper",8),2&I){const m=e.XpG(2);e.Y8G("svgIcon",m.searchIcon)}}function ve(I,V){if(1&I){const m=e.RV6();e.j41(0,"span",5)(1,"kendo-textbox",6,1),e.bIt("valueChange",function(N){e.eBV(m);const H=e.XpG();return e.Njj(H.filterChange.emit(N))}),e.DNE(3,cs,1,1,"ng-template",7),e.k0s()()}if(2&I){const m=e.XpG();e.R7$(),e.Y8G("size",m.size)("value",m.filter)("clearButton",!0)("placeholder",m.filterInputPlaceholder)}}const Fi=(I,V,m,k)=>({text:I,action:V,sourceItem:m,destinationItem:k});function ki(I,V){if(1&I&&(e.qex(0),e.nrm(1,"kendo-icon-wrapper",1),e.j41(2,"span"),e.EFF(3),e.k0s(),e.bVm()),2&I){const m=e.XpG();e.R7$(),e.Y8G("name",m.statusIconClass)("svgIcon",m.statusSVGIcon),e.R7$(2),e.JRh(m.text)}}function sn(I,V){}function Bi(I,V){if(1&I&&e.DNE(0,sn,0,0,"ng-template",2),2&I){const m=e.XpG();e.Y8G("ngTemplateOutlet",m.template)("ngTemplateOutletContext",e.ziG(2,Fi,m.text,m.action,m.sourceItem,m.destinationItem))}}const pe=(I,V,m)=>({action:I,sourceItem:V,destinationItem:m});function Te(I,V){1&I&&(e.j41(0,"div",2),e.nrm(1,"div",3)(2,"div",4),e.k0s())}function J(I,V){}function ae(I,V){1&I&&e.DNE(0,J,0,0,"ng-template")}function re(I,V){if(1&I&&e.DNE(0,ae,1,0,"ng-template",5),2&I){const m=e.XpG();e.Y8G("ngTemplateOutlet",m.template)("ngTemplateOutletContext",e.sMw(2,pe,m.action,m.sourceItem,m.destinationItem))}}const W={name:"@progress/kendo-angular-treeview",productName:"Kendo UI for Angular",productCode:"KENDOUIANGULAR",productCodes:["KENDOUIANGULAR"],publishDate:1755030455,version:"19.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};class qt{changes=new e.bkB;notify(){this.changes.emit()}}const Oi=()=>!1,pi=()=>"none",Ri=()=>!1,ei=()=>!0,li=()=>!0,At=()=>!1,Gt=()=>!0,Vn=(I,V)=>V;let ts=(()=>{class I{changes=new qe.B;expand(m,k){this.changes.next({dataItem:k,index:m,expand:!0})}collapse(m,k){this.changes.next({dataItem:k,index:m,expand:!1})}static \u0275fac=function(k){return new(k||I)};static \u0275prov=e.jDH({token:I,factory:I.\u0275fac})}return I})(),zs=(()=>{class I{INDEX_SEPARATOR="_";nodeIndex(m="",k=""){return`${k}${k?this.INDEX_SEPARATOR:""}${m}`}indexForLevel(m,k){return m.split(this.INDEX_SEPARATOR).slice(0,k).join(this.INDEX_SEPARATOR)}lastLevelIndex(m=""){const k=m.split(this.INDEX_SEPARATOR);return k.length?parseInt(k[k.length-1],10):NaN}level(m){return m.split(this.INDEX_SEPARATOR).length}static \u0275fac=function(k){return new(k||I)};static \u0275prov=e.jDH({token:I,factory:I.\u0275fac})}return I})(),se=(()=>{class I{changes=new qe.B;notifyLoaded(m){this.changes.next(m)}static \u0275fac=function(k){return new(k||I)};static \u0275prov=e.jDH({token:I,factory:I.\u0275fac})}return I})();const vt=/^(?:a|input|select|option|textarea|button|object)$/i,A=(I,V)=>{const m=I.matches||I.msMatchesSelector||I.webkitMatchesSelector;return!!m&&m.call(I,V.toLowerCase())},U=(I,V)=>{if(!document.documentElement.contains(I))return null;let m=I;for(;null!==m&&1===m.nodeType;){if(A(m,V))return m;m=m.parentElement||m.parentNode}return null},Y=()=>{},Z=I=>null!=I,wt=I=>null==I,ti=I=>Array.isArray(I),Zt=I=>"boolean"==typeof I,_i=I=>{const V="li.k-treeview-item";return(0,w.nm)()?I.closest?I.closest(V):U(I,V):null},En=I=>{if(I.tagName){const V=I.tagName.toLowerCase(),m=I.getAttribute("tabIndex"),k="-1"===m;let N=null!==m&&!k;return vt.test(V)&&(N=!I.disabled&&!k),N}return!1},qn=I=>{if(!(0,w.nm)())return null;let m=I;for(;m&&!A(m,".k-treeview-leaf:not(.k-treeview-load-more-button),.k-treeview-item,.k-treeview");)m=m.parentNode;return m?A(m,".k-treeview-leaf:not(.k-treeview-load-more-button)"):void 0},pn=I=>Z(U(I,".k-treeview-leaf.k-treeview-load-more-button")),ds=(I,V)=>!!((I,V)=>{for(;I&&!V(I);)I=I.parentNode;return I})(I,m=>m===V),xs=I=>I.nativeElement.querySelector('li[tabindex="0"]'),On=I=>I?I.getAttribute("data-treeindex"):"",rn=I=>(I||{}).index,$n=(I,V)=>!Z(I)&&!Z(V)||Z(I)&&Z(V)&&I.item.dataItem===V.item.dataItem,Pt=I=>Z(I)?I.item.dataItem:I,us=I=>I&&Array.isArray(I)&&0!==I.length,kn=(I,V,{operator:m,ignoreCase:k,mode:N},H,fe=0)=>{const Ue="string"==typeof H?H:H[fe];I.forEach(it=>{const Xi=("string"==typeof m?Io(Ue,m,k):m)(it.dataItem,V);it.isMatch=Xi,it.visible=Xi,it.containsMatches=!1,Xi&&wo(it.parent),it.children&&it.children.length>0&&("strict"!==N&&Xi?Vt(it.children):kn(it.children,V,{operator:m,ignoreCase:k,mode:N},H,fe+1))})},wo=I=>{Z(I)&&(I.containsMatches=!0,I.visible=!0,Z(I.parent)&&!I.parent.containsMatches&&wo(I.parent))},Vt=I=>{I.forEach(V=>{V.visible=!0,V.children&&Vt(V.children)})},dr={contains:(I,V)=>I.indexOf(V)>=0,doesnotcontain:(I,V)=>-1===I.indexOf(V),startswith:(I,V)=>0===I.lastIndexOf(V,0),doesnotstartwith:(I,V)=>-1===I.lastIndexOf(V,0),endswith:(I,V)=>I.indexOf(V,I.length-V.length)>=0,doesnotendwith:(I,V)=>I.indexOf(V,I.length-V.length)<0},Io=(I,V,m)=>(k,N)=>((I,V)=>(m,k)=>V?I(m.toLowerCase(),k.toLowerCase()):I(m,k))(dr[V],m)((0,we.oK)(I)(k),N),hs=(I,V)=>[I,V].filter(m=>Z(m)).join("_"),uo=(I,V)=>{if(!Z(I)||0===I.children.length)return[];let m=I.children;return Z(V)&&(m=m.filter(V)),m.forEach(k=>m=m.concat(uo(k,V))),m},ho=(I,V)=>I.size===V.size&&Array.from(I).every(m=>V.has(m)),Do=(I,V)=>({small:`k-${I}-sm`,medium:`k-${I}-md`,large:`k-${I}-lg`}[V]),To=I=>I||{},po=I=>To(I).children||[],xo=I=>{if(!Array.isArray(I)||0===I.length)return null;for(let k=I.length-1;k>=0;k-=1){const N=I[k];if(N.visible)return N}return null};class hr{ib=new zs;nodes=[];firstVisibleNode(){return(this.nodes||[]).find(V=>V.visible)}lastVisibleNode(){let V=xo(this.nodes);for(;Z(V)&&po(V).length>0;){const m=po(V),k=xo(m);if(!Z(k))return V;V=k}return V}closestNode(V){const{prev:m}=To(this.findNode(V)),k=m||this.firstVisibleNode();return To(k).index===V?this.visibleSibling(k,1):k}firstFocusableNode(){return this.nodes.find(V=>!V.disabled&&V.visible)}findNode(V){return this.find(V,this.nodes)}findParent(V){const m=this.ib.level(V)-1;return this.findNode(this.ib.indexForLevel(V,m))}findVisibleChild(V){const m=this.findNode(V);return po(m).find(N=>N.visible)}findVisiblePrev(V){const m=V.index,k=this.findParent(m),N=this.ib.lastLevelIndex(m),fe=this.container(k).slice(0,N).every(Ut=>!Ut.visible);if(0===N||fe)return k;const Ue=this.findNode(m);let it=this.visibleSibling(Ue,-1);if(it){let Ut=this.container(it);for(;Ut.length>0&&Ut.some(Xi=>Xi.visible);)it=xo(Ut),Ut=this.container(it)}return it}findVisibleNext(V){const m=this.container(V),k=m.some(N=>N.visible);return 0!==m.length&&k?m.find(N=>N.visible):this.visibleSibling(V,1)}registerItem(V,m,k,N=!1,H=!0){const fe=[],Ue=this.ib.level(m),it=this.findParent(m);(it||1===Ue)&&this.insert({id:V,children:fe,index:m,parent:it,disabled:k,loadMoreButton:N,visible:H},it)}unregisterItem(V,m){const k=this.find(m,this.nodes);if(!k||k.id!==V)return;const N=this.container(k.parent);N.splice(N.indexOf(k),1)}childLevel(V){const m=V.filter(k=>Z(k));return m&&m.length?this.ib.level(m[0].index):1}container(V){return V?V.children:this.nodes}find(V,m){const k=this.childLevel(m),N=this.ib.indexForLevel(V,k),H=k===this.ib.level(V),fe=m.find(Ue=>Ue&&Ue.index===N);return fe?H?fe:this.find(V,fe.children):null}insert(V,m){this.container(m).splice(this.ib.lastLevelIndex(V.index),0,V)}visibleSibling(V,m){if(!V)return null;const k=this.findParent(V.index),N=this.container(k);let H=N.indexOf(V)+m,fe=N[H];for(;Z(fe);){if(fe.visible)return fe;H+=m,fe=N[H]}return this.visibleSibling(k,m)}}let ri=(()=>{class I{localization;expands=new qe.B;moves=new qe.B;checks=new qe.B;selects=new qe.B;deselectAllButCurrentItem=new qe.B;loadMore=new qe.B;navigable=!0;selection="single";isTreeViewActive=!1;get model(){return this._model}set model(m){this._model=m}actions={[w.D$.ArrowUp]:()=>this.activate(this.model.findVisiblePrev(this.focusableItem),!0),[w.D$.ArrowDown]:()=>this.activate(this.model.findVisibleNext(this.focusableItem),!0),[w.D$.ArrowLeft]:()=>!this.isLoadMoreButton&&this.expand({expand:this.localization.rtl,intercept:this.localization.rtl?this.moveToFirstVisibleChild:this.moveToParent}),[w.D$.ArrowRight]:()=>!this.isLoadMoreButton&&this.expand({expand:!this.localization.rtl,intercept:this.localization.rtl?this.moveToParent:this.moveToFirstVisibleChild}),[w.D$.Home]:()=>this.activate(this.model.firstVisibleNode(),!0),[w.D$.End]:()=>this.activate(this.model.lastVisibleNode(),!0),[w.D$.Enter]:m=>this.handleEnter(m),[w.D$.NumpadEnter]:m=>this.handleEnter(m),[w.D$.Space]:()=>this.handleSpace()};activeItem;isFocused=!1;shouldScroll=!1;_model=new hr;get activeIndex(){return rn(this.activeItem)||null}get isActiveExpanded(){return this.activeItem&&this.activeItem.children.length>0}get isLoadMoreButton(){return this.activeItem&&this.activeItem.loadMoreButton}get focusableItem(){return this.activeItem||this.model.firstFocusableNode()}constructor(m){this.localization=m,this.moveToFirstVisibleChild=this.moveToFirstVisibleChild.bind(this),this.moveToParent=this.moveToParent.bind(this)}activate(m,k=!1){!this.navigable||!m||this.isActive(rn(m))||(this.isFocused=!0,this.activeItem=m||this.activeItem,this.shouldScroll=k,this.notifyMove())}activateParent(m){this.activate(this.model.findParent(m))}activateIndex(m){m&&this.activate(this.model.findNode(m))}activateClosest(m){!m||rn(this.focusableItem)!==m||(this.activeItem=this.model.closestNode(m),this.notifyMove())}activateFocusable(){this.activeItem||(this.activeItem=this.model.firstVisibleNode(),this.notifyMove())}deactivate(){!this.navigable||!this.isFocused||(this.isFocused=!1,this.notifyMove())}checkIndex(m){this.isDisabled(m)||this.checks.next(m)}selectIndex(m){this.isDisabled(m)||this.selects.next(m)}notifyLoadMore(m){Z(m)&&this.loadMore.next(m)}isActive(m){return!!m&&this.isFocused&&this.activeIndex===m}isFocusable(m){return rn(this.focusableItem)===m}isDisabled(m){return!!m&&this.model.findNode(m).disabled}registerItem(m,k,N,H=!1,fe=!0){const Ue=this.model.findNode(k);Z(Ue)&&(this.model.unregisterItem(Ue.id,Ue.index),this.isActive(k)&&this.deactivate()),this.model.registerItem(m,k,N,H,fe)}updateItem(m,k,N=!0){const H=this.model.findNode(m);Z(H)&&this.isActive(m)&&this.deactivate(),H.disabled=k,H.visible=N}unregisterItem(m,k){this.isActive(k)&&this.activateParent(k),this.model.unregisterItem(m,k)}move(m){if(!this.navigable)return;const k=(0,w.tq)(m),N=this.actions[k];N&&(N(m),m.preventDefault())}expand({expand:m,intercept:k}){const N=rn(this.activeItem);!N||k(N)||this.notifyExpand(m)}moveToParent(){return!this.isActiveExpanded&&(this.activate(this.model.findParent(rn(this.activeItem))),!0)}moveToFirstVisibleChild(){return!!this.isActiveExpanded&&(this.activate(this.model.findVisibleChild(rn(this.activeItem))),!0)}notifyExpand(m){this.expands.next(this.navigationState(m))}notifyMove(){this.moves.next(this.navigationState())}navigationState(m=!1){return{expand:m,index:this.activeIndex,isFocused:this.isFocused,shouldScroll:this.shouldScroll}}handleEnter(m){this.navigable&&(this.isLoadMoreButton?this.notifyLoadMore(this.activeIndex):m.ctrlKey||m.metaKey?this.selectIndex(this.activeIndex):"multiple"===this.selection?this.deselectAllButCurrentItem.next({dataItem:this.activeItem,index:this.activeIndex}):this.selectIndex(this.activeIndex))}handleSpace(){this.navigable&&(this.isLoadMoreButton?this.notifyLoadMore(this.activeIndex):this.checkIndex(this.activeIndex))}static \u0275fac=function(k){return new(k||I)(e.KVO(Ne.Pi))};static \u0275prov=e.jDH({token:I,factory:I.\u0275fac})}return I})(),Es=(()=>{class I{changes=new qe.B;childrenLoaded(m,k){this.changes.next({item:m,children:k})}static \u0275fac=function(k){return new(k||I)};static \u0275prov=e.jDH({token:I,factory:I.\u0275fac})}return I})(),ps=(()=>{class I{templateRef;constructor(m){this.templateRef=m}static \u0275fac=function(k){return new(k||I)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:I,selectors:[["","kendoTreeViewNodeTemplate",""]],standalone:!0})}return I})(),Mi=(()=>{class I{templateRef;constructor(m){this.templateRef=m}static \u0275fac=function(k){return new(k||I)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:I,selectors:[["","kendoTreeViewLoadMoreButtonTemplate",""]],standalone:!0})}return I})(),is=(()=>{class I{static \u0275fac=function(k){return new(k||I)};static \u0275prov=e.jDH({token:I,factory:I.\u0275fac})}return I})(),Ho=(()=>{class I{static \u0275fac=function(k){return new(k||I)};static \u0275prov=e.jDH({token:I,factory:I.\u0275fac})}return I})(),pr=(()=>{class I{changes=new qe.B;firstIndex;isFirstSelected(m){return this.firstIndex===m}setFirstSelected(m,k){this.firstIndex===m&&!1===k?this.firstIndex=null:!this.firstIndex&&k&&(this.firstIndex=m)}select(m,k){this.changes.next({dataItem:k,index:m})}static \u0275fac=function(k){return new(k||I)};static \u0275prov=e.jDH({token:I,factory:I.\u0275fac})}return I})();const Oo=/\d+$/;let Os=(()=>{class I{map=new Map;reset(){this.map.clear()}registerItem(m,k){const N={children:[],item:m,parent:this.item(rn(k))};this.map.set(m.index,N)}registerChildren(m,k){const N=this.item(m);N&&(N.children=k)}unregisterItem(m,k){const N=this.item(m);N&&N.item.dataItem===k&&(this.map.delete(m),N.parent&&N.parent.children&&(N.parent.children=N.parent.children.filter(H=>H.dataItem!==k)))}replaceItem(m,k,N){k&&(this.unregisterItem(m,k.dataItem),this.registerItem(k,N),this.addToParent(k,N))}itemLookup(m){const k=this.item(m);return k?{children:this.mapChildren(k.children),item:k.item,parent:k.parent}:null}hasItem(m){return this.map.has(m)}item(m){return this.map.get(m)||null}addToParent(m,k){if(k){const N=this.item(k.index),H=parseInt(Oo.exec(m.index)[0],10);N.children=N.children||[],N.children.splice(H,0,m)}}mapChildren(m=[]){return m.map(k=>{const{item:N,parent:H,children:fe}=this.item(k.index);return{children:this.mapChildren(fe),item:N,parent:H}})}static \u0275fac=function(k){return new(k||I)};static \u0275prov=e.jDH({token:I,factory:I.\u0275fac})}return I})(),Dr=(()=>{class I{element;navigationService;selectionService;renderer;dataItem;index;initialSelection=!1;isSelected=At;subscriptions=new Je.yU;constructor(m,k,N,H){this.element=m,this.navigationService=k,this.selectionService=N,this.renderer=H,this.subscriptions.add(this.navigationService.moves.subscribe(this.updateFocusClass.bind(this))),this.subscriptions.add(this.navigationService.selects.pipe((0,Ze.p)(fe=>fe===this.index)).subscribe(fe=>this.selectionService.select(fe,this.dataItem))),this.subscriptions.add(this.selectionService.changes.subscribe(()=>{this.updateSelectionClass(this.isSelected(this.dataItem,this.index))}))}ngOnChanges(m){m.initialSelection&&this.updateSelectionClass(this.initialSelection),m.index&&this.updateFocusClass()}ngOnDestroy(){this.subscriptions.unsubscribe()}updateFocusClass(){this.render(this.navigationService.isActive(this.index),"k-focus")}updateSelectionClass(m){this.render(m,"k-selected")}render(m,k){this.renderer[m?"addClass":"removeClass"](this.element.nativeElement,k)}static \u0275fac=function(k){return new(k||I)(e.rXU(e.aKT),e.rXU(ri),e.rXU(pr),e.rXU(e.sFG))};static \u0275dir=e.FsC({type:I,selectors:[["","kendoTreeViewItemContent",""]],inputs:{dataItem:"dataItem",index:"index",initialSelection:"initialSelection",isSelected:"isSelected"},standalone:!0,features:[e.OA$]})}return I})(),wi=(()=>{class I{expandService;loadingService;cd;get loading(){return this._loading}set loading(m){this._loading=m,this.cd.markForCheck()}index;_loading=!1;subscription;constructor(m,k,N){this.expandService=m,this.loadingService=k,this.cd=N}ngOnInit(){const m=this.loadingService.changes.pipe((0,Ze.p)(k=>k===this.index));this.subscription=this.expandService.changes.pipe((0,Ze.p)(({index:k})=>k===this.index),(0,He.M)(({expand:k})=>{!k&&this.loading&&(this.loading=!1)}),(0,Ze.p)(({expand:k})=>k),(0,Ei.n)(k=>(0,me.of)(k).pipe((0,Ot.c)(100),(0,Wt.Q)(m)))).subscribe(()=>this.loading=!0),this.subscription.add(m.subscribe(()=>this.loading=!1))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(k){return new(k||I)(e.rXU(ts),e.rXU(se),e.rXU(e.gRc))};static \u0275dir=e.FsC({type:I,selectors:[["","kendoTreeViewLoading",""]],hostVars:2,hostBindings:function(k,N){2&k&&e.AVh("k-i-loading",N.loading)},inputs:{index:[e.Mj6.None,"kendoTreeViewLoading","index"]},standalone:!0})}return I})();const Mo=(I,V)=>({dataItem:V,index:I});let Js=0,ms=(()=>{class I{element;expandService;navigationService;selectionService;lookupService;renderer;ib;dataItem;index;parentDataItem;parentIndex;role="treeitem";loadOnDemand=!0;checkable;selectable;expandable;set isChecked(m){this.ariaChecked="checked"===m?"true":"indeterminate"===m?"mixed":"false"}isDisabled=!1;isVisible=!0;get isExpanded(){return this._isExpanded||!1}set isExpanded(m){this._isExpanded=m}get isSelected(){return this._isSelected||!1}set isSelected(m){this._isSelected=m}get isButton(){return"button"===this.role}get treeItem(){return Mo(this.index,this.dataItem)}get parentTreeItem(){return this.parentDataItem?Mo(this.parentIndex,this.parentDataItem):null}ariaChecked="false";id=Js++;_isExpanded;_isSelected;isInitialized=!1;subscriptions=[];constructor(m,k,N,H,fe,Ue,it){this.element=m,this.expandService=k,this.navigationService=N,this.selectionService=H,this.lookupService=fe,this.renderer=Ue,this.ib=it,this.subscribe()}ngOnInit(){this.loadOnDemand&&!this.isButton&&this.lookupService.registerItem(this.treeItem,this.parentTreeItem),this.registerNavigationItem(),this.isInitialized=!0,this.setAttribute("role",this.role),this.setAriaAttributes(),this.updateTabIndex()}ngOnChanges(m){const{index:k}=m;(0,w.TI)(["index","checkable","isChecked","expandable","isExpanded","selectable","isSelected"],m)&&this.setAriaAttributes(),this.loadOnDemand&&!this.isButton&&this.moveLookupItem(m),this.moveNavigationItem(k),(0,w.TI)(["isDisabled","isVisible"],m)&&this.updateNodeAvailability()}ngOnDestroy(){this.navigationService.unregisterItem(this.id,this.index),this.loadOnDemand&&!this.isButton&&this.lookupService.unregisterItem(this.index,this.dataItem),this.subscriptions=this.subscriptions.reduce((m,k)=>(k.unsubscribe(),m),[])}subscribe(){this.subscriptions=[this.navigationService.moves.subscribe(m=>{this.updateTabIndex(),this.focusItem(m.shouldScroll)}),this.navigationService.expands.pipe((0,Ze.p)(({index:m})=>m===this.index&&!this.isDisabled)).subscribe(({expand:m})=>this.expand(m))]}registerNavigationItem(){this.navigationService.registerItem(this.id,this.index,this.isDisabled,this.isButton,this.isVisible),this.activateItem()}activateItem(){if(this.isDisabled)return;const m=this.navigationService,k=this.selectionService,N=this.index;k.setFirstSelected(N,this.isSelected),!m.isActive(N)&&k.isFirstSelected(N)&&m.activateIndex(N)}expand(m){this.expandService[m?"expand":"collapse"](this.index,this.dataItem)}isFocusable(){return!this.isDisabled&&this.navigationService.isFocusable(this.index)}focusItem(m=!1){this.isInitialized&&this.navigationService.isActive(this.index)&&this.element.nativeElement.focus({preventScroll:!m})}moveLookupItem(m={}){const{dataItem:k,index:N,parentDataItem:H,parentIndex:fe}=m;N&&N.firstChange||!(k||N||H||fe)||this.lookupService.replaceItem((N||{}).previousValue||this.index,this.treeItem,this.parentTreeItem)}moveNavigationItem(m={}){const{currentValue:k,firstChange:N,previousValue:H}=m;!N&&Z(k)&&Z(H)&&(this.navigationService.unregisterItem(this.id,H),this.navigationService.registerItem(this.id,k,this.isDisabled,this.isButton))}updateNodeAvailability(){const m=this.navigationService;this.isDisabled||!this.isVisible&&this.navigationService.isTreeViewActive?m.activateClosest(this.index):m.activateFocusable(),m.updateItem(this.index,this.isDisabled,this.isVisible)}setAriaAttributes(){this.setAttribute("aria-level",this.ib.level(this.index).toString()),this.setAttribute("aria-expanded",this.expandable?this.isExpanded.toString():null),this.setAttribute("aria-selected",this.selectable?this.isSelected.toString():null),this.setAttribute("aria-checked",this.checkable?this.ariaChecked:null)}updateTabIndex(){this.setAttribute("tabIndex",this.isFocusable()?"0":"-1")}setAttribute(m,k){Z(k)?this.renderer.setAttribute(this.element.nativeElement,m,k):this.renderer.removeAttribute(this.element.nativeElement,m)}static \u0275fac=function(k){return new(k||I)(e.rXU(e.aKT),e.rXU(ts),e.rXU(ri),e.rXU(pr),e.rXU(Os),e.rXU(e.sFG),e.rXU(zs))};static \u0275dir=e.FsC({type:I,selectors:[["","kendoTreeViewItem",""]],inputs:{dataItem:"dataItem",index:"index",parentDataItem:"parentDataItem",parentIndex:"parentIndex",role:"role",loadOnDemand:"loadOnDemand",checkable:"checkable",selectable:"selectable",expandable:"expandable",isChecked:"isChecked",isDisabled:"isDisabled",isVisible:"isVisible",isExpanded:"isExpanded",isSelected:"isSelected"},standalone:!0,features:[e.OA$]})}return I})();const vi="k-treeview-top",No="k-treeview-mid",Xo="k-treeview-bot";let Tr=(()=>{class I{expandService;loadingService;indexBuilder;treeViewLookupService;navigationService;nodeChildrenService;dataChangeNotification;changeDetectorRef;localization;renderer;caretAltDownIcon=De.Y8K;caretAltRightIcon=De.yVr;caretAltLeftIcon=De.ner;loadMoreTitle;kGroupClass=!0;get role(){return this.parentIndex?"group":"tree"}checkboxes;expandIcons;disabled;selectable;touchActions;disableParentNodesOnly;loadOnDemand=!0;trackBy;nodes;textField="";parentDataItem;parentIndex;nodeTemplateRef;loadMoreButtonTemplateRef;loadMoreService;size="medium";expandDisabledNodes;initialNodesLoaded=!1;loadingMoreNodes=!1;isItemExpandable=(m,k)=>this.expandDisabledNodes||!this.isItemDisabled(m,k);getFontIcon(m,k){return this.isExpanded(m,k)?"caret-alt-down":this.localization.rtl?"caret-alt-left":"caret-alt-right"}getSvgIcon(m,k){return this.isExpanded(m,k)?De.Y8K:this.localization.rtl?De.ner:De.yVr}get moreNodesAvailable(){return!(!Z(this.loadMoreService)||0===this.data.length)&&this.pageSize<this.totalNodesCount}get pageSize(){return Z(this.loadMoreService)?this.loadMoreService.getGroupSize(this.parentDataItem):null}set pageSize(m){this.loadMoreService.setGroupSize(this.parentDataItem,m)}get data(){return Z(this.pageSize)?this._data.slice(0,this.pageSize>0?this.pageSize:0):this._data}set data(m){this._data=m,this.registerLoadedNodes(this.data)}get loadMoreButtonIndex(){return this.loadMoreService?this.nodeIndex(this.data.length):null}get totalNodesCount(){return this.loadMoreService?this.loadMoreService.getTotalNodesCount(this.parentDataItem,this._data.length):this.data.length}_data=[];nodesSubscription;loadMoreNodesSubscription;singleRecordSubscriptions=new Je.yU;localizationSubscriptions=new Je.yU;constructor(m,k,N,H,fe,Ue,it,Ut,Xi,Ki){this.expandService=m,this.loadingService=k,this.indexBuilder=N,this.treeViewLookupService=H,this.navigationService=fe,this.nodeChildrenService=Ue,this.dataChangeNotification=it,this.changeDetectorRef=Ut,this.localization=Xi,this.renderer=Ki}isChecked=()=>"none";isDisabled=()=>!1;hasCheckbox=()=>!0;isExpanded=()=>!1;isVisible=()=>!0;isSelected=()=>!1;children=()=>(0,me.of)([]);hasChildren=()=>!1;get hasTemplate(){return Z(this.nodeTemplateRef)}expandNode(m,k,N){N?this.expandService.expand(m,k):this.expandService.collapse(m,k)}checkNode(m,k){this.navigationService.checkIndex(m),this.navigationService.activateIndex(m),k?.input&&this.renderer.removeClass(k.input.nativeElement,"k-focus")}nodeIndex(m){return this.indexBuilder.nodeIndex(m.toString(),this.parentIndex)}nodeText(m){const k=ti(this.textField)?this.textField[0]:this.textField;return(0,we.oK)(k)(m)}getCheckBoxState(m,k){const N=this.isChecked(m,k);return"indeterminate"===N?N:"checked"===N}getCheckboxAttributes(m){return{"aria-hidden":"true",role:"none","aria-labelledby":this.nodeIndex(m)}}ngOnDestroy(){Z(this.nodesSubscription)&&this.nodesSubscription.unsubscribe(),Z(this.loadMoreNodesSubscription)&&this.loadMoreNodesSubscription.unsubscribe(),this.singleRecordSubscriptions.unsubscribe(),this.localizationSubscriptions.unsubscribe()}ngOnInit(){this.subscribeToNodesChange(),this.singleRecordSubscriptions.add(this.dataChangeNotification.changes.subscribe(this.subscribeToNodesChange.bind(this))),this.singleRecordSubscriptions.add(this.navigationService.loadMore.pipe((0,Ze.p)(m=>m===this.loadMoreButtonIndex)).subscribe(this.loadMoreNodes.bind(this))),this.localizationSubscriptions.add(this.localization.changes.subscribe(this.l10nChange.bind(this)))}ngOnChanges(m){m.parentIndex&&this.loadOnDemand&&this.setNodeChildren(this.mapToTreeItem(this.data)),this.localization.get("loadMore")&&(this.loadMoreTitle=this.localization.get("loadMore"))}l10nChange(){this.localization.get("loadMore")&&(this.loadMoreTitle=this.localization.get("loadMore")),this.changeDetectorRef.markForCheck()}fetchChildren(m,k){return this.children(m).pipe((0,E.W)(()=>(this.loadingService.notifyLoaded(k),xe.w)),(0,He.M)(()=>this.loadingService.notifyLoaded(k)))}get nextFields(){return ti(this.textField)?this.textField.length>1?this.textField.slice(1):this.textField:[this.textField]}loadMoreNodes(){Z(this.loadMoreService.loadMoreNodes)?this.fetchMoreNodes():this.loadMoreLocalNodes()}isItemDisabled(m,k){return this.disabled&&!this.disableParentNodesOnly||this.isDisabled(m,this.nodeIndex(k))}setItemClasses(m,k){return 1===m?this.parentIndex?Xo:`${vi} ${Xo}`:0===k?vi:k>0&&k<m-1?No:k===this.totalNodesCount-1?Xo:No}loadMoreLocalNodes(){const m=this.loadMoreButtonIndex;this.pageSize+=this.loadMoreService.getInitialPageSize(this.parentDataItem),this.registerLoadedNodes(this.data),this.changeDetectorRef.detectChanges(),this.reselectItemAt(m)}fetchMoreNodes(){this.loadingMoreNodes||(this.loadingMoreNodes=!0,Z(this.loadMoreNodesSubscription)&&this.loadMoreNodesSubscription.unsubscribe(),this.loadMoreNodesSubscription=this.loadMoreService.loadMoreNodes({dataItem:this.parentDataItem,skip:this.data.length,take:this.loadMoreService.getInitialPageSize(this.parentDataItem)}).pipe((0,Yt.j)(()=>this.loadingMoreNodes=!1)).subscribe(m=>{if(!(Array.isArray(m)&&m.length>0))return;const k=this.loadMoreButtonIndex;this.pageSize+=m.length,this.data=this.data.concat(m),this.navigationService.isActive(k)&&(this.changeDetectorRef.detectChanges(),this.reselectItemAt(k))}))}setNodeChildren(m){this.treeViewLookupService.registerChildren(this.parentIndex,m)}mapToTreeItem(m){return this.parentIndex?m.map((k,N)=>({dataItem:k,index:this.nodeIndex(N)})):[]}emitChildrenLoaded(m){if(!this.parentIndex)return;const k=m.filter(N=>N.dataItem);this.nodeChildrenService.childrenLoaded({dataItem:this.parentDataItem,index:this.parentIndex},k)}subscribeToNodesChange(){this.nodesSubscription&&this.nodesSubscription.unsubscribe(),this.nodesSubscription=this.nodes(this.parentDataItem,this.parentIndex).subscribe(m=>{this.data=m,this.initialNodesLoaded=!0})}reselectItemAt(m){Z(m)&&(this.navigationService.deactivate(),this.navigationService.activateIndex(m))}registerLoadedNodes(m=[]){const k=this.mapToTreeItem(m);this.loadOnDemand&&this.setNodeChildren(k),this.emitChildrenLoaded(k)}static \u0275fac=function(k){return new(k||I)(e.rXU(ts),e.rXU(se),e.rXU(zs),e.rXU(Os),e.rXU(ri),e.rXU(Es),e.rXU(qt),e.rXU(e.gRc),e.rXU(Ne.Pi),e.rXU(e.sFG))};static \u0275cmp=e.VBU({type:I,selectors:[["","kendoTreeViewGroup",""]],hostVars:3,hostBindings:function(k,N){2&k&&(e.BMQ("role",N.role),e.AVh("k-treeview-group",N.kGroupClass))},inputs:{checkboxes:"checkboxes",expandIcons:"expandIcons",disabled:"disabled",selectable:"selectable",touchActions:"touchActions",disableParentNodesOnly:"disableParentNodesOnly",loadOnDemand:"loadOnDemand",trackBy:"trackBy",nodes:"nodes",textField:"textField",parentDataItem:"parentDataItem",parentIndex:"parentIndex",nodeTemplateRef:"nodeTemplateRef",loadMoreButtonTemplateRef:"loadMoreButtonTemplateRef",loadMoreService:"loadMoreService",size:"size",expandDisabledNodes:"expandDisabledNodes",isChecked:"isChecked",isDisabled:"isDisabled",hasCheckbox:"hasCheckbox",isExpanded:"isExpanded",isVisible:"isVisible",isSelected:"isSelected",children:"children",hasChildren:"hasChildren"},standalone:!0,features:[e.OA$,e.aNF],attrs:We,decls:2,vars:3,consts:[["checkbox",""],["class","k-treeview-item","kendoTreeViewItem","",3,"k-hidden","dataItem","index","parentDataItem","parentIndex","loadOnDemand","checkable","isChecked","isDisabled","isVisible","expandable","isExpanded","selectable","isSelected",4,"ngFor","ngForOf","ngForTrackBy"],["class","k-treeview-item","kendoTreeViewItem","","role","button",3,"k-treeview-load-more-checkboxes-container","selectable","checkable","expandable","index","parentDataItem","parentIndex",4,"ngIf"],["kendoTreeViewItem","",1,"k-treeview-item",3,"dataItem","index","parentDataItem","parentIndex","loadOnDemand","checkable","isChecked","isDisabled","isVisible","expandable","isExpanded","selectable","isSelected"],[3,"ngClass"],["class","k-treeview-toggle",3,"k-disabled","kendoTreeViewLoading","click",4,"ngIf"],[3,"disabled","size","checkedState","tabindex","inputAttributes","checkedStateChange",4,"ngIf"],["kendoTreeViewItemContent","",1,"k-treeview-leaf",3,"id","dataItem","index","initialSelection","isSelected"],[1,"k-treeview-leaf-text"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["kendoTreeViewGroup","","role","group",3,"size","nodes","loadOnDemand","checkboxes","expandIcons","selectable","touchActions","children","hasChildren","isChecked","isDisabled","hasCheckbox","disabled","expandDisabledNodes","isExpanded","isSelected","isVisible","nodeTemplateRef","loadMoreButtonTemplateRef","parentIndex","parentDataItem","textField","loadMoreService","trackBy","disableParentNodesOnly",4,"ngIf"],[1,"k-treeview-toggle",3,"click","kendoTreeViewLoading"],[3,"name","svgIcon"],[3,"checkedStateChange","disabled","size","checkedState","tabindex","inputAttributes"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["kendoTreeViewGroup","","role","group",3,"size","nodes","loadOnDemand","checkboxes","expandIcons","selectable","touchActions","children","hasChildren","isChecked","isDisabled","hasCheckbox","disabled","expandDisabledNodes","isExpanded","isSelected","isVisible","nodeTemplateRef","loadMoreButtonTemplateRef","parentIndex","parentDataItem","textField","loadMoreService","trackBy","disableParentNodesOnly"],["kendoTreeViewItem","","role","button",1,"k-treeview-item",3,"selectable","checkable","expandable","index","parentDataItem","parentIndex"],[1,"k-treeview-bot"],["class","k-icon k-i-loading",4,"ngIf"],["kendoTreeViewItemContent","",1,"k-treeview-leaf","k-treeview-load-more-button",3,"index"],[4,"ngIf"],[1,"k-icon","k-i-loading"]],template:function(k,N){1&k&&e.DNE(0,qi,10,33,"li",1)(1,nn,7,14,"li",2),2&k&&(e.Y8G("ngForOf",N.data)("ngForTrackBy",N.trackBy),e.R7$(),e.Y8G("ngIf",N.initialNodesLoaded&&N.moreNodesAvailable))},dependencies:[I,Dt.pM,ms,Dt.YU,Dt.bT,wi,st.QK,Ae.$W,Dr,Dt.ux,Dt.e1,Dt.T3,Dt.fG],encapsulation:2,data:{animation:[(0,Pe.hZ)("toggle",[(0,Pe.kY)("void => *",[(0,Pe.iF)({height:0}),(0,Pe.i0)("0.1s ease-in",(0,Pe.iF)({height:"*"}))]),(0,Pe.kY)("* => void",[(0,Pe.iF)({height:"*"}),(0,Pe.i0)("0.1s ease-in",(0,Pe.iF)({height:0}))])])]}})}return I})(),mo=(()=>{class I extends Ne.EX{loadMore;static \u0275fac=(()=>{let m;return function(N){return(m||(m=e.xGo(I)))(N||I)}})();static \u0275dir=e.FsC({type:I,selectors:[["kendo-treeview-messages-base"]],inputs:{loadMore:"loadMore"},features:[e.Vt3]})}return I})(),mr=(()=>{class I extends mo{service;constructor(m){super(),this.service=m}static \u0275fac=function(k){return new(k||I)(e.rXU(Ne.Pi))};static \u0275dir=e.FsC({type:I,selectors:[["","kendoTreeViewLocalizedMessages",""]],standalone:!0,features:[e.Jv_([{provide:mo,useExisting:(0,e.Rfq)(()=>I)}]),e.Vt3]})}return I})(),go=0;const fo=[ts,zs,Os,se,Es,ri,pr,qt,Ne.Pi,{provide:Ne.$R,useValue:"kendo.treeview"},{provide:is,useExisting:(0,e.Rfq)(()=>an)},{provide:Ho,useExisting:(0,e.Rfq)(()=>an)}];let an=(()=>{class I{element;changeDetectorRef;expandService;navigationService;nodeChildrenService;selectionService;treeViewLookupService;ngZone;renderer;dataChangeNotification;localization;searchIcon=De.qcD;classNames=!0;get direction(){return this.localization.rtl?"rtl":"ltr"}assetsContainer;searchbox;filterInputPlaceholder="";expandDisabledNodes;set animate(m){this._animate=m}get animate(){return!this._animate}fetchNodes=()=>this.data;childrenLoaded=new e.bkB;onBlur=new e.bkB;onFocus=new e.bkB;expand=new e.bkB;collapse=new e.bkB;nodeDragStart=new e.bkB;nodeDrag=new e.bkB;filterStateChange=new e.bkB;nodeDrop=new e.bkB;nodeDragEnd=new e.bkB;addItem=new e.bkB;removeItem=new e.bkB;checkedChange=new e.bkB;selectionChange=new e.bkB;filterChange=new e.bkB;nodeClick=new e.bkB;nodeDblClick=new e.bkB;nodeTemplateQuery;set nodeTemplateRef(m){this._nodeTemplateRef=m}get nodeTemplateRef(){return this._nodeTemplateRef||this.nodeTemplateQuery}loadMoreButtonTemplateQuery;set loadMoreButtonTemplateRef(m){this._loadMoreButtonTemplateRef=m}get loadMoreButtonTemplateRef(){return this._loadMoreButtonTemplateRef||this.loadMoreButtonTemplateQuery}trackBy=Vn;set nodes(m){this.data.next(m||[]),this.dataChangeNotification.notify()}get nodes(){return this.data.value}textField;get hasChildren(){return this._hasChildren||Oi}set hasChildren(m){this._hasChildren=m,this.expandIcons=!(!this._isExpanded||!this._hasChildren)}get isChecked(){return this._isChecked||pi}set isChecked(m){this._isChecked=m,this.checkboxes=!!this._isChecked}isDisabled=Ri;hasCheckbox=ei;get isExpanded(){return this._isExpanded||li}set isExpanded(m){this._isExpanded=m,this.expandIcons=!(!this._isExpanded||!this._hasChildren)}get isSelected(){return this._isSelected||At}set isSelected(m){this._isSelected=m,this.selectable=!!this._isSelected}isVisible=Gt;navigable=!0;children=()=>(0,me.of)([]);loadOnDemand=!0;filterable=!1;filter="";set size(m){const k=m||"medium";"none"!==this.size&&this.renderer.removeClass(this.element.nativeElement,Do("treeview",this.size)),this.renderer.addClass(this.element.nativeElement,Do("treeview",k)),this._size=m}get size(){return this._size}get isActive(){return this.navigationService.isTreeViewActive}get treeviewId(){return`treeview_${this._nextId}`}disableParentNodesOnly=!1;loadMoreService;editService;checkboxes=!1;expandIcons=!1;selectable=!1;touchActions=!0;data=new Ve.t([]);_animate=!0;_isChecked;_isExpanded;_isSelected;_hasChildren;_nodeTemplateRef;_loadMoreButtonTemplateRef;_size="medium";subscriptions=new Je.yU;domSubscriptions=[];_nextId=go;constructor(m,k,N,H,fe,Ue,it,Ut,Xi,Ki,no){this.element=m,this.changeDetectorRef=k,this.expandService=N,this.navigationService=H,this.nodeChildrenService=fe,this.selectionService=Ue,this.treeViewLookupService=it,this.ngZone=Ut,this.renderer=Xi,this.dataChangeNotification=Ki,this.localization=no,(0,It.$j)(W),go++}ngOnChanges(m){this.navigationService.navigable=!!this.navigable,(0,w.TI)(["nodes","children","hasChildren","loadOnDemand"],m,!1)&&!this.loadOnDemand&&this.preloadChildNodes()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.domSubscriptions.forEach(m=>m())}ngOnInit(){this.subscriptions.add(this.nodeChildrenService.changes.subscribe(m=>this.childrenLoaded.emit(m))),this.subscriptions.add(this.expandService.changes.subscribe(({index:m,dataItem:k,expand:N})=>N?this.expand.emit({index:m,dataItem:k}):this.collapse.emit({index:m,dataItem:k}))),this.subscriptions.add(this.navigationService.checks.subscribe(m=>this.checkedChange.emit(this.treeViewLookupService.itemLookup(m)))),this.subscriptions.add(this.selectionService.changes.subscribe(m=>{(0,w.SF)(this.selectionChange)&&this.ngZone.run(()=>{this.selectionChange.emit(m)})})),this.element&&this.ngZone.runOutsideAngular(()=>{this.attachDomHandlers()}),this.size&&this.renderer.addClass(this.element.nativeElement,Do("treeview",this.size))}ngAfterViewInit(){this.searchbox&&(this.renderer.setAttribute(this.searchbox.input.nativeElement,"role","searchbox"),this.renderer.setAttribute(this.searchbox.input.nativeElement,"aria-controls",this.treeviewId),this.renderer.setAttribute(this.searchbox.input.nativeElement,"aria-label","searchbar"))}blur(){if(!(0,w.nm)())return;const m=xs(this.element);document.activeElement===m&&m.blur()}focus(m){const k=m||rn(this.navigationService.focusableItem);this.navigationService.activateIndex(k);const N=xs(this.element);N&&N.focus()}itemLookup(m){return this.treeViewLookupService.itemLookup(m)}rebindChildren(){this.dataChangeNotification.notify()}expandNode(m,k){this.expandService.expand(k,m)}collapseNode(m,k){this.expandService.collapse(k,m)}getNodePageSize(m){return this.verifyLoadMoreService(),this.loadMoreService.getGroupSize(m)}setNodePageSize(m,k){this.verifyLoadMoreService(),this.loadMoreService.setGroupSize(m,k)}preloadChildNodes(){this.treeViewLookupService.reset(),this.registerLookupItems(this.nodes)}attachDomHandlers(){const m=this.element.nativeElement;this.clickHandler=this.clickHandler.bind(this),this.domSubscriptions.push(this.renderer.listen(m,"contextmenu",this.clickHandler),this.renderer.listen(m,"click",this.clickHandler),this.renderer.listen(m,"dblclick",this.clickHandler),this.renderer.listen(m,"focusin",this.focusHandler.bind(this)),this.renderer.listen(m,"focusout",this.blurHandler.bind(this)),this.renderer.listen(m,"keydown",this.keydownHandler.bind(this)))}focusHandler(m){let k;if(A(m.target,".k-treeview-item")?k=m.target:En(m.target)||(k=_i(m.target)),k){const N=On(m.target);if(this.navigationService.isDisabled(N))return;this.navigationService.activateIndex(N),!this.isActive&&(0,w.SF)(this.onFocus)&&this.ngZone.run(()=>{this.onFocus.emit()}),this.navigationService.isTreeViewActive=!0}}blurHandler(m){this.isActive&&A(m.target,".k-treeview-item")&&(!m.relatedTarget||!A(m.relatedTarget,".k-treeview-item")||!ds(m.relatedTarget,this.element.nativeElement))&&(this.navigationService.deactivate(),this.navigationService.isTreeViewActive=!1,(0,w.SF)(this.onBlur)&&this.ngZone.run(()=>{this.onBlur.emit()}))}clickHandler(m){const k=m.target;if("contextmenu"===m.type&&!(0,w.SF)(this.nodeClick)||"click"===m.type&&!(0,w.SF)(this.nodeClick)&&!(0,w.SF)(this.selectionChange)&&!pn(k)||"dblclick"===m.type&&!(0,w.SF)(this.nodeDblClick)||En(k)||!qn(k)&&!pn(k)||!ds(k,this.element.nativeElement))return;const N=On(_i(k));!N||this.navigationService.isDisabled(N)||this.ngZone.run(()=>{const H=this.treeViewLookupService.itemLookup(N);if("click"===m.type){if(this.navigationService.model.findNode(N).loadMoreButton)return void this.navigationService.notifyLoadMore(N);this.navigationService.selectIndex(N)}("dblclick"===m.type?this.nodeDblClick:this.nodeClick).emit({item:H.item,originalEvent:m,type:m.type})})}keydownHandler(m){this.isActive&&this.navigable&&this.ngZone.run(()=>{this.navigationService.move(m)})}verifyLoadMoreService(){if((0,e.naY)()&&!Z(this.loadMoreService))throw new Error("To use the TreeView paging functionality, you need to assign the `kendoTreeViewLoadMore` directive. See https://www.telerik.com/kendo-angular-ui/components/treeview/load-more-button/.")}registerLookupItems(m,k=null){if(!Z(m)||0===m.length)return;const N=rn(k),H=m.map((fe,Ue)=>((I,V,m)=>Z(I)?{dataItem:I,index:hs(m,V)}:null)(fe,Ue,N));Z(k)&&this.treeViewLookupService.registerChildren(N,H),H.forEach(fe=>{this.treeViewLookupService.registerItem(fe,k),this.hasChildren(fe.dataItem)&&this.children(fe.dataItem).subscribe(Ue=>this.registerLookupItems(Ue,fe))})}static \u0275fac=function(k){return new(k||I)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(ts),e.rXU(ri),e.rXU(Es),e.rXU(pr),e.rXU(Os),e.rXU(e.SKi),e.rXU(e.sFG),e.rXU(qt),e.rXU(Ne.Pi))};static \u0275cmp=e.VBU({type:I,selectors:[["kendo-treeview"]],contentQueries:function(k,N,H){if(1&k&&(e.wni(H,ps,5),e.wni(H,Mi,5)),2&k){let fe;e.mGM(fe=e.lsd())&&(N.nodeTemplateQuery=fe.first),e.mGM(fe=e.lsd())&&(N.loadMoreButtonTemplateQuery=fe.first)}},viewQuery:function(k,N){if(1&k&&(e.GBs(Cn,7,e.c1b),e.GBs(on,5)),2&k){let H;e.mGM(H=e.lsd())&&(N.assetsContainer=H.first),e.mGM(H=e.lsd())&&(N.searchbox=H.first)}},hostVars:4,hostBindings:function(k,N){2&k&&(e.zvX("@.disabled",N.animate),e.BMQ("dir",N.direction),e.AVh("k-treeview",N.classNames))},inputs:{filterInputPlaceholder:"filterInputPlaceholder",expandDisabledNodes:"expandDisabledNodes",animate:"animate",nodeTemplateRef:[e.Mj6.None,"nodeTemplate","nodeTemplateRef"],loadMoreButtonTemplateRef:[e.Mj6.None,"loadMoreButtonTemplate","loadMoreButtonTemplateRef"],trackBy:"trackBy",nodes:"nodes",textField:"textField",hasChildren:"hasChildren",isChecked:"isChecked",isDisabled:"isDisabled",hasCheckbox:"hasCheckbox",isExpanded:"isExpanded",isSelected:"isSelected",isVisible:"isVisible",navigable:"navigable",children:"children",loadOnDemand:"loadOnDemand",filterable:"filterable",filter:"filter",size:"size",disableParentNodesOnly:"disableParentNodesOnly"},outputs:{childrenLoaded:"childrenLoaded",onBlur:"blur",onFocus:"focus",expand:"expand",collapse:"collapse",nodeDragStart:"nodeDragStart",nodeDrag:"nodeDrag",filterStateChange:"filterStateChange",nodeDrop:"nodeDrop",nodeDragEnd:"nodeDragEnd",addItem:"addItem",removeItem:"removeItem",checkedChange:"checkedChange",selectionChange:"selectionChange",filterChange:"filterChange",nodeClick:"nodeClick",nodeDblClick:"nodeDblClick"},exportAs:["kendoTreeView"],standalone:!0,features:[e.Jv_(fo),e.OA$,e.aNF],decls:5,vars:24,consts:()=>{let m;return m=$localize`:kendo.treeview.loadMore|The title of the Load More button:Load more...`,[["assetsContainer",""],["searchbox",""],["kendoTreeViewLocalizedMessages","","loadMore",m],["class","k-treeview-filter",4,"ngIf"],["kendoTreeViewGroup","","role","tree",1,"k-treeview-lines",3,"size","loadOnDemand","checkboxes","expandIcons","selectable","touchActions","children","hasChildren","isChecked","isDisabled","hasCheckbox","disableParentNodesOnly","isExpanded","isSelected","isVisible","nodeTemplateRef","loadMoreButtonTemplateRef","textField","nodes","loadMoreService","trackBy","expandDisabledNodes"],[1,"k-treeview-filter"],[3,"valueChange","size","value","clearButton","placeholder"],["kendoTextBoxPrefixTemplate",""],["innerCssClass","k-input-icon","name","search",3,"svgIcon"]]},template:function(k,N){1&k&&(e.eu8(0,2),e.DNE(1,ve,4,4,"span",3),e.nrm(2,"ul",4),e.eu8(3,null,0)),2&k&&(e.R7$(),e.Y8G("ngIf",N.filterable),e.R7$(),e.Y8G("size",N.size)("loadOnDemand",N.loadOnDemand)("checkboxes",N.checkboxes)("expandIcons",N.expandIcons)("selectable",N.selectable)("touchActions",N.touchActions)("children",N.children)("hasChildren",N.hasChildren)("isChecked",N.isChecked)("isDisabled",N.isDisabled)("hasCheckbox",N.hasCheckbox)("disableParentNodesOnly",N.disableParentNodesOnly)("isExpanded",N.isExpanded)("isSelected",N.isSelected)("isVisible",N.isVisible)("nodeTemplateRef",null==N.nodeTemplateRef?null:N.nodeTemplateRef.templateRef)("loadMoreButtonTemplateRef",null==N.loadMoreButtonTemplateRef?null:N.loadMoreButtonTemplateRef.templateRef)("textField",N.textField)("nodes",N.fetchNodes)("loadMoreService",N.loadMoreService)("trackBy",N.trackBy)("expandDisabledNodes",N.expandDisabledNodes),e.BMQ("id",N.treeviewId))},dependencies:[mr,Dt.bT,Ae.OV,Ae.WX,st.QK,Tr],encapsulation:2})}return I})();const ys=I=>V=>I===V||!!V.split&&V.split("_").reduce(({key:m,result:k},N)=>I===(m+=N)||k?{result:!0}:{key:m+="_",result:!1},{key:"",result:!1}).result;let Ci=(()=>{class I{treeView;zone;set isChecked(m){this.treeView.isChecked=m}checkKey;checkedKeys;checkable;checkedKeysChange=new e.bkB;subscriptions=new Je.yU;get options(){const m={checkChildren:!0,checkParents:!0,enabled:!0,mode:"multiple",uncheckCollapsedChildren:!1};if(!Z(this.checkable)||"string"==typeof this.checkable)return m;const k=Zt(this.checkable)?{enabled:this.checkable}:this.checkable;return Object.assign(m,k)}checkActions={multiple:m=>this.checkMultiple(m),single:m=>this.checkSingle(m)};state=new Set;clickSubscription;lastChange;constructor(m,k){this.treeView=m,this.zone=k,this.subscriptions.add(this.treeView.checkedChange.subscribe(H=>this.check(H)));const N=[];this.subscriptions.add(this.treeView.childrenLoaded.pipe((0,Ze.p)(()=>this.options.checkChildren&&this.treeView.loadOnDemand),(0,He.M)(H=>N.push(H)),(0,Ei.n)(()=>this.zone.onStable.pipe((0,ct.s)(1)))).subscribe(()=>this.addCheckedItemsChildren(N))),this.treeView.isChecked=this.isItemChecked.bind(this)}ngOnChanges(m){m.checkable&&(this.treeView.checkboxes=this.options.enabled,this.toggleCheckOnClick()),(0,w.Hq)("checkedKeys",m,!1)&&m.checkedKeys.currentValue!==this.lastChange&&(this.state=new Set(m.checkedKeys.currentValue))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.unsubscribeClick()}isItemChecked(m,k){return this.checkKey?this.state.has(this.itemKey({dataItem:m,index:k}))?"checked":"none":this.isIndexChecked(k)}isIndexChecked(m){const k=Array.from(this.state).filter(ys(m));if(((I,V)=>I.filter(m=>m===V).length>0)(k,m))return"checked";const{mode:N,checkParents:H}=this.options;return"multiple"===N&&H&&k.length?"indeterminate":"none"}itemKey(m){return Z(this.checkKey)?"string"==typeof this.checkKey&&Z(m.dataItem)?m.dataItem[this.checkKey]:"function"==typeof this.checkKey?this.checkKey(m):void 0:m.index}check(m){const{enabled:k,mode:N}=this.options;k&&(this.checkActions[N]||Y)(m)}checkSingle(m){const k=this.itemKey(m.item),N=this.state.has(k);this.state.clear(),N||this.state.add(k),this.notify()}checkMultiple(m){this.checkNode(m),this.options.checkParents&&this.checkParents(m.parent),this.notify()}toggleCheckOnClick(){this.unsubscribeClick(),this.options.checkOnClick&&(this.clickSubscription=this.treeView.nodeClick.subscribe(m=>{if("click"===m.type){const k=this.treeView.itemLookup(m.item.index);this.check(k)}}))}unsubscribeClick(){this.clickSubscription&&(this.clickSubscription.unsubscribe(),this.clickSubscription=null)}checkNode(m){if(!Z(m.item.dataItem)||this.treeView.isDisabled(m.item.dataItem,m.item.index)||!this.treeView.hasCheckbox(m.item.dataItem,m.item.index))return;const k=this.itemKey(m.item);if(!Z(k))return;const N=[k];if(this.options.checkChildren){const fe=uo(m,({item:Ue})=>this.treeView.disableParentNodesOnly||this.options.checkDisabledChildren?this.treeView.isVisible(Ue.dataItem,Ue.index):this.treeView.isVisible(Ue.dataItem,Ue.index)&&!this.treeView.isDisabled(Ue.dataItem,Ue.index)&&this.treeView.hasCheckbox(Ue.dataItem,Ue.index));N.push(...fe.filter(Ue=>this.options.checkDisabledChildren||!this.treeView.isDisabled(Ue.item.dataItem,Ue.item.index)||this.treeView.hasCheckbox(Ue.item.dataItem,Ue.item.index)).map(({item:Ue})=>this.itemKey(Ue)))}const H=!this.state.has(k);N.forEach(fe=>{if(H)this.state.add(fe);else if(this.state.delete(fe),this.options.uncheckCollapsedChildren&&"multiple"===this.options.mode&&this.treeView.loadOnDemand){if(this.checkKey&&this.treeView.hasChildren(m.item.dataItem))return void this.uncheckChildren(m.item.dataItem,m.item.index);Array.from(this.state).filter(ys(m.item.index)).forEach(it=>this.state.delete(it))}})}uncheckChildren(m,k){this.treeView.children(m).subscribe(N=>N.forEach((H,fe)=>{const Ue=`${k}_${fe}`;this.state.delete(this.itemKey({dataItem:H,index:Ue})),this.treeView.hasChildren(H)&&this.uncheckChildren(H,Ue)}))}checkParents(m){if(!Z(m))return;let k=m;for(;k;){const N=this.itemKey(k.item),H=this.treeView.isDisabled(k.item.dataItem,k.item.index),fe=k.children.every(it=>this.state.has(this.itemKey(it)));this.treeView.hasCheckbox(k.item.dataItem,k.item.index)&&(!H||this.options.checkDisabledChildren)&&fe?this.state.add(N):this.state.delete(N),k=k.parent}}allChildrenSelected(m){return m.every(k=>{const N=this.allChildrenSelected(k.children);return this.state.has(this.itemKey(k.item))&&N})}notify(){this.lastChange=Array.from(this.state),this.checkedKeysChange.emit(this.lastChange)}addCheckedItemsChildren(m){if(!Z(m)||0===m.length)return;const k=this.state.size,N=new Set;m.forEach(fe=>{const Ue=this.itemKey(fe.item);this.state.has(Ue)&&fe.children.forEach(it=>{(!this.treeView.isDisabled(fe.item.dataItem,fe.item.index)&&!this.treeView.isDisabled(it.dataItem,it.index)&&this.treeView.hasCheckbox(fe.item.dataItem,fe.item.index)&&this.treeView.hasCheckbox(it.dataItem,it.index)||this.treeView.disableParentNodesOnly||this.options.checkDisabledChildren)&&this.state.add(this.itemKey(it)),this.treeView.disableParentNodesOnly&&!this.options.checkDisabledChildren&&(this.treeView.isDisabled(it.dataItem,it.index)||!this.treeView.hasCheckbox(it.dataItem,it.index))&&N.add(this.itemKey(it))})}),N.forEach(fe=>this.state.delete(fe)),k!==this.state.size&&this.zone.run(()=>this.notify())}static \u0275fac=function(k){return new(k||I)(e.rXU(an),e.rXU(e.SKi))};static \u0275dir=e.FsC({type:I,selectors:[["","kendoTreeViewCheckable",""]],inputs:{isChecked:"isChecked",checkKey:[e.Mj6.None,"checkBy","checkKey"],checkedKeys:"checkedKeys",checkable:[e.Mj6.None,"kendoTreeViewCheckable","checkable"]},outputs:{checkedKeysChange:"checkedKeysChange"},standalone:!0,features:[e.OA$]})}return I})();var ci=function(I){return I[I.Add=0]="Add",I[I.InsertTop=1]="InsertTop",I[I.InsertBottom=2]="InsertBottom",I[I.InsertMiddle=3]="InsertMiddle",I[I.Invalid=4]="Invalid",I}(ci||{}),mn=function(I){return I[I.Over=0]="Over",I[I.Before=1]="Before",I[I.After=2]="After",I}(mn||{}),Qs=function(I){return I[I.Up=-1]="Up",I[I.Down=1]="Down",I}(Qs||{});class Ks{prevented=!1;preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class Or extends Ks{sourceTree;destinationTree;sourceItem;destinationItem;dropPosition;originalEvent;isValid=!0;constructor(V,m){super(),Object.assign(this,V),this.originalEvent=m}setValid(V){this.isValid=V}}class y extends Ks{sourceItem;originalEvent;constructor(V){super(),Object.assign(this,V)}}let oe=(()=>{class I{cdr;hostClasses=!0;text;action;sourceItem;destinationItem;template;posistionStyle="fixed";get statusIconClass(){switch(this.action){case ci.Add:return"plus";case ci.InsertTop:return"insert-top";case ci.InsertBottom:return"insert-bottom";case ci.InsertMiddle:return"insert-middle";default:return"cancel"}}get statusSVGIcon(){switch(this.action){case ci.Add:return De.WWM;case ci.InsertTop:return De.Qcd;case ci.InsertBottom:return De.oWZ;case ci.InsertMiddle:return De.yWw;default:return De.YAr}}constructor(m){this.cdr=m}detectChanges(){this.cdr.detectChanges()}static \u0275fac=function(k){return new(k||I)(e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:I,selectors:[["kendo-treeview-drag-clue"]],hostVars:6,hostBindings:function(k,N){2&k&&(e.xc7("position",N.posistionStyle),e.AVh("k-header",N.hostClasses)("k-drag-clue",N.hostClasses))},standalone:!0,features:[e.aNF],decls:2,vars:2,consts:[[4,"ngIf"],["innerCssClass","k-drag-status",3,"name","svgIcon"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(k,N){1&k&&e.DNE(0,ki,4,3,"ng-container",0)(1,Bi,1,7,null,0),2&k&&(e.Y8G("ngIf",!N.template),e.R7$(),e.Y8G("ngIf",N.template))},dependencies:[Dt.bT,st.QK,Dt.T3],encapsulation:2,changeDetection:0})}return I})(),Se=(()=>{class I{get componentRef(){if(!Z(this._componentRef))throw new Error("The `initalize` method must be called before calling other service methods.");return this._componentRef}set componentRef(m){this._componentRef=m}get element(){return this.componentRef.location.nativeElement}_componentRef;ngOnDestroy(){Z(this._componentRef)&&(this.element.parentElement.removeChild(this.element),this.componentRef.destroy(),this.componentRef=null)}show(){this.element.style.display=""}hide(){this.element.style.display="none"}move(m,k,N=0){this.element.style.left=`${m+N}px`,this.element.style.top=`${k+N}px`}static \u0275fac=function(k){return new(k||I)};static \u0275prov=e.jDH({token:I,factory:I.\u0275fac})}return I})();const St=function mi(I){let V,m=!1;return(...k)=>(m||(V=I(...k),m=!0),V)}(()=>{if(!(0,w.nm)()||!Z(document.body))return!1;const V=document.createElement("div");V.style.transform="matrix(10, 0, 0, 10, 0, 0)";const m=document.createElement("div");m.innerText="child",m.style.position="fixed",m.style.top="10px",V.appendChild(m),document.body.appendChild(V);const k=10!==V.children[0].getBoundingClientRect().top;return document.body.removeChild(V),k}),Mn=(I,V,m,k,N)=>{if(!(Z(I)&&Z(V)&&Z(k)&&Z(N)))return;const H=U(V,".k-treeview-top, .k-treeview-mid, .k-treeview-bot");if(!Z(H))return;const fe=(I=>{if(!Z(I))return null;const V=".k-treeview-leaf:not(.k-treeview-load-more-button)";return A(I,V)?I:I.querySelector(V)})(H),Ue=ds(H,_i(I));if(!Z(fe)||fe===I||Ue)return;const it=fe.getBoundingClientRect(),Ut=it.height/(qn(V)?4:2),Xi=m-N.top,Ki=it.top-N.top;return Xi<Ki+Ut?mn.Before:Xi>=Ki+it.height-Ut?mn.After:mn.Over},Rn=(I,V)=>{if(!Z(I)||!Z(V))return null;const m=_i(V),k=On(m),N=I.itemLookup(k);return Z(N)&&Z(N.item.dataItem)?N:null},yn=(I,V,m)=>{Z(I)&&0===V.length&&m.isExpanded(I.item.dataItem,I.item.index)&&m.collapseNode(I.item.dataItem,I.item.index)},wn=(I,V)=>{V.isExpanded(I.item.dataItem,I.item.index)||V.expandNode(I.item.dataItem,I.item.index)},ln=I=>(0,w.nm)()&&Z(document.elementFromPoint)?document.elementFromPoint(I.clientX,I.clientY):I.target,fs=(I,V)=>{const m=I.split("_"),k=V.split("_");if(m.length<k.length)return I;const N=k.length-1,H=k.slice(0,N).join("_"),fe=m.slice(0,N).join("_"),Ue=k.length-1,it=Number(k[Ue]),Ut=Number(m[Ue]);return H===fe&&Ut>it?(m[Ue]=String(Ut-1),m.join("_")):I},Ns=new RegExp("(auto|scroll)"),Ur=I=>Math.floor(I.scrollTop)<=0,Wo=I=>Math.ceil(I.scrollTop)>=I.scrollHeight-I.clientHeight,Mr=(I,V,m)=>{if(!Z(I)||!(0,w.nm)())return;const k=I.scrollTop;let N=V,H=0;for(;k===I.scrollTop&&(m!==Qs.Up||!Ur(I))&&(m!==Qs.Down||!Wo(I))&&H<20;)I.scrollTop+=N*m,N+=1,H+=1};let Zs=(()=>{class I extends Se{returnAnimation;scrollInterval;constructor(){super()}initialize(m,k){Z(this._componentRef)&&this.ngOnDestroy(),this.componentRef=m.createComponent(oe),this.hide(),this.componentRef.instance.template=k,this.componentRef.changeDetectorRef.detectChanges()}ngOnDestroy(){this.cancelReturnAnimation(),this.cancelScroll(),super.ngOnDestroy()}move(m,k){super.move(m,k,10)}animateDragClueToElementPosition(m){if(!Z(m)||!Z(this.element.animate))return void this.hide();const k=m.getBoundingClientRect(),N=this.element.getBoundingClientRect();this.returnAnimation=this.element.animate([{transform:"translate(0, 0)"},{transform:`translate(${k.left-N.left}px, ${k.top-N.top}px)`}],200),this.returnAnimation.onfinish=()=>this.hide()}cancelReturnAnimation(){Z(this.returnAnimation)&&(this.returnAnimation.cancel(),this.returnAnimation=null)}updateDragClueData(m,k,N){const H=this.componentRef.instance;m===H.action&&$n(k,H.sourceItem)&&$n(N,H.destinationItem)||(H.action=m,H.sourceItem=k,H.destinationItem=N,H.detectChanges())}updateText(m){m!==this.componentRef.instance.text&&(this.componentRef.instance.text=m,this.componentRef.instance.detectChanges())}scrollIntoView({step:m,interval:k}){this.cancelScroll();const N=(I=>{for(;Z(I)&&"HTML"!==I.nodeName;){const V=I.scrollHeight>I.clientHeight,m=Ns.test(getComputedStyle(I).overflowY);if(V&&m)return I;I=I.parentNode}return I})(this.element);if(!Z(N))return;const H=N.getBoundingClientRect(),fe=this.element.getBoundingClientRect(),Ue=Math.max(H.top,0),it=Ue+fe.height,Ut=Ue+Math.min(H.bottom,N.clientHeight);fe.top<it?this.scrollInterval=setInterval(()=>Mr(N,m,Qs.Up),k):fe.bottom>Ut&&(this.scrollInterval=setInterval(()=>Mr(N,m,Qs.Down),k))}cancelScroll(){Z(this.scrollInterval)&&(clearInterval(this.scrollInterval),this.scrollInterval=null)}static \u0275fac=function(k){return new(k||I)};static \u0275prov=e.jDH({token:I,factory:I.\u0275fac})}return I})(),ks=(()=>{class I{changeDetectorRef;hostClass=!0;template;position="fixed";pointerEvents="none";action;sourceItem;destinationItem;constructor(m){this.changeDetectorRef=m}detectChanges(){this.changeDetectorRef.detectChanges()}static \u0275fac=function(k){return new(k||I)(e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:I,selectors:[["kendo-treeview-drop-hint"]],hostVars:6,hostBindings:function(k,N){2&k&&(e.xc7("position",N.position)("pointer-events",N.pointerEvents),e.AVh("k-drop-hint-container",N.hostClass))},standalone:!0,features:[e.aNF],decls:2,vars:2,consts:[["class","k-drop-hint k-drop-hint-h",4,"ngIf"],[4,"ngIf"],[1,"k-drop-hint","k-drop-hint-h"],[1,"k-drop-hint-start"],[1,"k-drop-hint-line"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(k,N){1&k&&e.DNE(0,Te,3,0,"div",0)(1,re,1,6,null,1),2&k&&(e.Y8G("ngIf",!N.template),e.R7$(),e.Y8G("ngIf",N.template))},dependencies:[Dt.bT,Dt.T3],encapsulation:2,changeDetection:0})}return I})(),Co=(()=>{class I extends Se{constructor(){super()}initialize(m,k){Z(this._componentRef)&&this.ngOnDestroy(),this.componentRef=m.createComponent(ks),this.hide(),this.componentRef.instance.template=k,this.componentRef.changeDetectorRef.detectChanges()}updateDropHintData(m,k,N){const H=this.componentRef.instance;m===H.action&&$n(k,H.sourceItem)&&$n(N,H.destinationItem)||(H.action=m,H.sourceItem=k,H.destinationItem=N,H.detectChanges())}static \u0275fac=function(k){return new(k||I)};static \u0275prov=e.jDH({token:I,factory:I.\u0275fac})}return I})(),eo=(()=>{class I{templateRef;constructor(m){this.templateRef=m}static \u0275fac=function(k){return new(k||I)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:I,selectors:[["","kendoTreeViewDragClueTemplate",""]],standalone:!0})}return I})(),In=(()=>{class I{templateRef;constructor(m){this.templateRef=m}static \u0275fac=function(k){return new(k||I)(e.rXU(e.C4Q,8))};static \u0275dir=e.FsC({type:I,selectors:[["","kendoTreeViewDropHintTemplate",""]],standalone:!0})}return I})();const Vr={enabled:!0,step:1,interval:1};let to=(()=>{class I{element;zone;treeview;dragClueService;dropHintService;allowCopy=!1;dropZoneTreeViews=[];startDragAfter=5;autoScroll=!0;dragClueTemplate;dropHintTemplate;userSelectStyle="none";draggable;draggedItem;pendingDragStartEvent;get scrollSettings(){return Object.assign({},Vr,"boolean"==typeof this.autoScroll?{enabled:this.autoScroll}:this.autoScroll)}containerOffset={top:0,left:0};constructor(m,k,N,H,fe){this.element=m,this.zone=k,this.treeview=N,this.dragClueService=H,this.dropHintService=fe,this.treeview.touchActions=!1}ngAfterContentInit(){this.initalizeDraggable(),this.dragClueService.initialize(this.treeview.assetsContainer,this.dragClueTemplate&&this.dragClueTemplate.templateRef),this.dropHintService.initialize(this.treeview.assetsContainer,this.dropHintTemplate&&this.dropHintTemplate.templateRef)}ngOnDestroy(){this.draggable.destroy()}handlePress({originalEvent:m}){qn(m.target)&&(this.draggedItem=U(m.target,".k-treeview-leaf"),this.pendingDragStartEvent=m)}handleDrag({originalEvent:m,clientX:k,clientY:N}){if(this.shouldInitiateDragStart({clientX:k,clientY:N})&&this.initiateDragStart(),!Z(this.draggedItem)||Z(this.pendingDragStartEvent))return;const H=ln(m);(0,w.SF)(this.treeview.nodeDrag)&&this.zone.run(()=>this.notifyDrag(m,H));const fe=this.getTargetTreeView(H),Ue=Mn(this.draggedItem,H,N,fe,this.containerOffset),it=U(H,".k-treeview-top, .k-treeview-mid, .k-treeview-bot"),Ut=((I,V)=>{if(!Z(I)||!Z(V))return ci.Invalid;switch(I){case mn.Over:return ci.Add;case mn.Before:return Z(_i(V).previousElementSibling)?ci.InsertMiddle:ci.InsertTop;case mn.After:return Z(_i(V).nextElementSibling)?ci.InsertMiddle:ci.InsertBottom;default:return ci.Invalid}})(Ue,H),Xi=Rn(this.treeview,this.draggedItem),Ki=Rn(fe,H);this.updateDropHintState(Ue,it,Ut,Xi,Ki),this.updateDragClueState(Ut,k,N,Xi,Ki),this.scrollSettings.enabled&&this.dragClueService.scrollIntoView(this.scrollSettings)}handleRelease({originalEvent:m,clientY:k}){if(this.scrollSettings.enabled&&this.dragClueService.cancelScroll(),!Z(this.draggedItem)||Z(this.pendingDragStartEvent))return this.pendingDragStartEvent=null,void(this.draggedItem=null);const N=ln(m),H=this.treeview,fe=this.getTargetTreeView(N),Ue=Mn(this.draggedItem,N,k,this.getTargetTreeView(N),this.containerOffset),it=Rn(H,this.draggedItem),Ut=Rn(fe,N);Z(Ut)&&Z(Ue)?this.zone.run(()=>this.notifyDrop({sourceItem:it,destinationItem:Ut,dropPosition:Ue,sourceTree:H,destinationTree:fe},m)):this.dragClueService.animateDragClueToElementPosition(this.draggedItem),(0,w.SF)(this.treeview.nodeDragEnd)&&this.zone.run(()=>this.notifyDragEnd({sourceItem:it,destinationItem:Ut,originalEvent:m})),this.dropHintService.hide(),this.draggedItem=null}updateDropHintState(m,k,N,H,fe){if(!Z(k)||m===mn.Over||!Z(m))return void this.dropHintService.hide();const Ue=k.getBoundingClientRect(),Ut=m===mn.Before?Ue.top:Ue.top+Ue.height;this.dropHintService.updateDropHintData(N,H,fe),this.dropHintService.move(Ue.left-this.containerOffset.left,Ut-this.containerOffset.top),this.dropHintService.show()}updateDragClueState(m,k,N,H,fe){this.dragClueService.move(k-this.containerOffset.left,N-this.containerOffset.top),this.dragClueService.updateDragClueData(m,H,fe),this.dragClueService.show()}initalizeDraggable(){this.draggable=new tt.s({press:this.handlePress.bind(this),drag:this.handleDrag.bind(this),release:this.handleRelease.bind(this)}),this.zone.runOutsideAngular(()=>this.draggable.bindTo(this.element.nativeElement))}notifyDragStart(m,k){const N=Rn(this.treeview,k),H=new y({sourceItem:N,originalEvent:m});return this.treeview.nodeDragStart.emit(H),H}notifyDrag(m,k){const N={sourceItem:Rn(this.treeview,this.draggedItem),destinationItem:Rn(this.getTargetTreeView(k),k),originalEvent:m};this.treeview.nodeDrag.emit(N)}notifyDrop(m,k){const N=new Or(m,k);m.destinationTree.nodeDrop.emit(N),this.disableAnimationsForNextTick(m.destinationTree),m.sourceTree!==m.destinationTree&&this.disableAnimationsForNextTick(m.sourceTree),!N.isDefaultPrevented()&&N.isValid?(this.dragClueService.hide(),m.destinationTree.addItem.emit(m),k.ctrlKey&&this.allowCopy||m.sourceTree.removeItem.emit(m)):N.isDefaultPrevented()?this.dragClueService.hide():N.isValid||this.dragClueService.animateDragClueToElementPosition(this.draggedItem)}notifyDragEnd(m){this.treeview.nodeDragEnd.emit(m)}getTargetTreeView(m){const N=U(m,this.treeview.element.nativeElement.tagName);return[this.treeview,...this.dropZoneTreeViews].find(H=>Z(H)&&H.element.nativeElement===N)}disableAnimationsForNextTick(m){m.animate||(m.animate=!1,this.zone.runOutsideAngular(()=>setTimeout(()=>m.animate=!0)))}shouldInitiateDragStart(m){return!!Z(this.pendingDragStartEvent)&&Math.sqrt(Math.pow(this.pendingDragStartEvent.clientX-m.clientX,2)+Math.pow(this.pendingDragStartEvent.clientY-m.clientY,2))>=this.startDragAfter}initiateDragStart(){if((0,w.SF)(this.treeview.nodeDragStart)&&this.zone.run(()=>this.notifyDragStart(this.pendingDragStartEvent,ln(this.pendingDragStartEvent))).isDefaultPrevented())return this.pendingDragStartEvent=null,void(this.draggedItem=null);this.dragClueService.cancelReturnAnimation(),this.dragClueService.updateText(this.draggedItem.innerText),this.containerOffset=(I=>{if(!I||!St())return{left:0,top:0};let V=I.parentElement;for(;V&&"none"===window.getComputedStyle(V).transform;)V=V.parentElement;if(V){const m=V.getBoundingClientRect();return{left:m.left-V.scrollLeft,top:m.top-V.scrollTop}}return{left:0,top:0}})(this.draggedItem),this.pendingDragStartEvent=null}static \u0275fac=function(k){return new(k||I)(e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(an),e.rXU(Zs),e.rXU(Co))};static \u0275dir=e.FsC({type:I,selectors:[["","kendoTreeViewDragAndDrop",""]],contentQueries:function(k,N,H){if(1&k&&(e.wni(H,eo,5),e.wni(H,In,5)),2&k){let fe;e.mGM(fe=e.lsd())&&(N.dragClueTemplate=fe.first),e.mGM(fe=e.lsd())&&(N.dropHintTemplate=fe.first)}},hostVars:8,hostBindings:function(k,N){2&k&&e.xc7("user-select",N.userSelectStyle)("-ms-user-select",N.userSelectStyle)("-moz-user-select",N.userSelectStyle)("-webkit-user-select",N.userSelectStyle)},inputs:{allowCopy:"allowCopy",dropZoneTreeViews:"dropZoneTreeViews",startDragAfter:"startDragAfter",autoScroll:"autoScroll"},standalone:!0,features:[e.Jv_([Zs,Co])]})}return I})();const zr={maxAutoExpandResults:-1,expandMatches:!1,expandedOnClear:"none"};let Yo=(()=>{class I{component;set isExpanded(m){this.component.isExpanded=m}expandKey;expandOnFilter=!1;get filterExpandSettings(){const m=Zt(this.expandOnFilter)?{enabled:this.expandOnFilter}:{...this.expandOnFilter,enabled:!0};return Object.assign({},zr,m)}expandedKeysChange=new e.bkB;expandedKeys;subscriptions=new Je.yU;state=new Set;originalExpandedKeys=new Set;isFiltered=!1;lastChange;constructor(m){this.component=m,this.subscriptions.add((0,Be.h)(this.component.expand.pipe((0,ne.T)(k=>({expand:!0,...k}))),this.component.collapse.pipe((0,ne.T)(k=>({expand:!1,...k})))).subscribe(this.toggleExpand.bind(this))),this.component.filterStateChange&&this.subscriptions.add(this.component.filterStateChange.subscribe(this.handleAutoExpand.bind(this))),this.component.isExpanded=(k,N)=>this.state.has(this.itemKey({dataItem:k,index:N}))}ngOnChanges(m){(0,w.Hq)("expandedKeys",m,!1)&&m.expandedKeys.currentValue!==this.lastChange&&(this.state=new Set(m.expandedKeys.currentValue))}ngOnDestroy(){this.subscriptions.unsubscribe()}itemKey(m){if(this.expandKey){if("string"==typeof this.expandKey)return m.dataItem[this.expandKey];if("function"==typeof this.expandKey)return this.expandKey(m)}return m.index}toggleExpand({index:m,dataItem:k,expand:N}){const H=this.itemKey({index:m,dataItem:k}),fe=this.state.has(H);let Ue=!1;fe&&!N?(this.state.delete(H),Ue=!0):!fe&&N&&(this.state.add(H),Ue=!0),Ue&&this.notify()}handleAutoExpand({nodes:m,matchCount:k,term:N}){if(!this.filterExpandSettings.enabled)return;const{maxAutoExpandResults:H,expandMatches:fe,expandedOnClear:Ue}=this.filterExpandSettings;if(this.isFiltered||(this.originalExpandedKeys=new Set(this.state)),this.isFiltered&&!N||-1!==H&&k>H){switch(Ue){case"initial":ho(this.state,this.originalExpandedKeys)||(this.state=this.originalExpandedKeys,this.notify());break;case"all":this.state=new Set(m.reduce((no,Po)=>(this.getEveryExpandKey(no,Po),no),[])),this.notify();break;case"unchanged":break;default:0!==this.state.size&&(this.state.clear(),this.notify())}return void(this.isFiltered=!1)}const Ki=new Set(m.reduce((no,Po)=>(this.updateExpandedNodes(no,Po,fe),no),[]));ho(this.state,Ki)||(this.state=Ki,this.notify()),this.isFiltered=!0}updateExpandedNodes=(m,k,N)=>{(k.containsMatches||k.isMatch&&N&&us(k.children))&&m.push(this.itemKey({dataItem:k.dataItem,index:k.index})),us(k.children)&&k.children.forEach(H=>{this.updateExpandedNodes(m,H,N)})};getEveryExpandKey=(m,k)=>{us(k.children)&&m.push(this.itemKey({dataItem:k.dataItem,index:k.index})),us(k.children)&&k.children.forEach(N=>{this.getEveryExpandKey(m,N)})};notify(){this.lastChange=Array.from(this.state),this.expandedKeysChange.emit(this.lastChange)}static \u0275fac=function(k){return new(k||I)(e.rXU(Ho))};static \u0275dir=e.FsC({type:I,selectors:[["","kendoTreeViewExpandable",""]],inputs:{isExpanded:"isExpanded",expandKey:[e.Mj6.None,"expandBy","expandKey"],expandOnFilter:"expandOnFilter",expandedKeys:"expandedKeys"},outputs:{expandedKeysChange:"expandedKeysChange"},standalone:!0,features:[e.OA$]})}return I})();const Go=(I,V,m)=>{if(!Z(I.loadMoreService))return;const k=I.getNodePageSize(V);I.setNodePageSize(m,k)},Nn=(I,V)=>{if(!Z(I.loadMoreService))return;const m=I.getNodePageSize(V);I.setNodePageSize(V,m+1)},Rs=(I,V)=>{if(!Z(I.loadMoreService))return;const m=I.getNodePageSize(V);I.setNodePageSize(V,m-1)};class $r{flatBinding;movedItemNewIndex;constructor(V){this.flatBinding=V}add({sourceItem:V,destinationItem:m,dropPosition:k,sourceTree:N,destinationTree:H}){const fe=Object.assign({},Pt(V));if(k===mn.Over){wn(m,H);const it=(0,we.oK)(this.flatBinding.idField)(Pt(m));(0,we.qB)(this.flatBinding.parentIdField)(fe,it);const Xi=this.getLastVisibleChildNodeIndex(H,this.flatBinding.originalData,Pt(m))+1;this.flatBinding.originalData.splice(Xi,0,fe),this.rebindData();const Ki=this.fetchChildNodes(Pt(m),H).indexOf(fe);this.movedItemNewIndex=hs(m.item.index,Ki)}else{const it=k===mn.After?1:0,Ut=this.flatBinding.originalData.indexOf(Pt(m))+it;this.flatBinding.originalData.splice(Ut,0,fe);const Xi=(0,we.oK)(this.flatBinding.parentIdField)(Pt(m));(0,we.qB)(this.flatBinding.parentIdField)(fe,Xi),this.rebindData();const Ki=m.parent?m.parent.item.index:null,Po=(m.parent?this.fetchChildNodes(Pt(m.parent),H):H.nodes).indexOf(fe);this.movedItemNewIndex=hs(Ki,Po)}N!==H&&this.addChildNodes(fe,N);const Ue=Pt(k===mn.Over?m:m.parent);Nn(H,Ue),Go(H,Pt(V),fe),N!==H&&!H.loadOnDemand&&H.preloadChildNodes(),N!==H&&(H.changeDetectorRef.detectChanges(),H.focus(this.movedItemNewIndex))}remove({sourceItem:V,sourceTree:m,destinationTree:k}){const N=Pt(V),H=this.flatBinding.originalData.indexOf(N);if(this.flatBinding.originalData.splice(H,1),m!==k&&this.removeChildNodes(N,m),this.rebindData(),yn(V.parent,V.parent?V.parent.children:[],m),Rs(m,Pt(V.parent)),m.loadOnDemand||m.preloadChildNodes(),m===k){k.changeDetectorRef.detectChanges();const Ue=fs(this.movedItemNewIndex,V.item.index);k.focus(Ue)}}addChildNodes(V,m){const k=this.fetchAllDescendantNodes(V,m);this.flatBinding.originalData.push(...k)}removeChildNodes(V,m){this.fetchAllDescendantNodes(V,m).forEach(N=>{const H=this.flatBinding.originalData.indexOf(N);this.flatBinding.originalData.splice(H,1)})}fetchAllDescendantNodes(V,m){let k=this.fetchChildNodes(V,m);return k.forEach(N=>k=k.concat(this.fetchAllDescendantNodes(N,m)||[])),k}fetchChildNodes(V,m){if(!V)return[];let k=[];return m.children(V).pipe((0,ct.s)(1)).subscribe(N=>k=k.concat(N||[])),k}getLastVisibleChildNodeIndex(V,m,k){if(!Z(V.loadMoreService)||!V.hasChildren(k))return m.length;const N=V.loadMoreService.getGroupSize(k),H=this.fetchChildNodes(k,V).slice(0,N);return m.indexOf(H[H.length-1])}rebindData(){this.flatBinding.nodes=this.flatBinding.originalData,this.flatBinding.updateNodes(this.flatBinding.originalData)}}const Ao={operator:"contains",ignoreCase:!0,mode:"lenient"};let qo=(()=>{class I{component;filterData;visibleNodes=new Set;set filterSettings(m){this._filterSettings={...Ao,...m}}get filterSettings(){return this._filterSettings}_filterSettings=Ao;set filter(m){this.handleFilterChange(m)}constructor(m){this.component=m}handleFilterChange(m){this.filterData&&(this.resetNodesVisibility(this.filterData),m&&kn(this.filterData,m,this.filterSettings,this.component.textField),this.updateVisibleNodes(this.filterData),Z(this.component.filterStateChange)&&this.component.filterStateChange.emit({nodes:this.filterData,matchCount:this.visibleNodes.size,term:m,filterSettings:this.filterSettings}))}updateVisibleNodes(m){m.forEach(k=>{k.visible&&this.visibleNodes.add(k.dataItem),k.children&&this.updateVisibleNodes(k.children)})}resetNodesVisibility(m){this.visibleNodes.clear(),m.forEach(k=>{k.visible=!0,k.children&&this.resetNodesVisibility(k.children)})}static \u0275fac=function(k){return new(k||I)(e.rXU(is))};static \u0275dir=e.FsC({type:I,inputs:{filterSettings:"filterSettings",filter:"filter"}})}return I})();const yr=(I,V,m)=>V.filter(k=>I(k)===m),Sa=new zs,gr=(I,V,m,k,N=null,H="")=>us(I)?I.map((fe,Ue)=>{const it=Sa.nodeIndex(Ue.toString(),H),Ut={dataItem:fe,index:it,parent:N,visible:!0};return Ut.children=gr(yr((0,we.oK)(m),V||[],(0,we.oK)(k)(fe)),V,m,k,Ut,it),Ut}):[];let fr=(()=>{class I extends qo{component;set nodes(m){this._nodes=m}get nodes(){return this._nodes}_nodes;parentIdField;idField;loadOnDemand=!0;set isVisible(m){this.component.isVisible=m}originalData=[];constructor(m){super(m),this.component=m,this.component.isVisible=k=>this.visibleNodes.has(k)}ngOnInit(){if(Z(this.parentIdField)&&Z(this.idField)){const m=k=>yr((0,we.oK)(this.parentIdField),this.originalData||[],(0,we.oK)(this.idField)(k));this.component.hasChildren=k=>m(k).length>0,this.component.children=k=>(0,me.of)(m(k)),this.component.editService=new $r(this),this.component.filterChange.subscribe(this.handleFilterChange.bind(this)),this.component.filter&&this.handleFilterChange(this.component.filter),!this.loadOnDemand&&Z(this.component.preloadChildNodes)&&this.component.preloadChildNodes()}}ngOnChanges(m){(0,w.Hq)("parentIdField",m,!1)&&(this.nodes=this.originalData,this.updateNodes(this.originalData)),(0,w.Hq)("nodes",m,!1)&&this.updateNodes(m.nodes.currentValue),(0,w.TI)(["nodes","loadOnDemand"],m)&&!this.loadOnDemand&&Z(this.component.preloadChildNodes)&&this.component.preloadChildNodes()}updateNodes(m){if(this.originalData=m||[],(I=>wt(I)||0===I.trim().length)(this.parentIdField))this.component.nodes=this.originalData.slice(0);else{const k=(0,we.oK)(this.parentIdField);this.component.nodes=this.originalData.filter(((...I)=>V=>I.reduceRight((m,k)=>k(m),V))(wt,k)),this.filterData=gr(this.component.nodes,this.originalData,this.parentIdField,this.idField),this.updateVisibleNodes(this.filterData)}}static \u0275fac=function(k){return new(k||I)(e.rXU(is))};static \u0275dir=e.FsC({type:I,selectors:[["","kendoTreeViewFlatDataBinding",""]],inputs:{nodes:"nodes",parentIdField:"parentIdField",idField:"idField",loadOnDemand:"loadOnDemand",isVisible:"isVisible"},standalone:!0,features:[e.Vt3,e.OA$]})}return I})();class jr{hierarchyBinding;movedItemNewIndex;constructor(V){this.hierarchyBinding=V}add({sourceItem:V,destinationItem:m,dropPosition:k,sourceTree:N,destinationTree:H}){const fe=Object.assign({},Pt(V));if(k===mn.Over){wn(m,H);const it=this.childrenFor(Pt(m)),Ut=Z(H.loadMoreService)?Math.min(H.loadMoreService.getGroupSize(Pt(m)),it.length):it.length;it.splice(Ut,0,fe),(0,we.qB)(this.hierarchyBinding.childrenField)(Pt(m),it),this.movedItemNewIndex=hs(m.item.index,Ut)}else{const it=this.getParentNodes(m,H),Ut=k===mn.After?1:0,Xi=it.indexOf(Pt(m))+Ut;it.splice(Xi,0,fe),this.movedItemNewIndex=hs(m.parent?m.parent.item.index:null,Xi)}const Ue=Pt(k===mn.Over?m:m.parent);Nn(H,Ue),Go(H,Pt(V),fe),N!==H&&!H.loadOnDemand&&H.preloadChildNodes(),N!==H&&(H.changeDetectorRef.detectChanges(),H.focus(this.movedItemNewIndex))}remove({sourceItem:V,sourceTree:m,destinationTree:k}){const N=this.getParentNodes(V,m),H=N.indexOf(Pt(V));if(N.splice(H,1),yn(V.parent,N,m),Rs(m,Pt(V.parent)),m.loadOnDemand||m.preloadChildNodes(),m===k){k.changeDetectorRef.detectChanges();const fe=fs(this.movedItemNewIndex,V.item.index);k.focus(fe)}}getParentNodes(V,m){return Z(V.parent)?this.childrenFor(Pt(V.parent)):m.nodes}childrenFor(V){return(0,we.oK)(this.hierarchyBinding.childrenField)(V)||[]}}const Hr=new zs,_r=(I,V,m=null,k="")=>us(I)?I.map((N,H)=>{const fe=Hr.nodeIndex(H.toString(),k),Ue={dataItem:N,index:fe,parent:m,visible:!0};return Ue.children=_r((0,we.oK)(V)(N),V,Ue,fe),Ue}):[];let Nr=(()=>{class I extends qo{component;dragAndDropDirective;set childrenField(m){if(!m)throw new Error("'childrenField' cannot be empty");this._childrenField=m}get childrenField(){return this._childrenField}set nodes(m){this._nodes=m}get nodes(){return this._nodes}_nodes;set isVisible(m){this.component.isVisible=m}loadOnDemand=!0;_childrenField;originalData=[];constructor(m,k){super(m),this.component=m,this.dragAndDropDirective=k;const N=!Z(this.dragAndDropDirective);this.component.isVisible=N?H=>this.visibleNodes.has(H):Gt}ngOnInit(){Z(this.childrenField)&&(this.component.children=m=>(0,me.of)((0,we.oK)(this.childrenField)(m)),this.component.hasChildren=m=>{const k=(0,we.oK)(this.childrenField)(m);return!(!k||!k.length)},this.component.editService=new jr(this),this.component.filterChange.subscribe(this.handleFilterChange.bind(this)),this.component.filter&&this.handleFilterChange(this.component.filter),!this.loadOnDemand&&Z(this.component.preloadChildNodes)&&this.component.preloadChildNodes())}ngOnChanges(m){(0,w.Hq)("childrenField",m,!1)&&(this.nodes=this.originalData,this.updateNodes(this.originalData)),(0,w.Hq)("nodes",m,!1)&&this.updateNodes(m.nodes.currentValue),(0,w.TI)(["nodes","loadOnDemand"],m)&&!this.loadOnDemand&&Z(this.component.preloadChildNodes)&&this.component.preloadChildNodes()}updateNodes(m){this.originalData=m||[],this.filterData=_r(m,this.childrenField)||[],this.updateVisibleNodes(this.filterData)}static \u0275fac=function(k){return new(k||I)(e.rXU(is),e.rXU(to,9))};static \u0275dir=e.FsC({type:I,selectors:[["","kendoTreeViewHierarchyBinding",""]],inputs:{childrenField:"childrenField",nodes:"nodes",isVisible:"isVisible",loadOnDemand:"loadOnDemand"},standalone:!0,features:[e.Vt3,e.OA$]})}return I})(),Wr=(()=>{class I{treeView;navigationService;set isSelected(m){this.treeView.isSelected=m}selectKey;selection;selectedKeys;selectedKeysChange=new e.bkB;get getAriaMultiselectable(){return"multiple"===this.options.mode}subscriptions=new Je.yU;get options(){const m={enabled:!0,mode:"single"};if(!Z(this.selection)||"string"==typeof this.selection)return m;const k=Zt(this.selection)?{enabled:this.selection}:this.selection;return Object.assign(m,k)}selectActions={multiple:m=>this.selectMultiple(m),single:m=>this.selectSingle(m)};state=new Set;lastChange;constructor(m,k){this.treeView=m,this.navigationService=k,this.subscriptions.add(this.treeView.selectionChange.subscribe(this.select.bind(this))),this.treeView.isSelected=(N,H)=>this.state.has(this.itemKey({dataItem:N,index:H})),this.navigationService.deselectAllButCurrentItem.subscribe(N=>{this.selectSingle(N)})}ngOnChanges(m){(0,w.Hq)("selectedKeys",m,!1)&&m.selectedKeys.currentValue!==this.lastChange&&(this.state=new Set(m.selectedKeys.currentValue)),this.navigationService.selection="boolean"==typeof this.selection&&this.selection?"single":this.selection?.mode}ngOnDestroy(){this.subscriptions.unsubscribe()}itemKey(m){return this.selectKey?"string"==typeof this.selectKey?m.dataItem[this.selectKey]:"function"==typeof this.selectKey?this.selectKey(m):void 0:m.index}select(m){const{enabled:k,mode:N}=this.options;k&&(this.selectActions[N]||Y)(m)}selectSingle(m){const k=this.itemKey(m);this.state.has(k)||(this.state.clear(),this.state.add(k),this.notify())}selectMultiple(m){const k=this.itemKey(m),N=this.state.has(k);Z(k)&&(N?this.state.delete(k):this.state.add(k),this.notify())}notify(){this.lastChange=Array.from(this.state),this.selectedKeysChange.emit(this.lastChange)}static \u0275fac=function(k){return new(k||I)(e.rXU(an),e.rXU(ri))};static \u0275dir=e.FsC({type:I,selectors:[["","kendoTreeViewSelectable",""]],hostVars:1,hostBindings:function(k,N){2&k&&e.BMQ("aria-multiselectable",N.getAriaMultiselectable)},inputs:{isSelected:"isSelected",selectKey:[e.Mj6.None,"selectBy","selectKey"],selection:[e.Mj6.None,"kendoTreeViewSelectable","selection"],selectedKeys:"selectedKeys"},outputs:{selectedKeysChange:"selectedKeysChange"},standalone:!0,features:[e.OA$]})}return I})()}}]);